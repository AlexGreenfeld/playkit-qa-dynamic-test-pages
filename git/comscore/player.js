!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("KalturaPlayer",[],t):"object"==typeof exports?exports.KalturaPlayer=t():e.KalturaPlayer=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=132)}([function(e,t,n){var i=n(2),r=n(22),a=n(13),o=n(14),s=n(19),u=function(e,t,n){var l,c,f,d,p=e&u.F,h=e&u.G,y=e&u.S,g=e&u.P,v=e&u.B,m=h?i:y?i[t]||(i[t]={}):(i[t]||{}).prototype,b=h?r:r[t]||(r[t]={}),_=b.prototype||(b.prototype={});h&&(n=t);for(l in n)c=!p&&m&&void 0!==m[l],f=(c?m:n)[l],d=v&&c?s(f,i):g&&"function"==typeof f?s(Function.call,f):f,m&&o(m,l,f,e&u.U),b[l]!=f&&a(b,l,d),g&&_[l]!=f&&(_[l]=f)};i.core=r,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){var i=n(4);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(52)("wks"),r=n(34),a=n(2).Symbol,o="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=o&&a[e]||(o?a:r)("Symbol."+e))}).store=i},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(1),r=n(94),a=n(23),o=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(i(e),t=a(t,!0),i(n),r)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var i=n(25),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t,n){var i=n(24);e.exports=function(e){return Object(i(e))}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=30)}([function(e,t,n){"use strict";function i(e){return e?s.get(e):s}function r(e){return i(e).getLevel()}function a(e,t){i(t).setLevel(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevelType=t.LogLevel=void 0;var o=n(35),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u={DEBUG:s.DEBUG,INFO:s.INFO,TIME:s.TIME,WARN:s.WARN,ERROR:s.ERROR,OFF:s.OFF},l={};Object.keys(u).forEach(function(e){l[e]=e}),s.useDefaults({defaultLevel:s.ERROR}),t.default=i,t.LogLevel=u,t.LogLevelType=l,t.getLogLevel=r,t.setLogLevel=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(36),s=n(37),u=n(38),l=function e(t,n,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i(this,e),this.severity=t,this.category=n,this.code=a,this.data=o,(0,r.getLogLevel)("Error")!==r.LogLevel.OFF&&e._logger.error("Category:"+n+" | Code:"+a+" |",o)};l.Severity=o.Severity,l.Category=u.Category,l.Code=s.Code,l._logger=(0,a.default)("Error"),t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t,n){i(this,e),this.bubbles=!1,this.cancelable=!1,this.defaultPrevented=!1,this.timeStamp=window.performance?window.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.currentTarget=null,this.target=null,this.stopped=!1,this.payload=n}return r(e,[{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.stopped=!0}},{key:"stopPropagation",value:function(){}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.Http=t.Dom=t.Generator=t.Object=t.String=t.Number=void 0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(34),s={isNumber:function(e){return Number(e)===e},isInt:function(e){return this.isNumber(e)&&e%1==0},isFloat:function(e){return this.isNumber(e)&&e%1!=0}},u={capitlize:function(e){return"string"!=typeof e?e:e.charAt(0).toUpperCase()+e.slice(1)},endsWith:function(e,t){return"string"==typeof e&&"string"==typeof t&&-1!=e.indexOf(t,e.length-t.length)}},l={merge:function(e){var t={},n=!0,i=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;Object.assign(t,s)}}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}return t},isObject:function(e){return e&&"object"===(void 0===e?"undefined":a(e))&&!Array.isArray(e)},mergeDeep:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;var o=n.shift();if(this.isObject(e)&&this.isObject(o))for(var s in o)this.isObject(o[s])?(e[s]||Object.assign(e,r({},s,{})),this.mergeDeep(e[s],o[s])):Object.assign(e,r({},s,o[s]));return this.mergeDeep.apply(this,[e].concat(i(n)))},copyDeep:function(e){var t=this,n=void 0;return Array.isArray(e)?(n=e.length>0?e.slice(0):[],n.forEach(function(e,i){("object"===(void 0===e?"undefined":a(e))&&e!=={}||Array.isArray(e)&&e.length>0)&&(n[i]=t.copyDeep(e))})):"object"===(void 0===e?"undefined":a(e))?(n=Object.assign({},e),Object.keys(n).forEach(function(e){("object"===a(n[e])&&n[e]!=={}||Array.isArray(n[e])&&n[e].length>0)&&(n[e]=t.copyDeep(n[e]))})):n=e,n},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},getPropertyPath:function(e,t){return t.split(".").reduce(function(e,t){return void 0===e||null===e?e:e[t]},e)},hasPropertyPath:function(e,t){if(!t)return!1;for(var n=t.split("."),i=0;i<n.length;i++){var r=n[i];if(!e||!e.hasOwnProperty(r))return!1;e=e[r]}return!0},defer:function(){var e=void 0,t=void 0,n=new Promise(function(n,i){e=n,t=i});return n.resolve=e,n.reject=t,n},bind:function(e,t){return function(){t.apply(e,arguments)}}},c={uniqueId:function(e){var t=2+(!e||e<0?0:e-2);return"_"+Math.random().toString(36).substr(2,t)},guid:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},f={addClassName:function(e,t){e.classList?e.classList.add(t):f.hasClassName(e,t)||(e.className+=t)},removeClassName:function(e,t){e.classList?e.classList.remove(t):f.hasClassName(e,t)&&(e.className=e.className.replace(new RegExp("(\\s|^)"+t+"(\\s|$)")," ").replace(/^\s+|\s+$/g,""))},hasClassName:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},setAttribute:function(e,t,n){e.setAttribute(t,n)},removeAttribute:function(e,t){e.removeAttribute(t)},setStyle:function(e,t,n){void 0!==e.style.getPropertyValue(t)&&e.style.setProperty(t,n)},appendChild:function(e,t){e&&t&&e.appendChild&&e.appendChild(t)},removeChild:function(e,t){e&&t&&e.removeChild&&e.removeChild(t)},prependTo:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},getElementById:function(e){return document.getElementById(e)},createElement:function(e){return document.createElement(e)},loadScriptAsync:function(e){var t=this;return new Promise(function(n,i){var r=!1,a=document.getElementsByTagName("script")[0],o=t.createElement("script");o.type="text/javascript",o.src=e,o.async=!0,o.onload=o.onreadystatechange=function(){r||this.readyState&&"complete"!==this.readyState||(r=!0,n(this))},o.onerror=o.onabort=i,a&&a.parentNode&&a.parentNode.insertBefore(o,a)})}},d={execute:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",i=arguments[3],r=new XMLHttpRequest;return new Promise(function(a,o){r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var e=JSON.parse(r.responseText);a(e)}else o(r.responseText)},r.open(n,e),i&&i.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send(t)})},jsonp:o.jsonp};t.Number=s,t.String=u,t.Object=l,t.Generator=c,t.Dom=f,t.Http=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomEventType=t.Html5EventType=t.EventType=void 0;var i=n(3),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),a={ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting"},o={PLAYER_RESET:"playerreset",PLAYER_DESTROY:"playerdestroy",ENTER_FULLSCREEN:"enterfullscreen",EXIT_FULLSCREEN:"exitfullscreen",REQUESTED_ENTER_FULLSCREEN:"requestedenterfullscreen",REQUESTED_EXIT_FULLSCREEN:"requestedexitfullscreen",AUTOPLAY_FAILED:"autoplayfailed",FALLBACK_TO_MUTED_AUTOPLAY:"fallbacktomutedautoplay",CHANGE_SOURCE_STARTED:"changesourcestarted",CHANGE_SOURCE_ENDED:"changesourceended",MUTE_CHANGE:"mutechange",VIDEO_TRACK_CHANGED:"videotrackchanged",AUDIO_TRACK_CHANGED:"audiotrackchanged",TEXT_TRACK_CHANGED:"texttrackchanged",TEXT_CUE_CHANGED:"textcuechanged",TRACKS_CHANGED:"trackschanged",ABR_MODE_CHANGED:"abrmodechanged",PLAYER_STATE_CHANGED:"playerstatechanged",FIRST_PLAY:"firstplay",SOURCE_SELECTED:"sourceselected",TEXT_STYLE_CHANGED:"textstylechanged",AD_LOADED:"adloaded",AD_STARTED:"adstarted",AD_RESUMED:"adresumed",AD_PAUSED:"adpaused",AD_CLICKED:"adclicked",AD_SKIPPED:"adskipped",AD_COMPLETED:"adcompleted",AD_ERROR:"aderror",ALL_ADS_COMPLETED:"alladscompleted",AD_BREAK_START:"adbreakstart",AD_BREAK_END:"adbreakend",AD_FIRST_QUARTILE:"adfirstquartile",AD_MIDPOINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",USER_CLOSED_AD:"userclosedad",AD_VOLUME_CHANGED:"advolumechanged",AD_MUTED:"admuted",AD_PROGRESS:"adprogress"},s=r.Object.merge([a,o]);t.EventType=s,t.Html5EventType=a,t.CustomEventType=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._id=t.id,this._active=t.active,this._label=t.label,this._language=t.language,this._index=t.index}return r(e,[{key:"id",get:function(){return this._id}},{key:"active",get:function(){return this._active},set:function(e){this._active=e}},{key:"label",get:function(){return this._label},set:function(e){this._label=e}},{key:"language",get:function(){return this._language}},{key:"index",get:function(){return this._index}}],[{key:"langComparer",value:function(e,t){try{return e=e.toLowerCase(),t=t.toLowerCase(),!!e&&(e.startsWith(t)||t.startsWith(e))}catch(e){return!1}}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(13),s=i(o),u=n(2),l=(i(u),function(){function e(){r(this,e),this._bindingMap=new s.default}return a(e,[{key:"destroy",value:function(){return this.removeAll(),this._bindingMap=null,Promise.resolve()}},{key:"listenOnce",value:function(e,t,n){var i=this,r=function r(a){i.unlisten(e,t,r),n.call(i,a)};this.listen(e,t,r)}},{key:"listen",value:function(e,t,n){var i=new c(e,t,n);this._bindingMap&&this._bindingMap.push(t,i)}},{key:"unlisten",value:function(e,t,n){if(this._bindingMap)for(var i=this._bindingMap.get(t),r=0;r<i.length;++r){var a=i[r];a.target!==e||a.listener!==n&&n||(a.unlisten(),this._bindingMap&&this._bindingMap.remove(t,a))}}},{key:"removeAll",value:function(){if(this._bindingMap){var e=this._bindingMap.getAll(),t=!0,n=!1,i=void 0;try{for(var r,a=e[Symbol.iterator]();!(t=(r=a.next()).done);t=!0)r.value.unlisten()}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}this._bindingMap&&this._bindingMap.clear()}}}]),e}()),c=function(){function e(t,n,i){r(this,e),this.target=t,this.type=n,this.listener=i,this.target.addEventListener(n,i,!1)}return a(e,[{key:"unlisten",value:function(){this.target&&(this.target.removeEventListener(this.type,this.listener,!1),this.target=null,this.listener=null)}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._bandwidth=e.bandwidth,n._width=e.width,n._height=e.height,n._label=n._height?n._height+"p":void 0,n}return a(t,e),o(t,[{key:"bandwidth",get:function(){return this._bandwidth}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),t}(u.default);t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),t}(s.default);t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TextTrack=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._kind=e.kind,n}return a(t,e),o(t,[{key:"kind",get:function(){return this._kind}}]),t}(u.default);t.default=l,t.TextTrack=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(11),c=i(l),f=n(6),d=i(f),p=n(33),h=i(p),y=n(2),g=i(y),v=n(12),m=i(v),b=n(4),_=n(3),E=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(_),A=n(39),k=i(A),T=n(0),w=i(T),S=n(40),P=i(S),O=n(24),C=i(O),L=n(14),R=(i(L),n(48)),I=i(R),x=n(5),D=i(x),M=n(7),N=i(M),U=n(8),B=i(U),j=n(9),F=i(j),G=n(25),V=i(G),H=(n(22),n(23)),K=n(15),W=n(16),Y=n(50),z=n(26),q=n(27),X=n(28),J=n(29),Q=n(52),$=i(Q),Z=n(54),ee=i(Z);n(55);var te=n(1),ne=i(te),ie=[.5,1,2,4],re="off",ae=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._activeTextCues=[],n._textDisplaySettings={},n._playbackAttributesState={muted:void 0,volume:void 0,rate:void 0,audioLanguage:"",textLanguage:""},n._env=c.default,n._tracks=[],n._firstPlay=!0,n._fullscreen=!1,n._firstPlayInCurrentSession=!0,n._repositionCuesTimeout=!1,n._loadingMedia=!1,n._loading=!1,n._reset=!0,n._destroyed=!1,n._config=t._defaultConfig,n._eventManager=new d.default,n._posterManager=new h.default,n._stateManager=new I.default(n),n._pluginManager=new C.default,n._playbackMiddleware=new $.default,n._textStyle=new V.default,n._createReadyPromise(),n._createPlayerContainer(),n._appendPosterEl(),n.configure(e),n}return o(t,e),u(t,null,[{key:"runCapabilities",value:function(){t._logger.debug("Running player capabilities"),t._engines.forEach(function(e){return e.runCapabilities()})}},{key:"getCapabilities",value:function(e){var n=function(e){var n=e?t._playerCapabilities[e]:t._playerCapabilities;return E.Object.copyDeep(n)};if(t._logger.debug("Get player capabilities",e),t._playerCapabilities)return Promise.resolve(n(e));var i=[];return t._engines.forEach(function(e){return i.push(e.getCapabilities())}),Promise.all(i).then(function(i){return t._playerCapabilities={},i.forEach(function(e){return Object.assign(t._playerCapabilities,e)}),Promise.resolve(n(e))})}},{key:"setCapabilities",value:function(e,n){return t._logger.debug("Set player capabilities",e,n),new Promise(function(i,r){t.getCapabilities().then(function(){t._playerCapabilities[e]||(t._playerCapabilities[e]={}),E.Object.mergeDeep(t._playerCapabilities[e],n),i()}).catch(function(e){r(e)})})}},{key:"_prepareVideoElement",value:function(){t._engines.forEach(function(e){e.prepareVideoElement()})}}]),u(t,[{key:"configure",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.logLevel&&T.LogLevel[e.logLevel]&&(0,T.setLogLevel)(T.LogLevel[e.logLevel]),this._hasSources(e.sources)){this._configureOrLoadPlugins(e.plugins);var n=!!this._engine;n&&(this.reset(),t._logger.debug("Change source started"),this.dispatchEvent(new g.default(b.CustomEventType.CHANGE_SOURCE_STARTED))),E.Object.mergeDeep(this._config,e),this._reset=!1,this._selectEngineByPriority()&&(this._appendEngineEl(),this._attachMedia(),this._handlePlaybackOptions(),this._posterManager.setSrc(this._config.metadata.poster),this._handlePreload(),this._handleAutoPlay(),n&&(t._logger.debug("Change source ended"),this.dispatchEvent(new g.default(b.CustomEventType.CHANGE_SOURCE_ENDED))))}else E.Object.mergeDeep(this._config,e),this._configureOrLoadPlugins(e.plugins)}},{key:"ready",value:function(){return this._readyPromise?this._readyPromise:Promise.resolve()}},{key:"load",value:function(){var e=this,t=function(){e._loading=!1,e._reset=!1};if(this._engine&&!this.src&&!this._loading){this._loading=!0;var n=this._config.playback.startTime;this._engine.load(n).then(function(n){e._updateTracks(n.tracks),e._maybeSetTracksLabels(),e._setDefaultTracks(),e.dispatchEvent(new g.default(b.CustomEventType.TRACKS_CHANGED,{tracks:e._tracks})),t()}).catch(function(n){e.dispatchEvent(new g.default(b.Html5EventType.ERROR,n)),t()})}}},{key:"_maybeSetTracksLabels",value:function(){var e=this._config.customLabels;if(e)for(var t in e)this._setTracksCustomLabels(this._getTracksByType(Y.LabelToTrackMap[t]),e[t])}},{key:"_setTracksCustomLabels",value:function(e,t){e.forEach(function(e){var n=t(E.Object.copyDeep(e));n&&(e.label=n)})}},{key:"play",value:function(){var e=this;this._engine?this._playbackMiddleware.play(function(){return e._play()}):this._loadingMedia?(t._prepareVideoElement(),this._playbackMiddleware.play(function(){return e._playAfterAsyncMiddleware()})):this.dispatchEvent(new g.default(b.Html5EventType.ERROR,new ne.default(ne.default.Severity.CRITICAL,ne.default.Category.PLAYER,ne.default.Code.NO_SOURCE_PROVIDED,"No Source Provided")))}},{key:"pause",value:function(){this._engine&&this._playbackMiddleware.pause(this._pause.bind(this))}},{key:"getView",value:function(){return this._el}},{key:"getVideoElement",value:function(){if(this._engine)return this._engine.getVideoElement()}},{key:"reset",value:function(){this._reset||(this.pause(),this._resetSourceData(),this._eventManager.removeAll(),this._createReadyPromise(),this._activeTextCues=[],this._updateTextDisplay([]),this._tracks=[],this._resetStateFlags(),this._engineType="",this._streamType="",this._posterManager.reset(),this._stateManager.reset(),this._pluginManager.reset(),this._engine.reset(),this._reset=!0,this.dispatchEvent(new g.default(b.CustomEventType.PLAYER_RESET)))}},{key:"_resetSourceData",value:function(){this._config.metadata={},this._config.sources.dash={},this._config.sources.hls={},this._config.sources.progressive={}}},{key:"destroy",value:function(){this._destroyed||(this._engine&&this._engine.destroy(),this._posterManager.destroy(),this._eventManager.destroy(),this._pluginManager.destroy(),this._stateManager.destroy(),this._activeTextCues=[],this._textDisplaySettings={},this._config={},this._tracks=[],this._engineType="",this._streamType="",this._readyPromise=null,this._resetStateFlags(),this._playbackAttributesState={},this._el&&E.Dom.removeChild(this._el.parentNode,this._el),this._destroyed=!0,this.dispatchEvent(new g.default(b.CustomEventType.PLAYER_DESTROY)))}},{key:"isLive",value:function(){return!!(this._config.type===X.MediaType.LIVE||this._engine&&this._engine.isLive())}},{key:"isDvr",value:function(){return this.isLive()&&this._config.dvr}},{key:"seekToLiveEdge",value:function(){this._engine&&this.isLive()&&this._engine.seekToLiveEdge()}},{key:"getStartTimeOfDvrWindow",value:function(){return this._engine?this._engine.getStartTimeOfDvrWindow():0}},{key:"getTracks",value:function(e){return this._getTracksByType(e)}},{key:"getActiveTracks",value:function(){return{video:this._getTracksByType(W.TrackType.VIDEO).find(function(e){return e.active}),audio:this._getTracksByType(W.TrackType.AUDIO).find(function(e){return e.active}),text:this._getTracksByType(W.TrackType.TEXT).find(function(e){return e.active})}}},{key:"selectTrack",value:function(e){this._engine&&(e instanceof N.default?this._engine.selectVideoTrack(e):e instanceof B.default?this._engine.selectAudioTrack(e):e instanceof F.default&&(e.language===re?(this.hideTextTrack(),this._playbackAttributesState.textLanguage=re):this._engine.selectTextTrack(e)))}},{key:"hideTextTrack",value:function(){if(this._engine){this._engine.hideTextTrack(),this._activeTextCues=[],this._updateTextDisplay([]);var e=this._getTracksByType(W.TrackType.TEXT);e.map(function(e){return e.active=!1});var t=e.find(function(e){return e.language===re});t&&(t.active=!0,this.dispatchEvent(new g.default(b.CustomEventType.TEXT_TRACK_CHANGED,{selectedTextTrack:t})))}}},{key:"enableAdaptiveBitrate",value:function(){this._engine&&this._engine.enableAdaptiveBitrate()}},{key:"isAdaptiveBitrateEnabled",value:function(){return!!this._engine&&this._engine.isAdaptiveBitrateEnabled()}},{key:"setTextDisplaySettings",value:function(e){this._textDisplaySettings=e,this._updateCueDisplaySettings();for(var t=0;t<this._activeTextCues.length;t++)this._activeTextCues[t].hasBeenReset=!0;this._updateTextDisplay(this._activeTextCues)}},{key:"skipAd",value:function(){var e=this._pluginManager.get("ima");e&&"function"==typeof e.skipAd&&e.skipAd()}},{key:"playAdNow",value:function(e){var t=this._pluginManager.get("ima");t&&"function"==typeof t.playAdNow&&t.playAdNow(e)}},{key:"isFullscreen",value:function(){return this._fullscreen}},{key:"notifyEnterFullscreen",value:function(){this._fullscreen||(this._fullscreen=!0,this.dispatchEvent(new g.default(b.CustomEventType.ENTER_FULLSCREEN)))}},{key:"notifyExitFullscreen",value:function(){this._fullscreen&&(this._fullscreen=!1,this.dispatchEvent(new g.default(b.CustomEventType.EXIT_FULLSCREEN)))}},{key:"enterFullscreen",value:function(){this._fullscreen||this.dispatchEvent(new g.default(b.CustomEventType.REQUESTED_ENTER_FULLSCREEN))}},{key:"exitFullscreen",value:function(){this._fullscreen&&this.dispatchEvent(new g.default(b.CustomEventType.REQUESTED_EXIT_FULLSCREEN))}},{key:"getLogLevel",value:function(e){return(0,T.getLogLevel)(e)}},{key:"setLogLevel",value:function(e,t){(0,T.setLogLevel)(e,t)}},{key:"_hasSources",value:function(e){return!!e&&!!Object.keys(e).find(function(t){return e[t].length>0})}},{key:"_createPlayerContainer",value:function(){var e=this._el=E.Dom.createElement("div");E.Dom.addClassName(e,"playkit-container"),this._playerId=E.Generator.uniqueId(5),E.Dom.setAttribute(e,"id",this._playerId),E.Dom.setAttribute(e,"tabindex","-1")}},{key:"_appendPosterEl",value:function(){if(this._el){var e=this._posterManager.getElement();E.Dom.addClassName(e,"playkit-poster"),E.Dom.appendChild(this._el,e)}}},{key:"_appendEngineEl",value:function(){if(this._el&&this._engine){var e=this._engine.getVideoElement();E.Dom.addClassName(e,"playkit-engine");var t="playkit-engine-"+this._engine.id;E.Dom.addClassName(e,t),E.Dom.prependTo(e,this._el)}}},{key:"_configureOrLoadPlugins",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&Object.keys(t).forEach(function(n){var i=e._pluginManager.get(n);if(i)i.updateConfig(t[n]),e._config.plugins[n]=i.getConfig();else if(e._engine)delete e._config.plugins[n];else{e._pluginManager.load(n,e,t[n]);var r=e._pluginManager.get(n);r&&(e._config.plugins[n]=r.getConfig(),"function"==typeof r.getMiddlewareImpl&&e._playbackMiddleware.use(r.getMiddlewareImpl()))}})}},{key:"_createReadyPromise",value:function(){var e=this;this._readyPromise=new Promise(function(t,n){e._eventManager.listenOnce(e,b.CustomEventType.TRACKS_CHANGED,t),e._eventManager.listen(e,b.Html5EventType.ERROR,n)}).catch(function(){})}},{key:"_selectEngineByPriority",value:function(){var e=this,n=this._config.playback.streamPriority,i=this._config.playback.preferNative,r=this._config.sources,a=!0,o=!1,u=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=function(){var n=l.value,a="string"==typeof n.engine?n.engine.toLowerCase():"",o="string"==typeof n.format?n.format.toLowerCase():"",s=t._engines.find(function(e){return e.id===a});if(s){var u=r[o];if(u&&u.length>0){var c=u[0];if(s.canPlaySource(c,i[o]))return t._logger.debug("Source selected: ",u),e._loadEngine(s,c),e._engineType=a,e._streamType=o,e.dispatchEvent(new g.default(b.CustomEventType.SOURCE_SELECTED,{selectedSource:u})),{v:!0}}}}();if("object"===(void 0===f?"undefined":s(f)))return f.v}}catch(e){o=!0,u=e}finally{try{!a&&c.return&&c.return()}finally{if(o)throw u}}return t._logger.warn("No playable engines was found to play the given sources"),!1}},{key:"_loadEngine",value:function(e,t){this._engine?this._engine.id===e.id?this._engine.restore(t,this._config):(this._engine.destroy(),this._engine=e.createEngine(t,this._config)):this._engine=e.createEngine(t,this._config)}},{key:"_attachMedia",value:function(){var e=this;this._engine&&(Object.keys(b.Html5EventType).forEach(function(t){e._eventManager.listen(e._engine,b.Html5EventType[t],function(t){return e.dispatchEvent(t)})}),this._eventManager.listen(this._engine,b.Html5EventType.SEEKED,function(){var t=e._env.browser.name;"Edge"!==t&&"IE"!==t||e._removeTextCuePatch()}),this._eventManager.listen(this._engine,b.CustomEventType.VIDEO_TRACK_CHANGED,function(t){return e._markActiveTrack(t.payload.selectedVideoTrack),e.dispatchEvent(t)}),this._eventManager.listen(this._engine,b.CustomEventType.AUDIO_TRACK_CHANGED,function(t){return e.ready().then(function(){return e._playbackAttributesState.audioLanguage=t.payload.selectedAudioTrack.language}),e._markActiveTrack(t.payload.selectedAudioTrack),e.dispatchEvent(t)}),this._eventManager.listen(this._engine,b.CustomEventType.TEXT_TRACK_CHANGED,function(t){return e.ready().then(function(){return e._playbackAttributesState.textLanguage=t.payload.selectedTextTrack.language}),e._markActiveTrack(t.payload.selectedTextTrack),e.dispatchEvent(t)}),this._eventManager.listen(this._engine,b.CustomEventType.TRACKS_CHANGED,function(t){return e._onTracksChanged(t)}),this._eventManager.listen(this._engine,b.CustomEventType.TEXT_CUE_CHANGED,function(t){return e._onCueChange(t)}),this._eventManager.listen(this._engine,b.CustomEventType.ABR_MODE_CHANGED,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._engine,b.CustomEventType.AUTOPLAY_FAILED,function(t){e.pause(),e.dispatchEvent(t)}),this._eventManager.listen(this,b.Html5EventType.PLAY,this._onPlay.bind(this)),this._eventManager.listen(this,b.Html5EventType.ENDED,this._onEnded.bind(this)),this._eventManager.listen(this,b.CustomEventType.MUTE_CHANGE,function(){e._playbackAttributesState.muted=e.muted}),this._eventManager.listen(this,b.Html5EventType.VOLUME_CHANGE,function(){e._playbackAttributesState.volume=e.volume}),this._eventManager.listen(this,b.Html5EventType.RATE_CHANGE,function(){e._playbackAttributesState.rate=e.playbackRate}),this._eventManager.listen(this,b.CustomEventType.ENTER_FULLSCREEN,function(){e._resetTextCuesAndReposition()}),this._eventManager.listen(this,b.CustomEventType.EXIT_FULLSCREEN,function(){e._resetTextCuesAndReposition()}))}},{key:"_resetTextCuesAndReposition",value:function(){var e=this;this._updateTextDisplay([]);for(var t=0;t<this._activeTextCues.length;t++)this._activeTextCues[t].hasBeenReset=!0;this._repositionCuesTimeout&&clearTimeout(this._repositionCuesTimeout),this._repositionCuesTimeout=setTimeout(function(){(0,H.processCues)(window,e._activeTextCues,e._textDisplayEl),e._repositionCuesTimeout=!1},1e3)}},{key:"_removeTextCuePatch",value:function(){var e=this,t=this._activeTextCues.filter(function(t){var n=t._endTime,i=t._startTime,r=e.currentTime;if(r<n&&r>i)return t});this._updateTextDisplay(t)}},{key:"_handlePlaybackOptions",value:function(){this._config.playback=this._config.playback||{},"boolean"==typeof this._playbackAttributesState.muted?this.muted=this._playbackAttributesState.muted:"boolean"==typeof this._config.playback.muted&&(this.muted=this._config.playback.muted),"number"==typeof this._playbackAttributesState.volume?this.volume=this._playbackAttributesState.volume:"number"==typeof this._config.playback.volume&&(this.volume=this._config.playback.volume),"boolean"==typeof this._config.playback.playsinline&&(this.playsinline=this._config.playback.playsinline)}},{key:"_handlePreload",value:function(){"auto"===this._config.playback.preload&&!this._config.playback.autoplay&&this._canPreload()&&this.load()}},{key:"_canPreload",value:function(){return!this._config.plugins||this._config.plugins&&!this._config.plugins.ima}},{key:"_handleAutoPlay",value:function(){var e=this;if(!0===this._config.playback.autoplay)if(this._firstPlayInCurrentSession){var n=this._config.playback.allowMutedAutoPlay;t.getCapabilities(this.engineType).then(function(i){i.autoplay?(t._logger.debug("Start autoplay"),e.play()):n&&i.mutedAutoPlay?(t._logger.debug("Fallback to muted autoplay"),e.muted=!0,e.play(),e.dispatchEvent(new g.default(b.CustomEventType.FALLBACK_TO_MUTED_AUTOPLAY))):(t._logger.warn("Autoplay failed, pause player"),e._posterManager.show(),e._canPreload()&&(e.load(),e.ready().then(function(){return e.pause()})),e.dispatchEvent(new g.default(b.CustomEventType.AUTOPLAY_FAILED)))})}else this.play();else this._posterManager.show()}},{key:"_playAfterAsyncMiddleware",value:function(){var e=this;this._engine?this._play():this._eventManager.listenOnce(this,b.CustomEventType.SOURCE_SELECTED,function(){return e._play()})}},{key:"_play",value:function(){var e=this;this._engine.src?(this.isLive()&&!this.isDvr()&&this.seekToLiveEdge(),this._engine.play()):(this.load(),this.ready().then(function(){e._engine.play()}).catch(function(t){e.dispatchEvent(new g.default(b.Html5EventType.ERROR,t))}))}},{key:"_pause",value:function(){this._engine.pause()}},{key:"_onPlay",value:function(){this._firstPlay&&(this._firstPlay=!1,this.dispatchEvent(new g.default(b.CustomEventType.FIRST_PLAY)),this._posterManager.hide(),"number"==typeof this._playbackAttributesState.rate&&(this.playbackRate=this._playbackAttributesState.rate))}},{key:"_onEnded",value:function(){this.paused||this._pause()}},{key:"_resetStateFlags",value:function(){this._loading=!1,this._firstPlay=!0,this._firstPlayInCurrentSession=!1,this._loadingMedia=!1}},{key:"_onTracksChanged",value:function(e){this._updateTracks(e.payload.tracks),this.dispatchEvent(e)}},{key:"_updateTracks",value:function(e){t._logger.debug("Tracks changed",e),this._tracks=e,this._addTextTrackOffOption()}},{key:"_getTracksByType",value:function(e){return e?this._tracks.filter(function(t){return e===W.TrackType.VIDEO?t instanceof N.default:e===W.TrackType.AUDIO?t instanceof B.default:e!==W.TrackType.TEXT||t instanceof F.default}):this._tracks}},{key:"_markActiveTrack",value:function(e){var t=void 0;if(e instanceof N.default?t=W.TrackType.VIDEO:e instanceof B.default?t=W.TrackType.AUDIO:e instanceof F.default&&(t=W.TrackType.TEXT),t)for(var n=this._getTracksByType(t),i=0;i<n.length;i++)n[i].active=e.index===i}},{key:"_onCueChange",value:function(e){t._logger.debug("Text cue changed",e.payload.cues),this._activeTextCues=e.payload.cues,this._updateCueDisplaySettings(),this._updateTextDisplay(this._activeTextCues)}},{key:"_updateCueDisplaySettings",value:function(){for(var e=this._activeTextCues,t=this._textDisplaySettings,n=0;n<e.length;n++){var i=e[n];for(var r in t)i[r]=t[r]}}},{key:"_updateTextDisplay",value:function(e){void 0===this._textDisplayEl&&(this._textDisplayEl=E.Dom.createElement("div"),E.Dom.addClassName(this._textDisplayEl,"playkit-subtitles"),E.Dom.appendChild(this._el,this._textDisplayEl)),(0,H.processCues)(window,e,this._textDisplayEl)}},{key:"_addTextTrackOffOption",value:function(){var e=this._getTracksByType(W.TrackType.TEXT);e&&e.length&&this._tracks.push(new F.default({active:!1,index:e.length,kind:"subtitles",label:"Off",language:re}))}},{key:"_setDefaultTracks",value:function(){var e=this.getActiveTracks(),t=this.config.playback,n=this._getTracksByType(W.TrackType.TEXT).find(function(e){return F.default.langComparer(re,e.language)});this.hideTextTrack();var i=this._playbackAttributesState.textLanguage||this._getLanguage(t.textLanguage,e.text,W.TrackType.TEXT),r=this._playbackAttributesState.audioLanguage||t.audioLanguage;this._setDefaultTrack(W.TrackType.TEXT,i,n),this._setDefaultTrack(W.TrackType.AUDIO,r,e.audio)}},{key:"_getLanguage",value:function(e,t,n){var i=e;if("auto"===i){var r=this._getTracksByType(n),a=r.find(function(e){return D.default.langComparer(k.default.language,e.language)});a?i=a.language:t&&t.language!==re?i=t.language:r&&r.length>0&&(i=r[0].language)}return i}},{key:"_setDefaultTrack",value:function(e,t,n){var i=this._getTracksByType(e).find(function(e){return D.default.langComparer(t,e.language)});i?this.selectTrack(i):this.selectTrack(n)}},{key:"buffered",get:function(){if(this._engine)return this._engine.buffered}},{key:"currentTime",set:function(e){if(this._engine&&E.Number.isNumber(e)){var t=e;e<0&&(t=0),t>this._engine.duration-.1&&(t=this._engine.duration-.1),this._engine.currentTime=t}},get:function(){if(this._engine)return this._engine.currentTime}},{key:"duration",get:function(){if(this._engine)return this._engine.duration}},{key:"volume",set:function(e){if(this._engine&&(E.Number.isFloat(e)||0===e||1===e)){var t=e;t<0&&(t=0),t>1&&(t=1),this._engine.volume=t}},get:function(){if(this._engine)return this._engine.volume}},{key:"paused",get:function(){if(this._engine)return this._engine.paused}},{key:"seeking",get:function(){if(this._engine)return this._engine.seeking}},{key:"playsinline",set:function(e){this._engine&&(this._engine.playsinline=e)},get:function(){if(this._engine)return this._engine.playsinline}},{key:"muted",set:function(e){this._engine&&(this._engine.muted=e,this.dispatchEvent(new g.default(b.CustomEventType.MUTE_CHANGE,{mute:e})))},get:function(){if(this._engine)return this._engine.muted}},{key:"src",get:function(){if(this._engine)return this._engine.src}},{key:"dimensions",get:function(){return{width:this._el.clientWidth,height:this._el.clientHeight}}},{key:"poster",get:function(){return this._posterManager.src}},{key:"playbackRate",set:function(e){this._engine&&(this._engine.playbackRate=e)},get:function(){if(this._engine)return this._engine.playbackRate}},{key:"playbackRates",get:function(){return ie}},{key:"defaultPlaybackRate",get:function(){return 1}},{key:"engineType",get:function(){return this._engineType}},{key:"streamType",get:function(){return this._streamType}},{key:"env",get:function(){return this._env}},{key:"config",get:function(){return E.Object.mergeDeep({},this._config)}},{key:"sessionId",set:function(e){this._config.session=this._config.session||{},this._config.session.id=e}},{key:"loadingMedia",set:function(e){this._loadingMedia=e}},{key:"textStyle",set:function(e){if(!(e instanceof V.default))throw new Error("Style must be instance of TextStyle");var n=E.Dom.getElementById("playkit-subtitles-style");n||(n=E.Dom.createElement("style"),E.Dom.setAttribute(n,"id","playkit-subtitles-style"),E.Dom.appendChild(document.head,n));for(var i=n.sheet;i.cssRules.length;)i.deleteRule(0);try{this._config.playback.useNativeTextTrack?i.insertRule("video.playkit-engine::cue { "+e.toCSS()+" }",0):i.insertRule("#"+this._playerId+" .playkit-subtitles > div > div > div { "+e.toCSS()+" }",0),this._textStyle=e,this.dispatchEvent(new g.default(b.CustomEventType.TEXT_STYLE_CHANGED))}catch(e){t._logger.error(e.message)}},get:function(){return this._textStyle.clone()}},{key:"Event",get:function(){return b.EventType}},{key:"TextStyle",get:function(){return V.default}},{key:"State",get:function(){return K.StateType}},{key:"Track",get:function(){return W.TrackType}},{key:"LogLevelType",get:function(){return T.LogLevelType}},{key:"LogLevel",get:function(){return T.LogLevel}},{key:"AbrMode",get:function(){return J.AbrMode}},{key:"MediaType",get:function(){return X.MediaType}},{key:"StreamType",get:function(){return z.StreamType}},{key:"EngineType",get:function(){return q.EngineType}}],[{key:"_defaultConfig",get:function(){return E.Object.copyDeep(ee.default)}}]),t}(m.default);ae._logger=(0,w.default)("Player"),ae._engines=[P.default],t.default=ae},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(31),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=(new r.default).getResult();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),s=(i(o),n(13)),u=i(s),l=function(){function e(){r(this,e),this._listeners=new u.default,this.dispatchTarget=this}return a(e,[{key:"addEventListener",value:function(e,t){this._listeners.push(e,t)}},{key:"removeEventListener",value:function(e,t){this._listeners.remove(e,t)}},{key:"dispatchEvent",value:function(e){for(var t=this._listeners.get(e.type)||[],n=0;n<t.length;++n){e.target=this.dispatchTarget,e.currentTarget=this.dispatchTarget;var i=t[n];try{i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(e){}if(e.stopped)break}return e.defaultPrevented}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){i(this,e),this._map=new Map}return r(e,[{key:"push",value:function(e,t){if(this._map.has(e)){var n=this._map.get(e);Array.isArray(n)&&(n.push(t),this._map.set(e,n))}else this._map.set(e,[t])}},{key:"set",value:function(e,t){this._map.set(e,t)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"get",value:function(e){var t=this._map.get(e);return t?t.slice():[]}},{key:"getAll",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,a=this._map.values()[Symbol.iterator]();!(t=(r=a.next()).done);t=!0){var o=r.value;e=e.concat(o)}}catch(e){n=!0,i=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw i}}return e}},{key:"remove",value:function(e,t){if(this._map.has(e)){var n=this._map.get(e);if(Array.isArray(n))for(var i=0;i<n.length;++i)n[i]==t&&(n.splice(i,1),--i)}}},{key:"keys",value:function(){return this._map.keys()}},{key:"clear",value:function(){this._map.clear()}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(10),s=(i(o),n(0)),u=i(s),l=n(3),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),f=n(6),d=i(f),p=n(1),h=i(p),y=n(2),g=i(y),v=function(){function e(t,n,i){r(this,e),this.name=t,this.player=n,this.eventManager=new d.default,this.logger=(0,u.default)(c.String.capitlize(this.name)),this.config={},c.Object.mergeDeep(this.config,this.constructor.defaultConfig,i)}return a(e,null,[{key:"createPlugin",value:function(e,t){return new this(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}},{key:"isValid",value:function(){throw new h.default(h.default.Severity.CRITICAL,h.default.Category.PLAYER,h.default.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"isValid()")}}]),a(e,[{key:"getConfig",value:function(e){return e?c.Object.copyDeep(this.config[e]):c.Object.copyDeep(this.config)}},{key:"updateConfig",value:function(e){c.Object.mergeDeep(this.config,e)}},{key:"destroy",value:function(){}},{key:"reset",value:function(){}},{key:"getName",value:function(){return this.name}},{key:"dispatchEvent",value:function(e,t){this.logger.debug("Fire event: "+e,t),this.player.dispatchEvent(new g.default(e,t))}}]),e}();v.defaultConfig={},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={IDLE:"idle",LOADING:"loading",PLAYING:"playing",PAUSED:"paused",BUFFERING:"buffering"};t.StateType=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={VIDEO:"video",AUDIO:"audio",TEXT:"text"};t.TrackType=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){i(this,e)}return r(e,[{key:"callNext",value:function(e){e&&e()}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.registerMediaSourceAdapter=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(41),s=i(o),u=n(0),l=i(u),c=function(){function e(){r(this,e)}return a(e,null,[{key:"register",value:function(t){t&&(e._mediaSourceAdapters.includes(t)?e._logger.debug("Adapter <"+t.id+"> is already registered, do not register again"):(e._logger.debug("Adapter <"+t.id+"> has been registered successfully"),e._mediaSourceAdapters.push(t)))}},{key:"unRegister",value:function(t){var n=e._mediaSourceAdapters.indexOf(t);n>-1&&(e._logger.debug("Unregistered <"+t.id+"> adapter"),e._mediaSourceAdapters.splice(n,1))}},{key:"canPlaySource",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e._orderMediaSourceAdapters(n);var i=e._mediaSourceAdapters;if(t&&t.mimetype)for(var r=0;r<i.length;r++)if(i[r].canPlayType(t.mimetype)&&(!t.drmData||i[r].canPlayDrm(t.drmData)))return e._selectedAdapter=i[r],e._logger.debug("Selected adapter is <"+e._selectedAdapter.id+">"),!0;return!1}},{key:"_orderMediaSourceAdapters",value:function(t){e._mediaSourceAdapters=e._mediaSourceAdapters.filter(function(e){return"NativeAdapter"!==e.id}),t?e._mediaSourceAdapters.unshift(s.default):e._mediaSourceAdapters.push(s.default)}},{key:"getMediaSourceAdapter",value:function(t,n,i){return t&&n&&i?(e._selectedAdapter||e.canPlaySource(n,!0),e._selectedAdapter?e._selectedAdapter.createAdapter(t,n,i):null):null}},{key:"destroy",value:function(){e._selectedAdapter=null}}]),e}();c._logger=(0,l.default)("MediaSourceProvider"),c._mediaSourceAdapters=[s.default],c._selectedAdapter=null,t.default=c;var f=c.register;t.registerMediaSourceAdapter=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(2),l=i(u),c=n(12),f=i(c),d=n(1),p=i(d),h=n(4),y=n(0),g=i(y),v=n(5),m=(i(v),n(7)),b=i(m),_=n(8),E=i(_),A=n(9),k=i(A),T=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._videoElement=e,o._sourceObj=n,o._config=i,o._handleLiveTimeUpdate(),o}return o(t,e),s(t,null,[{key:"isSupported",value:function(){return!0}}]),s(t,[{key:"destroy",value:function(){return this._sourceObj=null,this._config=null,Promise.resolve()}},{key:"_onTrackChanged",value:function(e){e instanceof b.default?this._trigger(h.CustomEventType.VIDEO_TRACK_CHANGED,{selectedVideoTrack:e}):e instanceof E.default?this._trigger(h.CustomEventType.AUDIO_TRACK_CHANGED,{selectedAudioTrack:e}):e instanceof k.default&&this._trigger(h.CustomEventType.TEXT_TRACK_CHANGED,{selectedTextTrack:e})}},{key:"_trigger",value:function(e,t){this.dispatchEvent(new l.default(e,t))}},{key:"load",value:function(){return t._throwNotImplementedError("load")}},{key:"selectVideoTrack",value:function(e){return t._throwNotImplementedError("selectVideoTrack")}},{key:"selectAudioTrack",value:function(e){t._throwNotImplementedError("selectAudioTrack")}},{key:"selectTextTrack",value:function(e){t._throwNotImplementedError("selectTextTrack")}},{key:"hideTextTrack",value:function(){t._throwNotImplementedError("hideTextTrack")}},{key:"enableAdaptiveBitrate",value:function(){t._throwNotImplementedError("enableAdaptiveBitrate")}},{key:"isAdaptiveBitrateEnabled",value:function(){return t._throwNotImplementedError("isAdaptiveBitrateEnabled")}},{key:"_getLiveEdge",value:function(){return t._throwNotImplementedError("_getLiveEdge")}},{key:"seekToLiveEdge",value:function(){t._throwNotImplementedError("seekToLiveEdge")}},{key:"isLive",value:function(){return t._throwNotImplementedError("isLive")}},{key:"_handleLiveTimeUpdate",value:function(){var e=this;this._videoElement.addEventListener(h.Html5EventType.DURATION_CHANGE,function(){e.isLive()&&e._videoElement.paused&&e._trigger(h.Html5EventType.TIME_UPDATE)})}},{key:"getStartTimeOfDvrWindow",value:function(){return t._throwNotImplementedError("getStartTimeOfDvrWindow")}},{key:"currentTime",get:function(){return this.isLive()?this._videoElement.currentTime-this.getStartTimeOfDvrWindow():this._videoElement.currentTime},set:function(e){this.isLive()&&(e+=this.getStartTimeOfDvrWindow()),this._videoElement.currentTime=e}},{key:"duration",get:function(){return this.isLive()?this._getLiveEdge()-this.getStartTimeOfDvrWindow():this._videoElement.duration}},{key:"src",get:function(){return this._loadPromise&&this._sourceObj?this._sourceObj.url:""}}],[{key:"canPlayType",value:function(e,n){return t._throwNotImplementedError("static canPlayType")}},{key:"_throwNotImplementedError",value:function(e){throw new p.default(p.default.Severity.CRITICAL,p.default.Category.PLAYER,p.default.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,e)}}]),t}(f.default);T.getLogger=g.default,t.default=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=i(o),u=n(1),l=i(u),c=n(44),f=i(c),d=n(21),p=function(){function e(){r(this,e)}return a(e,null,[{key:"canPlayDrm",value:function(e){throw new l.default(l.default.Severity.CRITICAL,l.default.Category.PLAYER,l.default.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"static canPlayDrm")}},{key:"setDrmPlayback",value:function(){throw new l.default(l.default.Severity.CRITICAL,l.default.Category.PLAYER,l.default.Code.RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED,"static setDrmPlayback")}}]),e}();p.getLogger=s.default,p.DrmSupport=f.default,p.DrmScheme=d.DrmScheme,t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DrmScheme={WIDEVINE:"com.widevine.alpha",PLAYREADY:"com.microsoft.playready",FAIRPLAY:"com.apple.fairplay"}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){return"string"==typeof e&&!!u[e.toLowerCase()]&&e.toLowerCase()}function a(e){return"string"==typeof e&&!!l[e.toLowerCase()]&&e.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),t.Cue=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(23),u={"":!0,lr:!0,rl:!0},l={start:!0,middle:!0,end:!0,left:!0,right:!0},c=function(){function e(t,n,r){i(this,e),this.hasBeenReset=!1,this.displayState=void 0,this._id="",this._pauseOnExit=!1,this._region=null,this._vertical="",this._snapToLines=!0,this._line="auto",this._lineAlign="start",this._position=50,this._positionAlign="middle",this._size=50,this._align="middle",this._startTime=t,this._endTime=n,this._text=r}return o(e,[{key:"resetCue",value:function(){this.hasBeenReset=!0}},{key:"getCueAsHTML",value:function(){return(0,s.convertCueToDOMTree)(window,this.text)}},{key:"id",get:function(){return this._id},set:function(e){this._id=""+e}},{key:"pauseOnExit",get:function(){return this._pauseOnExit},set:function(e){this._pauseOnExit=e}},{key:"startTime",get:function(){return this._endTime},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");this._endTime=e,this.resetCue()}},{key:"endTime",get:function(){return this._endTime},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");this._endTime=e,this.resetCue()}},{key:"text",get:function(){return this._text},set:function(e){this._text=""+e,this.resetCue()}},{key:"region",get:function(){return this._region},set:function(e){this._region=e,this.resetCue()}},{key:"vertical",get:function(){return this._vertical},set:function(e){var t=r(e);if(!1===t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._vertical=t,this.resetCue())}},{key:"snapToLines",get:function(){return this._snapToLines},set:function(e){this._snapToLines=e,this.resetCue()}},{key:"line",get:function(){return this._line},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");this._line=e,this.resetCue()}},{key:"lineAlign",get:function(){return this._lineAlign},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._lineAlign=t,this.resetCue())}},{key:"position",get:function(){return this._position},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");this._position=e,this.resetCue()}},{key:"positionAlign",get:function(){return this._positionAlign},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._positionAlign=t,this.resetCue())}},{key:"size",get:function(){return this._size},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");this._size=e,this.resetCue()}},{key:"align",get:function(){return this._align},set:function(e){var t=a(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");"string"==typeof t&&(this._align=t,this.resetCue())}}]),e}(),f=void 0;"undefined"!=typeof window&&window.VTTCue?t.Cue=f=window.VTTCue:t.Cue=f=c,t.Cue=f},function(e,t,n){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function s(e,t){function n(e){return g[e]}for(var i=e.document.createElement("div"),r=i,a=void 0,s=[];null!==(a=function(){if(!t)return null;var e=t.match(/^([^<]*)(<[^>]+>?)?/);return function(e){return t=t.substr(e.length),e}(e[1]?e[1]:e[2])}());)if("<"!==a[0])r.appendChild(e.document.createTextNode(function(e){for(var t=void 0;t=e.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)e=e.replace(t[0],n);return e}(a)));else{if("/"===a[1]){s.length&&s[s.length-1]===a.substr(2).replace(">","")&&(s.pop(),r=r.parentNode);continue}var u=o(a.substr(1,a.length-2)),l=void 0;if(u){l=e.document.createProcessingInstruction("timestamp",u),r.appendChild(l);continue}var c=a.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!c)continue;if(!(l=function(t,n){var i=v[t];if(!i)return null;var r=e.document.createElement(i);r.localName=i;var a=m[t];return a&&n&&(r[a]=n.trim()),r}(c[1],c[3])))continue;if(!function(e,t){return!b[t.localName]||b[t.localName]===e.localName}(r,l))continue;c[2]&&(l.className=c[2].substr(1).replace("."," ")),s.push(c[1]),r.appendChild(l),r=l}return i}function u(e){for(var t=0;t<_.length;t++){var n=_[t];if(e>=n[0]&&e<=n[1])return!0}return!1}function l(e){function t(e,t){for(var n=t.childNodes.length-1;n>=0;n--)e.push(t.childNodes[n])}function n(e){if(!e||!e.length)return null;var i=e.pop(),r=i.textContent||i.innerText;if(r){var a=r.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):r}return"ruby"===i.tagName?n(e):i.childNodes?(t(e,i),n(e)):void 0}var i=[],r="",a=void 0;if(!e||!e.childNodes)return"ltr";for(t(i,e);r=n(i);)for(var o=0;o<r.length;o++)if(a=r.charCodeAt(o),u(a))return"rtl";return"ltr"}function c(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,n=t.textTrackList,i=0,r=0;r<n.length&&n[r]!==t;r++)"showing"===n[r].mode&&i++;return-1*++i}function f(e,t,n){var i=new k(e),r=e.cue,a=c(r),o=[];if(r.snapToLines){var s=void 0;switch(r.vertical){case"":o=["+y","-y"],s="height";break;case"rl":o=["+x","-x"],s="width";break;case"lr":o=["-x","+x"],s="width"}var u=i.lineHeight,l=u*Math.round(a),f=t[s]+u,d=o[0];Math.abs(l)>f&&(l=l<0?-1:1,l*=Math.ceil(f/u)*u),a<0&&(l+=""===r.vertical?t.height:t.width,o=o.reverse()),i.move(d,l)}else{var p=i.lineHeight/t.height*100;switch(r.lineAlign){case"middle":a-=p/2;break;case"end":a-=p}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}o=["+y","-x","+x","-y"],i=new k(e)}var h=function(e,i){for(var r=void 0,a=new k(e),o=1,s=0;s<i.length;s++){for(;e.overlapsOppositeAxis(t,i[s])||e.within(t)&&e.overlapsAny(n);)e.move(i[s]);if(e.within(t))return e;var u=e.intersectPercentage(t);o>u&&(r=new k(e),o=u),e=new k(a)}return r||a}(i,o);e.move(h.toCSSCompatValues(t))}function d(e,t){return e&&t?s(e,t):null}function p(e,t,n){if(!e||!t||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=e.document.createElement("div");if(i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=S,n.appendChild(i),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],a=k.getSimpleBoxPosition(i),o=Math.round(a.height*T*100)/100,s={font:o*y+"px "+w};!function(){for(var n=void 0,o=void 0,u=0;u<t.length;u++)o=t[u],n=new A(e,o,s),i.appendChild(n.div),f(n,a,r),o.displayState=n.div,r.push(k.getSimpleBoxPosition(n))}()}else for(var u=0;u<t.length;u++)i.appendChild(t[u].displayState)}Object.defineProperty(t,"__esModule",{value:!0});var h=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),y=1,g={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},v={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},m={v:"title",lang:"lang"},b={rt:"ruby"},_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]],E=function(){function e(){a(this,e)}return h(e,[{key:"applyStyles",value:function(e,t){t=t||this.div;for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n])}},{key:"formatStyle",value:function(e,t){return 0===e?0:e+t}}]),e}(),A=function(e){function t(e,n,r){a(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),u="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),c="rgba(255, 255, 255, 1)",f="rgba(0, 0, 0, 0.8)",d="";"undefined"!=typeof WebVTTSet&&(c=WebVTTSet.fontSet,f=WebVTTSet.backgroundSet,d=WebVTTSet.edgeSet),u&&(c="rgb(255, 255, 255)",f="rgb(0, 0, 0)"),o.cue=n,o.cueDiv=s(e,n.text);var p={color:c,backgroundColor:f,textShadow:d,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};u||(p.writingMode=""===n.vertical?"horizontal-tb":"lr"===n.vertical?"vertical-lr":"vertical-rl",p.unicodeBidi="plaintext"),o.applyStyles(p,o.cueDiv),o.div=e.document.createElement("div"),p={textAlign:"middle"===n.align?"center":n.align,font:r.font,whiteSpace:"pre-line",position:"absolute"},u||(p.direction=l(o.cueDiv),p.writingMode=""===n.vertical?"horizontal-tb":"lr"===n.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),o.applyStyles(p),o.div.appendChild(o.cueDiv);var h=0;switch(n.positionAlign){case"start":h=n.position;break;case"middle":h=n.position-n.size/2;break;case"end":h=n.position-n.size}return""===n.vertical?o.applyStyles({left:o.formatStyle(h,"%"),width:o.formatStyle(n.size,"%")}):o.applyStyles({top:o.formatStyle(h,"%"),height:o.formatStyle(n.size,"%")}),o.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})},o}return r(t,e),t}(E),k=function(){function e(t){a(this,e),this.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top};var n="undefined"!=typeof navigator&&/MSIE\s8\.0/.test(navigator.userAgent),i=void 0,r=void 0,o=void 0,s=void 0;if(t.div){r=t.div.offsetHeight,o=t.div.offsetWidth,s=t.div.offsetTop;var u=(u=t.div.childNodes)&&(u=u[0])&&u.getClientRects&&u.getClientRects();t=t.div.getBoundingClientRect(),i=u?Math.max(u[0]&&u[0].height||0,t.height/u.length):0}this.left=t.left,this.right=t.right,this.top=t.top||s,this.height=t.height||r,this.bottom=t.bottom||s+(t.height||r),this.width=t.width||o,this.lineHeight=void 0!==i?i:t.lineHeight,n&&!this.lineHeight&&(this.lineHeight=13)}return h(e,[{key:"move",value:function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}}},{key:"overlapsAny",value:function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1}},{key:"within",value:function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right}},{key:"overlapsOppositeAxis",value:function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}}},{key:"intersectPercentage",value:function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)}},{key:"toCSSCompatValues",value:function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}}}],[{key:"getSimpleBoxPosition",value:function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,n=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,i=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e,{left:e.left,right:e.right,top:e.top||i,height:e.height||t,bottom:e.bottom||i+(e.height||t),width:e.width||n}}}]),e}(),T=.05,w="sans-serif",S="1.5%";t.processCues=p,t.convertCueToDOMTree=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.registerPlugin=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(14),s=i(o),u=n(1),l=i(u),c=n(10),f=(i(c),n(0)),d=i(f),p=(0,d.default)("PluginManager"),h=function(){function e(){r(this,e),this._plugins=new Map}return a(e,[{key:"load",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e._registry.has(t))throw new l.default(l.default.Severity.CRITICAL,l.default.Category.PLAYER,l.default.Code.RUNTIME_ERROR_NOT_REGISTERED_PLUGIN,t);var r=e._registry.get(t);return r&&r.isValid()?(this._plugins.set(t,r.createPlugin(t,n,i)),p.debug("Plugin <"+t+"> has been loaded"),!0):(p.debug("Plugin <"+t+"> isn't loaded, isValid()=false"),!1)}},{key:"destroy",value:function(){this._plugins.forEach(this._destroy.bind(this))}},{key:"reset",value:function(){this._plugins.forEach(function(e){e.reset()})}},{key:"_destroy",value:function(e,t){e.destroy(),this._plugins.delete(t)}},{key:"get",value:function(e){return this._plugins.get(e)}}],[{key:"register",value:function(t,n){if("function"!=typeof n||n.prototype instanceof s.default==0)throw new l.default(l.default.Severity.CRITICAL,l.default.Category.PLAYER,l.default.Code.RUNTIME_ERROR_NOT_VALID_HANDLER,t);return e._registry.has(t)?(p.debug("Plugin <"+t+"> is already registered, do not register again"),!1):(e._registry.set(t,n),p.debug("Plugin <"+t+"> has been registered successfully"),!0)}},{key:"unRegister",value:function(t){e._registry.has(t)&&(e._registry.delete(t),p.debug("Unregistered <"+t+"> plugin."))}}]),e}();h._registry=new Map,t.default=h;var y=h.register;t.registerPlugin=y},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){i(this,e),this.fontSize="100%",this.fontFamily=e.FontFamily.SANS_SERIF,this.fontColor=e.StandardColors.WHITE,this.fontOpacity=e.StandardOpacities.OPAQUE,this.backgroundColor=e.StandardColors.BLACK,this.backgroundOpacity=e.StandardOpacities.OPAQUE,this.fontEdge=e.EdgeStyles.NONE}return r(e,[{key:"toCSS",value:function(){var t=[];t.push("font-family: "+this.fontFamily),t.push("font-size: "+this.fontSize),t.push("color: "+e._toRGBA(this.fontColor,this.fontOpacity)),t.push("background-color: "+e._toRGBA(this.backgroundColor,this.backgroundOpacity));for(var n=[],i=0;i<this.fontEdge.length;i++){var r=this.fontEdge[i].slice(0,3),a=this.fontEdge[i].slice(3,6);n.push(e._toRGBA(r,this.fontOpacity)+" "+a.join("px ")+"px")}return t.push("text-shadow: "+n.join(",")),t.join("!important; ")}},{key:"clone",value:function(){var t=new e;return t.fontEdge=this.fontEdge,t.fontSize=this.fontSize,t.fontColor=this.fontColor,t.fontOpacity=this.fontOpacity,t.backgroundColor=this.backgroundColor,t.backgroundOpacity=this.backgroundOpacity,t}}],[{key:"_toRGBA",value:function(e,t){return"rgba("+e.concat(t).join(",")+")"}}]),e}();a.FontFamily={ARIAL:"Arial",HELVETICA:"Helvetica",VERDANA:"Verdana",SANS_SERIF:"sans-serif"},a.StandardColors={WHITE:[255,255,255],BLACK:[0,0,0],RED:[255,0,0],GREEN:[0,255,0],BLUE:[0,0,255],YELLOW:[255,255,0],MAGENTA:[255,0,255],CYAN:[0,255,255]},a.StandardOpacities={OPAQUE:1,SEMI_HIGH:.75,SEMI_LOW:.25,TRANSPARENT:0},a.EdgeStyles={NONE:[],RAISED:[[34,34,34,1,1,0],[34,34,34,2,2,0],[34,34,34,3,3,0]],DEPRESSED:[[204,204,204,1,1,0],[204,204,204,0,1,0],[34,34,34,-1,-1,0],[34,34,34,0,-1,0]],UNIFORM:[[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4],[34,34,34,0,0,4]],DROP:[[34,34,34,2,2,3],[34,34,34,2,2,4],[34,34,34,2,2,5]]},a.FontSizes=["50%","75%","100%","200%","300%","400%"],t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={DASH:"dash",HLS:"hls",PROGRESSIVE:"progressive"};t.StreamType=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={HTML5:"html5",FLASH:"flash",SILVERLIGHT:"silverlight"};t.EngineType=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={VOD:"Vod",LIVE:"Live",AUDIO:"Audio",UNKNOWN:"Unknown"};t.MediaType=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={MANUAL:"manual",AUTO:"auto"};t.AbrMode=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return new o.default(e||{})}Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevelType=t.AbrMode=t.StreamType=t.MediaType=t.EngineType=t.TrackType=t.StateType=t.EventType=t.setCapabilities=t.getCapabilities=t.BaseDrmProtocol=t.Env=t.PLAYER_NAME=t.VERSION=t.EventManager=t.FakeEventTarget=t.FakeEvent=t.Error=t.Utils=t.TextStyle=t.TextTrack=t.AudioTrack=t.VideoTrack=t.Track=t.BaseMiddleware=t.BasePlugin=t.registerPlugin=t.BaseMediaSourceAdapter=t.registerMediaSourceAdapter=void 0,t.loadPlayer=r;var a=n(10),o=i(a),s=n(19),u=i(s),l=n(18),c=n(24),f=n(20),d=i(f),p=n(17),h=i(p),y=n(14),g=i(y),v=n(5),m=i(v),b=n(7),_=i(b),E=n(8),A=i(E),k=n(9),T=i(k),w=n(25),S=i(w),P=n(11),O=i(P),C=n(3),L=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(C),R=n(1),I=i(R),x=n(2),D=i(x),M=n(12),N=i(M),U=n(6),B=i(U),j=n(15),F=n(16),G=n(26),V=n(27),H=n(28),K=n(4),W=n(29),Y=n(0);o.default.runCapabilities(),t.registerMediaSourceAdapter=l.registerMediaSourceAdapter,t.BaseMediaSourceAdapter=u.default,t.registerPlugin=c.registerPlugin,t.BasePlugin=g.default,t.BaseMiddleware=h.default,t.Track=m.default,t.VideoTrack=_.default,t.AudioTrack=A.default,t.TextTrack=T.default,t.TextStyle=S.default,t.Utils=L,t.Error=I.default,t.FakeEvent=D.default,t.FakeEventTarget=N.default,t.EventManager=B.default,t.VERSION="0.24.0",t.PLAYER_NAME="playkit-js",t.Env=O.default,t.BaseDrmProtocol=d.default;var z=o.default.getCapabilities,q=o.default.setCapabilities;t.getCapabilities=z,t.setCapabilities=q,t.EventType=K.EventType,t.StateType=j.StateType,t.TrackType=F.TrackType,t.EngineType=V.EngineType,t.MediaType=H.MediaType,t.StreamType=G.StreamType,t.AbrMode=W.AbrMode,t.LogLevelType=Y.LogLevelType,t.default=r},function(e,t,n){var i;!function(r,a){"use strict";var o="model",s="name",u="type",l="vendor",c="version",f="mobile",d="tablet",p={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2==0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},h={rgx:function(e,t){for(var n,i,r,a,o,s,u=0;u<t.length&&!o;){var l=t[u],c=t[u+1];for(n=i=0;n<l.length&&!o;)if(o=l[n++].exec(e))for(r=0;r<c.length;r++)s=o[++i],a=c[r],"object"==typeof a&&a.length>0?2==a.length?"function"==typeof a[1]?this[a[0]]=a[1].call(this,s):this[a[0]]=a[1]:3==a.length?"function"!=typeof a[1]||a[1].exec&&a[1].test?this[a[0]]=s?s.replace(a[1],a[2]):void 0:this[a[0]]=s?a[1].call(this,s,a[2]):void 0:4==a.length&&(this[a[0]]=s?a[3].call(this,s.replace(a[1],a[2])):void 0):this[a]=s||void 0;u+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(p.has(t[n][i],e))return"?"===n?void 0:n}else if(p.has(t[n],e))return"?"===n?void 0:n;return e}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},g={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,c],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],[s,c],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[s,"IE"],c],[/(edge)\/((\d+)?[\w\.]+)/i],[s,c],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],c],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],c],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i,/(ucbrowser)\/([\w\.]+)/i],[[s,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],c],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,c],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[s,"Facebook"]],[/(headlesschrome) ([\w\.]+)/i],[c,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],c],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,c],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],c],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[s,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[c,[s,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[c,s],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[c,h.str,y.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[s,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[o,l,[u,d]],[/applecoremedia\/[\w\.]+ \((ipad)/],[o,[l,"Apple"],[u,d]],[/(apple\s{0,1}tv)/i],[[o,"Apple TV"],[l,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[l,o,[u,d]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[o,[l,"Amazon"],[u,d]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[o,h.str,y.device.amazon.model],[l,"Amazon"],[u,f]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[o,l,[u,f]],[/\((ip[honed|\s\w*]+);/i],[o,[l,"Apple"],[u,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[l,o,[u,f]],[/\(bb10;\s(\w+)/i],[o,[l,"BlackBerry"],[u,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[o,[l,"Asus"],[u,d]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[l,"Sony"],[o,"Xperia Tablet"],[u,d]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[l,"Sony"],[o,"Xperia Phone"],[u,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[l,o,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[o,[l,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[o,[l,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[l,h.str,y.device.sprint.vendor],[o,h.str,y.device.sprint.model],[u,f]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[l,o,[u,d]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[l,[o,/_/g," "],[u,f]],[/(nexus\s9)/i],[o,[l,"HTC"],[u,d]],[/(nexus\s6p)/i],[o,[l,"Huawei"],[u,f]],[/(microsoft);\s(lumia[\s\w]+)/i],[l,o,[u,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[o,[l,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[l,"Microsoft"],[u,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[o,[l,"Motorola"],[u,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[o,[l,"Motorola"],[u,d]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[l,p.trim],[o,p.trim],[u,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[l,"Samsung"],[u,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[o,[l,"Sharp"],[u,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[l,"Samsung"],o,[u,d]],[/smart-tv.+(samsung)/i],[l,[u,"smarttv"],o],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[l,"Samsung"],o,[u,f]],[/sie-(\w+)*/i],[o,[l,"Siemens"],[u,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[l,"Nokia"],o,[u,f]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[o,[l,"Acer"],[u,d]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[l,"LG"],o,[u,d]],[/(lg) netcast\.tv/i],[l,o,[u,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[o,[l,"LG"],[u,f]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[o,[l,"Lenovo"],[u,d]],[/linux;.+((jolla));/i],[l,o,[u,f]],[/((pebble))app\/[\d\.]+\s/i],[l,o,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[l,o,[u,f]],[/crkey/i],[[o,"Chromecast"],[l,"Google"]],[/android.+;\s(glass)\s\d/i],[o,[l,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)\s/i],[o,[l,"Google"],[u,d]],[/android.+;\s(pixel xl|pixel)\s/i],[o,[l,"Google"],[u,f]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[o,/_/g," "],[l,"Xiaomi"],[u,f]],[/android.+a000(1)\s+build/i],[o,[l,"OnePlus"],[u,f]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,p.lowerize],l,o]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[s,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,c],[/rv\:([\w\.]+).*(gecko)/i],[c,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[c,h.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[c,h.str,y.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[s,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[s,"Symbian"],c],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],c],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[s,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],c],[/(sunos)\s?([\w\.]+\d)*/i],[[s,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[s,c],[/(haiku)\s(\w+)/i],[s,c],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[s,"iOS"],[c,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[s,c]]},v=function(e,t){this[s]=e,this[c]=t},m=function(e){this.architecture=e},b=function(e,t,n){this[l]=e,this[o]=t,this[u]=n},_=v,E=v,A=function(e,t){if(!(this instanceof A))return new A(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),i=t?p.extend(g,t):g,a=new v,o=new m,s=new b,u=new _,l=new E;return this.getBrowser=function(){return h.rgx.call(a,n,i.browser),a.major=p.major(a.version),a},this.getCPU=function(){return h.rgx.call(o,n,i.cpu),o},this.getDevice=function(){return h.rgx.call(s,n,i.device),s},this.getEngine=function(){return h.rgx.call(u,n,i.engine),u},this.getOS=function(){return h.rgx.call(l,n,i.os),l},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,a=new v,o=new m,s=new b,u=new _,l=new E,this},this};A.VERSION="0.7.13",A.BROWSER={NAME:s,MAJOR:"major",VERSION:c},A.CPU={ARCHITECTURE:"architecture"},A.DEVICE={MODEL:o,VENDOR:l,TYPE:u,CONSOLE:"console",MOBILE:f,SMARTTV:"smarttv",TABLET:d,WEARABLE:"wearable",EMBEDDED:"embedded"},A.ENGINE={NAME:s,VERSION:c},A.OS={NAME:s,VERSION:c},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=A),t.UAParser=A):n(32)?void 0!==(i=function(){return A}.call(t,n,t,e))&&(e.exports=i):r.UAParser=A;var k=r.jQuery||r.Zepto;if(void 0!==k){var T=new A;k.ua=T.getResult(),k.ua.get=function(){return T.getUA()},k.ua.set=function(e){T.setUA(e);var t=T.getResult();for(var n in t)k.ua[n]=t[n]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),s=function(){function e(){i(this,e),this._createEl()}return r(e,[{key:"setSrc",value:function(e){e&&(this._posterUrl=e,o.Dom.setStyle(this._el,"background-image",'url("'+this._posterUrl+'")'),this.hide())}},{key:"getElement",value:function(){return this._el}},{key:"_createEl",value:function(){if(!this._el){var e=this._el=o.Dom.createElement("div");o.Dom.setAttribute(e,"id",o.Generator.uniqueId(5)),o.Dom.setAttribute(e,"tabindex","-1")}}},{key:"_removeEl",value:function(){this._el&&o.Dom.removeChild(this._el.parentNode,this._el)}},{key:"show",value:function(){o.Dom.setStyle(this._el,"display","")}},{key:"hide",value:function(){o.Dom.setStyle(this._el,"display","none")}},{key:"reset",value:function(){this._posterUrl="",o.Dom.setStyle(this._el,"background-image","")}},{key:"destroy",value:function(){this.reset(),this._removeEl()}},{key:"src",get:function(){return this._posterUrl}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t,n){n=n||{};var i=n.timeout?n.timeout:o,r=document.createElement("script"),l=s+Math.round(Date.now()+1000001*Math.random()),c=e,f=void 0,d=function(){r&&r.parentNode&&r.parentNode.removeChild(r),window[l]=function(){},f&&clearTimeout(f)};return new Promise(function(n,o){i&&(f=setTimeout(function(){d(),o(new a.default(a.default.Severity.CRITICAL,a.default.Category.NETWORK,a.default.Code.TIMEOUT,e))},i)),window[l]=function(i){var r=t(i,e);d(),n(r)},c.match(/\?/)?c+="&"+u+l:c+="?"+u+l,r.type="text/javascript",r.src=c,document.getElementsByTagName("head")[0].appendChild(r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.jsonp=void 0;var r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=5e3,s="jsonpcallback",u="responseFormat=jsonp&callback=";t.jsonp=i},function(e,t,n){var i,r;/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */
!function(a){"use strict";var o={};o.VERSION="1.4.1";var s,u={},l=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,i=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in i||!n[t].hasOwnProperty(e)||(i[e]=n[t][e]);return i},f=function(e,t){return{value:e,name:t}};o.DEBUG=f(1,"DEBUG"),o.INFO=f(2,"INFO"),o.TIME=f(3,"TIME"),o.WARN=f(4,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var d=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};d.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"end"])},invoke:function(e,t){s&&this.enabledFor(e)&&s(t,c({level:e},this.context))}};var p=new d({filterLevel:o.OFF});!function(){var e=o;e.enabledFor=l(p,p.enabledFor),e.debug=l(p,p.debug),e.time=l(p,p.time),e.timeEnd=l(p,p.timeEnd),e.info=l(p,p.info),e.warn=l(p,p.warn),e.error=l(p,p.error),e.log=e.info}(),o.setHandler=function(e){s=e},o.setLevel=function(e){p.setLevel(e);for(var t in u)u.hasOwnProperty(t)&&u[t].setLevel(e)},o.getLevel=function(){return p.getLevel()},o.get=function(e){return u[e]||(u[e]=new d(c({name:e},p.context)))},o.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,r){i=Array.prototype.slice.call(i);var a,s=console.log;r.level===o.TIME?(a=(r.name?"["+r.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):n(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(r.level===o.WARN&&console.warn?s=console.warn:r.level===o.ERROR&&console.error?s=console.error:r.level===o.INFO&&console.info?s=console.info:r.level===o.DEBUG&&console.debug&&(s=console.debug),e.formatter(i,r),n(s,i))}},o.useDefaults=function(e){o.setLevel(e&&e.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(e))},i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={RECOVERABLE:1,CRITICAL:2};t.Severity=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_CREATE_TEXT_CUE:2009,DASH_ADAPTER_ERROR_PARSE_ISSUE:2010,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,HLS_FATAL_MEDIA_ERROR:3018,HLS_FRAG_PARSING_ERROR:3019,HLS_BUFFER_APPEND_ISSUE:3020,HLS_BUFFER_APPENDING_ISSUE:3021,NATIVE_ADAPTER_LOAD_FAILED:3022,HLS_BUFFER_STALLED_ERROR:3023,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_LIVE_CONTENT_NOT_SUPPORTED:4029,HLSJS_CANNOT_PARSE:4030,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,BAD_FAIRPLAY_RESPONSE:6015,COULD_NOT_CREATE_MEDIA_KEYS:6016,COULD_NOT_CREATE_KEY_SESSION:6017,LOAD_INTERRUPTED:7e3,BITRATE_SWITCH_ISSUE:7001,LOAD_FAILED:7002,RUNTIME_ERROR_NOT_REGISTERED_PLUGIN:7003,RUNTIME_ERROR_METHOD_NOT_IMPLEMENTED:7004,RUNTIME_ERROR_NOT_VALID_HANDLER:7005,NO_SOURCE_PROVIDED:7006,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,CONTENT_UNSUPPORTED_BY_BROWSER:9009};t.Code=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,ADS:8,STORAGE:9};t.Category=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){i(this,e)}return r(e,null,[{key:"language",get:function(){var e=void 0;return e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language,e&&e.match("-")&&(e=e.split("-")[0]),e}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(12),c=i(l),f=n(2),d=i(f),p=n(6),h=i(p),y=n(4),g=n(18),v=i(g),m=n(7),b=(i(m),n(8)),_=(i(b),n(9),n(22)),E=n(3),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(E),k=n(45),T=i(k),w=n(47),S=i(w),P=n(1),O=i(P),C=n(0),L=i(C),R=function(e){function t(e,n){a(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i._showTextTrackFirstTime={},i._eventManager=new h.default,i._canLoadMediaSourceAdapterPromise=Promise.resolve(),i._createVideoElement(),i._init(e,n),i}return s(t,e),u(t,null,[{key:"createEngine",value:function(e,t){return new this(e,t)}},{key:"canPlaySource",value:function(e,t){return v.default.canPlaySource(e,t)}},{key:"runCapabilities",value:function(){t._capabilities.forEach(function(e){return e.runCapability()})}},{key:"getCapabilities",value:function(){var e=[];return t._capabilities.forEach(function(t){return e.push(t.getCapability())}),Promise.all(e).then(function(e){var n={};return e.forEach(function(e){return Object.assign(n,e)}),r({},t.id,n)})}},{key:"prepareVideoElement",value:function(){t._logger.debug("Prepare the video element for playing"),t._el=A.Dom.createElement("video"),t._el.load()}}]),u(t,[{key:"restore",value:function(e,t){this.reset(),this._init(e,t)}},{key:"reset",value:function(){this.detach(),this._eventManager.removeAll(),this._mediaSourceAdapter&&(this._canLoadMediaSourceAdapterPromise=this._mediaSourceAdapter.destroy(),this._mediaSourceAdapter=null),this._el&&this._el.src&&(A.Dom.setAttribute(this._el,"src",""),A.Dom.removeAttribute(this._el,"src"))}},{key:"destroy",value:function(){this.detach(),this._el&&(this.pause(),A.Dom.removeAttribute(this._el,"src"),A.Dom.removeChild(this._el.parentNode,this._el)),this._showTextTrackFirstTime={},this._eventManager.destroy(),v.default.destroy(),this._mediaSourceAdapter=null}},{key:"attach",value:function(){var e=this;Object.keys(y.Html5EventType).forEach(function(t){e._eventManager.listen(e._el,y.Html5EventType[t],function(){y.Html5EventType[t]===y.Html5EventType.ERROR?e._handleVideoError():e.dispatchEvent(new d.default(y.Html5EventType[t]))})}),this._mediaSourceAdapter&&(this._eventManager.listen(this._mediaSourceAdapter,y.CustomEventType.VIDEO_TRACK_CHANGED,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.CustomEventType.AUDIO_TRACK_CHANGED,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.CustomEventType.TEXT_TRACK_CHANGED,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.CustomEventType.ABR_MODE_CHANGED,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.CustomEventType.TEXT_CUE_CHANGED,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.CustomEventType.TRACKS_CHANGED,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.Html5EventType.ERROR,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.Html5EventType.TIME_UPDATE,function(t){return e.dispatchEvent(t)}),this._eventManager.listen(this._mediaSourceAdapter,y.Html5EventType.PLAYING,function(t){return e.dispatchEvent(t)}))}},{key:"_handleVideoError",value:function(){if(this._el.error){var e=this._el.error.code;if(1!=e){var t=this._getMsExtendedError(),n=this._el.error.message,i=new O.default(O.default.Severity.CRITICAL,O.default.Category.MEDIA,O.default.Code.VIDEO_ERROR,{code:e,extended:t,message:n});this.dispatchEvent(new d.default(y.Html5EventType.ERROR,i))}}}},{key:"_getMsExtendedError",value:function(){var e=this._el.error.msExtendedCode;return e&&(e<0&&(e+=Math.pow(2,32)),e=e.toString(16)),e}},{key:"detach",value:function(){var e=this;Object.keys(y.Html5EventType).forEach(function(t){e._eventManager.unlisten(e._el,y.Html5EventType[t])}),this._mediaSourceAdapter&&(this._eventManager.unlisten(this._mediaSourceAdapter,y.CustomEventType.VIDEO_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,y.CustomEventType.AUDIO_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,y.CustomEventType.TEXT_TRACK_CHANGED),this._eventManager.unlisten(this._mediaSourceAdapter,y.CustomEventType.TEXT_CUE_CHANGED))}},{key:"getVideoElement",value:function(){return this._el}},{key:"selectVideoTrack",value:function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectVideoTrack(e)}},{key:"selectAudioTrack",value:function(e){this._mediaSourceAdapter&&this._mediaSourceAdapter.selectAudioTrack(e)}},{key:"selectTextTrack",value:function(e){this._removeCueChangeListener(),this._mediaSourceAdapter&&this._mediaSourceAdapter.selectTextTrack(e),this._addCueChangeListener(e)}},{key:"hideTextTrack",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.hideTextTrack(),this._removeCueChangeListener()}},{key:"enableAdaptiveBitrate",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.enableAdaptiveBitrate()}},{key:"isAdaptiveBitrateEnabled",value:function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isAdaptiveBitrateEnabled()}},{key:"seekToLiveEdge",value:function(){this._mediaSourceAdapter&&this._mediaSourceAdapter.seekToLiveEdge()}},{key:"getStartTimeOfDvrWindow",value:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.getStartTimeOfDvrWindow():0}},{key:"isLive",value:function(){return!!this._mediaSourceAdapter&&this._mediaSourceAdapter.isLive()}},{key:"play",value:function(){var e=this,t=this._el.play();t&&t.catch(function(){return e.dispatchEvent(new d.default(y.CustomEventType.AUTOPLAY_FAILED))})}},{key:"pause",value:function(){return this._el.pause()}},{key:"load",value:function(e){var t=this;return this._el.load(),this._canLoadMediaSourceAdapterPromise.then(function(){return t._mediaSourceAdapter?t._mediaSourceAdapter.load(e).catch(function(e){return Promise.reject(e)}):Promise.resolve({})}).catch(function(e){return Promise.reject(e)})}},{key:"ready",value:function(){}},{key:"_init",value:function(e,t){this._config=t,this._loadMediaSourceAdapter(e),this.attach()}},{key:"_createVideoElement",value:function(){this._el=t._el||A.Dom.createElement("video"),this._el.id=A.Generator.uniqueId(5),this._el.controls=!1}},{key:"_loadMediaSourceAdapter",value:function(e){this._mediaSourceAdapter=v.default.getMediaSourceAdapter(this.getVideoElement(),e,this._config)}},{key:"_addCueChangeListener",value:function(e){var t=this,n=this._getSelectedTextTrackElement();n&&(this._config.playback.useNativeTextTrack?n.mode="showing":(n.oncuechange=function(e){return t._onCueChange(e)},n.mode=this._showTextTrackFirstTime[e.index]?"hidden":"showing",this._showTextTrackFirstTime[e.index]=!0))}},{key:"_removeCueChangeListener",value:function(){var e=this._getSelectedTextTrackElement();e&&(e.oncuechange=null)}},{key:"_onCueChange",value:function(e){var t=e.currentTarget,n=[];t.mode="hidden";var i=!0,r=!1,a=void 0;try{for(var o,s=t.activeCues[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;if(window.VTTCue&&u instanceof window.VTTCue)n.push(u);else if(window.TextTrackCue&&u instanceof window.TextTrackCue)try{n.push(new _.Cue(u.startTime,u.endTime,u.text))}catch(e){new O.default(O.default.Severity.RECOVERABLE,O.default.Category.TEXT,O.default.Code.UNABLE_TO_CREATE_TEXT_CUE,e)}}}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}this.dispatchEvent(new d.default(y.CustomEventType.TEXT_CUE_CHANGED,{cues:n}))}},{key:"_getSelectedTextTrackElement",value:function(){var e=this._el.textTracks;for(var t in e)if(e.hasOwnProperty(t)){var n=e[parseInt(t)];if(n&&"disabled"!==n.mode)return n}return null}},{key:"id",get:function(){return t.id}},{key:"src",set:function(e){this._el.src=e},get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.src:""}},{key:"currentTime",get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.currentTime:0},set:function(e){this._mediaSourceAdapter&&(this._mediaSourceAdapter.currentTime=e)}},{key:"duration",get:function(){return this._mediaSourceAdapter?this._mediaSourceAdapter.duration:NaN}},{key:"volume",set:function(e){this._el.volume=e},get:function(){return this._el.volume}},{key:"paused",get:function(){return this._el.paused}},{key:"seeking",get:function(){return this._el.seeking}},{key:"seekable",get:function(){return this._el.seekable}},{key:"played",get:function(){return this._el.played}},{key:"buffered",get:function(){return this._el.buffered}},{key:"muted",set:function(e){this._el.muted=e},get:function(){return this._el.muted}},{key:"defaultMuted",get:function(){return this._el.defaultMuted}},{key:"poster",set:function(e){this._el.poster=e},get:function(){return this._el.poster}},{key:"preload",set:function(e){this._el.preload=e},get:function(){return this._el.preload}},{key:"autoplay",set:function(e){this._el.autoplay=e},get:function(){return this._el.autoplay}},{key:"loop",set:function(e){this._el.loop=e},get:function(){return this._el.loop}},{key:"controls",set:function(e){this._el.controls=e},get:function(){return this._el.controls}},{key:"playbackRate",set:function(e){this._el.playbackRate=e},get:function(){return this._el.playbackRate}},{key:"defaultPlaybackRate",set:function(e){this._el.defaultPlaybackRate=e},get:function(){return this._el.defaultPlaybackRate}},{key:"ended",get:function(){return this._el.ended}},{key:"error",get:function(){return this._el.error}},{key:"networkState",get:function(){return this._el.networkState}},{key:"readyState",get:function(){return this._el.readyState}},{key:"videoHeight",get:function(){return this._el.videoHeight}},{key:"videoWidth",get:function(){return this._el.videoWidth}},{key:"playsinline",set:function(e){e?this._el.setAttribute("playsinline",""):this._el.removeAttribute("playsinline")},get:function(){return""===this._el.getAttribute("playsinline")}}]),t}(c.default);R._logger=(0,L.default)("Html5"),R._capabilities=[T.default,S.default],R.id="html5",t.default=R},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),c=i(l),f=n(4),d=n(5),p=(i(d),n(7)),h=i(p),y=n(8),g=i(y),v=n(9),m=n(19),b=i(m),_=n(42),E=n(3),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(E),k=n(43),T=i(k),w=n(11),S=i(w),P=n(2),O=(i(P),n(1)),C=i(O),L=function(e){function t(e,n,i){r(this,t),t._logger.debug("Creating adapter");var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return o._eventManager=new c.default,o._maybeSetDrmPlayback(),o._progressiveSources=i.sources.progressive,o._liveEdge=0,o}return o(t,e),u(t,null,[{key:"canPlayType",value:function(e){var n=!1;return"string"==typeof e&&(n=!!t.TEST_VIDEO.canPlayType(e.toLowerCase())),t._logger.debug("canPlayType result for mimeType:"+e+" is "+n.toString()),n}},{key:"canPlayDrm",value:function(e){var n=!1,i=!0,r=!1,a=void 0;try{for(var o,s=t._drmProtocols[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;if(u.canPlayDrm(e)){t._drmProtocol=u,n=!0;break}}}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return t._logger.debug("canPlayDrm result is "+n.toString(),e),n}},{key:"createAdapter",value:function(e,t,n){return new this(e,t,n)}}]),u(t,[{key:"_dispatchErrorCallback",value:function(e){this._trigger(f.Html5EventType.ERROR,e)}},{key:"_maybeSetDrmPlayback",value:function(){var e=this;t._drmProtocol&&this._sourceObj&&this._sourceObj.drmData&&t._drmProtocol.setDrmPlayback(this._videoElement,this._sourceObj.drmData,function(t){return e._dispatchErrorCallback(t)})}},{key:"_setProgressiveSource",value:function(){var e=(0,_.getSuitableSourceForResolution)(this._progressiveSources,this._videoElement.offsetWidth,this._videoElement.offsetHeight);e&&(this._sourceObj=e)}},{key:"_isProgressivePlayback",value:function(){return!!this._sourceObj&&"video/mp4"===this._sourceObj.mimetype}},{key:"load",value:function(e){var t=this;return this._loadPromise||(this._loadPromise=new Promise(function(n,i){t._eventManager.listenOnce(t._videoElement,f.Html5EventType.LOADED_DATA,t._onLoadedData.bind(t,n)),t._eventManager.listenOnce(t._videoElement,f.Html5EventType.ERROR,t._onError.bind(t,i)),t._isProgressivePlayback()&&t._setProgressiveSource(),t._sourceObj&&t._sourceObj.url&&(t._videoElement.src=t._sourceObj.url,t._trigger(f.CustomEventType.ABR_MODE_CHANGED,{mode:t._isProgressivePlayback()?"manual":"auto"})),e&&(t._videoElement.currentTime=e),t._videoElement.load()})),this._loadPromise}},{key:"_onLoadedData",value:function(e){var n=this,i=function(){n._playerTracks=n._getParsedTracks(),n._addNativeAudioTrackChangeListener(),n._addNativeTextTrackChangeListener(),n._addNativeTextTrackAddedListener(),t._logger.debug("The source has been loaded successfully"),e({tracks:n._playerTracks}),n.isLive()&&n._handleLiveDurationChange()};this._videoElement.textTracks.length>0?i():this._eventManager.listenOnce(this._videoElement,f.Html5EventType.CAN_PLAY,i.bind(this))}},{key:"_onError",value:function(e,t){e(new C.default(C.default.Severity.CRITICAL,C.default.Category.MEDIA,C.default.Code.NATIVE_ADAPTER_LOAD_FAILED,t.payload))}},{key:"destroy",value:function(){var e=this;return t._logger.debug("destroy"),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this).then(function(){e._eventManager.destroy(),e._progressiveSources=[],e._loadPromise=null,e._liveEdge=0,e._liveDurationChangeInterval&&(clearInterval(e._liveDurationChangeInterval),e._liveDurationChangeInterval=null)})}},{key:"_getParsedTracks",value:function(){var e=this._getParsedVideoTracks(),t=this._getParsedAudioTracks(),n=this._getParsedTextTracks();return e.concat(t).concat(n)}},{key:"_getParsedVideoTracks",value:function(){return this._isProgressivePlayback()?this._getParsedProgressiveVideoTracks():this._getParsedAdaptiveVideoTracks()}},{key:"_getParsedProgressiveVideoTracks",value:function(){var e=this._progressiveSources,t=[];if(e)for(var n=0;n<e.length;n++){var i={id:e[n].id,bandwidth:e[n].bandwidth,width:e[n].width,height:e[n].height,active:!!this._sourceObj&&e[n].id===this._sourceObj.id,index:n};t.push(new h.default(i))}return t}},{key:"_getParsedAdaptiveVideoTracks",value:function(){var e=this._videoElement.videoTracks,t=[];if(e)for(var n=0;n<e.length;n++){var i={id:e[n].id,active:e[n].selected,label:e[n].label,language:e[n].language,index:n};t.push(new h.default(i))}return t}},{key:"_getParsedAudioTracks",value:function(){var e=this._videoElement.audioTracks,t=[];if(e)for(var n=0;n<e.length;n++){var i={id:e[n].id,active:e[n].enabled,label:e[n].label,language:e[n].language,index:n};t.push(new g.default(i))}return t}},{key:"_getParsedTextTracks",value:function(){var e=this._videoElement.textTracks,t=[];if(e)for(var n=0;n<e.length;n++){var i={kind:e[n].kind,active:"showing"===e[n].mode,label:e[n].label,language:e[n].language,index:n};(i.language||i.label)&&t.push(new v.TextTrack(i))}return t}},{key:"selectVideoTrack",value:function(e){this._isProgressivePlayback()?this._selectProgressiveVideoTrack(e):this.selectAdaptiveVideoTrack(e)}},{key:"_selectProgressiveVideoTrack",value:function(e){var t=this,n=this._progressiveSources;if(e instanceof h.default&&n&&n[e.index]){var i=this._videoElement.currentTime,r=this._videoElement.paused;this._sourceObj=n[e.index],this._eventManager.listenOnce(this._videoElement,f.Html5EventType.LOADED_DATA,function(){"Android Browser"===S.default.browser.name?(t._eventManager.listenOnce(t._videoElement,f.Html5EventType.DURATION_CHANGE,function(){t._videoElement.currentTime=i}),t._eventManager.listenOnce(t._videoElement,f.Html5EventType.SEEKED,function(){t._onTrackChanged(e),r&&t._videoElement.pause()}),t._videoElement.play()):(t._eventManager.listenOnce(t._videoElement,f.Html5EventType.SEEKED,function(){t._onTrackChanged(e)}),t._videoElement.currentTime=i,r||t._videoElement.play())}),this._videoElement.src=this._sourceObj?this._sourceObj.url:""}}},{key:"selectAdaptiveVideoTrack",value:function(e){var t=this._videoElement.videoTracks;e instanceof h.default&&t&&t[e.index]&&(this._disableVideoTracks(),t[e.index].selected=!0,this._onTrackChanged(e))}},{key:"selectAudioTrack",value:function(e){var t=this._videoElement.audioTracks;e instanceof g.default&&t&&t[e.index]&&(this._removeNativeAudioTrackChangeListener(),this._disableAudioTracks(),t[e.index].enabled=!0,this._onTrackChanged(e),this._addNativeAudioTrackChangeListener())}},{key:"_removeNativeAudioTrackChangeListener",value:function(){this._videoElement.audioTracks&&this._eventManager.unlisten(this._videoElement.audioTracks,"change")}},{key:"_addNativeAudioTrackChangeListener",value:function(){var e=this;this._videoElement.audioTracks&&this._eventManager.listen(this._videoElement.audioTracks,"change",function(){return e._onNativeAudioTrackChange()})}},{key:"_onNativeAudioTrackChange",value:function(){var e=this,n=this._playerTracks.filter(function(e){return e instanceof g.default});t._logger.debug("Video element audio track change");var i=function(){for(var t=0;t<e._videoElement.audioTracks.length;t++)if(e._videoElement.audioTracks[t].enabled)return t;return-1}(),r=function(){var e=n.find(function(e){return!0===e.active});return e?e.index:-1}();if(i!==r){var a=n.find(function(e){return e.index===i});a&&(t._logger.debug("Native selection of track, update the player audio track ("+r+" -> "+i+")"),this._onTrackChanged(a))}}},{key:"selectTextTrack",value:function(e){var n=this._videoElement.textTracks;e instanceof v.TextTrack&&("subtitles"===e.kind||"captions"===e.kind)&&n&&n[e.index]&&(this._removeNativeTextTrackChangeListener(),this._disableTextTracks(),n[e.index].mode="hidden",t._logger.debug("Text track changed",e),this._onTrackChanged(e),this._addNativeTextTrackChangeListener())}},{key:"_removeNativeTextTrackChangeListener",value:function(){this._videoElement.textTracks&&this._eventManager.unlisten(this._videoElement.textTracks,"change")}},{key:"_addNativeTextTrackChangeListener",value:function(){var e=this;this._videoElement.textTracks&&this._eventManager.listen(this._videoElement.textTracks,"change",function(){return e._onNativeTextTrackChange()})}},{key:"_onNativeTextTrackChange",value:function(){var e=this,n=this._playerTracks.filter(function(e){return e instanceof v.TextTrack}),i=n.find(function(e){return"off"===e.language});t._logger.debug("Video element text track change");var r=function(){for(var t=0;t<e._videoElement.textTracks.length;t++)if("showing"===e._videoElement.textTracks[t].mode)return t;return-1}(),a=function(){var e=n.find(function(e){return!0===e.active});return e?e.index:-1}();if(r!==a)if(-1==r)i&&(t._logger.debug("Native selection of track, update the player text track ("+a+" -> off)"),this._onTrackChanged(i));else{var o=n.find(function(e){return e.index===r});o&&(t._logger.debug("Native selection of track, update the player text track ("+a+" -> "+r+")"),this._onTrackChanged(o))}}},{key:"_addNativeTextTrackAddedListener",value:function(){var e=this;this._videoElement.textTracks&&this._eventManager.listen(this._videoElement.textTracks,"addtrack",function(){return e._onNativeTextTrackAdded()})}},{key:"_onNativeTextTrackAdded",value:function(){this._playerTracks=this._getParsedTracks(),this._trigger(f.CustomEventType.TRACKS_CHANGED,{tracks:this._playerTracks})}},{key:"hideTextTrack",value:function(){this._disableTextTracks()}},{key:"enableAdaptiveBitrate",value:function(){t._logger.warn("Enabling adaptive bitrate is not supported for native playback")}},{key:"isAdaptiveBitrateEnabled",value:function(){return!this._isProgressivePlayback()}},{key:"_disableVideoTracks",value:function(){var e=this._videoElement.videoTracks;if(e)for(var t=0;t<e.length;t++)e[t].selected=!1}},{key:"_disableAudioTracks",value:function(){var e=this._videoElement.audioTracks;if(e)for(var t=0;t<e.length;t++)e[t].enabled=!1}},{key:"_disableTextTracks",value:function(){var e=this._videoElement.textTracks;if(e)for(var t=0;t<e.length;t++)e[t].mode="disabled"}},{key:"_getLiveEdge",value:function(){return this._videoElement.seekable.length?this._videoElement.seekable.end(this._videoElement.seekable.length-1):this._videoElement.buffered.length?this._videoElement.buffered.end(this._videoElement.buffered.length-1):this._videoElement.duration}},{key:"seekToLiveEdge",value:function(){try{this._videoElement.currentTime=this._getLiveEdge()}catch(e){return}}},{key:"isLive",value:function(){return this._videoElement.duration===1/0}},{key:"_handleLiveDurationChange",value:function(){var e=this;this._liveDurationChangeInterval=setInterval(function(){var t=e._getLiveEdge();e._liveEdge!==t&&(e._liveEdge=t,e._videoElement.dispatchEvent(new window.Event(f.Html5EventType.DURATION_CHANGE)))},2e3)}},{key:"getStartTimeOfDvrWindow",value:function(){return this.isLive()&&this._videoElement.seekable.length?this._videoElement.seekable.start(0):0}}]),t}(b.default);L.id="NativeAdapter",L._logger=b.default.getLogger(L.id),L.TEST_VIDEO=A.Dom.createElement("video"),L._drmProtocols=[T.default],L._drmProtocol=null,t.default=L},function(e,t,n){"use strict";function i(e,t,n){var i=null;if(n&&e){var r=[],a=1/0,o=!0,s=!1,u=void 0;try{for(var l,c=e[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var f=l.value,d=Math.abs(f.width-t);d<a?(a=d,r=[f]):d===a&&r.push(f)}}catch(e){s=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw u}}var p=t/n,h=r,y=1/0,g=!0,v=!1,m=void 0;try{for(var b,_=r[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var E=b.value;if(E.height){var A=Math.abs(E.width/E.height-p);A<y?(y=A,h=[E]):A===y&&h.push(E)}}}catch(e){v=!0,m=e}finally{try{!g&&_.return&&_.return()}finally{if(v)throw m}}var k=0,T=!0,w=!1,S=void 0;try{for(var P,O=h[Symbol.iterator]();!(T=(P=O.next()).done);T=!0){var C=P.value;(C.bandwidth>k||!C.bandwidth)&&(k=C.bandwidth||k,i=C)}}catch(e){w=!0,S=e}finally{try{!T&&O.return&&O.return()}finally{if(w)throw S}}}return i}Object.defineProperty(t,"__esModule",{value:!0}),t.getSuitableSourceForResolution=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(20),l=i(u),c=n(1),f=i(c),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"canPlayDrm",value:function(e){return t._logger.debug("Can play DRM scheme of: "+l.default.DrmScheme.FAIRPLAY),l.default.DrmSupport.isProtocolSupported(l.default.DrmScheme.FAIRPLAY,e)}},{key:"setDrmPlayback",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2];t._logger.debug("Sets DRM playback"),e.addEventListener(t._WebkitEvents.NEED_KEY,t._onWebkitNeedKey.bind(null,n),!1),t._errorCallback=i}},{key:"_onWebkitNeedKey",value:function(e,n){t._logger.debug("Webkit need key triggered");var i=e.find(function(e){return e.scheme===l.default.DrmScheme.FAIRPLAY});if(i&&!t._keySession){var r=i.certificate,a=n.target,o=n.initData,s=t._extractContentId(o),u=t._base64DecodeUint8Array(r);if(o=t._concatInitDataIdAndCertificate(o,s,u),!a.webkitKeys){var c=t._selectKeySystem();t._logger.debug("Sets media keys"),a.webkitSetMediaKeys(new window.WebKitMediaKeys(c))}a.webkitKeys||t._onError(f.default.Code.COULD_NOT_CREATE_MEDIA_KEYS),t._logger.debug("Creates session"),t._keySession=a.webkitKeys.createSession("video/mp4",o),t._keySession||t._onError(f.default.Code.COULD_NOT_CREATE_KEY_SESSION),t._keySession.contentId=s,t._keySession.addEventListener(t._WebkitEvents.KEY_MESSAGE,t._onWebkitKeyMessage.bind(null,i),!1),t._keySession.addEventListener(t._WebkitEvents.KEY_ADDED,t._onWebkitKeyAdded,!1),t._keySession.addEventListener(t._WebkitEvents.KEY_ERROR,t._onWebkitKeyError,!1)}}},{key:"destroy",value:function(){t._keySession=null}},{key:"_onWebkitKeyMessage",value:function(e,n){t._logger.debug("Webkit key message triggered");var i=n.message,r=new XMLHttpRequest;r.responseType="text",r.addEventListener("load",t._licenseRequestLoaded,!1),r.addEventListener("error",function(){return t._onError(f.default.Code.LICENSE_REQUEST_FAILED)},!1);var a=t._base64EncodeUint8Array(i);r.open("POST",e.licenseUrl,!0),r.setRequestHeader("Content-type","application/json"),t._logger.debug("Ready for license request"),r.send(a)}},{key:"_onWebkitKeyAdded",value:function(){t._logger.debug("Decryption key was added to session")}},{key:"_onWebkitKeyError",value:function(){t._logger.error("A decryption key error was encountered")}},{key:"_licenseRequestLoaded",value:function(e){t._logger.debug("License request loaded");var n=e.target,i=n.responseText.trim(),r={};try{r=JSON.parse(i)}catch(e){t._onError(f.default.Code.BAD_FAIRPLAY_RESPONSE,e)}var a=t._validateResponse(r);if(a.valid){var o=t._base64DecodeUint8Array(r.ckc);t._keySession.update(o)}else t._onError(f.default.Code.BAD_FAIRPLAY_RESPONSE,a)}},{key:"_onError",value:function(e,n){t._errorCallback(new f.default(f.default.Severity.CRITICAL,f.default.Category.DRM,e,n))}},{key:"_validateResponse",value:function(e){return e.message&&e.message.indexOf("error")>0||null===e.reference||500===e.status_code?{valid:!1,details:"internal server error"}:""===e.ckc?{valid:!1,details:"ckc is missing"}:{valid:!0}}},{key:"_extractContentId",value:function(e){var n=document.createElement("a");return n.href=t._arrayToString(e),n.hostname}},{key:"_selectKeySystem",value:function(){var e=null;return window.WebKitMediaKeys.isTypeSupported(t._KeySystem,"video/mp4")?e=t._KeySystem:t._logger.warn("Key System not supported"),e}},{key:"_arrayToString",value:function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))}},{key:"_base64DecodeUint8Array",value:function(e){for(var t=window.atob(e),n=t.length,i=new Uint8Array(new ArrayBuffer(n)),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i}},{key:"_concatInitDataIdAndCertificate",value:function(e,n,i){"string"==typeof n&&(n=t._stringToArray(n));var r=0,a=new ArrayBuffer(e.byteLength+4+n.byteLength+4+i.byteLength),o=new DataView(a);new Uint8Array(a,r,e.byteLength).set(e),r+=e.byteLength,o.setUint32(r,n.byteLength,!0),r+=4;var s=new Uint8Array(a,r,n.byteLength);return s.set(n),r+=s.byteLength,o.setUint32(r,i.byteLength,!0),r+=4,new Uint8Array(a,r,i.byteLength).set(i),new Uint8Array(a,0,a.byteLength)}},{key:"_stringToArray",value:function(e){for(var t=new ArrayBuffer(2*e.length),n=new Uint16Array(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return n}},{key:"_base64EncodeUint8Array",value:function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="",i=void 0,r=void 0,a=void 0,o=void 0,s=void 0,u=void 0,l=void 0,c=0;c<e.length;)i=e[c++],r=c<e.length?e[c++]:Number.NaN,a=c<e.length?e[c++]:Number.NaN,o=i>>2,s=(3&i)<<4|r>>4,u=(15&r)<<2|a>>6,l=63&a,isNaN(r)?u=l=64:isNaN(a)&&(l=64),n+=t.charAt(o)+t.charAt(s)+t.charAt(u)+t.charAt(l);return n}}]),t}(l.default);d._logger=l.default.getLogger("FairPlay"),d._KeySystem="com.apple.fps.1_0",d._WebkitEvents={NEED_KEY:"webkitneedkey",KEY_MESSAGE:"webkitkeymessage",KEY_ADDED:"webkitkeyadded",KEY_ERROR:"webkitkeyerror"},t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(11),s=i(o),u=n(0),l=i(u),c=n(21),f="not_supported_drm_playback",d=function(){function e(){r(this,e)}return a(e,null,[{key:"isProtocolSupported",value:function(t,n){var i=s.default.browser.name;if("function"==typeof e._Browsers[i]){var r=e._Browsers[i]();return e._logger.debug("Supported DRM scheme for current environment is: "+r),r===t&&!!n.find(function(e){return e.scheme===t})}return!1}}]),e}();d._logger=(0,l.default)("DrmSupport"),d._Browsers={Safari:function(){var e=s.default.device.type,t=s.default.os.name;return e||"Mac OS"!==t?f:c.DrmScheme.FAIRPLAY},Chrome:function(){var e=s.default.device.type,t=s.default.os.name;return e&&"Android"!==t?f:c.DrmScheme.WIDEVINE},Firefox:function(){return s.default.device.type?f:c.DrmScheme.WIDEVINE},Edge:function(){return s.default.device.type?f:c.DrmScheme.PLAYREADY},IE:function(){var e=s.default.device.type,t=s.default.os.name,n=s.default.os.version;return!e&&"Windows"===t&&Number.parseFloat(n)>=8.1?c.DrmScheme.PLAYREADY:f}},t.default=d},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(3),s=i(o),u=n(46),l=i(u),c=n(4),f=s.Dom.createElement("video");f.src=l.Base64Mp4Source,f.setAttribute("playsinline","");var d=function(){function e(){r(this,e)}return a(e,null,[{key:"runCapability",value:function(){e._playPromiseResult=new Promise(function(t){e._getPlayPromise().then(function(){return t({autoplay:!0,mutedAutoPlay:!0})}).catch(function(){f.muted=!0,f.setAttribute("muted",""),e._getPlayPromise().then(function(){return t({autoplay:!1,mutedAutoPlay:!0})}).catch(function(){return t({autoplay:!1,mutedAutoPlay:!1})})})})}},{key:"getCapability",value:function(){return e._playPromiseResult}},{key:"_getPlayPromise",value:function(){return f.play()||e._forcePromiseReturnValue()}},{key:"_forcePromiseReturnValue",value:function(){return new Promise(function(e,t){var n=setTimeout(function(){t()},500);f.addEventListener(c.Html5EventType.PLAYING,function(){clearTimeout(n),e()}),f.addEventListener(c.Html5EventType.ERROR,function(){clearTimeout(n),t()})})}}]),e}();t.default=d},function(e,t){e.exports={Base64Mp4Source:"data:video/mp4;base64,AAAAHGZ0eXBpc29tAAACAGlzb21pc28ybXA0MQAAAAhmcmVlAAAC721kYXQhEAUgpBv/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3pwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcCEQBSCkG//AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADengAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAAsJtb292AAAAbG12aGQAAAAAAAAAAAAAAAAAAAPoAAAALwABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAB7HRyYWsAAABcdGtoZAAAAAMAAAAAAAAAAAAAAAIAAAAAAAAALwAAAAAAAAAAAAAAAQEAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAACRlZHRzAAAAHGVsc3QAAAAAAAAAAQAAAC8AAAAAAAEAAAAAAWRtZGlhAAAAIG1kaGQAAAAAAAAAAAAAAAAAAKxEAAAIAFXEAAAAAAAtaGRscgAAAAAAAAAAc291bgAAAAAAAAAAAAAAAFNvdW5kSGFuZGxlcgAAAAEPbWluZgAAABBzbWhkAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAADTc3RibAAAAGdzdHNkAAAAAAAAAAEAAABXbXA0YQAAAAAAAAABAAAAAAAAAAAAAgAQAAAAAKxEAAAAAAAzZXNkcwAAAAADgICAIgACAASAgIAUQBUAAAAAAfQAAAHz+QWAgIACEhAGgICAAQIAAAAYc3R0cwAAAAAAAAABAAAAAgAABAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAIAAAABAAAAHHN0c3oAAAAAAAAAAAAAAAIAAAFzAAABdAAAABRzdGNvAAAAAAAAAAEAAAAsAAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ni40MC4xMDE="}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),s=function(){function e(){i(this,e)}return r(e,null,[{key:"runCapability",value:function(){try{e._vid.volume=.5,e._result=!!e._vid.canPlayType}catch(t){e._result=!1}}},{key:"getCapability",value:function(){return Promise.resolve({isSupported:e._result})}}]),e}();s._vid=o.Dom.createElement("video"),t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(10),u=(i(s),n(6)),l=i(u),c=n(49),f=i(c),d=n(15),p=n(4),h=n(2),y=i(h),g=n(0),v=i(g),m=function(){function e(t){var n,i,o,s,u,c,h=this;a(this,e),this._transitions=(c={},r(c,d.StateType.IDLE,(n={},r(n,p.Html5EventType.LOAD_START,function(){h._updateState(d.StateType.LOADING),h._dispatchEvent()}),r(n,p.Html5EventType.PLAY,function(){h._updateState(d.StateType.BUFFERING),h._dispatchEvent()}),n)),r(c,d.StateType.LOADING,(i={},r(i,p.Html5EventType.LOADED_METADATA,function(){h._updateState(d.StateType.PAUSED),h._dispatchEvent()}),r(i,p.Html5EventType.ERROR,function(){h._updateState(d.StateType.IDLE),h._dispatchEvent()}),i)),r(c,d.StateType.PAUSED,(o={},r(o,p.Html5EventType.PLAY,function(){h._updateState(d.StateType.PLAYING),h._dispatchEvent()}),r(o,p.Html5EventType.PLAYING,function(){h._updateState(d.StateType.PLAYING),h._dispatchEvent()}),r(o,p.Html5EventType.ENDED,function(){h._updateState(d.StateType.IDLE),h._dispatchEvent()}),o)),r(c,d.StateType.PLAYING,(s={},r(s,p.Html5EventType.PAUSE,function(){h._updateState(d.StateType.PAUSED),h._dispatchEvent()}),r(s,p.Html5EventType.WAITING,function(){h._updateState(d.StateType.BUFFERING),h._dispatchEvent()}),r(s,p.Html5EventType.ENDED,function(){h._updateState(d.StateType.IDLE),h._dispatchEvent()}),r(s,p.Html5EventType.ERROR,function(){h._updateState(d.StateType.IDLE),h._dispatchEvent()}),s)),r(c,d.StateType.BUFFERING,(u={},r(u,p.Html5EventType.PLAYING,function(){h._updateState(d.StateType.PLAYING),h._dispatchEvent()}),r(u,p.Html5EventType.PAUSE,function(){h._updateState(d.StateType.PAUSED),h._dispatchEvent()}),r(u,p.Html5EventType.SEEKED,function(){h._prevState&&h._prevState.type===d.StateType.PLAYING&&(h._updateState(d.StateType.PLAYING),h._dispatchEvent())}),u)),c),this._player=t,this._logger=(0,v.default)("StateManager"),this._eventManager=new l.default,this._history=[],this._prevState=null,this._curState=new f.default(d.StateType.IDLE),this._attachListeners()}return o(e,[{key:"_attachListeners",value:function(){this._eventManager.listen(this._player,p.Html5EventType.ERROR,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.ENDED,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.PLAY,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.LOAD_START,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.PLAYING,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.LOADED_METADATA,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.PAUSE,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.WAITING,this._doTransition.bind(this)),this._eventManager.listen(this._player,p.Html5EventType.SEEKED,this._doTransition.bind(this))}},{key:"_doTransition",value:function(e){this._logger.debug("Do transition request",e.type);var t=this._transitions[this._curState.type];"function"==typeof t[e.type]&&t[e.type]()}},{key:"_updateState",value:function(e){this._curState.type!==e&&(this._curState.duration=Date.now()/1e3,this._history.push(this._curState),this._prevState=this._curState,this._curState=new f.default(e),this._logger.debug("Switch player state: from "+this._prevState.type+" to "+this._curState.type))}},{key:"_dispatchEvent",value:function(){var e=new y.default(p.CustomEventType.PLAYER_STATE_CHANGED,{oldState:this._prevState,newState:this._curState});this._player.dispatchEvent(e)}},{key:"destroy",value:function(){this._history=[],this._eventManager.destroy()}},{key:"reset",value:function(){this._history=[]}},{key:"currentState",get:function(){return this._curState}},{key:"previousState",get:function(){return this._prevState}},{key:"history",get:function(){return this._history}}]),e}();t.default=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t){i(this,e),this.type=t,this._duration=0,this._timestamp=Date.now()/1e3}return r(e,[{key:"duration",get:function(){return this._duration},set:function(e){this._duration=e-this._timestamp}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.LabelToTrackMap=void 0;var r,a=n(16),o=n(51),s=(r={},i(r,o.LabelOptions.AUDIO,a.TrackType.AUDIO),i(r,o.LabelOptions.CAPTIONS,a.TrackType.TEXT),i(r,o.LabelOptions.QUALITIES,a.TrackType.VIDEO),r);t.LabelToTrackMap=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={AUDIO:"audio",CAPTIONS:"captions",QUALITIES:"qualities"};t.LabelOptions=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(53),s=i(o),u=n(17),l=(i(u),function(){function e(){r(this,e),this._middleware=new s.default(e.Actions)}return a(e,[{key:"use",value:function(e){this._middleware.use(e)}},{key:"play",value:function(t){this._middleware.run(e.Actions.PLAY,t)}},{key:"pause",value:function(t){this._middleware.run(e.Actions.PAUSE,t)}}]),e}());l.Actions={PLAY:"play",PAUSE:"pause"},t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(13),s=i(o),u=n(17),l=(i(u),n(0)),c=i(l),f=function(){function e(t){r(this,e),this._actions=t,this._middlewares=new s.default,this._logger=(0,c.default)("Middleware")}return a(e,[{key:"use",value:function(e){for(var t in this._actions){var n=this._actions[t];"function"==typeof e[n]&&(this._logger.debug("Register <"+e.id+"> for action "+n),this._middlewares.push(n,e[n].bind(e)))}}},{key:"run",value:function(e,t){var n=this;this._logger.debug("Start middleware chain for action "+e);var i=this._middlewares.get(e);this._executeMiddleware(i,function(){n._logger.debug("Finish middleware chain for action "+e),t()})}},{key:"_executeMiddleware",value:function(e,t){e.reduceRight(function(e,t){return function(n){t(e)}},t)()}}]),e}();t.default=f},function(e,t){e.exports={logLevel:"ERROR",type:"Unknown",sources:{hls:[],dash:[],progressive:[],options:{forceRedirectExternalStreams:!1}},plugins:{},metadata:{},playback:{audioLanguage:"",textLanguage:"",useNativeTextTrack:!1,volume:1,startTime:0,playsinline:!0,preload:"none",autoplay:!1,allowMutedAutoPlay:!0,muted:!1,options:{html5:{hls:{},dash:{}}},preferNative:{hls:!1,dash:!1},streamPriority:[{engine:"html5",format:"hls"},{engine:"html5",format:"dash"},{engine:"html5",format:"progressive"}]}}},function(e,t,n){var i=n(56);"string"==typeof i&&(i=[[e.i,i,""]]);var r={};r.transform=void 0,n(58)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(57)(void 0),t.push([e.i,".playkit-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  color: #fff;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n.playkit-engine {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  object-fit: contain;\n}\n\n.playkit-engine video::-webkit-media-controls-panel,\n.playkit-engine video::-webkit-media-controls-panel-container,\n.playkit-engine video::-webkit-media-controls-start-playback-button,\n.playkit-engine video::-webkit-media-controls-play-button {\n  display: none;\n  -webkit-appearance: none\n}\n\n.playkit-poster {\n  position: absolute;\n  display: block;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background-size: contain;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: #000;\n}\n\n.playkit-subtitles {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n}\n\n",""])},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=i(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(c(i.parts[a],t))}else{for(var o=[],a=0;a<i.parts.length;a++)o.push(c(i.parts[a],t));h[i.id]={id:i.id,refs:1,parts:o}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s=a[1],u=a[2],l=a[3],c={css:s,media:u,sourceMap:l};i[o]?i[o].parts.push(c):n.push(i[o]={id:o,parts:[c]})}return n}function a(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var l=m++;n=v||(v=s(t)),i=f.bind(null,n,l,!1),r=f.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=p.bind(null,n,t),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=d.bind(null,n),r=function(){o(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function f(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var i=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(i=_(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,m=0,b=[],_=n(59);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],u=h[s.id];u.refs--,a.push(u)}e&&i(r(e,t),t);for(var o=0;o<a.length;o++){var u=a[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var a;return a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}}])})},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(7),r=n(33);e.exports=n(6)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(2),r=n(13),a=n(12),o=n(34)("src"),s=Function.toString,u=(""+s).split("toString");n(22).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(a(n,"name")||r(n,"name",t)),e[t]!==n&&(l&&(a(n,o)||r(n,o,e[t]?""+e[t]:u.join(String(t)))),e===i?e[t]=n:s?e[t]?e[t]=n:r(e,t,n):(delete e[t],r(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,n){var i=n(0),r=n(3),a=n(24),o=/"/g,s=function(e,t,n,i){var r=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+r+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),i(i.P+i.F*r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){var i=n(48),r=n(24);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(49),r=n(33),a=n(16),o=n(23),s=n(12),u=n(94),l=Object.getOwnPropertyDescriptor;t.f=n(6)?l:function(e,t){if(e=a(e),t=o(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return r(!i.f.call(e,t),e[t])}},function(e,t,n){var i=n(12),r=n(9),a=n(69)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var i=n(11);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var i=n(3);e.exports=function(e,t){return!!e&&i(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(4);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(0),r=n(22),a=n(3);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],o={};o[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",o)}},function(e,t,n){var i=n(19),r=n(48),a=n(9),o=n(8),s=n(86);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var y,g,v=a(t),m=r(v),b=i(s,h,3),_=o(m.length),E=0,A=n?p(t,_):u?p(t,0):void 0;_>E;E++)if((d||E in m)&&(y=m[E],g=b(y,E,v),e))if(n)A[E]=g;else if(g)switch(e){case 3:return!0;case 5:return y;case 6:return E;case 2:A.push(y)}else if(c)return!1;return f?-1:l||c?c:A}}},function(e,t,n){"use strict";if(n(6)){var i=n(35),r=n(2),a=n(3),o=n(0),s=n(62),u=n(92),l=n(19),c=n(41),f=n(33),d=n(13),p=n(43),h=n(25),y=n(8),g=n(120),v=n(37),m=n(23),b=n(12),_=n(50),E=n(4),A=n(9),k=n(83),T=n(38),w=n(18),S=n(39).f,P=n(85),O=n(34),C=n(5),L=n(27),R=n(53),I=n(60),x=n(88),D=n(46),M=n(57),N=n(40),U=n(87),B=n(110),j=n(7),F=n(17),G=j.f,V=F.f,H=r.RangeError,K=r.TypeError,W=r.Uint8Array,Y=Array.prototype,z=u.ArrayBuffer,q=u.DataView,X=L(0),J=L(2),Q=L(3),$=L(4),Z=L(5),ee=L(6),te=R(!0),ne=R(!1),ie=x.values,re=x.keys,ae=x.entries,oe=Y.lastIndexOf,se=Y.reduce,ue=Y.reduceRight,le=Y.join,ce=Y.sort,fe=Y.slice,de=Y.toString,pe=Y.toLocaleString,he=C("iterator"),ye=C("toStringTag"),ge=O("typed_constructor"),ve=O("def_constructor"),me=s.CONSTR,be=s.TYPED,_e=s.VIEW,Ee=L(1,function(e,t){return Se(I(e,e[ve]),t)}),Ae=a(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),ke=!!W&&!!W.prototype.set&&a(function(){new W(1).set({})}),Te=function(e,t){var n=h(e);if(n<0||n%t)throw H("Wrong offset!");return n},we=function(e){if(E(e)&&be in e)return e;throw K(e+" is not a typed array!")},Se=function(e,t){if(!(E(e)&&ge in e))throw K("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return Oe(I(e,e[ve]),t)},Oe=function(e,t){for(var n=0,i=t.length,r=Se(e,i);i>n;)r[n]=t[n++];return r},Ce=function(e,t,n){G(e,t,{get:function(){return this._d[n]}})},Le=function(e){var t,n,i,r,a,o,s=A(e),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,d=P(s);if(void 0!=d&&!k(d)){for(o=d.call(s),i=[],t=0;!(a=o.next()).done;t++)i.push(a.value);s=i}for(f&&u>2&&(c=l(c,arguments[2],2)),t=0,n=y(s.length),r=Se(this,n);n>t;t++)r[t]=f?c(s[t],t):s[t];return r},Re=function(){for(var e=0,t=arguments.length,n=Se(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!W&&a(function(){pe.call(new W(1))}),xe=function(){return pe.apply(Ie?fe.call(we(this)):we(this),arguments)},De={copyWithin:function(e,t){return B.call(we(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(we(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return U.apply(we(this),arguments)},filter:function(e){return Pe(this,J(we(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(we(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(we(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){X(we(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(we(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(we(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(we(this),arguments)},lastIndexOf:function(e){return oe.apply(we(this),arguments)},map:function(e){return Ee(we(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(we(this),arguments)},reduceRight:function(e){return ue.apply(we(this),arguments)},reverse:function(){for(var e,t=this,n=we(t).length,i=Math.floor(n/2),r=0;r<i;)e=t[r],t[r++]=t[--n],t[n]=e;return t},some:function(e){return Q(we(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(we(this),e)},subarray:function(e,t){var n=we(this),i=n.length,r=v(e,i);return new(I(n,n[ve]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,y((void 0===t?i:v(t,i))-r))}},Me=function(e,t){return Pe(this,fe.call(we(this),e,t))},Ne=function(e){we(this);var t=Te(arguments[1],1),n=this.length,i=A(e),r=y(i.length),a=0;if(r+t>n)throw H("Wrong length!");for(;a<r;)this[t+a]=i[a++]},Ue={entries:function(){return ae.call(we(this))},keys:function(){return re.call(we(this))},values:function(){return ie.call(we(this))}},Be=function(e,t){return E(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},je=function(e,t){return Be(e,t=m(t,!0))?f(2,e[t]):V(e,t)},Fe=function(e,t,n){return!(Be(e,t=m(t,!0))&&E(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?G(e,t,n):(e[t]=n.value,e)};me||(F.f=je,j.f=Fe),o(o.S+o.F*!me,"Object",{getOwnPropertyDescriptor:je,defineProperty:Fe}),a(function(){de.call({})})&&(de=pe=function(){return le.call(this)});var Ge=p({},De);p(Ge,Ue),d(Ge,he,Ue.values),p(Ge,{slice:Me,set:Ne,constructor:function(){},toString:de,toLocaleString:xe}),Ce(Ge,"buffer","b"),Ce(Ge,"byteOffset","o"),Ce(Ge,"byteLength","l"),Ce(Ge,"length","e"),G(Ge,ye,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){u=!!u;var l=e+(u?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=r[l],v=h||{},m=h&&w(h),b=!h||!s.ABV,A={},k=h&&h.prototype,P=function(e,n){var i=e._d;return i.v[f](n*t+i.o,Ae)},O=function(e,n,i){var r=e._d;u&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[p](n*t+r.o,i,Ae)},C=function(e,t){G(e,t,{get:function(){return P(this,t)},set:function(e){return O(this,t,e)},enumerable:!0})};b?(h=n(function(e,n,i,r){c(e,h,l,"_d");var a,o,s,u,f=0,p=0;if(E(n)){if(!(n instanceof z||"ArrayBuffer"==(u=_(n))||"SharedArrayBuffer"==u))return be in n?Oe(h,n):Le.call(h,n);a=n,p=Te(i,t);var v=n.byteLength;if(void 0===r){if(v%t)throw H("Wrong length!");if((o=v-p)<0)throw H("Wrong length!")}else if((o=y(r)*t)+p>v)throw H("Wrong length!");s=o/t}else s=g(n),o=s*t,a=new z(o);for(d(e,"_d",{b:a,o:p,l:o,e:s,v:new q(a)});f<s;)C(e,f++)}),k=h.prototype=T(Ge),d(k,"constructor",h)):a(function(){h(1)})&&a(function(){new h(-1)})&&M(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,i,r){c(e,h,l);var a;return E(n)?n instanceof z||"ArrayBuffer"==(a=_(n))||"SharedArrayBuffer"==a?void 0!==r?new v(n,Te(i,t),r):void 0!==i?new v(n,Te(i,t)):new v(n):be in n?Oe(h,n):Le.call(h,n):new v(g(n))}),X(m!==Function.prototype?S(v).concat(S(m)):S(v),function(e){e in h||d(h,e,v[e])}),h.prototype=k,i||(k.constructor=h));var L=k[he],R=!!L&&("values"==L.name||void 0==L.name),I=Ue.values;d(h,ge,!0),d(k,be,l),d(k,_e,!0),d(k,ve,h),(u?new h(1)[ye]==l:ye in k)||G(k,ye,{get:function(){return l}}),A[l]=h,o(o.G+o.W+o.F*(h!=v),A),o(o.S,l,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a(function(){v.of.call(h,1)}),l,{from:Le,of:Re}),"BYTES_PER_ELEMENT"in k||d(k,"BYTES_PER_ELEMENT",t),o(o.P,l,De),N(l),o(o.P+o.F*ke,l,{set:Ne}),o(o.P+o.F*!R,l,Ue),i||k.toString==de||(k.toString=de),o(o.P+o.F*a(function(){new h(1).slice()}),l,{slice:Me}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!a(function(){k.toLocaleString.call([1,2])})),l,{toLocaleString:xe}),D[l]=R?L:I,i||R||d(k,he,I)}}else e.exports=function(){}},function(e,t,n){var i=n(115),r=n(0),a=n(52)("metadata"),o=a.store||(a.store=new(n(118))),s=function(e,t,n){var r=o.get(e);if(!r){if(!n)return;o.set(e,r=new i)}var a=r.get(t);if(!a){if(!n)return;r.set(t,a=new i)}return a},u=function(e,t,n){var i=s(t,n,!1);return void 0!==i&&i.has(e)},l=function(e,t,n){var i=s(t,n,!1);return void 0===i?void 0:i.get(e)},c=function(e,t,n,i){s(n,i,!0).set(e,t)},f=function(e,t){var n=s(e,t,!1),i=[];return n&&n.forEach(function(e,t){i.push(t)}),i},d=function(e){return void 0===e||"symbol"==typeof e?e:String(e)},p=function(e){r(r.S,"Reflect",e)};e.exports={store:o,map:s,has:u,get:l,set:c,keys:f,key:d,exp:p}},function(e,t,n){var i=n(34)("meta"),r=n(4),a=n(12),o=n(7).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(3)(function(){return u(Object.preventExtensions({}))}),c=function(e){o(e,i,{value:{i:"O"+ ++s,w:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[i].i},d=function(e,t){if(!a(e,i)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[i].w},p=function(e){return l&&h.NEED&&u(e)&&!a(e,i)&&c(e),e},h=e.exports={KEY:i,NEED:!1,fastKey:f,getWeak:d,onFreeze:p}},function(e,t,n){var i=n(5)("unscopables"),r=Array.prototype;void 0==r[i]&&n(13)(r,i,{}),e.exports=function(e){r[i][e]=!0}},function(e,t,n){"use strict";function i(e){return e?s.get(e):s}function r(e){return i(e).getLevel()}function a(e,t){i(t).setLevel(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var o=n(133),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u={DEBUG:s.DEBUG,INFO:s.INFO,TIME:s.TIME,WARN:s.WARN,ERROR:s.ERROR,OFF:s.OFF};s.useDefaults({defaultLevel:s.ERROR}),t.default=i,t.LogLevel=u,t.getLogLevel=r,t.setLogLevel=a},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var i=n(96),r=n(70);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(25),r=Math.max,a=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):a(e,t)}},function(e,t,n){var i=n(1),r=n(97),a=n(70),o=n(69)("IE_PROTO"),s=function(){},u=function(){var e,t=n(67)("iframe"),i=a.length;for(t.style.display="none",n(71).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;i--;)delete u.prototype[a[i]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=i(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(96),r=n(70).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},function(e,t,n){"use strict";var i=n(2),r=n(7),a=n(6),o=n(5)("species");e.exports=function(e){var t=i[e];a&&t&&!t[o]&&r.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var i=n(19),r=n(108),a=n(83),o=n(1),s=n(8),u=n(85),l={},c={},t=e.exports=function(e,t,n,f,d){var p,h,y,g,v=d?function(){return e}:u(e),m=i(n,f,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(p=s(e.length);p>b;b++)if((g=t?m(o(h=e[b])[0],h[1]):m(e[b]))===l||g===c)return g}else for(y=v.call(e);!(h=y.next()).done;)if((g=r(y,m,h.value,t))===l||g===c)return g};t.BREAK=l,t.RETURN=c},function(e,t,n){var i=n(14);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},function(e,t,n){var i=n(7).f,r=n(12),a=n(5)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},function(e,t,n){var i=n(0),r=n(24),a=n(3),o=n(73),s="["+o+"]",u="​",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(e,t,n){var r={},s=a(function(){return!!o[e]()||u[e]()!=u}),l=r[e]=s?t(d):o[e];n&&(r[n]=l),i(i.P+i.F*s,"String",r)},d=f.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=f},function(e,t){e.exports={}},function(e,t,n){var i=n(4);e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var i=n(20);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var i=n(20),r=n(5)("toStringTag"),a="Arguments"==i(function(){return arguments}()),o=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=o(t=Object(e),r))?n:a?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var i=n(2),r=i["__core-js_shared__"]||(i["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t,n){var i=n(16),r=n(8),a=n(37);e.exports=function(e){return function(t,n,o){var s,u=i(t),l=r(u.length),c=a(o,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(20);e.exports=Array.isArray||function(e){return"Array"==i(e)}},function(e,t,n){var i=n(4),r=n(20),a=n(5)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,n){var i=n(5)("iterator"),r=!1;try{var a=[7][i]();a.return=function(){r=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var a=[7],o=a[i]();o.next=function(){return{done:n=!0}},a[i]=function(){return o},e(a)}catch(e){}return n}},function(e,t,n){"use strict";var i=n(1);e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var i=n(13),r=n(14),a=n(3),o=n(24),s=n(5);e.exports=function(e,t,n){var u=s(e),l=n(o,u,""[e]),c=l[0],f=l[1];a(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(r(String.prototype,e,c),i(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){var i=n(1),r=n(11),a=n(5)("species");e.exports=function(e,t){var n,o=i(e).constructor;return void 0===o||void 0==(n=i(o)[a])?t:r(n)}},function(e,t,n){"use strict";var i=n(2),r=n(0),a=n(14),o=n(43),s=n(30),u=n(42),l=n(41),c=n(4),f=n(3),d=n(57),p=n(44),h=n(74);e.exports=function(e,t,n,y,g,v){var m=i[e],b=m,_=g?"set":"add",E=b&&b.prototype,A={},k=function(e){var t=E[e];a(E,e,"delete"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||E.forEach&&!f(function(){(new b).entries().next()}))){var T=new b,w=T[_](v?{}:-0,1)!=T,S=f(function(){T.has(1)}),P=d(function(e){new b(e)}),O=!v&&f(function(){for(var e=new b,t=5;t--;)e[_](t,t);return!e.has(-0)});P||(b=t(function(t,n){l(t,b,e);var i=h(new m,t,b);return void 0!=n&&u(n,g,i[_],i),i}),b.prototype=E,E.constructor=b),(S||O)&&(k("delete"),k("has"),g&&k("get")),(O||w)&&k(_),v&&E.clear&&delete E.clear}else b=y.getConstructor(t,e,g,_),o(b.prototype,n),s.NEED=!0;return p(b,e),A[e]=b,r(r.G+r.W+r.F*(b!=m),A),v||y.setStrong(b,e,g),b}},function(e,t,n){for(var i,r=n(2),a=n(13),o=n(34),s=o("typed_array"),u=o("view"),l=!(!r.ArrayBuffer||!r.DataView),c=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(i=r[d[f++]])?(a(i.prototype,s,!0),a(i.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){"use strict";e.exports=n(35)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var i=n(0);e.exports=function(e){i(i.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var i=n(0),r=n(11),a=n(19),o=n(42);e.exports=function(e){i(i.S,e,{from:function(e){var t,n,i,s,u=arguments[1];return r(this),t=void 0!==u,t&&r(u),void 0==e?new this:(n=[],t?(i=0,s=a(u,arguments[2],2),o(e,!1,function(e){n.push(s(e,i++))})):o(e,!1,n.push,n),new this(n))}})}},function(e,t,n){!function(t,i){e.exports=i(n(10))}(0,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=70)}([function(e,t,n){!function(){"use strict";function t(){}function n(e,n){var i,r,a,o,s=x;for(o=arguments.length;o-- >2;)I.push(arguments[o]);for(n&&null!=n.children&&(I.length||I.push(n.children),delete n.children);I.length;)if((r=I.pop())&&void 0!==r.pop)for(o=r.length;o--;)I.push(r[o]);else!0!==r&&!1!==r||(r=null),(a="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(a=!1)),a&&i?s[s.length-1]+=r:s===x?s=[r]:s.push(r),i=a;var u=new t;return u.nodeName=e,u.children=s,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==R.vnode&&R.vnode(u),u}function i(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t){return n(e.nodeName,i(i({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function a(e){!e.__d&&(e.__d=!0)&&1==M.push(e)&&(R.debounceRendering||setTimeout)(o)}function o(){var e,t=M;for(M=[];e=t.pop();)e.__d&&S(e)}function s(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&u(e,t.nodeName):n||e._componentConstructor===t.nodeName}function u(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function l(e){var t=i({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function c(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.__n=e,n}function f(e){e.parentNode&&e.parentNode.removeChild(e)}function d(e,t,n,i,r){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),i&&i(e);else if("class"!==t||r)if("style"===t){if(i&&"string"!=typeof i&&"string"!=typeof n||(e.style.cssText=i||""),i&&"object"==typeof i){if("string"!=typeof n)for(var a in n)a in i||(e.style[a]="");for(var a in i)e.style[a]="number"==typeof i[a]&&!1===D.test(a)?i[a]+"px":i[a]}}else if("dangerouslySetInnerHTML"===t)i&&(e.innerHTML=i.__html||"");else if("o"==t[0]&&"n"==t[1]){var o=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),i?n||e.addEventListener(t,h,o):e.removeEventListener(t,h,o),(e.__l||(e.__l={}))[t]=i}else if("list"!==t&&"type"!==t&&!r&&t in e)p(e,t,null==i?"":i),null!=i&&!1!==i||e.removeAttribute(t);else{var s=r&&t!==(t=t.replace(/^xlink\:?/,""));null==i||!1===i?s?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof i&&(s?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),i):e.setAttribute(t,i))}else e.className=i||""}function p(e,t,n){try{e[t]=n}catch(e){}}function h(e){return this.__l[e.type](R.event&&R.event(e)||e)}function y(){for(var e;e=N.pop();)R.afterMount&&R.afterMount(e),e.componentDidMount&&e.componentDidMount()}function g(e,t,n,i,r,a){U++||(B=null!=r&&void 0!==r.ownerSVGElement,j=null!=e&&!("__preactattr_"in e));var o=v(e,t,n,i,a);return r&&o.parentNode!==r&&r.appendChild(o),--U||(j=!1,a||y()),o}function v(e,t,n,i,r){var a=e,o=B;if(null==t&&(t=""),"string"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(a=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(a,e),b(e,!0))),a.__preactattr_=!0,a;if("function"==typeof t.nodeName)return P(e,t,n,i);if(B="svg"===t.nodeName||"foreignObject"!==t.nodeName&&B,(!e||!u(e,String(t.nodeName)))&&(a=c(String(t.nodeName),B),e)){for(;e.firstChild;)a.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(a,e),b(e,!0)}var s=a.firstChild,l=a.__preactattr_||(a.__preactattr_={}),f=t.children;return!j&&f&&1===f.length&&"string"==typeof f[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=f[0]&&(s.nodeValue=f[0]):(f&&f.length||null!=s)&&m(a,f,n,i,j||null!=l.dangerouslySetInnerHTML),E(a,t.attributes,l),B=o,a}function m(e,t,n,i,r){var a,o,u,l,c=e.childNodes,d=[],p={},h=0,y=0,g=c.length,m=0,_=t?t.length:0;if(0!==g)for(var E=0;E<g;E++){var A=c[E],k=A.__preactattr_,T=_&&k?A._component?A._component.__k:k.key:null;null!=T?(h++,p[T]=A):(k||(void 0!==A.splitText?!r||A.nodeValue.trim():r))&&(d[m++]=A)}if(0!==_)for(var E=0;E<_;E++){u=t[E],l=null;var T=u.key;if(null!=T)h&&void 0!==p[T]&&(l=p[T],p[T]=void 0,h--);else if(!l&&y<m)for(a=y;a<m;a++)if(void 0!==d[a]&&s(o=d[a],u,r)){l=o,d[a]=void 0,a===m-1&&m--,a===y&&y++;break}(l=v(l,u,n,i))&&l!==e&&(E>=g?e.appendChild(l):l!==c[E]&&(l===c[E+1]?f(c[E]):e.insertBefore(l,c[E]||null)))}if(h)for(var E in p)void 0!==p[E]&&b(p[E],!1);for(;y<=m;)void 0!==(l=d[m--])&&b(l,!1)}function b(e,t){var n=e._component;n?O(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||f(e),_(e))}function _(e){for(e=e.lastChild;e;){var t=e.previousSibling;b(e,!0),e=t}}function E(e,t,n){var i;for(i in n)t&&null!=t[i]||null==n[i]||d(e,i,n[i],n[i]=void 0,B);for(i in t)"children"===i||"innerHTML"===i||i in n&&t[i]===("value"===i||"checked"===i?e[i]:n[i])||d(e,i,n[i],n[i]=t[i],B)}function A(e){var t=e.constructor.name;(F[t]||(F[t]=[])).push(e)}function k(e,t,n){var i,r=F[e.name];if(e.prototype&&e.prototype.render?(i=new e(t,n),C.call(i,t,n)):(i=new C(t,n),i.constructor=e,i.render=T),r)for(var a=r.length;a--;)if(r[a].constructor===e){i.__b=r[a].__b,r.splice(a,1);break}return i}function T(e,t,n){return this.constructor(e,n)}function w(e,t,n,i,r){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||r?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i),i&&i!==e.context&&(e.__c||(e.__c=e.context),e.context=i),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===R.syncComponentUpdates&&e.base?a(e):S(e,1,r)),e.__r&&e.__r(e))}function S(e,t,n,r){if(!e.__x){var a,o,s,u=e.props,c=e.state,f=e.context,d=e.__p||u,p=e.__s||c,h=e.__c||f,v=e.base,m=e.__b,_=v||m,E=e._component,A=!1;if(v&&(e.props=d,e.state=p,e.context=h,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(u,c,f)?A=!0:e.componentWillUpdate&&e.componentWillUpdate(u,c,f),e.props=u,e.state=c,e.context=f),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!A){a=e.render(u,c,f),e.getChildContext&&(f=i(i({},f),e.getChildContext()));var T,P,C=a&&a.nodeName;if("function"==typeof C){var L=l(a);o=E,o&&o.constructor===C&&L.key==o.__k?w(o,L,1,f,!1):(T=o,e._component=o=k(C,L,f),o.__b=o.__b||m,o.__u=e,w(o,L,0,f,!1),S(o,1,n,!0)),P=o.base}else s=_,T=E,T&&(s=e._component=null),(_||1===t)&&(s&&(s._component=null),P=g(s,a,f,n||!v,_&&_.parentNode,!0));if(_&&P!==_&&o!==E){var I=_.parentNode;I&&P!==I&&(I.replaceChild(P,_),T||(_._component=null,b(_,!1)))}if(T&&O(T),e.base=P,P&&!r){for(var x=e,D=e;D=D.__u;)(x=D).base=P;P._component=x,P._componentConstructor=x.constructor}}if(!v||n?N.unshift(e):A||(y(),e.componentDidUpdate&&e.componentDidUpdate(d,p,h),R.afterUpdate&&R.afterUpdate(e)),null!=e.__h)for(;e.__h.length;)e.__h.pop().call(e);U||r||y()}}function P(e,t,n,i){for(var r=e&&e._component,a=r,o=e,s=r&&e._componentConstructor===t.nodeName,u=s,c=l(t);r&&!u&&(r=r.__u);)u=r.constructor===t.nodeName;return r&&u&&(!i||r._component)?(w(r,c,3,n,i),e=r.base):(a&&!s&&(O(a),e=o=null),r=k(t.nodeName,c,n),e&&!r.__b&&(r.__b=e,o=null),w(r,c,1,n,i),e=r.base,o&&e!==o&&(o._component=null,b(o,!1))),e}function O(e){R.beforeUnmount&&R.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?O(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,f(t),A(e),_(t)),e.__r&&e.__r(null)}function C(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function L(e,t,n){return g(n,e,{},!1,t,!1)}var R={},I=[],x=[],D=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,M=[],N=[],U=0,B=!1,j=!1,F={};i(C.prototype,{setState:function(e,t){var n=this.state;this.__s||(this.__s=i({},n)),i(n,"function"==typeof e?e(n,this.props):e),t&&(this.__h=this.__h||[]).push(t),a(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),S(this,2)},render:function(){}});var G={h:n,createElement:n,cloneElement:r,Component:C,render:L,rerender:o,options:R};e.exports=G}()},function(e,t,n){var i=n(93);"string"==typeof i&&(i=[[e.i,i,""]]);var r={};r.transform=void 0,n(95)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function i(){}function r(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}function a(){X||(X=!0,r("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/reactjs/react-redux/releases/tag/v2.0.0 for the migration instructions."))}function o(){var e=[],t=[];return{clear:function(){t=ne,e=ne},notify:function(){for(var n=e=t,i=0;i<n.length;i++)n[i]()},subscribe:function(n){var i=!0;return t===e&&(t=e.slice()),t.push(n),function(){i&&e!==ne&&(i=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}function s(){}function u(e,t){var n={run:function(i){try{var r=e(t.getState(),i);(r!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=r,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}function l(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.getDisplayName,a=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,o=i.methodName,l=void 0===o?"connectAdvanced":o,c=i.renderCountProp,f=void 0===c?void 0:c,d=i.shouldHandleStateChanges,p=void 0===d||d,h=i.storeKey,y=void 0===h?"store":h,g=i.withRef,v=void 0!==g&&g,m=z(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),b=y+"Subscription",_=ae++,E=(t={},t[y]=V,t[b]=G,t),A=(n={},n[b]=G,n);return function(t){te("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=a(n),r=W({},m,{getDisplayName:a,methodName:l,renderCountProp:f,shouldHandleStateChanges:p,storeKey:y,withRef:v,displayName:i,wrappedComponentName:n,WrappedComponent:t}),o=function(n){function a(e,t){K(this,a);var r=q(this,n.call(this,e,t));return r.version=_,r.state={},r.renderCount=0,r.store=e[y]||t[y],r.propsMode=Boolean(e[y]),r.setWrappedInstance=r.setWrappedInstance.bind(r),te(r.store,'Could not find "'+y+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+y+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}return Y(a,n),a.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return e={},e[b]=t||this.context[b],e},a.prototype.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},a.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},a.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},a.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=s,this.store=null,this.selector.run=s,this.selector.shouldComponentUpdate=!1},a.prototype.getWrappedInstance=function(){return te(v,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},a.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},a.prototype.initSelector=function(){var t=e(this.store.dispatch,r);this.selector=u(t,this.store),this.selector.run(this.props)},a.prototype.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[b];this.subscription=new re(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},a.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(oe)):this.notifyNestedSubs()},a.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},a.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},a.prototype.addExtraProps=function(e){if(!(v||f||this.propsMode&&this.subscription))return e;var t=W({},e);return v&&(t.ref=this.setWrappedInstance),f&&(t[f]=this.renderCount++),this.propsMode&&this.subscription&&(t[b]=this.subscription),t},a.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(U.h)(t,this.addExtraProps(e.props))},a}(U.Component);return o.WrappedComponent=t,o.displayName=i,o.childContextTypes=A,o.contextTypes=E,o.prototype.componentWillUpdate=function(){this.version!==_&&(this.version=_,this.initSelector(),this.subscription&&this.subscription.tryUnsubscribe(),this.initSubscription(),p&&this.subscription.trySubscribe())},ee(o,t)}}function c(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!==e&&t!==t}function f(e,t){if(c(e,t))return!0;if("object"!==(void 0===e?"undefined":H(e))||null===e||"object"!==(void 0===t?"undefined":H(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(!se.call(t,n[r])||!c(e[n[r]],t[n[r]]))return!1;return!0}function d(e){var t=pe.call(e,ye),n=e[ye];try{e[ye]=void 0;var i=!0}catch(e){}var r=he.call(e);return i&&(t?e[ye]=n:delete e[ye]),r}function p(e){return ve.call(e)}function h(e){return null==e?void 0===e?be:me:_e&&_e in Object(e)?d(e):p(e)}function y(e){return null!=e&&"object"==(void 0===e?"undefined":H(e))}function g(e){if(!y(e)||h(e)!=Ae)return!1;var t=Ee(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&we.call(n)==Pe}function v(e,t,n){g(e)||r(n+"() in "+t+" must return a plain object. Instead received "+e+".")}function m(e){return function(t,n){function i(){return r}var r=e(t,n);return i.dependsOnOwnProps=!1,i}}function b(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function _(e,t){return function(n,i){var r=i.displayName,a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(n,i){a.mapToProps=e,a.dependsOnOwnProps=b(e);var o=a(n,i);return"function"==typeof o&&(a.mapToProps=o,a.dependsOnOwnProps=b(o),o=a(n,i)),v(o,r,t),o},a}}function E(e){return"function"==typeof e?_(e,"mapDispatchToProps"):void 0}function A(e){return e?void 0:m(function(e){return{dispatch:e}})}function k(e){return e&&"object"===(void 0===e?"undefined":H(e))?m(function(t){return Object(B.bindActionCreators)(e,t)}):void 0}function T(e){return"function"==typeof e?_(e,"mapStateToProps"):void 0}function w(e){return e?void 0:m(function(){return{}})}function S(e,t,n){return W({},n,e,t)}function P(e){return function(t,n){var i=n.displayName,r=n.pure,a=n.areMergedPropsEqual,o=!1,s=void 0;return function(t,n,u){var l=e(t,n,u);return o?r&&a(l,s)||(s=l):(o=!0,s=l,v(s,i,"mergeProps")),s}}}function O(e){return"function"==typeof e?P(e):void 0}function C(e){return e?void 0:function(){return S}}function L(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||r("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function R(e,t,n,i){L(e,"mapStateToProps",i),L(t,"mapDispatchToProps",i),L(n,"mergeProps",i)}function I(e,t,n,i){return function(r,a){return n(e(r,a),t(i,a),a)}}function x(e,t,n,i,r){function a(r,a){return h=r,y=a,g=e(h,y),v=t(i,y),m=n(g,v,y),p=!0,m}function o(){return g=e(h,y),t.dependsOnOwnProps&&(v=t(i,y)),m=n(g,v,y)}function s(){return e.dependsOnOwnProps&&(g=e(h,y)),t.dependsOnOwnProps&&(v=t(i,y)),m=n(g,v,y)}function u(){var t=e(h,y),i=!d(t,g);return g=t,i&&(m=n(g,v,y)),m}function l(e,t){var n=!f(t,y),i=!c(e,h);return h=e,y=t,n&&i?o():n?s():i?u():m}var c=r.areStatesEqual,f=r.areOwnPropsEqual,d=r.areStatePropsEqual,p=!1,h=void 0,y=void 0,g=void 0,v=void 0,m=void 0;return function(e,t){return p?l(e,t):a(e,t)}}function D(e,t){var n=t.initMapStateToProps,i=t.initMapDispatchToProps,r=t.initMergeProps,a=z(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=i(e,a),u=r(e,a);return R(o,s,u,a.displayName),(a.pure?x:I)(o,s,u,e,a)}function M(e,t,n){for(var i=t.length-1;i>=0;i--){var r=t[i](e);if(r)return r}return function(t,i){throw new Error("Invalid value of type "+(void 0===e?"undefined":H(e))+" for "+n+" argument when connecting component "+i.wrappedComponentName+".")}}function N(e,t){return e===t}n.d(t,"Provider",function(){return J}),n.d(t,"connect",function(){return Re}),n.d(t,"connectAdvanced",function(){return l});var U=n(0),B=(n.n(U),n(11)),j={only:function(e){return e&&e[0]||null}};i.isRequired=i;var F={element:i,func:i,shape:function(){return i},instanceOf:function(){return i}},G=F.shape({trySubscribe:F.func.isRequired,tryUnsubscribe:F.func.isRequired,notifyNestedSubs:F.func.isRequired,isSubscribed:F.func.isRequired}),V=F.shape({subscribe:F.func.isRequired,dispatch:F.func.isRequired,getState:F.func.isRequired}),H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Y=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},z=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},q=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},X=!1,J=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],i=n||t+"Subscription",r=function(e){function n(i,r){K(this,n);var a=q(this,e.call(this,i,r));return a[t]=i.store,a}return Y(n,e),n.prototype.getChildContext=function(){var e;return e={},e[t]=this[t],e[i]=null,e},n.prototype.render=function(){return j.only(this.props.children)},n}(U.Component);return r.prototype.componentWillReceiveProps=function(e){this[t]!==e.store&&a()},r.childContextTypes=(e={},e[t]=V.isRequired,e[i]=G,e),r.displayName="Provider",r}(),Q={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},$={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},Z="function"==typeof Object.getOwnPropertySymbols,ee=function(e,t,n){if("string"!=typeof t){var i=Object.getOwnPropertyNames(t);Z&&(i=i.concat(Object.getOwnPropertySymbols(t)));for(var r=0;r<i.length;++r)if(!(Q[i[r]]||$[i[r]]||n&&n[i[r]]))try{e[i[r]]=t[i[r]]}catch(e){}}return e},te=function(){},ne=null,ie={notify:function(){}},re=function(){function e(t,n,i){K(this,e),this.store=t,this.parentSub=n,this.onStateChange=i,this.unsubscribe=null,this.listeners=ie}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=o())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=ie)},e}(),ae=0,oe={},se=Object.prototype.hasOwnProperty,ue="object"==(void 0===e?"undefined":H(e))&&e&&e.Object===Object&&e,le="object"==("undefined"==typeof self?"undefined":H(self))&&self&&self.Object===Object&&self,ce=ue||le||Function("return this")(),fe=ce.Symbol,de=Object.prototype,pe=de.hasOwnProperty,he=de.toString,ye=fe?fe.toStringTag:void 0,ge=Object.prototype,ve=ge.toString,me="[object Null]",be="[object Undefined]",_e=fe?fe.toStringTag:void 0,Ee=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object),Ae="[object Object]",ke=Function.prototype,Te=Object.prototype,we=ke.toString,Se=Te.hasOwnProperty,Pe=we.call(Object),Oe=[E,A,k],Ce=[T,w],Le=[O,C],Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?l:t,i=e.mapStateToPropsFactories,r=void 0===i?Ce:i,a=e.mapDispatchToPropsFactories,o=void 0===a?Oe:a,s=e.mergePropsFactories,u=void 0===s?Le:s,c=e.selectorFactory,d=void 0===c?D:c;return function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.pure,l=void 0===s||s,c=a.areStatesEqual,p=void 0===c?N:c,h=a.areOwnPropsEqual,y=void 0===h?f:h,g=a.areStatePropsEqual,v=void 0===g?f:g,m=a.areMergedPropsEqual,b=void 0===m?f:m,_=z(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=M(e,r,"mapStateToProps"),A=M(t,o,"mapDispatchToProps"),k=M(i,u,"mergeProps");return n(d,W({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:A,initMergeProps:k,pure:l,areStatesEqual:p,areOwnPropsEqual:y,areStatePropsEqual:v,areMergedPropsEqual:b},_))}}(),Ie={Provider:J,connect:Re,connectAdvanced:l};t.default=Ie}.call(t,n(18))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BaseComponent=void 0;var s=n(0),u=n(25),l=(i(u),n(45)),c=i(l),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{config:{}};r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.name=e.name,n.player=e.player,n.config=e.config,n.logger=(0,c.default)("UI "+n.name),n.logger.debug("Initialized"),n}return o(t,e),t}(s.Component);t.default=f,t.BaseComponent=f},function(e,t,n){"use strict";function i(e){return function(t){return r({},(0,a.bindActionCreators)(e,t))}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t.bindActions=i;var a=n(11)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconType=t.default=void 0;var i=n(103);Object.defineProperty(t,"IconType",{enumerable:!0,get:function(){return i.IconType}});var r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default},function(e,t,n){"use strict";function i(e){for(var t in u)if(u[t]===e)return t;return"NOT_FOUND"}function r(e){return s(e,u.TAB)}function a(e){return s(e,u.ENTER)}function o(e){return s(e,u.ESC)}function s(e,t){return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyName=i,t.isTab=r,t.isEnter=a,t.isEsc=o;var u=t.KeyMap={TAB:9,ENTER:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,C:67,F:70,M:77,SEMI_COLON:186,COMMA:188,PERIOD:190}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=t.types={ADD_PLAYER_CLASS:"shell/ADD_PLAYER_CLASS",REMOVE_PLAYER_CLASS:"shell/REMOVE_PLAYER_CLASS",UPDATE_IS_MOBILE:"shell/UPDATE_IS_MOBILE",UPDATE_PRE_PLAYBACK:"shell/UPDATE_PRE_PLAYBACK",UPDATE_PLAYER_CLIENT_RECT:"shell/UPDATE_PLAYER_CLIENT_RECT",UPDATE_DOCUMENT_WIDTH:"shell/UPDATE_DOCUMENT_WIDTH",UPDATE_PLAYER_HOVER_STATE:"shell/UPDATE_PLAYER_HOVER_STATE",UPDATE_PLAYER_NAV_STATE:"shell/UPDATE_PLAYER_NAV_STATE",UPDATE_BOTTOM_BAR_HOVER_ACTIVE:"shell/UPDATE_BOTTOM_BAR_HOVER_ACTIVE",UPDATE_SMART_CONTAINER_OPEN:"shell/UPDATE_SMART_CONTAINER_OPEN"},o=t.initialState={playerClasses:[],prePlayback:!0,is_ad:!0,playerHover:!1,playerNav:!1,smartContainerOpen:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case a.ADD_PLAYER_CLASS:return e.playerClasses.includes(t.className)?e:r({},e,{playerClasses:[].concat(i(e.playerClasses),[t.className])});case a.REMOVE_PLAYER_CLASS:return r({},e,{playerClasses:e.playerClasses.filter(function(e){return e!==t.className})});case a.UPDATE_IS_MOBILE:return r({},e,{isMobile:t.isMobile});case a.UPDATE_PRE_PLAYBACK:return r({},e,{prePlayback:t.prePlayback});case a.UPDATE_PLAYER_CLIENT_RECT:return r({},e,{playerClientRect:t.playerClientRect});case a.UPDATE_DOCUMENT_WIDTH:return r({},e,{documentWidth:t.documentWidth});case a.UPDATE_PLAYER_HOVER_STATE:return r({},e,{playerHover:t.hover});case a.UPDATE_PLAYER_NAV_STATE:return r({},e,{playerNav:t.nav});case a.UPDATE_BOTTOM_BAR_HOVER_ACTIVE:return r({},e,{bottomBarHoverActive:t.active});case a.UPDATE_SMART_CONTAINER_OPEN:return r({},e,{smartContainerOpen:t.open});default:return e}},t.actions={addPlayerClass:function(e){return{type:a.ADD_PLAYER_CLASS,className:e}},removePlayerClass:function(e){return{type:a.REMOVE_PLAYER_CLASS,className:e}},updateIsMobile:function(e){return{type:a.UPDATE_IS_MOBILE,isMobile:e}},updatePrePlayback:function(e){return{type:a.UPDATE_PRE_PLAYBACK,prePlayback:e}},updatePlayerClientRect:function(e){return{type:a.UPDATE_PLAYER_CLIENT_RECT,playerClientRect:e}},updateDocumentWidth:function(e){return{type:a.UPDATE_DOCUMENT_WIDTH,documentWidth:e}},updatePlayerHoverState:function(e){return{type:a.UPDATE_PLAYER_HOVER_STATE,hover:e}},updatePlayerNavState:function(e){return{type:a.UPDATE_PLAYER_NAV_STATE,nav:e}},updateBottomBarHoverActive:function(e){return{type:a.UPDATE_BOTTOM_BAR_HOVER_ACTIVE,active:e}},updateSmartContainerOpen:function(e){return{type:a.UPDATE_SMART_CONTAINER_OPEN,open:e}}}},function(e,t,n){function i(e){return null!==e&&void 0!==e}function r(e,t){var n=a({},e);for(var i in t)t.hasOwnProperty(i)&&(n[i]=e[i]&&t[i]&&"object"==typeof e[i]&&"object"==typeof t[i]?r(e[i],t[i]):e[i]||t[i]);return n}function a(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function o(e){if(e=e||{},"string"==typeof e&&(e=e.split(",")),"join"in e){for(var t={},n=0;n<e.length;n++){var i=e[n].trim();i&&(t[i.split(".").pop()]=i)}return t}return e}function s(e,t){return f=t||m,e&&e.replace(/\{\{([\w.-]+)\}\}/g,u)}function u(e,t){for(var n=t.split("."),i=f,r=0;r<n.length;r++)if(null==(i=i[n[r]]))return"";return"string"==typeof i&&i.match(/\{\{/)&&(i=s(i,f)),i}function l(e,t,n,r,a,o){t&&(e=t+"."+e);var u=n&&p(n,e);return(a||0===a)&&u&&"object"==typeof u&&(u=u.splice?u[a]||u[0]:0===a&&i(u.none)?u.none:1===a&&i(u.one||u.singular)?u.one||u.singular:u.some||u.many||u.plural||u.other||u),u&&s(u,r)||o||null}function c(e,t,n){var i={};t=t||{},e=o(e);for(var r in e)if(e.hasOwnProperty(r)&&e[r]){var s=e[r];n||"string"!=typeof s?s.nodeName===b&&(s=a({fallback:s.children&&s.children[0]},s.attributes),i[r]=l(s.id,t.scope,t.dictionary,s.fields,s.plural,s.fallback)):i[r]=l(s,t.scope,t.dictionary)}return i}var f,d=n(0),p=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(87)),h=/[?&#]intl=show/,y=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getChildContext=function(){var e=this.props,t=e.scope,n=e.definition,i=e.mark,o=a({},this.context.intl||{});return t&&(o.scope=t),n&&(o.dictionary=r(o.dictionary||{},n)),(i||"undefined"!=typeof location&&String(location).match(h))&&(o.mark=!0),{intl:o}},t.prototype.render=function(e){var t=e.children;return t&&t[0]||null},t}(d.Component),g=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(e.length>1)return v(e[0],e[1]);var n=e[0];return function(e){return v(e,n)}},v=function(e,t){return function(n){return d.h(y,t||{},d.h(e,n))}},m={},b=function(e,t){var n=e.id,i=e.children,r=e.plural,a=e.fields,o=t.intl,s=i&&i[0],u=l(n,o&&o.scope,o&&o.dictionary,a,r,s);if(o&&o.mark){var c="dictionary"+(o&&o.scope?"."+o.scope:"")+"."+n;return d.h("mark",{style:"background: "+(u?p(o,c)?"rgba(119,231,117,.5)":"rgba(229,226,41,.5)":"rgba(228,147,51,.5)"),title:n},u)}return u},_=function(e,t){var n=e.children,i=t.intl,r=n&&n[0];return r&&d.cloneElement(r,c(r.attributes,i,!0))},E=function(e){return function(t){return function(n,i){var r="function"==typeof e?e(n):e,a=c(r,i.intl);return d.h(t,assign({},n,a))}}};g.intl=g,g.IntlProvider=y,g.Text=b,g.Localizer=_,g.withText=E,e.exports=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(100);Object.defineProperty(t,"Loading",{enumerable:!0,get:function(){return i.Loading}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(112);Object.defineProperty(t,"Overlay",{enumerable:!0,get:function(){return i.Overlay}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(40),r=n(84),a=n(85),o=n(86),s=n(44);n(43),n.d(t,"createStore",function(){return i.b}),n.d(t,"combineReducers",function(){return r.a}),n.d(t,"bindActionCreators",function(){return a.a}),n.d(t,"applyMiddleware",function(){return o.a}),n.d(t,"compose",function(){return s.a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(105);Object.defineProperty(t,"PlayPauseControl",{enumerable:!0,get:function(){return i.PlayPauseControl}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(109);Object.defineProperty(t,"VolumeControl",{enumerable:!0,get:function(){return i.VolumeControl}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(119);Object.defineProperty(t,"FullscreenControl",{enumerable:!0,get:function(){return i.FullscreenControl}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(122);Object.defineProperty(t,"BottomBar",{enumerable:!0,get:function(){return i.BottomBar}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(124);Object.defineProperty(t,"KeyboardControl",{enumerable:!0,get:function(){return i.KeyboardControl}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(125);Object.defineProperty(t,"UnmuteIndication",{enumerable:!0,get:function(){return i.UnmuteIndication}})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return e&&"object"===(void 0===e?"undefined":u(e))&&!Array.isArray(e)}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(!n.length)return e;var u=n.shift();if(a(e)&&a(u))for(var l in u)a(u[l])?(e[l]||Object.assign(e,r({},l,{})),o(e[l],u[l])):Object.assign(e,r({},l,u[l]));return o.apply(void 0,[e].concat(i(n)))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=t.types={UPDATE:"config/UPDATE",UPDATE_COMPONENT:"config/UPDATE_COMPONENT",RESET:"config/RESET"},c=t.initialState={forceTouchUI:!1,components:{watermark:{},seekbar:{},error:{}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case l.UPDATE:var n=o(e,t.config);return s({},e,n);case l.UPDATE_COMPONENT:return s({},e,{components:s({},e.components,r({},t.componentAlias,o(e.components[t.componentAlias],t.config)))});default:return e}},t.actions={updateConfig:function(e){return{type:l.UPDATE,config:e}},updateComponentConfig:function(e,t){return{type:l.UPDATE_COMPONENT,componentAlias:e,config:t}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={UPDATE_PLAYER_STATE:"engine/UPDATE_PLAYER_STATE",UPDATE_IS_PLAYING:"engine/UPDATE_IS_PLAYING",UPDATE_IS_ENDED:"engine/UPDATE_IS_ENDED",UPDATE_CURRENT_TIME:"engine/UPDATE_CURRENT_TIME",UPDATE_DURATION:"engine/UPDATE_DURATION",UPDATE_VOLUME:"engine/UPDATE_VOLUME",UPDATE_MUTED:"engine/UPDATE_MUTED",UPDATE_METADATA_LOADING_STATUS:"engine/UPDATE_METADATA_LOADING_STATUS",UPDATE_AUDIO_TRACKS:"engine/UPDATE_AUDIO_TRACKS",UPDATE_VIDEO_TRACKS:"engine/UPDATE_VIDEO_TRACKS",UPDATE_TEXT_TRACKS:"engine/UPDATE_TEXT_TRACKS",UPDATE_AD_BREAK:"engine/UPDATE_AD_BREAK",UPDATE_AD_BREAK_PROGRESS:"engine/UPDATE_AD_BREAK_PROGRESS",UPDATE_AD_BREAK_COMPLETED:"engine/UPDATE_AD_BREAK_COMPLETED",UPDATE_AD_IS_PLAYING:"engine/UPDATE_AD_IS_PLAYING",UPDATE_AD_SKIP_TIME_OFFSET:"engine/UPDATE_AD_SKIP_TIME_OFFSET",UPDATE_AD_SKIPPABLE_STATE:"engine/UPDATE_AD_SKIPPABLE_STATE",UPDATE_AD_URL:"engine/UPDATE_AD_URL",UPDATE_PLAYER_POSTER:"engine/UPDATE_PLAYER_POSTER",UPDATE_IS_LIVE:"engine/UPDATE_IS_LIVE",UPDATE_IS_DVR:"engine/UPDATE_IS_DVR",UPDATE_ERROR:"engine/ERROR",UPDATE_IS_IDLE:"engine/UPDATE_IS_IDLE"},a=t.initialState={isIdle:!1,isPlaying:!1,isEnded:!1,metadataLoaded:!1,playerState:{previousState:"",currentState:""},poster:"",currentTime:0,duration:0,volume:1,muted:!1,videoTracks:[],audioTracks:[],textTracks:[],adBreak:!1,adIsPlaying:!1,adSkipTimeOffset:0,adSkippableState:!1,isLive:!1,isDvr:!1,adProgress:{currentTime:0,duration:0},adUrl:"",hasError:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.UPDATE_ERROR:return i({},e,{hasError:t.hasError});case r.UPDATE_PLAYER_STATE:return i({},e,{playerState:t.playerState});case r.UPDATE_IS_PLAYING:return i({},e,{isPlaying:t.isPlaying});case r.UPDATE_IS_ENDED:return i({},e,{isEnded:t.isEnded});case r.UPDATE_CURRENT_TIME:return i({},e,{currentTime:t.currentTime});case r.UPDATE_DURATION:return i({},e,{duration:t.duration});case r.UPDATE_VOLUME:return i({},e,{volume:t.volume});case r.UPDATE_MUTED:return i({},e,{muted:t.muted});case r.UPDATE_METADATA_LOADING_STATUS:return i({},e,{metadataLoaded:t.metadataLoaded});case r.UPDATE_AUDIO_TRACKS:return i({},e,{audioTracks:t.tracks});case r.UPDATE_VIDEO_TRACKS:return i({},e,{videoTracks:t.tracks});case r.UPDATE_TEXT_TRACKS:return i({},e,{textTracks:t.tracks});case r.UPDATE_AD_BREAK:return i({},e,{adBreak:t.adBreak});case r.UPDATE_AD_BREAK_PROGRESS:return i({},e,{adProgress:t.adProgress});case r.UPDATE_AD_BREAK_COMPLETED:return i({},e,{adProgress:{currentTime:e.adProgress.duration,duration:e.adProgress.duration}});case r.UPDATE_AD_IS_PLAYING:return i({},e,{adIsPlaying:t.adIsPlaying});case r.UPDATE_AD_SKIP_TIME_OFFSET:return i({},e,{adSkipTimeOffset:t.adSkipTimeOffset});case r.UPDATE_AD_SKIPPABLE_STATE:return i({},e,{adSkippableState:t.adSkippableState});case r.UPDATE_AD_URL:return i({},e,{adUrl:t.adUrl});case r.UPDATE_PLAYER_POSTER:return i({},e,{poster:t.poster});case r.UPDATE_IS_LIVE:return i({},e,{isLive:t.isLive});case r.UPDATE_IS_DVR:return i({},e,{isDvr:t.isDvr});case r.UPDATE_IS_IDLE:return i({},e,{isIdle:t.IsIdle});default:return e}},t.actions={updateHasError:function(e){return{type:r.UPDATE_ERROR,hasError:e}},updatePlayerState:function(e,t){return{type:r.UPDATE_PLAYER_STATE,playerState:{prevoiusState:e,currentState:t}}},updateIsPlaying:function(e){return{type:r.UPDATE_IS_PLAYING,isPlaying:e}},updateIsEnded:function(e){return{type:r.UPDATE_IS_ENDED,isEnded:e}},updateCurrentTime:function(e){return{type:r.UPDATE_CURRENT_TIME,currentTime:e}},updateDuration:function(e){return{type:r.UPDATE_DURATION,duration:e}},updateVolume:function(e){return{type:r.UPDATE_VOLUME,volume:e}},updateMuted:function(e){return{type:r.UPDATE_MUTED,muted:e}},updateMetadataLoadingStatus:function(e){return{type:r.UPDATE_METADATA_LOADING_STATUS,metadataLoaded:e}},updateAudioTracks:function(e){return{type:r.UPDATE_AUDIO_TRACKS,tracks:e}},updateVideoTracks:function(e){return{type:r.UPDATE_VIDEO_TRACKS,tracks:e}},updateTextTracks:function(e){return{type:r.UPDATE_TEXT_TRACKS,tracks:e}},updateAdBreak:function(e){return{type:r.UPDATE_AD_BREAK,adBreak:e}},updateAdBreakProgress:function(e,t){return{type:r.UPDATE_AD_BREAK_PROGRESS,adProgress:{currentTime:e,duration:t}}},updateAdBreakCompleted:function(){return{type:r.UPDATE_AD_BREAK_COMPLETED}},updateAdIsPlaying:function(e){return{type:r.UPDATE_AD_IS_PLAYING,adIsPlaying:e}},updateAdSkipTimeOffset:function(e){return{type:r.UPDATE_AD_SKIP_TIME_OFFSET,adSkipTimeOffset:e}},updateAdSkippableState:function(e){return{type:r.UPDATE_AD_SKIPPABLE_STATE,adSkippableState:e}},updateAdClickUrl:function(e){return{type:r.UPDATE_AD_URL,adUrl:e}},updatePlayerPoster:function(e){return{type:r.UPDATE_PLAYER_POSTER,poster:e}},updateIsLive:function(e){return{type:r.UPDATE_IS_LIVE,isLive:e}},updateIsDvr:function(e){return{type:r.UPDATE_IS_DVR,isDvr:e}},updateIsIdle:function(e){return{type:r.UPDATE_IS_IDLE,IsIdle:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={UPDATE_SEEKBAR_DRAGGING_STATUS:"seekbar/UPDATE_SEEKBAR_DRAGGING_STATUS",UPDATE_SEEKBAR_HOVER_ACTIVE:"seekbar/UPDATE_SEEKBAR_HOVER_ACTIVE",UPDATE_CURRENT_TIME:"seekbar/UPDATE_CURRENT_TIME",UPDATE_DURATION:"seekbar/UPDATE_DURATION"},a=t.initialState={currentTime:0,duration:0,draggingActive:!1,hoverActive:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.UPDATE_SEEKBAR_DRAGGING_STATUS:return i({},e,{draggingActive:t.draggingActive});case r.UPDATE_SEEKBAR_HOVER_ACTIVE:return i({},e,{hoverActive:t.hoverActive});case r.UPDATE_CURRENT_TIME:return i({},e,{currentTime:t.currentTime});case r.UPDATE_DURATION:return i({},e,{duration:t.duration});default:return e}},t.actions={updateSeekbarDraggingStatus:function(e){return{type:r.UPDATE_SEEKBAR_DRAGGING_STATUS,draggingActive:e}},updateSeekbarHoverActive:function(e){return{type:r.UPDATE_SEEKBAR_HOVER_ACTIVE,hoverActive:e}},updateDuration:function(e){return{type:r.UPDATE_DURATION,duration:e}},updateCurrentTime:function(e){return{type:r.UPDATE_CURRENT_TIME,currentTime:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={UPDATE_VOLUME:"volume/UPDATE_VOLUME",UPDATE_VOLUME_DRAGGING_STATUS:"volume/UPDATE_VOLUME_DRAGGING_STATUS",UPDATE_MUTED:"volume/UPDATE_MUTED",UPDATE_HOVER:"volume/UPDATE_HOVER"},a=t.initialState={draggingActive:!1,volume:1,muted:!1,hover:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.UPDATE_VOLUME:return i({},e,{volume:t.volume});case r.UPDATE_VOLUME_DRAGGING_STATUS:return i({},e,{draggingActive:t.draggingActive});case r.UPDATE_MUTED:return i({},e,{muted:t.muted});case r.UPDATE_HOVER:return i({},e,{hover:t.hover});default:return e}},t.actions={updateVolume:function(e){return{type:r.UPDATE_VOLUME,volume:e}},updateVolumeDraggingStatus:function(e){return{type:r.UPDATE_VOLUME_DRAGGING_STATUS,draggingActive:e}},updateMuted:function(e){return{type:r.UPDATE_MUTED,muted:e}},updateVolumeHover:function(e){return{type:r.UPDATE_HOVER,hover:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.actions=t.initialState=t.types=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(19),a=n(24),o=t.types={UPDATE_LOADING_SPINNER_STATE:"loading/UPDATE_LOADING_SPINNER_STATE"},s=t.initialState={show:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1];switch(t.type){case r.types.UPDATE:return(0,a.getComponentStateFromConfig)("loading",e,t);case r.types.UPDATE_COMPONENT:return(0,a.getComponentStateFromComponentConfig)("loading",e,t);case o.UPDATE_LOADING_SPINNER_STATE:return i({},e,{show:t.show});default:return e}},t.actions={updateLoadingSpinnerState:function(e){return{type:o.UPDATE_LOADING_SPINNER_STATE,show:e}}}},function(e,t,n){"use strict";function i(e,t,n){var i=n.config.components&&n.config.components[e];return i?o.Utils.Object.mergeDeep(t,i):t}function r(e,t,n){return n.componentAlias===e?o.Utils.Object.mergeDeep(t,n.config):t}function a(e,t){var n=e.components[t];return!(0===Object.keys(n).length&&n.constructor===Object)}Object.defineProperty(t,"__esModule",{value:!0}),t.getComponentStateFromComponentConfig=t.getComponentStateFromConfig=t.shouldRenderComponent=void 0;var o=n(25);t.shouldRenderComponent=a,t.getComponentStateFromConfig=i,t.getComponentStateFromComponentConfig=r},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={TOGGLE_CVAA_OVERLAY:"cvaa/TOGGLE_CVAA_OVERLAY",UPDATE_CAPTIONS_STYLE:"cvaa/UPDATE_CAPTIONS_STYLE"},a=t.initialState={overlayOpen:!1,style:"default"};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.TOGGLE_CVAA_OVERLAY:return i({},e,{overlayOpen:t.show});case r.UPDATE_CAPTIONS_STYLE:return i({},e,{style:t.style});default:return e}},t.actions={toggleCVAAOverlay:function(e){return{type:r.TOGGLE_CVAA_OVERLAY,show:e}},updateCaptionsStyle:function(e){return{type:r.UPDATE_CAPTIONS_STYLE,style:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={UPDATE_ACTION_ICON:"overlay-action/UPDATE_ACTION_ICON"},a=t.initialState={iconType:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.UPDATE_ACTION_ICON:return i({},e,{iconType:t.iconType});default:return e}},t.actions={updateOverlayActionIcon:function(e){return{type:r.UPDATE_ACTION_ICON,iconType:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(102);Object.defineProperty(t,"OverlayAction",{enumerable:!0,get:function(){return i.OverlayAction}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(104);Object.defineProperty(t,"PrePlaybackPlayOverlay",{enumerable:!0,get:function(){return i.PrePlaybackPlayOverlay}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(108);Object.defineProperty(t,"SeekBarControl",{enumerable:!0,get:function(){return i.SeekBarControl}})},function(e,t,n){"use strict";function i(e){var t=parseInt(e,10),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),r=t-3600*n-60*i;return n<10&&(n="0"+n),i<10&&(i="0"+i),r<10&&(r="0"+r),("00"!==n?n+":":"")+i+":"+r}function r(e){var t=e.split(":"),n=0;if(2===t.length){if(parseInt(t[0])>59||parseInt(t[1])>59)return 0;n+=60*parseInt(t[0]),n+=parseInt(t[1])}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.toHHMMSS=i,t.toSecondsFromHHMMSS=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(110);Object.defineProperty(t,"SettingsControl",{enumerable:!0,get:function(){return i.SettingsControl}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(111);Object.defineProperty(t,"SmartContainer",{enumerable:!0,get:function(){return i.SmartContainer}})},function(e,t,n){!function(t,i){e.exports=function(e){"use strict";var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},r=function(r){function o(){return t(this,o),i(this,r.apply(this,arguments))}return n(o,r),o.prototype.componentDidUpdate=function(e){for(var t in e)if(e[t]!==this.props[t])return this.renderLayer()},o.prototype.componentDidMount=function(){this.renderLayer()},o.prototype.componentWillUnmount=function(){this.renderLayer(!1),this.remote&&this.remote.parentNode.removeChild(this.remote)},o.prototype.findNode=function(e){return"string"==typeof e?document.querySelector(e):e},o.prototype.renderLayer=function(){var t=arguments.length<=0||void 0===arguments[0]||arguments[0];this.props.into!==this.intoPointer&&(this.intoPointer=this.props.into,this.into&&this.remote&&(this.remote=e.render(e.h(a,null),this.into,this.remote)),this.into=this.findNode(this.props.into)),this.remote=e.render(e.h(a,{context:this.context},t&&this.props.children||null),this.into,this.remote)},o.prototype.render=function(){return null},o}(e.Component),a=function(e){function r(){return t(this,r),i(this,e.apply(this,arguments))}return n(r,e),r.prototype.getChildContext=function(){return this.props.context},r.prototype.render=function(e){var t=e.children;return t&&t[0]||null},r}(e.Component);return r}(n(0))}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(113);Object.defineProperty(t,"DropDown",{enumerable:!0,get:function(){return i.DropDown}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(115);Object.defineProperty(t,"LanguageControl",{enumerable:!0,get:function(){return i.LanguageControl}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(121);Object.defineProperty(t,"TimeDisplay",{enumerable:!0,get:function(){return i.TimeDisplay}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(123);Object.defineProperty(t,"OverlayPortal",{enumerable:!0,get:function(){return i.OverlayPortal}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Watermark=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(3),h=i(p),y=n(2),g=function(e){return{config:Object.assign({placement:"top-left",timeout:0},e.config.components.watermark)}},v=(s=(0,y.connect)(g))(u=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Watermark",player:e.player}));return n.setState({show:!0}),n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=function t(){e.player.removeEventListener(e.player.Event.PLAYING,t),e.props.config.timeout>0&&setTimeout(function(){return e.setState({show:!1})},e.props.config.timeout)};this.player.addEventListener(this.player.Event.PLAYING,t),this.player.addEventListener(this.player.Event.CHANGE_SOURCE_ENDED,function(){e.setState({show:!0}),e.player.addEventListener(e.player.Event.PLAYING,t)})}},{key:"render",value:function(e){if(e.config.img){var t=[f.default.watermark];return e.config.placement.split("-").forEach(function(e){t.push(f.default[e])}),this.state.show||t.push(f.default.hideWatermark),(0,d.h)("div",{className:t.join(" ")},(0,d.h)("a",{href:e.config.url,target:"_blank",rel:"noopener noreferrer"},(0,d.h)("img",{src:e.config.img})))}}}]),t}(h.default))||u;v.displayName="watermark",t.Watermark=v},function(e,t,n){"use strict";function i(e,t,n){function a(){v===g&&(v=g.slice())}function u(){return y}function l(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return a(),v.push(e),function(){if(t){t=!1,a();var n=v.indexOf(e);v.splice(n,1)}}}function c(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,y=h(y,e)}finally{m=!1}for(var t=g=v,n=0;n<t.length;n++)(0,t[n])();return e}function f(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:s.INIT})}function d(){var e,t=l;return e={subscribe:function(e){function n(){e.next&&e.next(u())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:t(n)}}},e[o.a]=function(){return this},e}var p;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,y=t,g=[],v=g,m=!1;return c({type:s.INIT}),p={dispatch:c,subscribe:l,getState:u,replaceReducer:f},p[o.a]=d,p}n.d(t,"a",function(){return s}),t.b=i;var r=n(41),a=n(80),o=n.n(a),s={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";function i(e){if(!Object(o.a)(e)||Object(r.a)(e)!=s)return!1;var t=Object(a.a)(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}var r=n(72),a=n(77),o=n(79),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=c.call(Object);t.a=i},function(e,t,n){"use strict";var i=n(73),r=i.a.Symbol;t.a=r},function(e,t,n){"use strict"},function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}t.a=i},function(e,t,n){"use strict";function i(e){return e?s.get(e):s}function r(e){return i(e).getLevel()}function a(e,t){i(t).setLevel(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var o=n(89),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u={DEBUG:s.DEBUG,INFO:s.INFO,TIME:s.TIME,WARN:s.WARN,ERROR:s.ERROR,OFF:s.OFF};s.useDefaults({defaultLevel:s.ERROR}),t.default=i,t.LogLevel=u,t.getLogLevel=r,t.setLogLevel=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={TOGGLE_PLAY:"play-pause/TOGGLE_PLAY"},a=t.initialState={isPlaying:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.TOGGLE_PLAY:return i({},e,{isPlaying:t.isPlaying});default:return e}},t.actions={toggleIsPlaying:function(e){return{type:r.TOGGLE_PLAY,isPlaying:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={UPDATE_FULLSCREEN:"fullscreen/UPDATE_FULLSCREEN"},a=t.initialState={fullscreen:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.UPDATE_FULLSCREEN:return i({},e,{fullscreen:t.fullscreen});default:return e}},t.actions={updateFullscreen:function(e){return{type:r.UPDATE_FULLSCREEN,fullscreen:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={TOGGLE_SHARE_OVERLAY:"share/TOGGLE_SHARE_OVERLAY"},a=t.initialState={overlayOpen:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.TOGGLE_SHARE_OVERLAY:return i({},e,{overlayOpen:t.show});default:return e}},t.actions={toggleShareOverlay:function(e){return{type:r.TOGGLE_SHARE_OVERLAY,show:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=t.types={UPDATE_QUALITY:"settings/UPDATE_QUALITY",UPDATE_SPEED:"settings/UPDATE_SPEED"},a=t.initialState={quality:1,speed:2};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case r.UPDATE_QUALITY:return i({},e,{quality:t.quality});case r.UPDATE_SPEED:return i({},e,{speed:t.speed});default:return e}},t.actions={updateQuality:function(e){return{type:r.UPDATE_QUALITY,quality:e}},updateSpeed:function(e){return{type:r.UPDATE_SPEED,speed:e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(92);Object.defineProperty(t,"EngineConnector",{enumerable:!0,get:function(){return i.EngineConnector}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(52);Object.defineProperty(t,"Shell",{enumerable:!0,get:function(){return i.Shell}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Shell=t.CONTROL_BAR_HOVER_DEFAULT_TIMEOUT=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(3),h=i(p),y=n(2),g=n(4),v=n(7),m=n(6),b=function(e){return{targetId:e.config.targetId,forceTouchUI:e.config.forceTouchUI,metadataLoaded:e.engine.metadataLoaded,currentState:e.engine.playerState.currentState,playerClasses:e.shell.playerClasses,isMobile:e.shell.isMobile,playerClientRect:e.shell.playerClientRect,playerHover:e.shell.playerHover,playerNav:e.shell.playerNav,seekbarDraggingActive:e.seekbar.draggingActive,seekbarHoverActive:e.seekbar.hoverActive,bottomBarHoverActive:e.shell.bottomBarHoverActive,volumeHoverActive:e.volume.hover,adBreak:e.engine.adBreak,prePlayback:e.shell.prePlayback,smartContainerOpen:e.shell.smartContainerOpen}},_=t.CONTROL_BAR_HOVER_DEFAULT_TIMEOUT=3e3,E=(s=(0,y.connect)(b,(0,g.bindActions)(v.actions)))(u=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Shell",player:e.player}));return n._fallbackToMutedAutoPlayMode=!1,n.player.addEventListener(n.player.Event.FALLBACK_TO_MUTED_AUTOPLAY,function(){n._fallbackToMutedAutoPlayMode=!0}),n}return o(t,e),l(t,[{key:"onMouseOver",value:function(){this.props.isMobile||(this.state.nav&&(this.setState({nav:!1}),this.props.updatePlayerNavState(!1)),this.props.bottomBarHoverActive||this._updatePlayerHoverState())}},{key:"onMouseLeave",value:function(){this.props.isMobile||this.state.hover&&(this.setState({hover:!1}),this.props.updatePlayerHoverState(!1))}},{key:"onMouseMove",value:function(){this.props.isMobile||this._updatePlayerHoverState()}},{key:"onClick",value:function(){this._fallbackToMutedAutoPlayMode&&(this.player.muted=!1,this._fallbackToMutedAutoPlayMode=!1)}},{key:"onTouchStart",value:function(e){this.props.prePlayback||(this.state.hover||e.stopPropagation(),this._updatePlayerHoverState())}},{key:"onKeyDown",value:function(e){this.state.nav||e.keyCode!==m.KeyMap.TAB||(this.setState({nav:!0}),this.props.updatePlayerNavState(!0))}},{key:"componentDidMount",value:function(){var e=this;this.props.updateIsMobile(!!this.player.env.device.type||this.props.forceTouchUI),document.body&&this.props.updateDocumentWidth(document.body.clientWidth);var t=document.getElementById(this.props.targetId);t&&this.props.updatePlayerClientRect(t.getBoundingClientRect()),window.addEventListener("resize",function(){var t=document.getElementById(e.props.targetId);t&&e.props.updatePlayerClientRect(t.getBoundingClientRect()),document.body&&e.props.updateDocumentWidth(document.body.clientWidth)})}},{key:"_updatePlayerHoverState",value:function(){this.props.prePlayback||(this.state.hover||(this.props.updatePlayerHoverState(!0),this.setState({hover:!0})),this._startHoverTimeout())}},{key:"_canEndHoverState",value:function(){return!(this.props.seekbarDraggingActive||this.props.seekbarHoverActive||this.props.volumeHoverActive||this.props.smartContainerOpen||this.player.paused)}},{key:"_startHoverTimeout",value:function(){var e=this;this._clearHoverTimeout(),this.hoverTimeout=setTimeout(function(){e._canEndHoverState()&&(e.props.updatePlayerHoverState(!1),e.setState({hover:!1}))},this.props.hoverTimeout||_)}},{key:"_clearHoverTimeout",value:function(){this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)}},{key:"componentDidUpdate",value:function(e){!this.props.prePlayback&&e.prePlayback&&this._updatePlayerHoverState()}},{key:"render",value:function(e){var t=this,n=[f.default.player,f.default.skinDefault];return n.push(e.playerClasses),this.props.isMobile&&n.push(f.default.touch),this.props.playerNav&&n.push(f.default.nav),(this.props.playerHover||this.props.playerNav)&&n.push(f.default.hover),this.props.metadataLoaded&&n.push(f.default.metadataLoaded),this.props.adBreak&&n.push(f.default.adBreak),this.props.metadataLoaded&&n.push(f.default["state-"+this.props.currentState]),this.props.seekbarDraggingActive&&n.push(f.default.hover),this.props.playerClientRect&&this.props.playerClientRect.width<=480?n.push(f.default.sizeSm):this.props.playerClientRect&&this.props.playerClientRect.width<=768&&n.push(f.default.sizeMd),n=n.join(" "),(0,d.h)("div",{tabIndex:"0",className:n,onClick:function(){return t.onClick()},onTouchStart:function(e){return t.onTouchStart(e)},onMouseOver:function(){return t.onMouseOver()},onMouseMove:function(){return t.onMouseMove()},onMouseLeave:function(){return t.onMouseLeave()},onKeyDown:function(e){return t.onKeyDown(e)}},e.children)}}]),t}(h.default))||u;t.Shell=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(97);Object.defineProperty(t,"VideoPlayer",{enumerable:!0,get:function(){return i.VideoPlayer}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(99);Object.defineProperty(t,"idleUI",{enumerable:!0,get:function(){return i.idleUI}});var r=n(101);Object.defineProperty(t,"playbackUI",{enumerable:!0,get:function(){return r.playbackUI}});var a=n(126);Object.defineProperty(t,"adsUI",{enumerable:!0,get:function(){return a.adsUI}});var o=n(131);Object.defineProperty(t,"errorUI",{enumerable:!0,get:function(){return o.errorUI}});var s=n(133);Object.defineProperty(t,"liveUI",{enumerable:!0,get:function(){return s.liveUI}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(106);Object.defineProperty(t,"RewindControl",{enumerable:!0,get:function(){return i.RewindControl}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(107);Object.defineProperty(t,"SeekBarPlaybackContainer",{enumerable:!0,get:function(){return i.SeekBarPlaybackContainer}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmartContainerItem=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),c=n(0),f=n(35),d=n(5),p=i(d),h=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"render",value:function(e){return(0,c.h)("div",{className:[l.default.smartContainerItem,l.default.selectMenuItem].join(" ")},(0,c.h)("label",{htmlFor:d.IconType.Quality},e.icon?(0,c.h)("div",{className:l.default.labelIcon},(0,c.h)(p.default,{type:e.icon})):void 0,e.label),(0,c.h)(f.DropDown,{onSelect:function(t){return e.onSelect(t)},options:e.options}))}}]),t}(c.Component);t.SmartContainerItem=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(114);Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return i.Menu}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(116);Object.defineProperty(t,"CVAAOverlay",{enumerable:!0,get:function(){return i.CVAAOverlay}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(118);Object.defineProperty(t,"Slider",{enumerable:!0,get:function(){return i.Slider}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(120);Object.defineProperty(t,"TimeDisplayPlaybackContainer",{enumerable:!0,get:function(){return i.TimeDisplayPlaybackContainer}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(127);Object.defineProperty(t,"TimeDisplayAdsContainer",{enumerable:!0,get:function(){return i.TimeDisplayAdsContainer}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(128);Object.defineProperty(t,"AdSkip",{enumerable:!0,get:function(){return i.AdSkip}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(129);Object.defineProperty(t,"AdLearnMore",{enumerable:!0,get:function(){return i.AdLearnMore}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(130);Object.defineProperty(t,"TopBar",{enumerable:!0,get:function(){return i.TopBar}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(132);Object.defineProperty(t,"ErrorOverlay",{enumerable:!0,get:function(){return i.ErrorOverlay}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(134);Object.defineProperty(t,"SeekBarLivePlaybackContainer",{enumerable:!0,get:function(){return i.SeekBarLivePlaybackContainer}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(135);Object.defineProperty(t,"LiveTag",{enumerable:!0,get:function(){return i.LiveTag}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(139);Object.defineProperty(t,"ShareOverlay",{enumerable:!0,get:function(){return i.ShareOverlay}})},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=t.UIManager=t.Utils=t.Components=t.Presets=t.redux=t.preact=t.h=void 0;var r=n(0);Object.defineProperty(t,"h",{enumerable:!0,get:function(){return r.h}});var a=n(71),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=i(r),u=n(2),l=i(u),c=n(54),f=i(c),d=n(136),p=i(d),h=n(143),y=i(h);t.preact=s,t.redux=l,t.Presets=f,t.Components=p,t.Utils=y,t.UIManager=o.default,t.VERSION="0.21.0",t.NAME="playkit-js-ui"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=n(2),u=n(8),l=n(11),c=n(88),f=n(45),d=n(90),p=i(d),h=n(91),y=i(h),g=n(19),v=(n(25),n(50)),m=n(51),b=n(53),_=n(98),E=n(54),A=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(E);n(1);var k=function(){function e(t,n){r(this,e),n.logLevel&&this.LogLevel[n.logLevel]&&(0,f.setLogLevel)(this.LogLevel[n.logLevel]),this.player=t,this.targetId=n.targetId,this.store=(0,l.createStore)(p.default,window.devToolsExtension&&window.devToolsExtension({name:"playkit #"+this.targetId,instanceId:this.targetId})),this.setConfig(n)}return a(e,[{key:"setConfig",value:function(e,t){t?this.store.dispatch(g.actions.updateComponentConfig(t,e)):this.store.dispatch(g.actions.updateConfig(e))}},{key:"buildDefaultUI",value:function(){var e=[{template:function(e){return A.idleUI(e)},condition:function(e){return e.engine.isIdle}},{template:function(e){return A.errorUI(e)},condition:function(e){return e.engine.hasError}},{template:function(e){return A.adsUI(e)},condition:function(e){return e.engine.adBreak}},{template:function(e){return A.liveUI(e)},condition:function(e){return e.engine.isLive}},{template:function(e){return A.playbackUI(e)}}];this._buildUI(e)}},{key:"buildCustomUI",value:function(e){if(e.length>0)this._buildUI(e);else{var t=[{template:function(e){return A.playbackUI(e)}}];this._buildUI(t)}}},{key:"_buildUI",value:function(e){if(this.player){var t=document.getElementById(this.targetId),n=(0,o.h)(s.Provider,{store:this.store},(0,o.h)(u.IntlProvider,{definition:y.default},(0,o.h)(m.Shell,{player:this.player},(0,o.h)(v.EngineConnector,{player:this.player}),(0,o.h)(b.VideoPlayer,{player:this.player}),(0,o.h)(_.PlayerGUI,{uis:e,player:this.player,playerContainer:t}))));(0,o.render)(n,t)}}},{key:"getLogLevel",value:function(e){return(0,f.getLogLevel)(e)}},{key:"setLogLevel",value:function(e,t){(0,f.setLogLevel)(e,t)}},{key:"config",get:function(){return(0,c.copyDeep)(this.store.getState().config)}},{key:"LogLevel",get:function(){return f.LogLevel}}]),e}();t.default=k},function(e,t,n){"use strict";function i(e){return null==e?void 0===e?u:s:l&&l in Object(e)?Object(a.a)(e):Object(o.a)(e)}var r=n(42),a=n(75),o=n(76),s="[object Null]",u="[object Undefined]",l=r.a?r.a.toStringTag:void 0;t.a=i},function(e,t,n){"use strict";var i=n(74),r="object"==typeof self&&self&&self.Object===Object&&self,a=i.a||r||Function("return this")();t.a=a},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(t,n(18))},function(e,t,n){"use strict";function i(e){var t=o.call(e,u),n=e[u];try{e[u]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[u]=n:delete e[u]),r}var r=n(42),a=Object.prototype,o=a.hasOwnProperty,s=a.toString,u=r.a?r.a.toStringTag:void 0;t.a=i},function(e,t,n){"use strict";function i(e){return a.call(e)}var r=Object.prototype,a=r.toString;t.a=i},function(e,t,n){"use strict";var i=n(78),r=Object(i.a)(Object.getPrototypeOf,Object);t.a=r},function(e,t,n){"use strict";function i(e,t){return function(n){return e(t(n))}}t.a=i},function(e,t,n){"use strict";function i(e){return null!=e&&"object"==typeof e}t.a=i},function(e,t,n){e.exports=n(81)},function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(83),o=function(e){return e&&e.__esModule?e:{default:e}}(a);r="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:i;var s=(0,o.default)(r);t.default=s}).call(t,n(18),n(82)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function r(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:o.a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var o=t[a];"function"==typeof e[o]&&(n[o]=e[o])}var s=Object.keys(n),u=void 0;try{r(n)}catch(e){u=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(u)throw u;for(var r=!1,a={},o=0;o<s.length;o++){var l=s[o],c=n[l],f=e[l],d=c(f,t);if(void 0===d){var p=i(l,t);throw new Error(p)}a[l]=d,r=r||d!==f}return r?a:e}}t.a=a;var o=n(40);n(41),n(43)},function(e,t,n){"use strict";function i(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return i(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},a=0;a<n.length;a++){var o=n[a],s=e[o];"function"==typeof s&&(r[o]=i(s,t))}return r}t.a=r},function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,o){var s=e(n,i,o),u=s.dispatch,l=[],c={getState:s.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=r.a.apply(void 0,l)(s.dispatch),a({},s,{dispatch:u})}}}t.a=i;var r=n(44),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t,n){!function(t,n){e.exports=function(){function e(e,t,n,i){for(i=0,t=t.split?t.split("."):t;e&&i<t.length;)e=e[t[i++]];return void 0===e?n:e}return e}()}()},function(e,t,n){"use strict";function i(e){var t=void 0;return Array.isArray(e)?(t=e.length>0?e.slice(0):[],t.forEach(function(e,n){("object"===(void 0===e?"undefined":r(e))&&e!=={}||Array.isArray(e)&&e.length>0)&&(t[n]=i(e))})):"object"===(void 0===e?"undefined":r(e))?(t=Object.assign({},e),Object.keys(t).forEach(function(e){("object"===r(t[e])&&t[e]!=={}||Array.isArray(t[e])&&t[e].length>0)&&(t[e]=i(t[e]))})):t=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.copyDeep=i},function(e,t,n){var i,r;/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */
!function(a){"use strict";var o={};o.VERSION="1.4.1";var s,u={},l=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,i=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in i||!n[t].hasOwnProperty(e)||(i[e]=n[t][e]);return i},f=function(e,t){return{value:e,name:t}};o.DEBUG=f(1,"DEBUG"),o.INFO=f(2,"INFO"),o.TIME=f(3,"TIME"),o.WARN=f(4,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var d=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};d.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"end"])},invoke:function(e,t){s&&this.enabledFor(e)&&s(t,c({level:e},this.context))}};var p=new d({filterLevel:o.OFF});!function(){var e=o;e.enabledFor=l(p,p.enabledFor),e.debug=l(p,p.debug),e.time=l(p,p.time),e.timeEnd=l(p,p.timeEnd),e.info=l(p,p.info),e.warn=l(p,p.warn),e.error=l(p,p.error),e.log=e.info}(),o.setHandler=function(e){s=e},o.setLevel=function(e){p.setLevel(e);for(var t in u)u.hasOwnProperty(t)&&u[t].setLevel(e)},o.getLevel=function(){return p.getLevel()},o.get=function(e){return u[e]||(u[e]=new d(c({name:e},p.context)))},o.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,r){i=Array.prototype.slice.call(i);var a,s=console.log;r.level===o.TIME?(a=(r.name?"["+r.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):n(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(r.level===o.WARN&&console.warn?s=console.warn:r.level===o.ERROR&&console.error?s=console.error:r.level===o.INFO&&console.info?s=console.info:r.level===o.DEBUG&&console.debug&&(s=console.debug),e.formatter(i,r),n(s,i))}},o.useDefaults=function(e){o.setLevel(e&&e.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(e))},i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),a=n(19),o=i(a),s=n(20),u=i(s),l=n(7),c=i(l),f=n(46),d=i(f),p=n(21),h=i(p),y=n(22),g=i(y),v=n(47),m=i(v),b=n(23),_=i(b),E=n(48),A=i(E),k=n(26),T=i(k),w=n(49),S=i(w),P=n(27),O=i(P),C=(0,r.combineReducers)({config:o.default,engine:u.default,shell:c.default,seekbar:h.default,volume:g.default,fullscreen:m.default,loading:_.default,playPause:d.default,share:A.default,cvaa:T.default,settings:S.default,overlayAction:O.default});t.default=C},function(e,t){e.exports={core:{disable:"Disable",auto:"Auto",close:"Close",retry:"Retry"},controls:{play:"Play",pause:"Pause",share:"Share",language:"Language",settings:"Settings",fullscreen:"Fullscreen",rewind:"Rewind"},settings:{quality:"Quality",speed:"Speed"},language:{audio:"Audio",captions:"Captions",advanced_captions_settings:"Advanced captions settings"},share:{share_title:"Share",link_options:"Link options"},error:{default_error:"Something went wrong",default_session_text:"Session ID "}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EngineConnector=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),f=n(2),d=n(4),p=n(20),h=i(p),y=n(3),g=i(y),v=(s=(0,f.connect)(h.default,(0,d.bindActions)(p.actions)))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"EngineConnector",player:e.player}))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this,t=this.player.Track;this.player.addEventListener(this.player.Event.PLAYER_RESET,function(){e.props.updateIsIdle(!0)}),this.player.addEventListener(this.player.Event.SOURCE_SELECTED,function(){e.props.updateHasError(!1)}),this.player.addEventListener(this.player.Event.CHANGE_SOURCE_STARTED,function(){e.props.updateAdBreak(!1),e.props.updateAdIsPlaying(!1),e.props.updateIsPlaying(!1)}),this.player.addEventListener(this.player.Event.CHANGE_SOURCE_ENDED,function(){e.props.updatePlayerPoster(e.player.poster),e.props.updateIsIdle(!1)}),this.player.addEventListener(this.player.Event.PLAYER_STATE_CHANGED,function(t){e.props.updatePlayerState(t.payload.oldState.type,t.payload.newState.type)}),this.player.addEventListener(this.player.Event.TIME_UPDATE,function(){e.props.updateCurrentTime(e.player.currentTime)}),this.player.addEventListener(this.player.Event.DURATION_CHANGE,function(){e.props.updateDuration(e.player.duration)}),this.player.addEventListener(this.player.Event.LOADED_DATA,function(){e.props.updateDuration(e.player.duration)}),this.player.addEventListener(this.player.Event.LOADED_METADATA,function(){e.props.updateMuted(e.player.muted),e.props.updateMetadataLoadingStatus(!0),e.props.updateIsLive(e.player.isLive()),e.props.updateIsDvr(e.player.isDvr()),e.props.updatePlayerPoster(e.player.poster)}),this.player.addEventListener(this.player.Event.VOLUME_CHANGE,function(){e.props.updateVolume(e.player.volume)}),this.player.addEventListener(this.player.Event.MUTE_CHANGE,function(){e.props.updateMuted(e.player.muted)}),this.player.addEventListener(this.player.Event.PLAY,function(){e.props.updateIsPlaying(!0),e.props.engine.isEnded&&e.props.updateIsEnded(!1)}),this.player.addEventListener(this.player.Event.PAUSE,function(){e.props.updateIsPlaying(!1)}),this.player.addEventListener(this.player.Event.ENDED,function(){e.props.updateIsEnded(!0)}),this.player.addEventListener(this.player.Event.TRACKS_CHANGED,function(){var n=e.player.getTracks(t.AUDIO),i=e.player.getTracks(t.VIDEO),r=e.player.getTracks(t.TEXT);e.props.updateAudioTracks(n),e.props.updateVideoTracks(i),e.props.updateTextTracks(r)}),this.player.addEventListener(this.player.Event.TEXT_TRACK_CHANGED,function(){var n=e.player.getTracks(t.TEXT);e.props.updateTextTracks(n)}),this.player.addEventListener(this.player.Event.AUDIO_TRACK_CHANGED,function(){var n=e.player.getTracks(t.AUDIO);e.props.updateAudioTracks(n)}),this.player.addEventListener(this.player.Event.VIDEO_TRACK_CHANGED,function(){var n=e.player.getTracks(t.VIDEO);e.props.updateVideoTracks(n)}),this.player.addEventListener(this.player.Event.AD_BREAK_START,function(){e.props.updateHasError(!1),e.props.updateAdBreak(!0)}),this.player.addEventListener(this.player.Event.AD_BREAK_END,function(){e.props.updateAdBreak(!1)}),this.player.addEventListener(this.player.Event.ALL_ADS_COMPLETED,function(){e.props.updateAdBreak(!1)}),this.player.addEventListener(this.player.Event.AD_PROGRESS,function(t){var n=t.payload.adProgress.currentTime,i=t.payload.adProgress.duration;e.props.updateAdBreakProgress(n,i)}),this.player.addEventListener(this.player.Event.AD_COMPLETED,function(){e.props.updateAdBreakCompleted()}),this.player.addEventListener(this.player.Event.AD_STARTED,function(){e.props.updateAdIsPlaying(!0)}),this.player.addEventListener(this.player.Event.AD_RESUMED,function(){e.props.updateAdIsPlaying(!0)}),this.player.addEventListener(this.player.Event.AD_PAUSED,function(){e.props.updateAdIsPlaying(!1)}),this.player.addEventListener(this.player.Event.AD_LOADED,function(t){e.props.updateAdClickUrl(t.payload.ad.g.clickThroughUrl),e.props.updateAdSkipTimeOffset(t.payload.ad.getSkipTimeOffset()),e.props.updateAdSkippableState(t.payload.ad.getAdSkippableState())}),this.player.addEventListener(this.player.Event.ERROR,function(t){t.payload&&2===t.payload.severity&&e.props.updateHasError(!0)})}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return(0,c.h)("span",null)}}]),t}(g.default))||u;t.EngineConnector=v},function(e,t,n){t=e.exports=n(94)(void 0),t.push([e.i,".playkit-row {\n  display: block; }\n  .playkit-row:after {\n    content: '';\n    clear: both;\n    display: block; }\n\n.playkit-d-inline-block {\n  display: inline-block; }\n\n.playkit-mobile-hidden-select {\n  display: block;\n  opacity: 0;\n  position: absolute;\n  top: 0;\n  left: 0px;\n  width: 100%;\n  height: 100%; }\n\n.playkit-font-size-base {\n  font-size: 15px; }\n\n.playkit-form-group {\n  margin: 10px 0;\n  position: relative;\n  max-width: 100%; }\n  .playkit-form-group.playkit-has-error .playkit-form-control {\n    border-color: #db1f26; }\n    .playkit-form-group.playkit-has-error .playkit-form-control:focus {\n      border-color: #fff; }\n  .playkit-form-group.playkit-has-icon .playkit-form-control {\n    padding-left: 34px; }\n  .playkit-form-group .playkit-icon {\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 32px;\n    height: 32px;\n    fill: rgba(255, 255, 255, 0.4); }\n\n.playkit-form-control {\n  height: 36px;\n  width: 100%;\n  min-width: 72px;\n  border: 2px solid rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, 0.4);\n  font-size: 15px;\n  line-height: 18px;\n  color: #fff;\n  padding: 8px 10px;\n  text-overflow: ellipsis; }\n  .playkit-form-control::-webkit-input-placeholder {\n    color: rgba(255, 255, 255, 0.6); }\n  .playkit-form-control:focus {\n    background-color: #fff;\n    border-color: #fff;\n    color: #333; }\n    .playkit-form-control:focus::-webkit-input-placeholder {\n      color: #ccc; }\n    .playkit-form-control:focus + .playkit-icon {\n      fill: #999; }\n\ntextarea.playkit-form-control {\n  min-height: 72px; }\n\n.playkit-player select {\n  font-size: 15px;\n  font-family: sans-serif;\n  color: #fff;\n  -webkit-appearance: none;\n  border: 0;\n  background: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23FFFFFF' viewBox='0 0 1024 1024'><path d='M301.255 338.745c-24.994-24.994-65.516-24.994-90.51 0s-24.994 65.516 0 90.51l256 256c24.994 24.994 65.516 24.994 90.51 0l256-256c24.994-24.994 24.994-65.516 0-90.51s-65.516-24.994-90.51 0l-210.745 210.745-210.745-210.745z' /></svg>\") no-repeat;\n  background-size: 16px;\n  background-position: 100% center;\n  background-repeat: no-repeat;\n  padding-right: 24px; }\n\n.playkit-checkbox {\n  font-size: 15px;\n  position: relative; }\n  .playkit-checkbox input {\n    display: none; }\n  .playkit-checkbox label:before {\n    height: 16px;\n    width: 16px;\n    border: 1px solid rgba(255, 255, 255, 0.2);\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.4);\n    margin-right: 8px;\n    display: inline-block;\n    content: '';\n    vertical-align: middle; }\n  .playkit-checkbox input:checked + label:before {\n    border: 1px solid #fff;\n    background: #fff; }\n\n.playkit-form-group-row {\n  font-size: 15px;\n  margin: 24px 0; }\n  .playkit-form-group-row:after {\n    clear: both;\n    content: ' ';\n    display: block; }\n  .playkit-form-group-row label {\n    float: left;\n    color: rgba(244, 244, 244, 0.8); }\n  .playkit-form-group-row .playkit-dropdown {\n    float: right; }\n\n.playkit-btn {\n  text-decoration: none;\n  height: 36px;\n  border-radius: 18px;\n  color: #fff;\n  line-height: 36px;\n  font-weight: bold;\n  cursor: pointer;\n  display: inline-block;\n  padding: 0 24px; }\n  .playkit-btn.playkit-btn-block {\n    display: block; }\n  .playkit-btn.playkit-btn-dark-transparent {\n    background-color: rgba(0, 0, 0, 0.5);\n    border: 2px solid rgba(255, 255, 255, 0.2);\n    line-height: 32px; }\n    .playkit-btn.playkit-btn-dark-transparent:hover {\n      color: #fff;\n      border: 2px solid rgba(255, 255, 255, 0.4); }\n  .playkit-btn.playkit-btn-branded {\n    background-color: #01ACCD; }\n    .playkit-btn.playkit-btn-branded:hover {\n      color: #fff; }\n\n.playkit-btn-rounded {\n  height: 36px;\n  width: 36px;\n  min-width: 36px;\n  min-height: 36px;\n  border-radius: 18px;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: inline-block;\n  padding: 2px; }\n\n.playkit-icon {\n  display: inline-block;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%; }\n\n.playkit-icon-maximize {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M800 269.255v114.745c0 17.673 14.327 32 32 32s32-14.327 32-32v-192c0-17.673-14.327-32-32-32h-192c-17.673 0-32 14.327-32 32s14.327 32 32 32h114.745l-137.373 137.373c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0l137.373-137.373z' /%3E %3Cpath fill='%23fff' d='M224 754.745v-114.745c0-17.673-14.327-32-32-32s-32 14.327-32 32v192c0 17.673 14.327 32 32 32h192c17.673 0 32-14.327 32-32s-14.327-32-32-32h-114.745l137.373-137.373c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0l-137.373 137.373z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-minimize {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M672 306.745v-114.745c0-17.673-14.327-32-32-32s-32 14.327-32 32v192c0 17.673 14.327 32 32 32h192c17.673 0 32-14.327 32-32s-14.327-32-32-32h-114.745l137.373-137.373c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0l-137.373 137.373z' /%3E%3Cpath fill='%23fff' d='M352 717.255v114.745c0 17.673 14.327 32 32 32s32-14.327 32-32v-192c0-17.673-14.327-32-32-32h-192c-17.673 0-32 14.327-32 32s14.327 32 32 32h114.745l-137.373 137.373c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0l137.373-137.373z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-play {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M796.806 461.202c44.919 28.075 44.739 73.706 0 101.668l-459.472 287.171c-44.919 28.075-81.334 7.915-81.334-45.305v-585.4c0-53.096 36.595-73.266 81.334-45.305l459.472 287.171z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-pause {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M256 287.843c0-35.259 28.407-63.843 64-63.843 35.346 0 64 28.564 64 63.843v448.314c0 35.259-28.407 63.843-64 63.843-35.346 0-64-28.564-64-63.843v-448.314zM640 287.843c0-35.259 28.407-63.843 64-63.843 35.346 0 64 28.564 64 63.843v448.314c0 35.259-28.407 63.843-64 63.843-35.346 0-64-28.564-64-63.843v-448.314z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-base {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M128 416v192h96v-192h-96zM64 383.853c0-17.592 14.012-31.853 32.094-31.853h159.813c17.725 0 32.094 14.581 32.094 31.853v256.295c0 17.592-14.012 31.853-32.094 31.853h-159.813c-17.725 0-32.094-14.581-32.094-31.853v-256.295z' /%3E%3Cpath fill='%23fff' d='M288 634.342l160 88.889v-422.462l-160 88.889v244.684zM224 352l231.787-128.771c31.046-17.248 56.213-2.487 56.213 32.476v512.589c0 35.184-25.054 49.786-56.213 32.476l-231.787-128.771v-320z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-waves {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M802.017 837.177c82.359-86.627 129.183-201.774 129.183-324.26 0-123.976-47.976-240.409-132.127-327.329-12.293-12.697-32.552-13.025-45.249-0.732s-13.025 32.552-0.732 45.249c72.692 75.084 114.109 175.597 114.109 282.812 0 105.928-40.422 205.331-111.566 280.162-12.177 12.808-11.666 33.063 1.143 45.24s33.063 11.666 45.24-1.143z' /%3E%3Cpath fill='%23fff' d='M667.436 743.221c67.761-60.884 107.273-147.888 107.273-241.233 0-87.318-34.552-169.203-94.836-229.446-12.501-12.493-32.762-12.486-45.255 0.015s-12.486 32.762 0.015 45.255c48.375 48.342 76.075 113.989 76.075 184.176 0 75.021-31.679 144.776-86.048 193.627-13.146 11.812-14.227 32.044-2.416 45.19s32.044 14.227 45.19 2.416z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-wave {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M667.436 743.221c67.761-60.884 107.273-147.888 107.273-241.233 0-87.318-34.552-169.203-94.836-229.446-12.501-12.493-32.762-12.486-45.255 0.015s-12.486 32.762 0.015 45.255c48.375 48.342 76.075 113.989 76.075 184.176 0 75.021-31.679 144.776-86.048 193.627-13.146 11.812-14.227 32.044-2.416 45.19s32.044 14.227 45.19 2.416z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-mute {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M768 466.745l-67.986-67.986c-12.213-12.213-32.654-12.393-45.151 0.104-12.584 12.584-12.543 32.711-0.104 45.151l67.986 67.986-67.986 67.986c-12.213 12.213-12.393 32.654 0.104 45.151 12.584 12.584 32.711 12.543 45.151 0.104l67.986-67.986 67.986 67.986c12.213 12.213 32.654 12.393 45.151-0.104 12.584-12.584 12.543-32.711 0.104-45.151l-67.986-67.986 67.986-67.986c12.213-12.213 12.393-32.654-0.104-45.151-12.584-12.584-32.711-12.543-45.151-0.104l-67.986 67.986z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-close {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M573.162 512l214.269-214.269c16.772-16.772 16.688-44.071-0.202-60.96-17.007-17.007-44.182-16.98-60.96-0.202l-214.269 214.269-214.269-214.269c-16.772-16.772-44.071-16.688-60.96 0.202-17.007 17.007-16.98 44.182-0.202 60.96l214.269 214.269-214.269 214.269c-16.772 16.772-16.688 44.071 0.202 60.96 17.007 17.007 44.182 16.98 60.96 0.202l214.269-214.269 214.269 214.269c16.772 16.772 44.071 16.688 60.96-0.202 17.007-17.007 16.98-44.182 0.202-60.96l-214.269-214.269z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-share {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M318.641 446.219l236.155-142.257c-0.086-1.754-0.129-3.52-0.129-5.295 0-58.91 47.756-106.667 106.667-106.667s106.667 47.756 106.667 106.667c0 58.91-47.756 106.667-106.667 106.667-33.894 0-64.095-15.808-83.633-40.454l-236.467 142.445c-0.132-3.064-0.394-6.095-0.779-9.087l7.271-12.835-0.117 53.333-7.183-12.743c0.399-3.046 0.67-6.131 0.806-9.252l236.467 142.383c19.538-24.648 49.741-40.457 83.636-40.457 58.91 0 106.667 47.756 106.667 106.667s-47.756 106.667-106.667 106.667c-58.91 0-106.667-47.756-106.667-106.667 0-1.775 0.043-3.539 0.129-5.293l-236.19-142.216c-19.528 24.867-49.868 40.841-83.939 40.841-58.91 0-106.667-47.756-106.667-106.667s47.756-106.667 106.667-106.667c34.091 0 64.447 15.993 83.974 40.886zM234.667 554.667c23.564 0 42.667-19.103 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.103-42.667 42.667s19.103 42.667 42.667 42.667zM661.333 341.333c23.564 0 42.667-19.103 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.103-42.667 42.667s19.103 42.667 42.667 42.667zM661.333 768c23.564 0 42.667-19.103 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.103-42.667 42.667s19.103 42.667 42.667 42.667z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-settings {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M803.451 546.033c2.552-22.107 2.552-44.408 0.246-64.81-1.084-6.208-6.499-10.721-12.535-10.671-30.286 0.533-57.727-17.773-68.866-45.941s-3.64-60.291 18.795-80.593c3.935-3.569 4.416-9.583 0.92-13.959-13.595-17.35-29.146-33.073-46.311-46.83-4.23-3.38-10.359-2.886-14.783 1.966-14.421 14.721-34.212 22.938-54.434 22.761-9.009 0.041-17.942-1.652-26.865-5.212-28.414-11.992-46.226-40.546-44.49-71.542 0.335-5.319-3.547-9.972-8.785-10.588-21.926-2.538-44.068-2.595-65.961-0.176-5.349 0.6-9.341 5.207-9.175 10.514 1.027 30.384-16.802 58.251-45.764 70.431-8.238 3.138-16.993 4.701-25.207 4.609-20.599 0.206-40.395-7.982-55.482-23.363-2.014-2.187-4.849-3.435-7.553-3.445-2.441 0.015-4.811 0.83-6.513 2.139-17.541 13.798-33.455 29.547-47.262 46.729-3.418 4.337-2.922 10.575 0.97 14.162 22.816 20.692 30.19 53.479 17.807 83.351-13.035 27.396-41.135 44.394-71.446 43.222-5.112-0.197-9.499 3.606-10.086 9.179-2.673 22.023-2.673 44.289-0.212 64.867 1.080 6.27 6.559 10.824 13.309 10.737l2.225 0.006c28.935 0.604 54.726 18.391 65.634 45.374 11.22 28.205 3.921 60.407-18.565 81.204-3.866 3.509-4.341 9.418-0.895 13.742 13.545 17.354 29.027 33.106 46.042 46.867 4.303 3.449 10.547 2.954 14.986-1.907 14.414-14.76 34.226-23.001 54.43-22.82 9.070-0.052 18.063 1.668 27.041 5.299 28.19 12.071 45.891 40.41 44.347 71.468-0.342 5.312 3.536 9.962 8.802 10.578 21.915 2.548 44.049 2.605 65.929 0.176 5.364-0.604 9.364-5.227 9.191-10.598-0.997-30.358 16.84-58.183 45.452-70.201 8.263-3.256 17.070-4.908 25.521-4.865 20.676-0.206 40.533 8.070 55.398 23.38 2.039 2.195 4.898 3.446 7.673 3.455 2.268-0.011 4.468-0.776 6.321-2.228 17.625-13.724 33.599-29.444 47.415-46.611 3.426-4.348 2.928-10.6-0.863-14.097-22.358-20.082-30.057-51.85-19.372-79.939s37.55-46.71 67.745-46.857h5.229c5.12-0.026 9.413-3.875 9.996-8.962zM861.733 552.735c-3.961 34.572-33.157 60.748-68.129 60.926h-5.235c-5.803 0.028-10.991 3.624-13.054 9.048s-0.577 11.558 4.020 15.69c26.602 24.519 29.853 65.381 7.275 94.034-16.847 20.934-36.063 39.845-57.197 56.302-12.034 9.427-26.861 14.584-42.368 14.658-19.254-0.051-37.623-8.090-50.269-21.718-3.221-3.315-7.66-5.165-12.712-5.118-1.425-0.007-2.839 0.258-3.554 0.532-5.581 2.346-9.136 7.892-8.937 13.966 1.152 35.958-25.509 66.771-61.307 70.804-26.332 2.923-52.909 2.854-79.246-0.208-36.286-4.245-62.897-36.157-60.576-72.186 0.304-6.123-3.235-11.788-8.302-13.964-1.328-0.536-2.748-0.808-4.606-0.8-4.651-0.041-9.118 1.817-11.635 4.367-24.544 27.036-65.886 30.311-94.481 7.394-20.587-16.65-39.207-35.595-55.308-56.226-22.552-28.277-19.261-69.208 7.317-93.334 4.474-4.138 5.939-10.604 3.748-16.115-2.052-5.076-6.932-8.442-11.794-8.55-36.436 0.464-66.759-24.741-72.949-60.89-3.243-26.718-3.243-53.731-0.055-79.964 3.744-35.827 34.642-62.605 70.642-61.219 6.877 0.266 13.251-3.59 15.584-8.401 2.309-5.59 0.861-12.028-3.789-16.247-26.603-24.51-29.856-65.368-7.293-93.994 16.767-20.868 35.856-39.76 57.129-56.491 12.099-9.322 26.921-14.42 42.463-14.513 19.308 0.059 37.717 8.166 50.145 21.684 3.263 3.322 7.737 5.172 12.994 5.126 1.471 0.015 2.933-0.245 3.363-0.39 5.601-2.359 9.165-7.93 8.957-14.077-1.126-35.941 25.542-66.721 61.322-70.731 26.322-2.909 52.889-2.84 79.251 0.212 36.244 4.265 62.828 36.125 60.546 72.343-0.339 6.047 3.159 11.654 8.186 13.782 1.381 0.55 2.855 0.829 4.726 0.823 4.663 0.040 9.142-1.819 11.615-4.312 24.439-26.99 65.656-30.312 94.137-7.557 20.721 16.607 39.456 35.549 55.655 56.225 22.667 28.35 19.38 69.439-7.531 93.846-4.33 3.918-5.776 10.112-3.628 15.542s7.438 8.96 13.543 8.854c34.999-0.298 65.076 24.766 71.337 60.925 3.065 26.552 3.065 53.368 0 79.92zM511.956 589.951c43.215-0.108 78.137-35.17 78.072-78.385 0-31.732-19.132-60.334-48.461-72.448s-63.068-5.35-85.461 17.133c-22.393 22.483-29.022 56.249-16.791 85.529s40.909 48.298 72.641 48.171zM512.146 648.617c-55.438 0.221-105.58-33.029-126.965-84.224s-9.796-110.233 29.358-149.543c39.153-39.31 98.144-51.136 149.424-29.956s84.731 71.189 84.732 126.627c0.114 75.549-60.999 136.907-136.548 137.096z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-check {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M342.481 563.894c-12.577-12.416-32.838-12.285-45.254 0.292s-12.285 32.838 0.292 45.254l118.857 117.333c13.275 13.105 34.901 12.123 46.933-2.131l297.143-352c11.4-13.505 9.694-33.694-3.811-45.094s-33.694-9.694-45.094 3.811l-274.828 325.566-94.238-93.030z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-language {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 800c159.058 0 288-128.942 288-288s-128.942-288-288-288c-159.058 0-288 128.942-288 288s128.942 288 288 288zM512 864c-194.404 0-352-157.596-352-352s157.596-352 352-352c194.404 0 352 157.596 352 352s-157.596 352-352 352z' /%3E%3Cpath fill='%23fff' d='M441.231 173.324c-76.632 84.62-121.231 207.208-121.231 338.676 0 134.304 46.556 259.282 126.083 343.936l46.646-43.82c-68.041-72.429-108.728-181.651-108.728-300.116 0-116.001 39.001-223.203 104.669-295.716l-47.438-42.96z' /%3E%3Cpath fill='%23fff' d='M584.297 173.324c76.632 84.62 121.231 207.208 121.231 338.676 0 134.304-46.556 259.282-126.083 343.936l-46.646-43.82c68.041-72.429 108.728-181.651 108.728-300.116 0-116.001-39.001-223.203-104.669-295.716l47.438-42.96z' /%3E%3Cpath fill='%23fff' d='M840.432 419.786c-81.65-22.637-200.551-35.786-328.432-35.786-128.056 0-247.103 13.185-328.758 35.876l17.136 61.663c75.47-20.972 188.938-33.539 311.622-33.539 122.521 0 235.854 12.533 311.334 33.459l17.099-61.674z' /%3E%3Cpath fill='%23fff' d='M840.432 605.754c-81.65 22.637-200.551 35.786-328.432 35.786-128.056 0-247.103-13.185-328.758-35.876l17.136-61.663c75.47 20.972 188.938 33.539 311.622 33.539 122.521 0 235.854-12.533 311.334-33.459l17.099 61.674z' /%3E%3Cpath fill='%23fff' d='M480 192h64v640h-64v-640z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-quality {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M159.904 192h288.234c17.277 0 31.862 14.323 31.862 31.992 0 17.792-14.261 31.993-31.853 31.994l-288.147 0.014v544.174c-0.017-0.18 704-0.174 704-0.174v-128.006c0-17.795 14.327-31.994 32-31.994 17.796 0 32 14.34 32 32.029v128.145c0 35.25-28.639 63.826-63.904 63.826h-704.192c-35.293 0-63.904-28.875-63.904-63.826v-544.348c0-35.25 28.639-63.826 63.904-63.826zM501.818 378.182c108.449 0 196.364-87.915 196.364-196.364 0-29.091 43.636-29.091 43.636 0 0 108.449 87.915 196.364 196.364 196.364 29.091 0 29.091 43.636 0 43.636-108.449 0-196.364 87.915-196.364 196.364 0 29.091-43.636 29.091-43.636 0 0-108.449-87.915-196.364-196.364-196.364-29.091 0-29.091-43.636 0-43.636z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-captions {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M160 771.213c-0.017-0.172 704-0.166 704-0.166v-518.261c0.017 0.172-704 0.166-704 0.166v518.261zM96 252.787c0-33.572 28.639-60.787 63.904-60.787h704.192c35.293 0 63.904 27.5 63.904 60.787v518.427c0 33.572-28.639 60.787-63.904 60.787h-704.192c-35.293 0-63.904-27.5-63.904-60.787v-518.427z' /%3E%3Cpath fill='%23fff' d='M490.583 568.655c0 7.729-2.311 15.987-6.933 24.777s-11.668 17.162-21.14 25.118c-9.471 7.956-21.405 14.358-35.801 19.208s-30.611 7.274-48.644 7.274c-38.34 0-68.268-11.176-89.787-33.528s-32.278-52.319-32.278-89.901c0-25.459 4.925-47.962 14.775-67.511s24.095-34.665 42.734-45.348c18.639-10.684 40.916-16.025 66.829-16.025 16.063 0 30.8 2.349 44.212 7.047s24.777 10.759 34.096 18.185c9.32 7.425 16.442 15.343 21.367 23.754s7.388 16.253 7.388 23.527c0 7.425-2.766 13.714-8.297 18.867s-12.237 7.729-20.117 7.729c-5.152 0-9.433-1.326-12.843-3.978s-7.236-6.933-11.479-12.843c-7.577-11.517-15.495-20.155-23.754-25.913s-18.753-8.638-31.482-8.638c-18.336 0-33.111 7.16-44.325 21.481s-16.821 33.907-16.821 58.759c0 11.669 1.44 22.39 4.319 32.164s7.047 18.109 12.502 25.004c5.455 6.895 12.047 12.123 19.776 15.684s16.215 5.342 25.459 5.342c12.426 0 23.072-2.879 31.937-8.638s16.707-14.548 23.527-26.368c3.789-6.971 7.88-12.426 12.275-16.366s9.774-5.91 16.139-5.91c7.577 0 13.866 2.879 18.867 8.638s7.501 11.896 7.501 18.412zM767.219 568.655c0 7.729-2.311 15.987-6.933 24.777s-11.668 17.162-21.14 25.118c-9.471 7.956-21.405 14.358-35.801 19.208s-30.611 7.274-48.644 7.274c-38.34 0-68.268-11.176-89.787-33.528s-32.278-52.319-32.278-89.901c0-25.459 4.925-47.962 14.775-67.511s24.095-34.665 42.734-45.348c18.639-10.684 40.916-16.025 66.829-16.025 16.063 0 30.8 2.349 44.212 7.047s24.777 10.759 34.096 18.185c9.32 7.425 16.442 15.343 21.367 23.754s7.388 16.253 7.388 23.527c0 7.425-2.766 13.714-8.297 18.867s-12.237 7.729-20.117 7.729c-5.152 0-9.433-1.326-12.843-3.978s-7.236-6.933-11.479-12.843c-7.577-11.517-15.495-20.155-23.754-25.913s-18.753-8.638-31.482-8.638c-18.336 0-33.111 7.16-44.325 21.481s-16.821 33.907-16.821 58.759c0 11.669 1.44 22.39 4.319 32.164s7.047 18.109 12.502 25.004c5.455 6.895 12.047 12.123 19.776 15.684s16.215 5.342 25.459 5.342c12.426 0 23.072-2.879 31.937-8.638s16.707-14.548 23.527-26.368c3.789-6.971 7.88-12.426 12.275-16.366s9.774-5.91 16.139-5.91c7.577 0 13.866 2.879 18.867 8.638s7.501 11.896 7.501 18.412z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-speed {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 832c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM480.239 643.971c-0.158-1.272-0.239-2.566-0.239-3.876v-192.19c0-17.621 14.204-31.905 32-31.905 17.673 0 32 14.497 32 31.905v192.19c0 1.313-0.079 2.607-0.232 3.878 55.325 14.128 96.232 64.301 96.232 124.027 0 70.692-57.308 128-128 128s-128-57.308-128-128c0-59.729 40.91-109.903 96.239-124.029zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-speed-down {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM401.852 670.758c-1.056-0.826-2.077-1.728-3.055-2.706l-113.005-113.005c-12.533-12.533-12.65-32.737-0.066-45.321 12.497-12.497 32.536-12.719 45.321 0.066l113.005 113.005c0.976 0.976 1.876 1.998 2.701 3.059 19.106-11.343 41.416-17.855 65.248-17.855 70.692 0 128 57.308 128 128s-57.308 128-128 128c-70.692 0-128-57.308-128-128 0-23.829 6.511-46.137 17.852-65.242zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-speed-up {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM546.516 612.708c0.524-1.23 1.129-2.446 1.819-3.64l79.906-138.402c8.862-15.35 28.348-20.692 43.76-11.794 15.305 8.837 20.707 28.135 11.666 43.794l-79.906 138.402c-0.693 1.201-1.451 2.34-2.268 3.416 23.761 23.238 38.508 55.655 38.508 91.516 0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 11.959 0 23.535 1.64 34.516 4.708zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-audio {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M768 625.124v-354.531l-352 135.385v330.022c0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 23.314 0 45.173 6.233 64 17.124v-241.124c0-13.241 8.155-25.114 20.513-29.867l416-160c20.96-8.062 43.487 7.41 43.487 29.867v512c0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 23.314 0 45.173 6.233 64 17.124zM288 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM704 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-copy {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M703.727 320c35.497 0 64.273 28.482 64.273 64.003v351.993c0 35.348-28.862 64.003-64.273 64.003h-191.454c-35.496 0-64.271-28.48-64.273-64.001l255.727 0.001v-352c0 0-28.356 0.147-63.727 0.001v-63.912l63.727-0.088zM256 288.187c0-35.45 28.398-64.187 63.988-64.187h192.025c35.339 0 63.988 28.706 63.988 64.187v319.625c0 35.45-28.398 64.187-63.988 64.187h-192.025c-35.339 0-63.988-28.706-63.988-64.187v-319.625zM320 288v320h192v-320h-192z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-facebook {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M432 405.333h-80v106.667h80v320h133.333v-320h97.12l9.547-106.667h-106.667v-44.453c0-25.467 5.12-35.547 29.733-35.547h76.933v-133.333h-101.547c-95.893 0-138.453 42.213-138.453 123.067v90.267z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-twitter {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M832 316.614c-23.547 10.29-48.853 17.221-75.413 20.345 27.12-15.987 47.947-41.319 57.733-71.508-25.36 14.806-53.467 25.568-83.387 31.37-23.92-25.122-58.080-40.82-95.84-40.82-84.773 0-147.067 77.861-127.92 158.687-109.093-5.381-205.84-56.833-270.613-135.035-34.4 58.094-17.84 134.090 40.613 172.574-21.493-0.683-41.76-6.484-59.44-16.171-1.44 59.879 42.16 115.898 105.307 128.368-18.48 4.935-38.72 6.090-59.307 2.205 16.693 51.347 65.173 88.702 122.667 89.752-55.2 42.605-124.747 61.637-194.4 53.552 58.107 36.673 127.147 58.067 201.28 58.067 243.787 0 381.52-202.684 373.2-384.473 25.653-18.244 47.92-41.004 65.52-66.914v0z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-google-plus {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M352 556.8h127.040c-5.12 32.928-38.4 96.64-127.040 96.64-76.48 0-138.88-63.328-138.88-141.44 0-78.080 62.4-141.44 138.88-141.44 43.52 0 72.64 18.56 89.28 34.56l60.8-58.56c-39.040-36.48-89.6-58.56-150.080-58.56-123.84 0-224 100.16-224 224s100.16 224 224 224c129.28 0 215.072-90.88 215.072-218.88 0-14.72-1.632-25.92-3.552-37.12h-211.52v76.8zM800 544v96h-64v-96h-96v-64h96v-96h64v96h96v64h-96z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-linked-in {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M324.8 290.087c0 36.506-29.6 66.087-66.133 66.087s-66.133-29.581-66.133-66.087c0-36.48 29.6-66.087 66.133-66.087s66.133 29.607 66.133 66.087zM325.333 409.043h-133.333v422.957h133.333v-422.957zM538.187 409.043h-132.48v422.957h132.507v-222.026c0-123.45 160.773-133.549 160.773 0v222.026h133.013v-267.811c0-208.306-237.92-200.719-293.813-98.179v-56.967z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-email {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M256 768c-35.346 0-64-28.654-64-64v-352c0-35.346 28.654-64 64-64h512c35.346 0 64 28.654 64 64v352c0 35.346-28.654 64-64 64h-512zM512 467.488l147.52-115.488h-295.040l147.52 115.488zM748.48 352l-211.2 179.2c-0.713 1.308-1.572 2.532-2.56 3.648-12.707 12.158-32.733 12.158-45.44 0-0.988-1.116-1.847-2.34-2.56-3.648l-211.2-179.2h-19.52v352h512v-352h-19.52z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-embed {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M377.989 579.335c12.669 12.904 12.669 33.777 0 46.68-12.733 12.969-33.427 12.969-46.16 0l-104.727-106.667c-12.669-12.904-12.669-33.777 0-46.68l104.727-106.667c12.733-12.969 33.427-12.969 46.16 0 12.669 12.904 12.669 33.777 0 46.68l-81.812 83.327 81.812 83.327zM646.011 412.68c-12.669-12.904-12.669-33.777 0-46.68 12.733-12.969 33.427-12.969 46.16 0l104.727 106.667c12.669 12.904 12.669 33.777 0 46.68l-104.727 106.667c-12.733 12.969-33.427 12.969-46.16 0-12.669-12.904-12.669-33.777 0-46.68l81.812-83.327-81.812-83.327zM572.293 250.6c17.455 4.445 28.025 22.388 23.686 40.066l-104.727 426.669c-4.349 17.719-22.048 28.535-39.545 24.079-17.455-4.445-28.025-22.388-23.686-40.066l104.727-426.669c4.349-17.719 22.048-28.535 39.545-24.079z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-link {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M355.028 445.537c12.497 12.497 12.497 32.758 0 45.255s-32.758 12.497-45.255 0l-24.141-24.141c-49.92-49.92-49.832-130.999 0.094-180.925 49.984-49.984 130.995-50.025 180.955-0.064l113.266 113.266c49.964 49.964 49.935 130.955-0.064 180.955-12.497 12.497-32.758 12.497-45.255 0s-12.497-32.758 0-45.255c25.013-25.013 25.027-65.482 0.064-90.445l-113.266-113.266c-24.957-24.957-65.445-24.936-90.445 0.064-24.955 24.955-24.998 65.511-0.094 90.416l24.141 24.141zM668.972 578.463c-12.497-12.497-12.497-32.758 0-45.255s32.758-12.497 45.255 0l24.141 24.141c49.92 49.92 49.832 130.999-0.094 180.925-49.984 49.984-130.995 50.025-180.955 0.064l-113.266-113.266c-49.964-49.964-49.935-130.955 0.064-180.955 12.497-12.497 32.758-12.497 45.255 0s12.497 32.758 0 45.255c-25.013 25.013-25.027 65.482-0.064 90.445l113.266 113.266c24.957 24.957 65.445 24.936 90.445-0.064 24.955-24.955 24.998-65.511 0.094-90.416l-24.141-24.141z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-arrow-down {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M301.255 338.745c-24.994-24.994-65.516-24.994-90.51 0s-24.994 65.516 0 90.51l256 256c24.994 24.994 65.516 24.994 90.51 0l256-256c24.994-24.994 24.994-65.516 0-90.51s-65.516-24.994-90.51 0l-210.745 210.745-210.745-210.745z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-start-over {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M255.271 339.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-seek-forward {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' opacity='0.5' d='M765.529 323.053c-94.182-126.513-270.298-165.203-410.222-84.418-150.758 87.040-202.411 279.813-115.371 430.571s279.813 202.411 430.571 115.371c61.424-35.463 107.948-89.4 134.169-153.673 7.677-18.818 29.156-27.85 47.974-20.173s27.85 29.156 20.173 47.974c-32.339 79.269-89.818 145.906-165.517 189.611-185.96 107.364-423.747 43.649-531.111-142.311s-43.649-423.747 142.311-531.111c172.433-99.554 389.428-52.014 505.682 103.69l27.226-78.49c6.66-19.202 27.626-29.368 46.828-22.708s29.368 27.626 22.708 46.828l-52.434 151.164c-5.36 15.452-20.275 25.513-36.61 24.694l-159.799-8.011c-20.299-1.018-35.929-18.298-34.911-38.596s18.298-35.929 38.596-34.911l89.738 4.499z'/%3E%3Cpath fill='%23fff' d='M207.932 431.974c20.553-78.699 71.369-149.456 147.375-193.338 139.923-80.785 316.040-42.095 410.222 84.418l-89.738-4.499c-20.299-1.018-37.579 14.613-38.596 34.911s14.613 37.579 34.911 38.596l159.799 8.011c16.335 0.819 31.25-9.242 36.61-24.694l52.434-151.164c6.66-19.202-3.506-40.167-22.708-46.828s-40.167 3.506-46.828 22.708l-27.226 78.49c-116.254-155.703-333.248-203.244-505.682-103.69-91.184 52.645-152.976 136.648-179.618 230.523l69.044 26.555z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-seek-end {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M742.494 323.053c-94.182-126.513-270.298-165.203-410.222-84.418-150.758 87.040-202.411 279.813-115.371 430.571s279.813 202.411 430.571 115.371c61.424-35.463 107.948-89.4 134.169-153.673 7.677-18.818 29.156-27.85 47.974-20.173s27.85 29.156 20.173 47.974c-32.339 79.269-89.818 145.906-165.517 189.611-185.96 107.364-423.747 43.649-531.111-142.311s-43.649-423.747 142.311-531.111c172.433-99.554 389.428-52.014 505.682 103.69l27.226-78.49c6.66-19.202 27.626-29.368 46.828-22.708s29.368 27.626 22.708 46.828l-52.434 151.164c-5.36 15.452-20.275 25.513-36.61 24.694l-159.799-8.011c-20.299-1.018-35.929-18.298-34.911-38.596s18.298-35.929 38.596-34.911l89.738 4.499z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-rewind {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' opacity='0.5' d='M258.471 323.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M816.068 431.974c-20.553-78.699-71.369-149.456-147.375-193.338-139.923-80.785-316.040-42.095-410.222 84.418l89.738-4.499c20.299-1.018 37.579 14.613 38.596 34.911s-14.613 37.579-34.911 38.596l-159.799 8.011c-16.335 0.819-31.25-9.242-36.61-24.694l-52.434-151.164c-6.66-19.202 3.506-40.167 22.708-46.828s40.167 3.506 46.828 22.708l27.226 78.49c116.254-155.703 333.248-203.244 505.682-103.69 91.184 52.645 152.976 136.648 179.618 230.523l-69.044 26.555z'%3E%3C/path%3E%3C/svg%3E\"); }\n\n.playkit-icon-rewind-10 {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M258.471 323.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M413.327 636.083h67.358v-252.083h-48.527c-2.173 7.358-4.949 13.589-8.329 18.693s-7.726 9.139-13.037 12.106c-5.311 2.967-11.709 5.103-19.193 6.409s-16.417 1.958-26.798 1.958v41.302h48.527v171.616zM596.807 554.192c0 17.803 1.569 29.849 4.708 36.139s8.208 9.435 15.21 9.435c7.001 0 12.071-3.145 15.21-9.435s4.708-18.336 4.708-36.139v-83.316c0-17.803-1.569-29.849-4.708-36.139s-8.208-9.435-15.21-9.435c-7.001 0-12.071 3.145-15.21 9.435s-4.708 18.336-4.708 36.139v83.316zM529.449 512.534c0-25.398 1.75-46.405 5.251-63.021s8.812-29.789 15.934-39.522c7.122-9.732 16.176-16.497 27.16-20.295s23.962-5.697 38.93-5.697c14.969 0 27.945 1.899 38.93 5.697s20.038 10.563 27.16 20.295c7.122 9.732 12.433 22.906 15.934 39.522s5.251 37.622 5.251 63.021c0 25.636-1.75 46.702-5.251 63.199s-8.812 29.552-15.934 39.166c-7.122 9.613-16.176 16.2-27.16 19.761s-23.962 5.341-38.93 5.341c-14.969 0-27.945-1.78-38.93-5.341s-20.038-10.147-27.16-19.761c-7.122-9.613-12.433-22.668-15.934-39.166s-5.251-37.563-5.251-63.199z'%3E%3C/path%3E%3C/svg%3E\"); }\n\n@keyframes playkit-openDropmenu {\n  from {\n    opacity: 0;\n    transform: translateY(10px); }\n  to {\n    opacity: 1;\n    transform: translateY(0); } }\n\n.playkit-dropdown {\n  position: relative;\n  font-size: 15px; }\n  .playkit-dropdown.playkit-active .playkit-dropdown-menu {\n    display: block;\n    opacity: 1; }\n  .playkit-dropdown.playkit-active .playkit-dropdown-button .playkit-icon {\n    transform: rotate(180deg); }\n  .playkit-dropdown .playkit-dropdown-button {\n    font-weight: bold;\n    line-height: 18px;\n    color: #fff;\n    cursor: pointer;\n    padding-left: 20px; }\n    .playkit-dropdown .playkit-dropdown-button .playkit-icon {\n      width: 16px;\n      height: 16px;\n      vertical-align: middle;\n      margin-left: 6px;\n      transition: 150ms transform;\n      will-change: transform; }\n\n.playkit-dropdown-menu {\n  display: block;\n  opacity: 1;\n  position: absolute;\n  background-color: #333333;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  padding: 6px 0;\n  z-index: 5;\n  animation: playkit-openDropmenu 100ms ease-out forwards;\n  max-height: 220px;\n  overflow-y: auto;\n  font-size: 15px;\n  text-align: left; }\n  .playkit-dropdown-menu.playkit-top {\n    margin-bottom: 10px;\n    bottom: 100%; }\n  .playkit-dropdown-menu.playkit-bottom {\n    margin-top: 10px;\n    top: 100%; }\n  .playkit-dropdown-menu.playkit-right {\n    left: 0; }\n  .playkit-dropdown-menu.playkit-left {\n    right: 0; }\n  .playkit-dropdown-menu .playkit-dropdown-menu-item {\n    padding: 2px 10px 2px 16px;\n    white-space: nowrap;\n    min-height: 30px;\n    cursor: pointer; }\n    .playkit-dropdown-menu .playkit-dropdown-menu-item:hover {\n      color: #fff; }\n    .playkit-dropdown-menu .playkit-dropdown-menu-item.playkit-active {\n      color: #01ACCD; }\n      .playkit-dropdown-menu .playkit-dropdown-menu-item.playkit-active .playkit-icon-check {\n        background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%2301ACCD' d='M342.481 563.894c-12.577-12.416-32.838-12.285-45.254 0.292s-12.285 32.838 0.292 45.254l118.857 117.333c13.275 13.105 34.901 12.123 46.933-2.131l297.143-352c11.4-13.505 9.694-33.694-3.811-45.094s-33.694-9.694-45.094 3.811l-274.828 325.566-94.238-93.030z' /%3E%3C/svg%3E\"); }\n    .playkit-dropdown-menu .playkit-dropdown-menu-item .playkit-icon-check {\n      display: inline-block;\n      margin-left: 16px;\n      vertical-align: middle;\n      width: 24px;\n      height: 24px; }\n    .playkit-dropdown-menu .playkit-dropdown-menu-item span {\n      vertical-align: middle;\n      line-height: 26px; }\n\n.playkit-player .playkit-control-button {\n  width: 32px;\n  height: 32px;\n  background: transparent;\n  display: inline-block;\n  opacity: 0.8;\n  border: none;\n  padding: 0;\n  cursor: pointer; }\n  .playkit-player .playkit-control-button i {\n    width: 32px;\n    height: 32px; }\n  .playkit-player .playkit-control-button.playkit-active {\n    opacity: 1; }\n  .playkit-player .playkit-control-button.playkit-control-button-rounded {\n    width: 36px;\n    height: 36px;\n    padding: 2px; }\n\n.playkit-player:not(.playkit-touch) .playkit-control-button:hover {\n  opacity: 1; }\n\n.playkit-player:not(.playkit-touch) .playkit-control-button.playkit-control-button-rounded:hover {\n  background-color: rgba(0, 0, 0, 0.4);\n  border-radius: 18px; }\n\n.playkit-player .playkit-control-button-container {\n  display: inline-block;\n  position: relative;\n  vertical-align: top; }\n\n.playkit-player.playkit-touch .playkit-player .playkit-control-button-container {\n  position: static; }\n\n.playkit-player.playkit-touch .playkit-control-button {\n  position: relative; }\n\n.playkit-rotate {\n  -moz-animation: playkit-spin .3s 1 linear;\n  -o-animation: playkit-spin .3s 1 linear;\n  -webkit-animation: playkit-spin .3s 1 linear;\n  animation: playkit-spin .3s 1 linear; }\n\n@-webkit-keyframes playkit-spin {\n  0% {\n    -webkit-transform: rotate(359deg); }\n  100% {\n    -webkit-transform: rotate(0deg); } }\n\n@-moz-keyframes playkit-spin {\n  0% {\n    -moz-transform: rotate(359deg); }\n  100% {\n    -moz-transform: rotate(0deg); } }\n\n@-o-keyframes playkit-spin {\n  0% {\n    -o-transform: rotate(359deg); }\n  100% {\n    -o-transform: rotate(0deg); } }\n\n@-ms-keyframes playkit-spin {\n  0% {\n    -ms-transform: rotate(359deg); }\n  100% {\n    -ms-transform: rotate(0deg); } }\n\n@keyframes playkit-spin {\n  0% {\n    transform: rotate(359deg); }\n  100% {\n    transform: rotate(0deg); } }\n\n.playkit-player a {\n  color: #01ACCD;\n  text-decoration: underline;\n  font-size: 15px;\n  line-height: 18px;\n  cursor: pointer; }\n  .playkit-player a:hover {\n    color: #01819a; }\n  .playkit-player a:active {\n    opacity: 0.7; }\n\n.playkit-player {\n  overflow: hidden;\n  user-select: none;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent; }\n  .playkit-player:-webkit-full-screen {\n    width: 100%;\n    height: 100%;\n    max-width: none; }\n  .playkit-player * {\n    box-sizing: border-box;\n    outline: none; }\n  .playkit-player ::selection {\n    background-color: rgba(0, 0, 0, 0.1); }\n  .playkit-player video {\n    width: 100%; }\n  .playkit-player .playkit-player-gui {\n    opacity: 0;\n    overflow: hidden;\n    font-size: 0;\n    font-family: sans-serif; }\n    .playkit-player .playkit-player-gui input, .playkit-player .playkit-player-gui textarea {\n      font-family: sans-serif; }\n  .playkit-player #overlay-portal {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%; }\n  .playkit-player.playkit-overlay-active #overlay-portal {\n    z-index: 11; }\n  .playkit-player.playkit-metadata-loaded .playkit-player-gui,\n  .playkit-player.playkit-state-paused .playkit-player-gui,\n  .playkit-player.playkit-overlay-active .playkit-player-gui,\n  .playkit-player.playkit-menu-active .playkit-player-gui {\n    opacity: 1; }\n\n.playkit-player.playkit-nav .playkit-control-button:focus,\n.playkit-player.playkit-nav .playkit-seek-bar:focus,\n.playkit-player.playkit-nav .playkit-dropdown-button:focus,\n.playkit-player.playkit-nav .playkit-smart-container-item:focus,\n.playkit-player.playkit-nav .playkit-dropdown-menu-item:focus,\n.playkit-player.playkit-nav .playkit-pre-playback-play-button:focus,\n.playkit-player.playkit-nav .playkit-sample:focus,\n.playkit-player.playkit-nav .playkit-custom-captions-applied > a:focus,\n.playkit-player.playkit-nav .playkit-form-group-row > a:focus,\n.playkit-player.playkit-nav .playkit-button-save-cvaa:focus,\n.playkit-player.playkit-nav .playkit-slider:focus,\n.playkit-player.playkit-nav .playkit-live-tag:focus {\n  outline: 1px solid #00cbff; }\n\n.playkit-player [id^=playkit-ads-container] {\n  z-index: 5;\n  transition: transform 100ms; }\n\n.playkit-player:not(.playkit-ad-break).playkit-metadata-loaded.playkit-hover [id^=playkit-ads-container],\n.playkit-player:not(.playkit-ad-break).playkit-metadata-loaded.playkit-state-paused [id^=playkit-ads-container] {\n  transform: translateY(-60px); }\n\nvideo {\n  left: 0; }\n  video::-webkit-media-controls-panel-container, video::-webkit-media-controls {\n    display: none !important;\n    -webkit-appearance: none; }\n  video::-webkit-media-controls-start-playback-button {\n    display: none !important;\n    -webkit-appearance: none; }\n\n.playkit-player video::-webkit-media-text-track-display {\n  transform: translateY(0px);\n  transition: ease-in 100ms; }\n\n.playkit-player.playkit-state-paused video::-webkit-media-text-track-display,\n.playkit-player.playkit-hover video::-webkit-media-text-track-display {\n  transform: translateY(-60px);\n  transition: ease-out 100ms; }\n\n.playkit-player.playkit-overlay-active .playkit-subtitles {\n  display: none; }\n\n.playkit-player .playkit-subtitles {\n  transform: translateY(0px);\n  transition: ease-in 100ms; }\n\n.playkit-player:not(.playkit-overlay-active).playkit-state-paused .playkit-subtitles,\n.playkit-player:not(.playkit-overlay-active).playkit-hover .playkit-subtitles {\n  transform: translateY(-60px);\n  transition: ease-out 100ms; }\n\n.playkit-video-player {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: black; }\n\n@keyframes playkit-openOverlay {\n  from {\n    opacity: 0; }\n  to {\n    opacity: 1; } }\n\n.playkit-overlay {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: none;\n  opacity: 0;\n  animation: playkit-openOverlay 100ms ease-in-out forwards;\n  z-index: 11; }\n  .playkit-overlay.playkit-active {\n    display: block;\n    opacity: 1; }\n  .playkit-overlay .playkit-overlay-contents {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.42);\n    z-index: 4;\n    text-align: center;\n    color: #fff;\n    padding: 60px 20px 30px 20px;\n    overflow-y: auto; }\n  .playkit-overlay .playkit-title {\n    font-size: 24px;\n    font-weight: bold;\n    line-height: 29px;\n    margin-bottom: 60px; }\n  .playkit-overlay .playkit-close-overlay {\n    position: absolute;\n    top: 48px;\n    right: 48px;\n    z-index: 5;\n    cursor: pointer; }\n    .playkit-overlay .playkit-close-overlay .playkit-icon-close {\n      width: 24px;\n      height: 24px; }\n  .playkit-overlay .playkit-overlay-screen {\n    display: none; }\n    .playkit-overlay .playkit-overlay-screen.playkit-active {\n      display: block; }\n\n.playkit-player.playkit-size-md .playkit-overlay .playkit-overlay-contents {\n  padding: 36px 20px; }\n\n.playkit-player.playkit-size-md .playkit-overlay .playkit-close-overlay {\n  top: 38px; }\n\n.playkit-player.playkit-size-md .playkit-overlay .playkit-title {\n  margin-bottom: 24px; }\n\n.playkit-player.playkit-size-sm .playkit-overlay .playkit-overlay-contents {\n  padding: 16px 24px; }\n\n.playkit-player.playkit-size-sm .playkit-overlay .playkit-close-overlay {\n  top: 15px;\n  right: 24px; }\n\n.playkit-player.playkit-size-sm .playkit-overlay .playkit-title {\n  font-size: 16px;\n  line-height: 19px;\n  margin-bottom: 24px; }\n\n@keyframes playkit-openSmartContainer {\n  from {\n    opacity: 0;\n    transform: translateY(10px); }\n  to {\n    opacity: 1;\n    transform: translateY(0); } }\n\n@keyframes playkit-closeSmartContainer {\n  from {\n    opacity: 1;\n    transform: translateY(0); }\n  to {\n    opacity: 0;\n    transform: translateY(10px); } }\n\n.playkit-player:not(.playkit-touch) .playkit-smart-container {\n  background-color: #222222;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);\n  border-radius: 4px;\n  position: absolute;\n  right: 0px;\n  min-width: 193px;\n  font-size: 15px;\n  z-index: 10;\n  display: block;\n  animation: playkit-openSmartContainer 100ms ease-out forwards; }\n  .playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-leaving {\n    animation: playkit-closeSmartContainer 100ms ease-out forwards; }\n  .playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-top {\n    bottom: 100%;\n    margin-bottom: 6px; }\n    .playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-top:before {\n      display: block;\n      content: ' ';\n      position: absolute;\n      bottom: -6px;\n      left: 0;\n      width: 100%;\n      height: 6px; }\n  .playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-bottom {\n    top: 100%;\n    margin-top: 6px; }\n  .playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-right {\n    left: 0px; }\n  .playkit-player:not(.playkit-touch) .playkit-smart-container.playkit-left {\n    right: 0px; }\n  .playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item {\n    margin: 16px;\n    color: rgba(244, 244, 244, 0.8);\n    white-space: nowrap;\n    display: flex;\n    justify-content: space-between; }\n    .playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item label .playkit-label-icon {\n      display: none; }\n    .playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown, .playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item select {\n      align-self: flex-end; }\n    .playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown span {\n      max-width: 100px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: inline-block;\n      vertical-align: middle; }\n    .playkit-player:not(.playkit-touch) .playkit-smart-container .playkit-smart-container-item.playkit-select-menu-item select {\n      text-align-last: right; }\n\n.playkit-touch .playkit-smart-container-item {\n  width: 300px;\n  max-width: 100%;\n  margin: 16px auto;\n  color: rgba(244, 244, 244, 0.8);\n  white-space: nowrap;\n  text-align: left;\n  display: flex;\n  justify-content: space-between; }\n  .playkit-touch .playkit-smart-container-item.playkit-select-menu-item label {\n    font-size: 16px;\n    color: rgba(255, 255, 255, 0.8);\n    margin-right: 20px; }\n    .playkit-touch .playkit-smart-container-item.playkit-select-menu-item label .playkit-label-icon {\n      width: 24px;\n      height: 24px;\n      display: inline-block;\n      vertical-align: middle;\n      margin-right: 16px; }\n  .playkit-touch .playkit-smart-container-item.playkit-select-menu-item .playkit-dropdown, .playkit-touch .playkit-smart-container-item.playkit-select-menu-item select {\n    align-self: flex-end; }\n  .playkit-touch .playkit-smart-container-item.playkit-select-menu-item select {\n    text-align-last: right;\n    min-width: 1px;\n    line-height: 24px; }\n\n.playkit-overlay.playkit-share-overlay .playkit-share-icons {\n  margin: 60px 0; }\n  .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded {\n    margin: 0 8px;\n    transition: transform 100ms;\n    will-change: transform; }\n    .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded:first-child {\n      margin-left: 0; }\n    .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded:last-child {\n      margin-right: 0; }\n    .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded.playkit-facebook-share-btn {\n      background-color: #3B5998; }\n    .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded.playkit-twitter-share-btn {\n      background-color: #1DA1F2; }\n    .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded.playkit-google-plus-share-btn {\n      background-color: #DD4B39; }\n    .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded.playkit-linkedin-share-btn {\n      background-color: #00A0DC; }\n\n.playkit-share-main-container {\n  width: 300px;\n  max-width: 100%;\n  margin: 0 auto;\n  text-align: center; }\n\n.playkit-link-options-container {\n  width: 400px;\n  max-width: 100%;\n  text-align: left;\n  margin: 0 auto; }\n  .playkit-link-options-container .playkit-copy-url-row {\n    display: flex; }\n    .playkit-link-options-container .playkit-copy-url-row .playkit-input-copy-url {\n      margin: 0; }\n    .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url {\n      margin-left: 16px; }\n      .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url .playkit-icon {\n        will-change: transform;\n        transition: 100ms transform;\n        position: absolute;\n        width: 32px; }\n      .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url .playkit-icon-check {\n        transform: scale(0);\n        opacity: 0; }\n      .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url.playkit-copied {\n        background-color: #009444; }\n        .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url.playkit-copied .playkit-icon-copy {\n          transform: scale(0);\n          opacity: 0; }\n        .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url.playkit-copied .playkit-icon-check {\n          transform: scale(1);\n          opacity: 1; }\n  .playkit-link-options-container .playkit-video-start-options-row {\n    margin-top: 24px; }\n    .playkit-link-options-container .playkit-video-start-options-row .playkit-checkbox {\n      margin-right: 15px; }\n    .playkit-link-options-container .playkit-video-start-options-row .playkit-form-group {\n      margin: 0; }\n\n.playkit-player:not(.playkit-touch) .playkit-overlay.playkit-share-overlay .playkit-share-icons .playkit-btn-rounded:hover {\n  transform: scale(1.1667); }\n\n.playkit-player.playkit-size-md .playkit-overlay.playkit-share-overlay .playkit-share-icons {\n  margin: 40px 0; }\n\n.playkit-player.playkit-size-sm .playkit-overlay.playkit-share-overlay .playkit-share-icons {\n  margin: 20px 0; }\n\n.playkit-overlay.playkit-cvaa-overlay .playkit-sample {\n  border: 2px solid rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 36px;\n  text-align: center;\n  padding: 0 31px;\n  display: inline-block;\n  margin: 0 12px;\n  cursor: pointer;\n  position: relative; }\n  .playkit-overlay.playkit-cvaa-overlay .playkit-sample.playkit-black-bg {\n    background-color: #000; }\n  .playkit-overlay.playkit-cvaa-overlay .playkit-sample.playkit-yellow-text {\n    color: #FAFF00; }\n  .playkit-overlay.playkit-cvaa-overlay .playkit-sample .playkit-active-tick {\n    height: 16px;\n    width: 16px;\n    border-radius: 8px;\n    background-color: #01ACCD;\n    position: absolute;\n    top: -5px;\n    right: -5px; }\n    .playkit-overlay.playkit-cvaa-overlay .playkit-sample .playkit-active-tick .playkit-icon {\n      vertical-align: top; }\n  .playkit-overlay.playkit-cvaa-overlay .playkit-sample span {\n    font-size: 16px !important;\n    line-height: 1;\n    vertical-align: middle; }\n\n.playkit-overlay.playkit-cvaa-overlay .playkit-button-save-cvaa {\n  margin-top: 50px;\n  height: 40px;\n  width: 400px;\n  max-width: 100%;\n  border: 2px solid rgba(255, 255, 255, 0.2);\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: bold;\n  line-height: 38px;\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  text-decoration: none;\n  cursor: pointer; }\n\n.playkit-overlay.playkit-cvaa-overlay .playkit-custom-captions-applied {\n  margin-top: 50px; }\n\n.playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form {\n  width: 300px;\n  max-width: 100%;\n  margin: 0 auto; }\n  .playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form a {\n    color: white;\n    line-height: 36px;\n    text-decoration: none; }\n    .playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form a:hover, .playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form a:focus {\n      text-decoration: underline; }\n  .playkit-overlay.playkit-cvaa-overlay .playkit-custom-caption-form .playkit-slider {\n    float: right;\n    width: 100px;\n    margin-top: 5px; }\n\n.playkit-overlay.playkit-cvaa-overlay .playkit-preview-container {\n  width: 100%;\n  text-align: center;\n  font-size: 16px; }\n\n.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample {\n  width: 30%;\n  margin: 2.33%;\n  padding: 0; }\n  .playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample:first-child {\n    margin-left: 0; }\n  .playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample:last-child {\n    margin-right: 0; }\n  .playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-sample.playkit-custom {\n    width: auto;\n    padding: 0 10px; }\n\n.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-button-save-cvaa,\n.playkit-player.playkit-size-sm .playkit-overlay.playkit-cvaa-overlay .playkit-custom-captions-applied {\n  margin-top: 20px; }\n\n@keyframes playkit-kaltura-spinner {\n  0% {\n    transform: rotate(0deg) scale(0.7);\n    opacity: 1; }\n  70% {\n    transform: rotate(360deg) scale(0.7);\n    opacity: 1; }\n  82% {\n    transform: rotate(360deg) scale(0);\n    opacity: 0; }\n  87% {\n    transform: rotate(360deg) scale(0.9);\n    opacity: 1; }\n  100% {\n    transform: rotate(360deg) scale(0.7);\n    opacity: 1; } }\n\n.playkit-loading-backdrop {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  transition: 100ms opacity;\n  opacity: 0;\n  z-index: 5; }\n  .playkit-loading-backdrop.playkit-show {\n    opacity: 1; }\n    .playkit-loading-backdrop.playkit-show .playkit-spinner-container {\n      display: block; }\n  .playkit-loading-backdrop .playkit-spinner-container {\n    display: none;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate3d(-50px, -50px, 0); }\n\n.playkit-spinner {\n  width: 100px;\n  height: 100px;\n  position: relative;\n  animation: playkit-kaltura-spinner 2.5s infinite; }\n  .playkit-spinner span {\n    width: 8px;\n    height: 8px;\n    background-color: #fff;\n    display: block;\n    border-radius: 8px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: -4px;\n    margin-left: -4px; }\n    .playkit-spinner span:nth-child(1) {\n      transform: rotate(45deg) translateX(-25px) translateY(-25px);\n      background-color: #da1f26; }\n    .playkit-spinner span:nth-child(2) {\n      transform: rotate(90deg) translateX(-25px) translateY(-25px);\n      background-color: #06a885; }\n    .playkit-spinner span:nth-child(3) {\n      transform: rotate(135deg) translateX(-25px) translateY(-25px);\n      background-color: #009344; }\n    .playkit-spinner span:nth-child(4) {\n      transform: rotate(180deg) translateX(-25px) translateY(-25px);\n      background-color: #f8a61a; }\n    .playkit-spinner span:nth-child(5) {\n      transform: rotate(225deg) translateX(-25px) translateY(-25px);\n      background-color: #1b4a97; }\n    .playkit-spinner span:nth-child(6) {\n      transform: rotate(270deg) translateX(-25px) translateY(-25px);\n      background-color: #00abcc; }\n    .playkit-spinner span:nth-child(7) {\n      transform: rotate(315deg) translateX(-25px) translateY(-25px);\n      background-color: #b1d238; }\n    .playkit-spinner span:nth-child(8) {\n      transform: rotate(360deg) translateX(-25px) translateY(-25px);\n      background-color: #fcd203; }\n\n.playkit-control-button-container.playkit-control-play-pause .playkit-control-button {\n  transition: 400ms transform; }\n  .playkit-control-button-container.playkit-control-play-pause .playkit-control-button .playkit-icon-pause {\n    transition: 400ms opacity;\n    opacity: 0;\n    display: none; }\n  .playkit-control-button-container.playkit-control-play-pause .playkit-control-button .playkit-icon-play {\n    transition: 400ms opacity;\n    opacity: 1;\n    display: block; }\n  .playkit-control-button-container.playkit-control-play-pause .playkit-control-button.playkit-is-playing {\n    transform: rotate(360deg); }\n    .playkit-control-button-container.playkit-control-play-pause .playkit-control-button.playkit-is-playing .playkit-icon-pause {\n      opacity: 1;\n      display: block; }\n    .playkit-control-button-container.playkit-control-play-pause .playkit-control-button.playkit-is-playing .playkit-icon-play {\n      opacity: 0;\n      display: none; }\n\n.playkit-touch .playkit-control-button-container.playkit-control-play-pause {\n  display: none; }\n\n.playkit-player.playkit-size-sm .playkit-control-button-container.playkit-control-play-pause {\n  display: none; }\n\n.playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-volume-control-bar {\n  display: block !important; }\n\n.playkit-control-button-container.playkit-volume-control.playkit-is-muted .playkit-icon-volume-waves {\n  opacity: 0;\n  transform: translateX(-5px); }\n\n.playkit-control-button-container.playkit-volume-control.playkit-is-muted .playkit-icon-volume-mute {\n  opacity: 1;\n  transform: scale(1); }\n\n.playkit-control-button-container.playkit-volume-control.playkit-dragging-active .playkit-volume-control-bar {\n  display: block; }\n\n.playkit-control-button-container.playkit-volume-control .playkit-icon-volume-waves {\n  transform: translateX(0px); }\n\n.playkit-control-button-container.playkit-volume-control .playkit-icon-volume-mute {\n  opacity: 1;\n  transform: scale(0); }\n\n.playkit-control-button-container.playkit-volume-control .playkit-icon-volume-waves, .playkit-control-button-container.playkit-volume-control .playkit-icon-volume-mute {\n  transition: 300ms transform, 300ms opacity; }\n\n.playkit-control-button-container.playkit-volume-control i {\n  position: absolute;\n  top: 0;\n  left: 0; }\n\n.playkit-volume-control-bar {\n  position: absolute;\n  z-index: 2;\n  bottom: 38px;\n  left: 0px;\n  display: block;\n  height: 112px;\n  width: 34px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);\n  background-color: #333333;\n  padding: 6px;\n  display: none; }\n  .playkit-volume-control-bar:before {\n    position: absolute;\n    width: 34px;\n    height: 14px;\n    bottom: -8px;\n    left: 0;\n    content: ' ';\n    display: block; }\n  .playkit-volume-control-bar .playkit-bar {\n    background-color: #424242;\n    height: 100%;\n    position: relative;\n    cursor: pointer; }\n  .playkit-volume-control-bar .playkit-progress {\n    position: absolute;\n    bottom: 0px;\n    left: 0px;\n    width: 100%;\n    border-radius: 0 0 2px 2px;\n    background-color: #01ACCD; }\n\n.playkit-player.playkit-smart-container-open .playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-volume-control-bar {\n  display: none !important; }\n\n.playkit-touch .playkit-control-button-container.playkit-volume-control.playkit-hover .playkit-volume-control-bar {\n  display: none !important; }\n\n.playkit-control-button-container.playkit-control-fullscreen .playkit-control-button {\n  transition: 100ms transform;\n  transform: scale(1); }\n  .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button .playkit-icon-minimize {\n    display: none; }\n  .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-maximize {\n    display: none; }\n  .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-minimize {\n    display: block; }\n\n.playkit-player:not(.playkit-touch) .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button:hover {\n  transform: scale(1.1); }\n\n.playkit-player .playkit-seek-bar {\n  padding: 6px 0;\n  cursor: pointer;\n  position: relative; }\n  .playkit-player .playkit-seek-bar:hover .playkit-time-preview,\n  .playkit-player .playkit-seek-bar:hover .playkit-frame-preview, .playkit-player .playkit-seek-bar.playkit-hover .playkit-time-preview,\n  .playkit-player .playkit-seek-bar.playkit-hover .playkit-frame-preview, .playkit-player .playkit-seek-bar.playkit-dragging-active .playkit-time-preview,\n  .playkit-player .playkit-seek-bar.playkit-dragging-active .playkit-frame-preview {\n    display: block; }\n  .playkit-player .playkit-seek-bar:hover .playkit-progress-bar .playkit-scrubber, .playkit-player .playkit-seek-bar.playkit-hover .playkit-progress-bar .playkit-scrubber, .playkit-player .playkit-seek-bar.playkit-dragging-active .playkit-progress-bar .playkit-scrubber {\n    transform: scale(1); }\n  .playkit-player .playkit-seek-bar:hover .playkit-progress-bar .playkit-virtual-progress, .playkit-player .playkit-seek-bar.playkit-hover .playkit-progress-bar .playkit-virtual-progress, .playkit-player .playkit-seek-bar.playkit-dragging-active .playkit-progress-bar .playkit-virtual-progress {\n    display: block; }\n  .playkit-player .playkit-seek-bar.playkit-ad-break {\n    cursor: initial; }\n    .playkit-player .playkit-seek-bar.playkit-ad-break .playkit-progress-bar .playkit-progress {\n      background-color: #F9A71B; }\n  .playkit-player .playkit-seek-bar.playkit-live .playkit-progress-bar .playkit-progress {\n    background-color: #DA1F26; }\n  .playkit-player .playkit-seek-bar .playkit-progress-bar {\n    height: 4px;\n    background-color: rgba(255, 255, 255, 0.3);\n    border-radius: 2px;\n    position: relative; }\n    .playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-progress {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      z-index: 2;\n      border-radius: 2px 0 0 2px;\n      background-color: #01ACCD; }\n    .playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-virtual-progress {\n      display: none; }\n    .playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-buffered, .playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-virtual-progress {\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      z-index: 1;\n      border-radius: 2px 0 0 2px;\n      background-color: rgba(255, 255, 255, 0.3); }\n    .playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-scrubber {\n      position: absolute;\n      z-index: 3;\n      cursor: pointer;\n      display: block;\n      top: -6px;\n      right: -8px;\n      border-radius: 8px;\n      height: 16px;\n      width: 16px;\n      background-color: #FFFFFF;\n      box-shadow: 0 0 31px 0 rgba(0, 0, 0, 0.3);\n      transform: scale(0);\n      transition: 100ms transform; }\n      .playkit-player .playkit-seek-bar .playkit-progress-bar .playkit-scrubber:active {\n        opacity: 1;\n        cursor: grabbing; }\n  .playkit-player .playkit-seek-bar .playkit-frame-preview {\n    position: absolute;\n    bottom: 16px;\n    left: 0;\n    height: 94px;\n    width: 164px;\n    border: 2px solid rgba(255, 255, 255, 0.2);\n    border-radius: 4px;\n    z-index: 10; }\n    .playkit-player .playkit-seek-bar .playkit-frame-preview .playkit-frame-preview-img {\n      background-size: auto 100%;\n      width: 100%;\n      height: 100%;\n      position: relative; }\n  .playkit-player .playkit-seek-bar .playkit-time-preview {\n    position: absolute;\n    bottom: 22px;\n    left: 0;\n    z-index: 11;\n    height: 22px;\n    min-width: 48px;\n    padding: 0 3px;\n    text-align: center;\n    border-radius: 3px;\n    background-color: rgba(0, 0, 0, 0.7);\n    font-size: 13px;\n    font-weight: bold;\n    line-height: 22px;\n    color: #fff; }\n  .playkit-player .playkit-seek-bar .playkit-time-preview,\n  .playkit-player .playkit-seek-bar .playkit-frame-preview {\n    display: none; }\n\n.playkit-touch .playkit-virtual-progress, .playkit-touch .playkit-time-preview, .playkit-touch .playkit-frame-preview {\n  display: none !important; }\n\n.playkit-player.playkit-size-sm .playkit-virtual-progress, .playkit-player.playkit-size-sm .playkit-time-preview, .playkit-player.playkit-size-sm .playkit-frame-preview {\n  display: none; }\n\n.playkit-player .playkit-time-display {\n  display: inline-block;\n  line-height: 32px;\n  vertical-align: top;\n  font-size: 14px;\n  padding: 0 23px;\n  font-weight: bold; }\n\n.playkit-touch .playkit-time-display {\n  padding-left: 0; }\n\n.playkit-player.playkit-size-sm .playkit-player .playkit-time-display {\n  padding: 0 12px 0 0; }\n\n.playkit-player .playkit-video-playing-title {\n  font-size: 15px;\n  font-weight: bold;\n  line-height: 18px;\n  padding: 6px 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap; }\n\n.playkit-player .playkit-bottom-bar {\n  background: linear-gradient(180deg, transparent 0%, rgba(0, 0, 0, 0.6) 100%);\n  padding: 6px 16px;\n  color: #fff;\n  opacity: 0;\n  visibility: hidden;\n  transition: 100ms opacity;\n  width: 100%;\n  margin-top: auto;\n  position: absolute;\n  z-index: 10;\n  bottom: 0;\n  left: 0; }\n  .playkit-player .playkit-bottom-bar .playkit-left-controls {\n    float: left;\n    text-align: left; }\n    .playkit-player .playkit-bottom-bar .playkit-left-controls .playkit-control-button-container:first-child {\n      margin-left: 0px; }\n  .playkit-player .playkit-bottom-bar .playkit-right-controls {\n    float: right;\n    text-align: left; }\n    .playkit-player .playkit-bottom-bar .playkit-right-controls .playkit-control-button-container:last-child {\n      margin-right: 0px; }\n  .playkit-player .playkit-bottom-bar .playkit-control-button-container {\n    margin: 0 6px; }\n\n.playkit-player.playkit-hover .playkit-bottom-bar,\n.playkit-player.playkit-state-paused .playkit-bottom-bar,\n.playkit-player.playkit-menu-active .playkit-bottom-bar {\n  opacity: 1;\n  visibility: visible; }\n\n.playkit-player.playkit-overlay-active .playkit-bottom-bar {\n  opacity: 0;\n  visibility: hidden; }\n\n.playkit-player.playkit-size-sm .playkit-bottom-bar {\n  padding: 6px 8px; }\n  .playkit-player.playkit-size-sm .playkit-bottom-bar .playkit-time-display {\n    padding-left: 0; }\n\n.playkit-player .playkit-top-bar {\n  background: linear-gradient(0deg, transparent 0%, rgba(0, 0, 0, 0.6) 100%);\n  padding: 14px 16px;\n  color: #fff;\n  opacity: 0;\n  visibility: hidden;\n  transition: 100ms opacity;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  left: 0; }\n  .playkit-player .playkit-top-bar .playkit-left-controls {\n    text-align: left;\n    min-width: 0; }\n  .playkit-player .playkit-top-bar .playkit-right-controls {\n    text-align: left; }\n    .playkit-player .playkit-top-bar .playkit-right-controls .playkit-control-button-container {\n      margin: 0 6px; }\n      .playkit-player .playkit-top-bar .playkit-right-controls .playkit-control-button-container:last-child {\n        margin-right: 0; }\n\n.playkit-player.playkit-hover .playkit-top-bar,\n.playkit-player.playkit-state-paused .playkit-top-bar,\n.playkit-player.playkit-menu-active .playkit-top-bar {\n  opacity: 1;\n  visibility: visible; }\n\n.playkit-player.playkit-overlay-active .playkit-top-bar {\n  opacity: 0;\n  visibility: hidden; }\n\n.playkit-player.playkit-size-sm .playkit-player .playkit-top-bar {\n  padding: 8px 8px 20px 8px; }\n\n@keyframes playkit-overlayActionIconIn {\n  0% {\n    opacity: 0;\n    transform: scale(0); }\n  10% {\n    opacity: 0.1;\n    transform: scale(0.1); }\n  20% {\n    opacity: 0.3;\n    transform: scale(0.2); }\n  30% {\n    opacity: 0.5;\n    transform: scale(0.3); }\n  40% {\n    opacity: 0.7;\n    transform: scale(0.4); }\n  50% {\n    opacity: 0.9;\n    transform: scale(0.5); }\n  60% {\n    opacity: 0.9;\n    transform: scale(0.5); }\n  70% {\n    opacity: 0.9;\n    transform: scale(0.5); }\n  75% {\n    opacity: 0.9;\n    transform: scale(0.5); }\n  80% {\n    opacity: 1;\n    transform: scale(0.5); }\n  85% {\n    opacity: 1;\n    transform: scale(0.5); }\n  90% {\n    opacity: 1;\n    transform: scale(0.5); }\n  93% {\n    opacity: 0.7;\n    transform: scale(0.5); }\n  95% {\n    opacity: 0.5;\n    transform: scale(0.5); }\n  98% {\n    opacity: 0.2;\n    transform: scale(0.5); }\n  100% {\n    opacity: 0.0;\n    transform: scale(0.5); } }\n\n.playkit-overlay-action {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%; }\n  .playkit-overlay-action.playkit-in .playkit-icon {\n    animation: playkit-overlayActionIconIn 300ms linear forwards; }\n  .playkit-overlay-action .playkit-icon {\n    width: 144px;\n    height: 144px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin: -72px 0 0 -72px;\n    opacity: 0; }\n\n.playkit-pre-playback-play-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-position: center center;\n  background-size: contain;\n  background-repeat: no-repeat; }\n  .playkit-pre-playback-play-overlay.playkit-has-poster {\n    background-color: #000; }\n  .playkit-pre-playback-play-overlay .playkit-pre-playback-play-button {\n    z-index: 1;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    height: 108px;\n    width: 108px;\n    border: 2px solid rgba(255, 255, 255, 0.2);\n    background-color: rgba(0, 0, 0, 0.5);\n    margin: -54px 0 0 -54px;\n    border-radius: 54px;\n    padding: 20px;\n    cursor: pointer; }\n    .playkit-pre-playback-play-overlay .playkit-pre-playback-play-button:hover {\n      border: 2px solid rgba(255, 255, 255, 0.4); }\n    .playkit-pre-playback-play-overlay .playkit-pre-playback-play-button:active {\n      opacity: 0.7;\n      transform: scale(1); }\n\n.playkit-pre-playback .playkit-player-gui {\n  opacity: 0 !important;\n  display: none; }\n\n.playkit-btn-skip-ad {\n  position: absolute;\n  bottom: 60px;\n  right: 16px; }\n\n.playkit-skip-ad {\n  color: #fff;\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 24px;\n  text-shadow: 0 0 6px rgba(0, 0, 0, 0.6);\n  position: absolute;\n  bottom: 66px;\n  right: 16px; }\n\n.playkit-live-tag {\n  color: #DA1F26;\n  font-size: 14px;\n  font-weight: bold;\n  letter-spacing: 1px;\n  line-height: 19px;\n  border: 2px solid #DA1F26;\n  border-radius: 4px;\n  text-transform: uppercase;\n  text-align: center;\n  display: inline-block;\n  padding: 0 3px 0 5px;\n  margin: 5px 23px;\n  cursor: default; }\n  .playkit-live-tag.playkit-non-live-playhead {\n    background-color: rgba(255, 255, 255, 0.2);\n    border: none;\n    color: #fff;\n    line-height: 23px;\n    padding: 0 5px 0 7px;\n    cursor: pointer; }\n\n.playkit-player.playkit-size-sm .playkit-live-tag {\n  margin-left: 0; }\n\n.playkit-icon {\n  display: inline-block;\n  font-size: 0;\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: 50% 50%; }\n\n.playkit-icon-maximize {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M800 269.255v114.745c0 17.673 14.327 32 32 32s32-14.327 32-32v-192c0-17.673-14.327-32-32-32h-192c-17.673 0-32 14.327-32 32s14.327 32 32 32h114.745l-137.373 137.373c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0l137.373-137.373z' /%3E %3Cpath fill='%23fff' d='M224 754.745v-114.745c0-17.673-14.327-32-32-32s-32 14.327-32 32v192c0 17.673 14.327 32 32 32h192c17.673 0 32-14.327 32-32s-14.327-32-32-32h-114.745l137.373-137.373c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0l-137.373 137.373z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-minimize {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M672 306.745v-114.745c0-17.673-14.327-32-32-32s-32 14.327-32 32v192c0 17.673 14.327 32 32 32h192c17.673 0 32-14.327 32-32s-14.327-32-32-32h-114.745l137.373-137.373c12.497-12.497 12.497-32.758 0-45.255s-32.758-12.497-45.255 0l-137.373 137.373z' /%3E%3Cpath fill='%23fff' d='M352 717.255v114.745c0 17.673 14.327 32 32 32s32-14.327 32-32v-192c0-17.673-14.327-32-32-32h-192c-17.673 0-32 14.327-32 32s14.327 32 32 32h114.745l-137.373 137.373c-12.497 12.497-12.497 32.758 0 45.255s32.758 12.497 45.255 0l137.373-137.373z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-play {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M796.806 461.202c44.919 28.075 44.739 73.706 0 101.668l-459.472 287.171c-44.919 28.075-81.334 7.915-81.334-45.305v-585.4c0-53.096 36.595-73.266 81.334-45.305l459.472 287.171z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-pause {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M256 287.843c0-35.259 28.407-63.843 64-63.843 35.346 0 64 28.564 64 63.843v448.314c0 35.259-28.407 63.843-64 63.843-35.346 0-64-28.564-64-63.843v-448.314zM640 287.843c0-35.259 28.407-63.843 64-63.843 35.346 0 64 28.564 64 63.843v448.314c0 35.259-28.407 63.843-64 63.843-35.346 0-64-28.564-64-63.843v-448.314z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-base {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M128 416v192h96v-192h-96zM64 383.853c0-17.592 14.012-31.853 32.094-31.853h159.813c17.725 0 32.094 14.581 32.094 31.853v256.295c0 17.592-14.012 31.853-32.094 31.853h-159.813c-17.725 0-32.094-14.581-32.094-31.853v-256.295z' /%3E%3Cpath fill='%23fff' d='M288 634.342l160 88.889v-422.462l-160 88.889v244.684zM224 352l231.787-128.771c31.046-17.248 56.213-2.487 56.213 32.476v512.589c0 35.184-25.054 49.786-56.213 32.476l-231.787-128.771v-320z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-waves {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M802.017 837.177c82.359-86.627 129.183-201.774 129.183-324.26 0-123.976-47.976-240.409-132.127-327.329-12.293-12.697-32.552-13.025-45.249-0.732s-13.025 32.552-0.732 45.249c72.692 75.084 114.109 175.597 114.109 282.812 0 105.928-40.422 205.331-111.566 280.162-12.177 12.808-11.666 33.063 1.143 45.24s33.063 11.666 45.24-1.143z' /%3E%3Cpath fill='%23fff' d='M667.436 743.221c67.761-60.884 107.273-147.888 107.273-241.233 0-87.318-34.552-169.203-94.836-229.446-12.501-12.493-32.762-12.486-45.255 0.015s-12.486 32.762 0.015 45.255c48.375 48.342 76.075 113.989 76.075 184.176 0 75.021-31.679 144.776-86.048 193.627-13.146 11.812-14.227 32.044-2.416 45.19s32.044 14.227 45.19 2.416z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-wave {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M667.436 743.221c67.761-60.884 107.273-147.888 107.273-241.233 0-87.318-34.552-169.203-94.836-229.446-12.501-12.493-32.762-12.486-45.255 0.015s-12.486 32.762 0.015 45.255c48.375 48.342 76.075 113.989 76.075 184.176 0 75.021-31.679 144.776-86.048 193.627-13.146 11.812-14.227 32.044-2.416 45.19s32.044 14.227 45.19 2.416z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-volume-mute {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M768 466.745l-67.986-67.986c-12.213-12.213-32.654-12.393-45.151 0.104-12.584 12.584-12.543 32.711-0.104 45.151l67.986 67.986-67.986 67.986c-12.213 12.213-12.393 32.654 0.104 45.151 12.584 12.584 32.711 12.543 45.151 0.104l67.986-67.986 67.986 67.986c12.213 12.213 32.654 12.393 45.151-0.104 12.584-12.584 12.543-32.711 0.104-45.151l-67.986-67.986 67.986-67.986c12.213-12.213 12.393-32.654-0.104-45.151-12.584-12.584-32.711-12.543-45.151-0.104l-67.986 67.986z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-close {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M573.162 512l214.269-214.269c16.772-16.772 16.688-44.071-0.202-60.96-17.007-17.007-44.182-16.98-60.96-0.202l-214.269 214.269-214.269-214.269c-16.772-16.772-44.071-16.688-60.96 0.202-17.007 17.007-16.98 44.182-0.202 60.96l214.269 214.269-214.269 214.269c-16.772 16.772-16.688 44.071 0.202 60.96 17.007 17.007 44.182 16.98 60.96 0.202l214.269-214.269 214.269 214.269c16.772 16.772 44.071 16.688 60.96-0.202 17.007-17.007 16.98-44.182 0.202-60.96l-214.269-214.269z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-share {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M318.641 446.219l236.155-142.257c-0.086-1.754-0.129-3.52-0.129-5.295 0-58.91 47.756-106.667 106.667-106.667s106.667 47.756 106.667 106.667c0 58.91-47.756 106.667-106.667 106.667-33.894 0-64.095-15.808-83.633-40.454l-236.467 142.445c-0.132-3.064-0.394-6.095-0.779-9.087l7.271-12.835-0.117 53.333-7.183-12.743c0.399-3.046 0.67-6.131 0.806-9.252l236.467 142.383c19.538-24.648 49.741-40.457 83.636-40.457 58.91 0 106.667 47.756 106.667 106.667s-47.756 106.667-106.667 106.667c-58.91 0-106.667-47.756-106.667-106.667 0-1.775 0.043-3.539 0.129-5.293l-236.19-142.216c-19.528 24.867-49.868 40.841-83.939 40.841-58.91 0-106.667-47.756-106.667-106.667s47.756-106.667 106.667-106.667c34.091 0 64.447 15.993 83.974 40.886zM234.667 554.667c23.564 0 42.667-19.103 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.103-42.667 42.667s19.103 42.667 42.667 42.667zM661.333 341.333c23.564 0 42.667-19.103 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.103-42.667 42.667s19.103 42.667 42.667 42.667zM661.333 768c23.564 0 42.667-19.103 42.667-42.667s-19.103-42.667-42.667-42.667c-23.564 0-42.667 19.103-42.667 42.667s19.103 42.667 42.667 42.667z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-settings {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M803.451 546.033c2.552-22.107 2.552-44.408 0.246-64.81-1.084-6.208-6.499-10.721-12.535-10.671-30.286 0.533-57.727-17.773-68.866-45.941s-3.64-60.291 18.795-80.593c3.935-3.569 4.416-9.583 0.92-13.959-13.595-17.35-29.146-33.073-46.311-46.83-4.23-3.38-10.359-2.886-14.783 1.966-14.421 14.721-34.212 22.938-54.434 22.761-9.009 0.041-17.942-1.652-26.865-5.212-28.414-11.992-46.226-40.546-44.49-71.542 0.335-5.319-3.547-9.972-8.785-10.588-21.926-2.538-44.068-2.595-65.961-0.176-5.349 0.6-9.341 5.207-9.175 10.514 1.027 30.384-16.802 58.251-45.764 70.431-8.238 3.138-16.993 4.701-25.207 4.609-20.599 0.206-40.395-7.982-55.482-23.363-2.014-2.187-4.849-3.435-7.553-3.445-2.441 0.015-4.811 0.83-6.513 2.139-17.541 13.798-33.455 29.547-47.262 46.729-3.418 4.337-2.922 10.575 0.97 14.162 22.816 20.692 30.19 53.479 17.807 83.351-13.035 27.396-41.135 44.394-71.446 43.222-5.112-0.197-9.499 3.606-10.086 9.179-2.673 22.023-2.673 44.289-0.212 64.867 1.080 6.27 6.559 10.824 13.309 10.737l2.225 0.006c28.935 0.604 54.726 18.391 65.634 45.374 11.22 28.205 3.921 60.407-18.565 81.204-3.866 3.509-4.341 9.418-0.895 13.742 13.545 17.354 29.027 33.106 46.042 46.867 4.303 3.449 10.547 2.954 14.986-1.907 14.414-14.76 34.226-23.001 54.43-22.82 9.070-0.052 18.063 1.668 27.041 5.299 28.19 12.071 45.891 40.41 44.347 71.468-0.342 5.312 3.536 9.962 8.802 10.578 21.915 2.548 44.049 2.605 65.929 0.176 5.364-0.604 9.364-5.227 9.191-10.598-0.997-30.358 16.84-58.183 45.452-70.201 8.263-3.256 17.070-4.908 25.521-4.865 20.676-0.206 40.533 8.070 55.398 23.38 2.039 2.195 4.898 3.446 7.673 3.455 2.268-0.011 4.468-0.776 6.321-2.228 17.625-13.724 33.599-29.444 47.415-46.611 3.426-4.348 2.928-10.6-0.863-14.097-22.358-20.082-30.057-51.85-19.372-79.939s37.55-46.71 67.745-46.857h5.229c5.12-0.026 9.413-3.875 9.996-8.962zM861.733 552.735c-3.961 34.572-33.157 60.748-68.129 60.926h-5.235c-5.803 0.028-10.991 3.624-13.054 9.048s-0.577 11.558 4.020 15.69c26.602 24.519 29.853 65.381 7.275 94.034-16.847 20.934-36.063 39.845-57.197 56.302-12.034 9.427-26.861 14.584-42.368 14.658-19.254-0.051-37.623-8.090-50.269-21.718-3.221-3.315-7.66-5.165-12.712-5.118-1.425-0.007-2.839 0.258-3.554 0.532-5.581 2.346-9.136 7.892-8.937 13.966 1.152 35.958-25.509 66.771-61.307 70.804-26.332 2.923-52.909 2.854-79.246-0.208-36.286-4.245-62.897-36.157-60.576-72.186 0.304-6.123-3.235-11.788-8.302-13.964-1.328-0.536-2.748-0.808-4.606-0.8-4.651-0.041-9.118 1.817-11.635 4.367-24.544 27.036-65.886 30.311-94.481 7.394-20.587-16.65-39.207-35.595-55.308-56.226-22.552-28.277-19.261-69.208 7.317-93.334 4.474-4.138 5.939-10.604 3.748-16.115-2.052-5.076-6.932-8.442-11.794-8.55-36.436 0.464-66.759-24.741-72.949-60.89-3.243-26.718-3.243-53.731-0.055-79.964 3.744-35.827 34.642-62.605 70.642-61.219 6.877 0.266 13.251-3.59 15.584-8.401 2.309-5.59 0.861-12.028-3.789-16.247-26.603-24.51-29.856-65.368-7.293-93.994 16.767-20.868 35.856-39.76 57.129-56.491 12.099-9.322 26.921-14.42 42.463-14.513 19.308 0.059 37.717 8.166 50.145 21.684 3.263 3.322 7.737 5.172 12.994 5.126 1.471 0.015 2.933-0.245 3.363-0.39 5.601-2.359 9.165-7.93 8.957-14.077-1.126-35.941 25.542-66.721 61.322-70.731 26.322-2.909 52.889-2.84 79.251 0.212 36.244 4.265 62.828 36.125 60.546 72.343-0.339 6.047 3.159 11.654 8.186 13.782 1.381 0.55 2.855 0.829 4.726 0.823 4.663 0.040 9.142-1.819 11.615-4.312 24.439-26.99 65.656-30.312 94.137-7.557 20.721 16.607 39.456 35.549 55.655 56.225 22.667 28.35 19.38 69.439-7.531 93.846-4.33 3.918-5.776 10.112-3.628 15.542s7.438 8.96 13.543 8.854c34.999-0.298 65.076 24.766 71.337 60.925 3.065 26.552 3.065 53.368 0 79.92zM511.956 589.951c43.215-0.108 78.137-35.17 78.072-78.385 0-31.732-19.132-60.334-48.461-72.448s-63.068-5.35-85.461 17.133c-22.393 22.483-29.022 56.249-16.791 85.529s40.909 48.298 72.641 48.171zM512.146 648.617c-55.438 0.221-105.58-33.029-126.965-84.224s-9.796-110.233 29.358-149.543c39.153-39.31 98.144-51.136 149.424-29.956s84.731 71.189 84.732 126.627c0.114 75.549-60.999 136.907-136.548 137.096z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-check {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M342.481 563.894c-12.577-12.416-32.838-12.285-45.254 0.292s-12.285 32.838 0.292 45.254l118.857 117.333c13.275 13.105 34.901 12.123 46.933-2.131l297.143-352c11.4-13.505 9.694-33.694-3.811-45.094s-33.694-9.694-45.094 3.811l-274.828 325.566-94.238-93.030z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-language {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 800c159.058 0 288-128.942 288-288s-128.942-288-288-288c-159.058 0-288 128.942-288 288s128.942 288 288 288zM512 864c-194.404 0-352-157.596-352-352s157.596-352 352-352c194.404 0 352 157.596 352 352s-157.596 352-352 352z' /%3E%3Cpath fill='%23fff' d='M441.231 173.324c-76.632 84.62-121.231 207.208-121.231 338.676 0 134.304 46.556 259.282 126.083 343.936l46.646-43.82c-68.041-72.429-108.728-181.651-108.728-300.116 0-116.001 39.001-223.203 104.669-295.716l-47.438-42.96z' /%3E%3Cpath fill='%23fff' d='M584.297 173.324c76.632 84.62 121.231 207.208 121.231 338.676 0 134.304-46.556 259.282-126.083 343.936l-46.646-43.82c68.041-72.429 108.728-181.651 108.728-300.116 0-116.001-39.001-223.203-104.669-295.716l47.438-42.96z' /%3E%3Cpath fill='%23fff' d='M840.432 419.786c-81.65-22.637-200.551-35.786-328.432-35.786-128.056 0-247.103 13.185-328.758 35.876l17.136 61.663c75.47-20.972 188.938-33.539 311.622-33.539 122.521 0 235.854 12.533 311.334 33.459l17.099-61.674z' /%3E%3Cpath fill='%23fff' d='M840.432 605.754c-81.65 22.637-200.551 35.786-328.432 35.786-128.056 0-247.103-13.185-328.758-35.876l17.136-61.663c75.47 20.972 188.938 33.539 311.622 33.539 122.521 0 235.854-12.533 311.334-33.459l17.099 61.674z' /%3E%3Cpath fill='%23fff' d='M480 192h64v640h-64v-640z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-quality {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M159.904 192h288.234c17.277 0 31.862 14.323 31.862 31.992 0 17.792-14.261 31.993-31.853 31.994l-288.147 0.014v544.174c-0.017-0.18 704-0.174 704-0.174v-128.006c0-17.795 14.327-31.994 32-31.994 17.796 0 32 14.34 32 32.029v128.145c0 35.25-28.639 63.826-63.904 63.826h-704.192c-35.293 0-63.904-28.875-63.904-63.826v-544.348c0-35.25 28.639-63.826 63.904-63.826zM501.818 378.182c108.449 0 196.364-87.915 196.364-196.364 0-29.091 43.636-29.091 43.636 0 0 108.449 87.915 196.364 196.364 196.364 29.091 0 29.091 43.636 0 43.636-108.449 0-196.364 87.915-196.364 196.364 0 29.091-43.636 29.091-43.636 0 0-108.449-87.915-196.364-196.364-196.364-29.091 0-29.091-43.636 0-43.636z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-captions {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M160 771.213c-0.017-0.172 704-0.166 704-0.166v-518.261c0.017 0.172-704 0.166-704 0.166v518.261zM96 252.787c0-33.572 28.639-60.787 63.904-60.787h704.192c35.293 0 63.904 27.5 63.904 60.787v518.427c0 33.572-28.639 60.787-63.904 60.787h-704.192c-35.293 0-63.904-27.5-63.904-60.787v-518.427z' /%3E%3Cpath fill='%23fff' d='M490.583 568.655c0 7.729-2.311 15.987-6.933 24.777s-11.668 17.162-21.14 25.118c-9.471 7.956-21.405 14.358-35.801 19.208s-30.611 7.274-48.644 7.274c-38.34 0-68.268-11.176-89.787-33.528s-32.278-52.319-32.278-89.901c0-25.459 4.925-47.962 14.775-67.511s24.095-34.665 42.734-45.348c18.639-10.684 40.916-16.025 66.829-16.025 16.063 0 30.8 2.349 44.212 7.047s24.777 10.759 34.096 18.185c9.32 7.425 16.442 15.343 21.367 23.754s7.388 16.253 7.388 23.527c0 7.425-2.766 13.714-8.297 18.867s-12.237 7.729-20.117 7.729c-5.152 0-9.433-1.326-12.843-3.978s-7.236-6.933-11.479-12.843c-7.577-11.517-15.495-20.155-23.754-25.913s-18.753-8.638-31.482-8.638c-18.336 0-33.111 7.16-44.325 21.481s-16.821 33.907-16.821 58.759c0 11.669 1.44 22.39 4.319 32.164s7.047 18.109 12.502 25.004c5.455 6.895 12.047 12.123 19.776 15.684s16.215 5.342 25.459 5.342c12.426 0 23.072-2.879 31.937-8.638s16.707-14.548 23.527-26.368c3.789-6.971 7.88-12.426 12.275-16.366s9.774-5.91 16.139-5.91c7.577 0 13.866 2.879 18.867 8.638s7.501 11.896 7.501 18.412zM767.219 568.655c0 7.729-2.311 15.987-6.933 24.777s-11.668 17.162-21.14 25.118c-9.471 7.956-21.405 14.358-35.801 19.208s-30.611 7.274-48.644 7.274c-38.34 0-68.268-11.176-89.787-33.528s-32.278-52.319-32.278-89.901c0-25.459 4.925-47.962 14.775-67.511s24.095-34.665 42.734-45.348c18.639-10.684 40.916-16.025 66.829-16.025 16.063 0 30.8 2.349 44.212 7.047s24.777 10.759 34.096 18.185c9.32 7.425 16.442 15.343 21.367 23.754s7.388 16.253 7.388 23.527c0 7.425-2.766 13.714-8.297 18.867s-12.237 7.729-20.117 7.729c-5.152 0-9.433-1.326-12.843-3.978s-7.236-6.933-11.479-12.843c-7.577-11.517-15.495-20.155-23.754-25.913s-18.753-8.638-31.482-8.638c-18.336 0-33.111 7.16-44.325 21.481s-16.821 33.907-16.821 58.759c0 11.669 1.44 22.39 4.319 32.164s7.047 18.109 12.502 25.004c5.455 6.895 12.047 12.123 19.776 15.684s16.215 5.342 25.459 5.342c12.426 0 23.072-2.879 31.937-8.638s16.707-14.548 23.527-26.368c3.789-6.971 7.88-12.426 12.275-16.366s9.774-5.91 16.139-5.91c7.577 0 13.866 2.879 18.867 8.638s7.501 11.896 7.501 18.412z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-speed {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 832c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM480.239 643.971c-0.158-1.272-0.239-2.566-0.239-3.876v-192.19c0-17.621 14.204-31.905 32-31.905 17.673 0 32 14.497 32 31.905v192.19c0 1.313-0.079 2.607-0.232 3.878 55.325 14.128 96.232 64.301 96.232 124.027 0 70.692-57.308 128-128 128s-128-57.308-128-128c0-59.729 40.91-109.903 96.239-124.029zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-speed-down {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM401.852 670.758c-1.056-0.826-2.077-1.728-3.055-2.706l-113.005-113.005c-12.533-12.533-12.65-32.737-0.066-45.321 12.497-12.497 32.536-12.719 45.321 0.066l113.005 113.005c0.976 0.976 1.876 1.998 2.701 3.059 19.106-11.343 41.416-17.855 65.248-17.855 70.692 0 128 57.308 128 128s-57.308 128-128 128c-70.692 0-128-57.308-128-128 0-23.829 6.511-46.137 17.852-65.242zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-speed-up {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M512 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM546.516 612.708c0.524-1.23 1.129-2.446 1.819-3.64l79.906-138.402c8.862-15.35 28.348-20.692 43.76-11.794 15.305 8.837 20.707 28.135 11.666 43.794l-79.906 138.402c-0.693 1.201-1.451 2.34-2.268 3.416 23.761 23.238 38.508 55.655 38.508 91.516 0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 11.959 0 23.535 1.64 34.516 4.708zM928 576c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-194.404-157.596-352-352-352s-352 157.596-352 352c0 17.673-14.327 32-32 32s-32-14.327-32-32c0-229.75 186.25-416 416-416s416 186.25 416 416z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-audio {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M768 625.124v-354.531l-352 135.385v330.022c0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 23.314 0 45.173 6.233 64 17.124v-241.124c0-13.241 8.155-25.114 20.513-29.867l416-160c20.96-8.062 43.487 7.41 43.487 29.867v512c0 70.692-57.308 128-128 128s-128-57.308-128-128c0-70.692 57.308-128 128-128 23.314 0 45.173 6.233 64 17.124zM288 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64zM704 800c35.346 0 64-28.654 64-64s-28.654-64-64-64c-35.346 0-64 28.654-64 64s28.654 64 64 64z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-copy {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M703.727 320c35.497 0 64.273 28.482 64.273 64.003v351.993c0 35.348-28.862 64.003-64.273 64.003h-191.454c-35.496 0-64.271-28.48-64.273-64.001l255.727 0.001v-352c0 0-28.356 0.147-63.727 0.001v-63.912l63.727-0.088zM256 288.187c0-35.45 28.398-64.187 63.988-64.187h192.025c35.339 0 63.988 28.706 63.988 64.187v319.625c0 35.45-28.398 64.187-63.988 64.187h-192.025c-35.339 0-63.988-28.706-63.988-64.187v-319.625zM320 288v320h192v-320h-192z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-facebook {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M432 405.333h-80v106.667h80v320h133.333v-320h97.12l9.547-106.667h-106.667v-44.453c0-25.467 5.12-35.547 29.733-35.547h76.933v-133.333h-101.547c-95.893 0-138.453 42.213-138.453 123.067v90.267z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-twitter {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M832 316.614c-23.547 10.29-48.853 17.221-75.413 20.345 27.12-15.987 47.947-41.319 57.733-71.508-25.36 14.806-53.467 25.568-83.387 31.37-23.92-25.122-58.080-40.82-95.84-40.82-84.773 0-147.067 77.861-127.92 158.687-109.093-5.381-205.84-56.833-270.613-135.035-34.4 58.094-17.84 134.090 40.613 172.574-21.493-0.683-41.76-6.484-59.44-16.171-1.44 59.879 42.16 115.898 105.307 128.368-18.48 4.935-38.72 6.090-59.307 2.205 16.693 51.347 65.173 88.702 122.667 89.752-55.2 42.605-124.747 61.637-194.4 53.552 58.107 36.673 127.147 58.067 201.28 58.067 243.787 0 381.52-202.684 373.2-384.473 25.653-18.244 47.92-41.004 65.52-66.914v0z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-google-plus {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M352 556.8h127.040c-5.12 32.928-38.4 96.64-127.040 96.64-76.48 0-138.88-63.328-138.88-141.44 0-78.080 62.4-141.44 138.88-141.44 43.52 0 72.64 18.56 89.28 34.56l60.8-58.56c-39.040-36.48-89.6-58.56-150.080-58.56-123.84 0-224 100.16-224 224s100.16 224 224 224c129.28 0 215.072-90.88 215.072-218.88 0-14.72-1.632-25.92-3.552-37.12h-211.52v76.8zM800 544v96h-64v-96h-96v-64h96v-96h64v96h96v64h-96z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-linked-in {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M324.8 290.087c0 36.506-29.6 66.087-66.133 66.087s-66.133-29.581-66.133-66.087c0-36.48 29.6-66.087 66.133-66.087s66.133 29.607 66.133 66.087zM325.333 409.043h-133.333v422.957h133.333v-422.957zM538.187 409.043h-132.48v422.957h132.507v-222.026c0-123.45 160.773-133.549 160.773 0v222.026h133.013v-267.811c0-208.306-237.92-200.719-293.813-98.179v-56.967z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-email {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M256 768c-35.346 0-64-28.654-64-64v-352c0-35.346 28.654-64 64-64h512c35.346 0 64 28.654 64 64v352c0 35.346-28.654 64-64 64h-512zM512 467.488l147.52-115.488h-295.040l147.52 115.488zM748.48 352l-211.2 179.2c-0.713 1.308-1.572 2.532-2.56 3.648-12.707 12.158-32.733 12.158-45.44 0-0.988-1.116-1.847-2.34-2.56-3.648l-211.2-179.2h-19.52v352h512v-352h-19.52z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-embed {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M377.989 579.335c12.669 12.904 12.669 33.777 0 46.68-12.733 12.969-33.427 12.969-46.16 0l-104.727-106.667c-12.669-12.904-12.669-33.777 0-46.68l104.727-106.667c12.733-12.969 33.427-12.969 46.16 0 12.669 12.904 12.669 33.777 0 46.68l-81.812 83.327 81.812 83.327zM646.011 412.68c-12.669-12.904-12.669-33.777 0-46.68 12.733-12.969 33.427-12.969 46.16 0l104.727 106.667c12.669 12.904 12.669 33.777 0 46.68l-104.727 106.667c-12.733 12.969-33.427 12.969-46.16 0-12.669-12.904-12.669-33.777 0-46.68l81.812-83.327-81.812-83.327zM572.293 250.6c17.455 4.445 28.025 22.388 23.686 40.066l-104.727 426.669c-4.349 17.719-22.048 28.535-39.545 24.079-17.455-4.445-28.025-22.388-23.686-40.066l104.727-426.669c4.349-17.719 22.048-28.535 39.545-24.079z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-link {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M355.028 445.537c12.497 12.497 12.497 32.758 0 45.255s-32.758 12.497-45.255 0l-24.141-24.141c-49.92-49.92-49.832-130.999 0.094-180.925 49.984-49.984 130.995-50.025 180.955-0.064l113.266 113.266c49.964 49.964 49.935 130.955-0.064 180.955-12.497 12.497-32.758 12.497-45.255 0s-12.497-32.758 0-45.255c25.013-25.013 25.027-65.482 0.064-90.445l-113.266-113.266c-24.957-24.957-65.445-24.936-90.445 0.064-24.955 24.955-24.998 65.511-0.094 90.416l24.141 24.141zM668.972 578.463c-12.497-12.497-12.497-32.758 0-45.255s32.758-12.497 45.255 0l24.141 24.141c49.92 49.92 49.832 130.999-0.094 180.925-49.984 49.984-130.995 50.025-180.955 0.064l-113.266-113.266c-49.964-49.964-49.935-130.955 0.064-180.955 12.497-12.497 32.758-12.497 45.255 0s12.497 32.758 0 45.255c-25.013 25.013-25.027 65.482-0.064 90.445l113.266 113.266c24.957 24.957 65.445 24.936 90.445-0.064 24.955-24.955 24.998-65.511 0.094-90.416l-24.141-24.141z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-arrow-down {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M301.255 338.745c-24.994-24.994-65.516-24.994-90.51 0s-24.994 65.516 0 90.51l256 256c24.994 24.994 65.516 24.994 90.51 0l256-256c24.994-24.994 24.994-65.516 0-90.51s-65.516-24.994-90.51 0l-210.745 210.745-210.745-210.745z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-start-over {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M255.271 339.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z' /%3E%3C/svg%3E\"); }\n\n.playkit-icon-seek-forward {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' opacity='0.5' d='M765.529 323.053c-94.182-126.513-270.298-165.203-410.222-84.418-150.758 87.040-202.411 279.813-115.371 430.571s279.813 202.411 430.571 115.371c61.424-35.463 107.948-89.4 134.169-153.673 7.677-18.818 29.156-27.85 47.974-20.173s27.85 29.156 20.173 47.974c-32.339 79.269-89.818 145.906-165.517 189.611-185.96 107.364-423.747 43.649-531.111-142.311s-43.649-423.747 142.311-531.111c172.433-99.554 389.428-52.014 505.682 103.69l27.226-78.49c6.66-19.202 27.626-29.368 46.828-22.708s29.368 27.626 22.708 46.828l-52.434 151.164c-5.36 15.452-20.275 25.513-36.61 24.694l-159.799-8.011c-20.299-1.018-35.929-18.298-34.911-38.596s18.298-35.929 38.596-34.911l89.738 4.499z'/%3E%3Cpath fill='%23fff' d='M207.932 431.974c20.553-78.699 71.369-149.456 147.375-193.338 139.923-80.785 316.040-42.095 410.222 84.418l-89.738-4.499c-20.299-1.018-37.579 14.613-38.596 34.911s14.613 37.579 34.911 38.596l159.799 8.011c16.335 0.819 31.25-9.242 36.61-24.694l52.434-151.164c6.66-19.202-3.506-40.167-22.708-46.828s-40.167 3.506-46.828 22.708l-27.226 78.49c-116.254-155.703-333.248-203.244-505.682-103.69-91.184 52.645-152.976 136.648-179.618 230.523l69.044 26.555z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-seek-end {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M742.494 323.053c-94.182-126.513-270.298-165.203-410.222-84.418-150.758 87.040-202.411 279.813-115.371 430.571s279.813 202.411 430.571 115.371c61.424-35.463 107.948-89.4 134.169-153.673 7.677-18.818 29.156-27.85 47.974-20.173s27.85 29.156 20.173 47.974c-32.339 79.269-89.818 145.906-165.517 189.611-185.96 107.364-423.747 43.649-531.111-142.311s-43.649-423.747 142.311-531.111c172.433-99.554 389.428-52.014 505.682 103.69l27.226-78.49c6.66-19.202 27.626-29.368 46.828-22.708s29.368 27.626 22.708 46.828l-52.434 151.164c-5.36 15.452-20.275 25.513-36.61 24.694l-159.799-8.011c-20.299-1.018-35.929-18.298-34.911-38.596s18.298-35.929 38.596-34.911l89.738 4.499z'/%3E%3C/svg%3E\"); }\n\n.playkit-icon-rewind {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' opacity='0.5' d='M258.471 323.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M816.068 431.974c-20.553-78.699-71.369-149.456-147.375-193.338-139.923-80.785-316.040-42.095-410.222 84.418l89.738-4.499c20.299-1.018 37.579 14.613 38.596 34.911s-14.613 37.579-34.911 38.596l-159.799 8.011c-16.335 0.819-31.25-9.242-36.61-24.694l-52.434-151.164c-6.66-19.202 3.506-40.167 22.708-46.828s40.167 3.506 46.828 22.708l27.226 78.49c116.254-155.703 333.248-203.244 505.682-103.69 91.184 52.645 152.976 136.648 179.618 230.523l-69.044 26.555z'%3E%3C/path%3E%3C/svg%3E\"); }\n\n.playkit-icon-rewind-10 {\n  background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 1024 1024' width='36' height='36'%3E%3Cpath fill='%23fff' d='M258.471 323.053c94.182-126.513 270.298-165.203 410.222-84.418 150.758 87.040 202.411 279.813 115.371 430.571s-279.813 202.411-430.571 115.371c-61.424-35.463-107.948-89.4-134.169-153.673-7.677-18.818-29.156-27.85-47.974-20.173s-27.85 29.156-20.173 47.974c32.339 79.269 89.818 145.906 165.517 189.611 185.96 107.364 423.747 43.649 531.111-142.311s43.649-423.747-142.311-531.111c-172.433-99.554-389.428-52.014-505.682 103.69l-27.226-78.49c-6.66-19.202-27.626-29.368-46.828-22.708s-29.368 27.626-22.708 46.828l52.434 151.164c5.36 15.452 20.275 25.513 36.61 24.694l159.799-8.011c20.299-1.018 35.929-18.298 34.911-38.596s-18.298-35.929-38.596-34.911l-89.738 4.499z'%3E%3C/path%3E%3Cpath fill='%23fff' d='M413.327 636.083h67.358v-252.083h-48.527c-2.173 7.358-4.949 13.589-8.329 18.693s-7.726 9.139-13.037 12.106c-5.311 2.967-11.709 5.103-19.193 6.409s-16.417 1.958-26.798 1.958v41.302h48.527v171.616zM596.807 554.192c0 17.803 1.569 29.849 4.708 36.139s8.208 9.435 15.21 9.435c7.001 0 12.071-3.145 15.21-9.435s4.708-18.336 4.708-36.139v-83.316c0-17.803-1.569-29.849-4.708-36.139s-8.208-9.435-15.21-9.435c-7.001 0-12.071 3.145-15.21 9.435s-4.708 18.336-4.708 36.139v83.316zM529.449 512.534c0-25.398 1.75-46.405 5.251-63.021s8.812-29.789 15.934-39.522c7.122-9.732 16.176-16.497 27.16-20.295s23.962-5.697 38.93-5.697c14.969 0 27.945 1.899 38.93 5.697s20.038 10.563 27.16 20.295c7.122 9.732 12.433 22.906 15.934 39.522s5.251 37.622 5.251 63.021c0 25.636-1.75 46.702-5.251 63.199s-8.812 29.552-15.934 39.166c-7.122 9.613-16.176 16.2-27.16 19.761s-23.962 5.341-38.93 5.341c-14.969 0-27.945-1.78-38.93-5.341s-20.038-10.147-27.16-19.761c-7.122-9.613-12.433-22.668-15.934-39.166s-5.251-37.563-5.251-63.199z'%3E%3C/path%3E%3C/svg%3E\"); }\n\n.playkit-unmute-button-container {\n  display: inline-block;\n  position: absolute;\n  top: 13px;\n  left: 16px;\n  z-index: 15; }\n  .playkit-unmute-button-container a {\n    color: white; }\n  .playkit-unmute-button-container.playkit-show-icon-only .playkit-btn.playkit-unmute-button {\n    max-width: 64px; }\n    .playkit-unmute-button-container.playkit-show-icon-only .playkit-btn.playkit-unmute-button span {\n      transform: translateX(10px);\n      opacity: 0; }\n\n.playkit-btn.playkit-unmute-button {\n  font-size: 15px;\n  max-width: 200px;\n  transition: max-width 200ms;\n  padding: 0 16px;\n  white-space: nowrap; }\n  .playkit-btn.playkit-unmute-button span {\n    transform: translateX(0px);\n    opacity: 1;\n    transition: transform 100ms, opacity 100ms;\n    display: inline-block; }\n  .playkit-btn.playkit-unmute-button.playkit-has-top-bar {\n    transition: 100ms transform; }\n\n.playkit-unmute-icon-container {\n  width: 32px;\n  height: 32px;\n  display: inline-block;\n  vertical-align: top;\n  position: relative;\n  margin-right: 3px; }\n  .playkit-unmute-icon-container i {\n    position: absolute;\n    top: 0;\n    left: 0; }\n\n.playkit-player.playkit-hover .playkit-unmute-button-container.playkit-has-top-bar,\n.playkit-player.playkit-state-paused .playkit-unmute-button-container.playkit-has-top-bar,\n.playkit-player.playkit-menu-active .playkit-unmute-button-container.playkit-has-top-bar {\n  transform: translateY(32px); }\n\n.playkit-overlay.playkit-error-overlay {\n  background-color: #333;\n  font-size: 0em; }\n\n.playkit-overlay-contents .playkit-error-overlay {\n  padding-top: 20px; }\n\n.playkit-error-overlay {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 100%;\n  font-family: sans-serif; }\n  .playkit-error-overlay .playkit-svg-container {\n    flex: 4;\n    display: flex;\n    justify-content: space-around;\n    flex-flow: column; }\n  .playkit-error-overlay .playkit-headline {\n    color: #FFFFFF;\n    font-size: 18px;\n    margin: 10px 0 14px 0;\n    flex: 1; }\n  .playkit-error-overlay .playkit-error-session {\n    font-size: 14px;\n    color: #ccc;\n    margin-bottom: 20px;\n    user-select: text;\n    -webkit-user-select: text;\n    -moz-user-select: text;\n    -ms-user-select: text;\n    max-width: 300px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    flex: 1; }\n  .playkit-error-overlay .playkit-control-button-container {\n    flex: 5; }\n  .playkit-error-overlay .playkit-retry-btn {\n    height: 36px;\n    width: 120px;\n    border: 2px solid #333;\n    border-radius: 18px;\n    background-color: black;\n    color: #FFFFFF;\n    font-size: 15px;\n    font-weight: bold;\n    line-height: 32px;\n    cursor: pointer; }\n  .playkit-error-overlay .playkit-error-text {\n    height: 0px;\n    visibility: hidden; }\n\n.playkit-link-options-container {\n  width: auto; }\n  .playkit-link-options-container .playkit-copy-url-row .playkit-input-copy-url {\n    margin: 0; }\n  .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url {\n    margin-left: 10px; }\n    .playkit-link-options-container .playkit-copy-url-row .playkit-btn-copy-url .playkit-icon {\n      height: 24px;\n      width: 24px;\n      margin-top: -3px; }\n\n.playkit-slider {\n  height: 8px;\n  border-radius: 4px;\n  background-color: rgba(255, 255, 255, 0.2); }\n  .playkit-slider .playkit-progress {\n    background-color: #01ACCD;\n    height: 8px;\n    border-radius: 4px;\n    position: relative; }\n    .playkit-slider .playkit-progress .playkit-handle {\n      height: 12px;\n      width: 12px;\n      border-radius: 5px;\n      background-color: #FFFFFF;\n      box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.3);\n      position: absolute;\n      right: 0;\n      top: 0px;\n      transform: translate3d(6px, -2px, 0);\n      cursor: pointer; }\n\n.playkit-btn {\n  text-decoration: none;\n  height: 36px;\n  border-radius: 18px;\n  color: #fff;\n  line-height: 36px;\n  font-weight: bold;\n  cursor: pointer;\n  display: inline-block;\n  padding: 0 24px; }\n  .playkit-btn.playkit-btn-block {\n    display: block; }\n  .playkit-btn.playkit-btn-dark-transparent {\n    background-color: rgba(0, 0, 0, 0.5);\n    border: 2px solid rgba(255, 255, 255, 0.2);\n    line-height: 32px; }\n    .playkit-btn.playkit-btn-dark-transparent:hover {\n      color: #fff;\n      border: 2px solid rgba(255, 255, 255, 0.4); }\n  .playkit-btn.playkit-btn-branded {\n    background-color: #01ACCD; }\n    .playkit-btn.playkit-btn-branded:hover {\n      color: #fff; }\n\n.playkit-btn-rounded {\n  height: 36px;\n  width: 36px;\n  min-width: 36px;\n  min-height: 36px;\n  border-radius: 18px;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: inline-block;\n  padding: 2px; }\n\n.playkit-control-button-container.playkit-control-fullscreen .playkit-control-button {\n  transition: 100ms transform;\n  transform: scale(1); }\n  .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button .playkit-icon-minimize {\n    display: none; }\n  .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-maximize {\n    display: none; }\n  .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button.playkit-is-fullscreen .playkit-icon-minimize {\n    display: block; }\n\n.playkit-player:not(.playkit-touch) .playkit-control-button-container.playkit-control-fullscreen .playkit-control-button:hover {\n  transform: scale(1.1); }\n\n.playkit-player .playkit-watermark {\n  position: absolute;\n  padding: 5px;\n  transition: visibility 0s 1s, opacity 1s linear, transform ease-out 100ms; }\n  .playkit-player .playkit-watermark.playkit-hide-watermark {\n    visibility: hidden;\n    opacity: 0; }\n  .playkit-player .playkit-watermark.playkit-top {\n    top: 0; }\n  .playkit-player .playkit-watermark.playkit-bottom {\n    bottom: 0; }\n  .playkit-player .playkit-watermark.playkit-right {\n    right: 0; }\n  .playkit-player .playkit-watermark.playkit-left {\n    left: 0; }\n\n.playkit-player:not(.playkit-pre-playback):not(.playkit-overlay-active).playkit-state-paused .playkit-watermark.playkit-bottom,\n.playkit-player:not(.playkit-pre-playback):not(.playkit-overlay-active).playkit-hover .playkit-watermark.playkit-bottom {\n  transform: translateY(-60px); }\n",""]),t.locals={row:"playkit-row","d-inline-block":"playkit-d-inline-block",dInlineBlock:"playkit-d-inline-block","mobile-hidden-select":"playkit-mobile-hidden-select",mobileHiddenSelect:"playkit-mobile-hidden-select","font-size-base":"playkit-font-size-base",fontSizeBase:"playkit-font-size-base","form-group":"playkit-form-group",formGroup:"playkit-form-group","has-error":"playkit-has-error",hasError:"playkit-has-error","form-control":"playkit-form-control",formControl:"playkit-form-control","has-icon":"playkit-has-icon",hasIcon:"playkit-has-icon",icon:"playkit-icon",player:"playkit-player",checkbox:"playkit-checkbox","form-group-row":"playkit-form-group-row",formGroupRow:"playkit-form-group-row",dropdown:"playkit-dropdown",btn:"playkit-btn","btn-block":"playkit-btn-block",btnBlock:"playkit-btn-block","btn-dark-transparent":"playkit-btn-dark-transparent",btnDarkTransparent:"playkit-btn-dark-transparent","btn-branded":"playkit-btn-branded",btnBranded:"playkit-btn-branded","btn-rounded":"playkit-btn-rounded",btnRounded:"playkit-btn-rounded","icon-maximize":"playkit-icon-maximize",iconMaximize:"playkit-icon-maximize","icon-minimize":"playkit-icon-minimize",iconMinimize:"playkit-icon-minimize","icon-play":"playkit-icon-play",iconPlay:"playkit-icon-play","icon-pause":"playkit-icon-pause",iconPause:"playkit-icon-pause","icon-volume-base":"playkit-icon-volume-base",iconVolumeBase:"playkit-icon-volume-base","icon-volume-waves":"playkit-icon-volume-waves",iconVolumeWaves:"playkit-icon-volume-waves","icon-volume-wave":"playkit-icon-volume-wave",iconVolumeWave:"playkit-icon-volume-wave","icon-volume-mute":"playkit-icon-volume-mute",iconVolumeMute:"playkit-icon-volume-mute","icon-close":"playkit-icon-close",iconClose:"playkit-icon-close","icon-share":"playkit-icon-share",iconShare:"playkit-icon-share","icon-settings":"playkit-icon-settings",iconSettings:"playkit-icon-settings","icon-check":"playkit-icon-check",iconCheck:"playkit-icon-check","icon-language":"playkit-icon-language",iconLanguage:"playkit-icon-language","icon-quality":"playkit-icon-quality",iconQuality:"playkit-icon-quality","icon-captions":"playkit-icon-captions",iconCaptions:"playkit-icon-captions","icon-speed":"playkit-icon-speed",iconSpeed:"playkit-icon-speed","icon-speed-down":"playkit-icon-speed-down",iconSpeedDown:"playkit-icon-speed-down","icon-speed-up":"playkit-icon-speed-up",iconSpeedUp:"playkit-icon-speed-up","icon-audio":"playkit-icon-audio",iconAudio:"playkit-icon-audio","icon-copy":"playkit-icon-copy",iconCopy:"playkit-icon-copy","icon-facebook":"playkit-icon-facebook",iconFacebook:"playkit-icon-facebook","icon-twitter":"playkit-icon-twitter",iconTwitter:"playkit-icon-twitter","icon-google-plus":"playkit-icon-google-plus",iconGooglePlus:"playkit-icon-google-plus","icon-linked-in":"playkit-icon-linked-in",iconLinkedIn:"playkit-icon-linked-in","icon-email":"playkit-icon-email",iconEmail:"playkit-icon-email","icon-embed":"playkit-icon-embed",iconEmbed:"playkit-icon-embed","icon-link":"playkit-icon-link",iconLink:"playkit-icon-link","icon-arrow-down":"playkit-icon-arrow-down",iconArrowDown:"playkit-icon-arrow-down","icon-start-over":"playkit-icon-start-over",iconStartOver:"playkit-icon-start-over","icon-seek-forward":"playkit-icon-seek-forward",iconSeekForward:"playkit-icon-seek-forward","icon-seek-end":"playkit-icon-seek-end",iconSeekEnd:"playkit-icon-seek-end","icon-rewind":"playkit-icon-rewind",iconRewind:"playkit-icon-rewind","icon-rewind-10":"playkit-icon-rewind-10",iconRewind10:"playkit-icon-rewind-10",active:"playkit-active","dropdown-menu":"playkit-dropdown-menu",dropdownMenu:"playkit-dropdown-menu","dropdown-button":"playkit-dropdown-button",dropdownButton:"playkit-dropdown-button",openDropmenu:"playkit-openDropmenu",top:"playkit-top",bottom:"playkit-bottom",right:"playkit-right",left:"playkit-left","dropdown-menu-item":"playkit-dropdown-menu-item",dropdownMenuItem:"playkit-dropdown-menu-item","control-button":"playkit-control-button",controlButton:"playkit-control-button","control-button-rounded":"playkit-control-button-rounded",controlButtonRounded:"playkit-control-button-rounded",touch:"playkit-touch","control-button-container":"playkit-control-button-container",controlButtonContainer:"playkit-control-button-container",rotate:"playkit-rotate",spin:"playkit-spin","player-gui":"playkit-player-gui",playerGui:"playkit-player-gui","overlay-active":"playkit-overlay-active",overlayActive:"playkit-overlay-active","metadata-loaded":"playkit-metadata-loaded",metadataLoaded:"playkit-metadata-loaded","state-paused":"playkit-state-paused",statePaused:"playkit-state-paused","menu-active":"playkit-menu-active",menuActive:"playkit-menu-active",nav:"playkit-nav","seek-bar":"playkit-seek-bar",seekBar:"playkit-seek-bar","smart-container-item":"playkit-smart-container-item",smartContainerItem:"playkit-smart-container-item","pre-playback-play-button":"playkit-pre-playback-play-button",prePlaybackPlayButton:"playkit-pre-playback-play-button",sample:"playkit-sample","custom-captions-applied":"playkit-custom-captions-applied",customCaptionsApplied:"playkit-custom-captions-applied","button-save-cvaa":"playkit-button-save-cvaa",buttonSaveCvaa:"playkit-button-save-cvaa",slider:"playkit-slider","live-tag":"playkit-live-tag",liveTag:"playkit-live-tag","ad-break":"playkit-ad-break",adBreak:"playkit-ad-break",hover:"playkit-hover","video-player":"playkit-video-player",videoPlayer:"playkit-video-player",overlay:"playkit-overlay",openOverlay:"playkit-openOverlay","overlay-contents":"playkit-overlay-contents",overlayContents:"playkit-overlay-contents",title:"playkit-title","close-overlay":"playkit-close-overlay",closeOverlay:"playkit-close-overlay","overlay-screen":"playkit-overlay-screen",overlayScreen:"playkit-overlay-screen","size-md":"playkit-size-md",sizeMd:"playkit-size-md","size-sm":"playkit-size-sm",sizeSm:"playkit-size-sm","smart-container":"playkit-smart-container",smartContainer:"playkit-smart-container",openSmartContainer:"playkit-openSmartContainer",leaving:"playkit-leaving",closeSmartContainer:"playkit-closeSmartContainer","select-menu-item":"playkit-select-menu-item",selectMenuItem:"playkit-select-menu-item","label-icon":"playkit-label-icon",labelIcon:"playkit-label-icon","share-overlay":"playkit-share-overlay",shareOverlay:"playkit-share-overlay","share-icons":"playkit-share-icons",shareIcons:"playkit-share-icons","facebook-share-btn":"playkit-facebook-share-btn",facebookShareBtn:"playkit-facebook-share-btn","twitter-share-btn":"playkit-twitter-share-btn",twitterShareBtn:"playkit-twitter-share-btn","google-plus-share-btn":"playkit-google-plus-share-btn",googlePlusShareBtn:"playkit-google-plus-share-btn","linkedin-share-btn":"playkit-linkedin-share-btn",linkedinShareBtn:"playkit-linkedin-share-btn","share-main-container":"playkit-share-main-container",shareMainContainer:"playkit-share-main-container","link-options-container":"playkit-link-options-container",linkOptionsContainer:"playkit-link-options-container","copy-url-row":"playkit-copy-url-row",copyUrlRow:"playkit-copy-url-row","input-copy-url":"playkit-input-copy-url",inputCopyUrl:"playkit-input-copy-url","btn-copy-url":"playkit-btn-copy-url",btnCopyUrl:"playkit-btn-copy-url",copied:"playkit-copied","video-start-options-row":"playkit-video-start-options-row",videoStartOptionsRow:"playkit-video-start-options-row","cvaa-overlay":"playkit-cvaa-overlay",cvaaOverlay:"playkit-cvaa-overlay","black-bg":"playkit-black-bg",blackBg:"playkit-black-bg","yellow-text":"playkit-yellow-text",yellowText:"playkit-yellow-text","active-tick":"playkit-active-tick",activeTick:"playkit-active-tick","custom-caption-form":"playkit-custom-caption-form",customCaptionForm:"playkit-custom-caption-form","preview-container":"playkit-preview-container",previewContainer:"playkit-preview-container",custom:"playkit-custom","loading-backdrop":"playkit-loading-backdrop",loadingBackdrop:"playkit-loading-backdrop",show:"playkit-show","spinner-container":"playkit-spinner-container",spinnerContainer:"playkit-spinner-container",spinner:"playkit-spinner","kaltura-spinner":"playkit-kaltura-spinner",kalturaSpinner:"playkit-kaltura-spinner","control-play-pause":"playkit-control-play-pause",controlPlayPause:"playkit-control-play-pause","is-playing":"playkit-is-playing",isPlaying:"playkit-is-playing","volume-control":"playkit-volume-control",volumeControl:"playkit-volume-control","volume-control-bar":"playkit-volume-control-bar",volumeControlBar:"playkit-volume-control-bar","is-muted":"playkit-is-muted",isMuted:"playkit-is-muted","dragging-active":"playkit-dragging-active",draggingActive:"playkit-dragging-active",bar:"playkit-bar",progress:"playkit-progress","smart-container-open":"playkit-smart-container-open",smartContainerOpen:"playkit-smart-container-open","control-fullscreen":"playkit-control-fullscreen",controlFullscreen:"playkit-control-fullscreen","is-fullscreen":"playkit-is-fullscreen",isFullscreen:"playkit-is-fullscreen","time-preview":"playkit-time-preview",timePreview:"playkit-time-preview","frame-preview":"playkit-frame-preview",framePreview:"playkit-frame-preview","progress-bar":"playkit-progress-bar",progressBar:"playkit-progress-bar",scrubber:"playkit-scrubber","virtual-progress":"playkit-virtual-progress",virtualProgress:"playkit-virtual-progress",live:"playkit-live",buffered:"playkit-buffered","frame-preview-img":"playkit-frame-preview-img",framePreviewImg:"playkit-frame-preview-img","time-display":"playkit-time-display",timeDisplay:"playkit-time-display","video-playing-title":"playkit-video-playing-title",videoPlayingTitle:"playkit-video-playing-title","bottom-bar":"playkit-bottom-bar",bottomBar:"playkit-bottom-bar","left-controls":"playkit-left-controls",leftControls:"playkit-left-controls","right-controls":"playkit-right-controls",rightControls:"playkit-right-controls","top-bar":"playkit-top-bar",topBar:"playkit-top-bar","overlay-action":"playkit-overlay-action",overlayAction:"playkit-overlay-action",in:"playkit-in",overlayActionIconIn:"playkit-overlayActionIconIn","pre-playback-play-overlay":"playkit-pre-playback-play-overlay",prePlaybackPlayOverlay:"playkit-pre-playback-play-overlay","has-poster":"playkit-has-poster",hasPoster:"playkit-has-poster","pre-playback":"playkit-pre-playback",prePlayback:"playkit-pre-playback","btn-skip-ad":"playkit-btn-skip-ad",btnSkipAd:"playkit-btn-skip-ad","skip-ad":"playkit-skip-ad",skipAd:"playkit-skip-ad","non-live-playhead":"playkit-non-live-playhead",nonLivePlayhead:"playkit-non-live-playhead","unmute-button-container":"playkit-unmute-button-container",unmuteButtonContainer:"playkit-unmute-button-container","show-icon-only":"playkit-show-icon-only",showIconOnly:"playkit-show-icon-only","unmute-button":"playkit-unmute-button",unmuteButton:"playkit-unmute-button","has-top-bar":"playkit-has-top-bar",hasTopBar:"playkit-has-top-bar","unmute-icon-container":"playkit-unmute-icon-container",unmuteIconContainer:"playkit-unmute-icon-container","error-overlay":"playkit-error-overlay",errorOverlay:"playkit-error-overlay","svg-container":"playkit-svg-container",svgContainer:"playkit-svg-container",headline:"playkit-headline","error-session":"playkit-error-session",errorSession:"playkit-error-session","retry-btn":"playkit-retry-btn",retryBtn:"playkit-retry-btn","error-text":"playkit-error-text",errorText:"playkit-error-text",handle:"playkit-handle",watermark:"playkit-watermark","hide-watermark":"playkit-hide-watermark",hideWatermark:"playkit-hide-watermark"}},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=i(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(c(i.parts[a],t))}else{for(var o=[],a=0;a<i.parts.length;a++)o.push(c(i.parts[a],t));h[i.id]={id:i.id,refs:1,parts:o}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s=a[1],u=a[2],l=a[3],c={css:s,media:u,sourceMap:l};i[o]?i[o].parts.push(c):n.push(i[o]={id:o,parts:[c]})}return n}function a(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var l=m++;n=v||(v=s(t)),i=f.bind(null,n,l,!1),r=f.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=p.bind(null,n,t),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=d.bind(null,n),r=function(){o(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function f(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var i=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(i=_(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,m=0,b=[],_=n(96);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],u=h[s.id];u.refs--,a.push(u)}e&&i(r(e,t),t);for(var o=0;o<a.length;o++){var u=a[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var a;return a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoPlayer=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(0),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentDidMount",value:function(){this._el.appendChild(this.props.player.getView())}},{key:"render",value:function(){var e=this;return(0,l.h)("div",{className:u.default.videoPlayer,ref:function(t){return e._el=t}})}}]),t}(l.Component);t.VideoPlayer=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlayerGUI=void 0;var o,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),c=n(2),f=function(e){return{state:{shell:e.shell,engine:{adBreak:e.engine.adBreak,isLive:e.engine.isLive,hasError:e.engine.hasError,isIdle:e.engine.isIdle}},config:e.config}},d=(o=(0,c.connect)(f))(s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"getMatchedUI",value:function(e,t){var n=void 0,i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;if(void 0===u.condition||u.condition(t)){n=u;break}}}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}},{key:"render",value:function(e){var t=void 0;return this.props.uis.length>0?(t=this.getMatchedUI(e.uis,e.state),t?t.template(e):this.props.uis[0].template(e)):void 0}}]),t}(l.Component))||s;t.PlayerGUI=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,a.h)("div",{className:s.default.playbackGuiWWrapper},(0,a.h)(l.default,{player:e.player}))}Object.defineProperty(t,"__esModule",{value:!0}),t.idleUI=r;var a=n(0),o=n(1),s=i(o),u=n(9),l=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var u,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=n(1),d=i(f),p=n(0),h=n(2),y=n(4),g=n(23),v=n(3),m=i(v),b=function(e){return{show:e.loading.show,isMobile:e.shell.isMobile,adBreak:e.engine.adBreak}},_=(u=(0,h.connect)(b,(0,y.bindActions)(g.actions)))(l=function(e){function t(e){a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Loading",player:e.player}));return n.setState({afterPlayingEvent:!1}),n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;this.player.addEventListener(this.player.Event.PLAYER_STATE_CHANGED,function(t){if(e.state.afterPlayingEvent){var n=e.player.State;t.payload.newState.type===n.IDLE||t.payload.newState.type===n.PLAYING||t.payload.newState.type===n.PAUSED?e.props.updateLoadingSpinnerState(!1):e.props.updateLoadingSpinnerState(!0)}}),this.player.addEventListener(this.player.Event.SOURCE_SELECTED,function(){e.player.config.playback.autoplay?e.props.updateLoadingSpinnerState(!0):e.props.updateLoadingSpinnerState(!1)}),this.player.addEventListener(this.player.Event.AD_BREAK_START,function(){e.props.updateLoadingSpinnerState(!0)}),this.player.addEventListener(this.player.Event.AD_LOADED,function(){e.props.updateLoadingSpinnerState(!0)}),this.player.addEventListener(this.player.Event.AD_STARTED,function(){e.props.updateLoadingSpinnerState(!1)}),this.player.addEventListener(this.player.Event.ALL_ADS_COMPLETED,function(){e.props.updateLoadingSpinnerState(!1)}),this.player.addEventListener(this.player.Event.AUTOPLAY_FAILED,function(){e.props.updateLoadingSpinnerState(!1)}),this.player.addEventListener(this.player.Event.PLAYING,function(){e.setState({afterPlayingEvent:!0}),e.props.updateLoadingSpinnerState(!1)}),this.player.addEventListener(this.player.Event.CHANGE_SOURCE_STARTED,function(){e.setState({afterPlayingEvent:!1})})}},{key:"render",value:function(e){if(e.show)return(0,p.h)("div",{className:[d.default.loadingBackdrop,d.default.show].join(" ")},(0,p.h)("div",{className:d.default.spinnerContainer},(0,p.h)("div",{className:d.default.spinner},[].concat(r(Array(8))).map(function(e){return(0,p.h)("span",{key:e})}))))}}]),t}(m.default))||l;t.Loading=_},function(e,t,n){"use strict";function i(e){return(0,o.h)("div",{className:a.default.playbackGuiWWrapper},(0,o.h)(_.KeyboardControl,{player:e.player,config:e.config}),(0,o.h)(l.Loading,{player:e.player}),(0,o.h)("div",{className:a.default.playerGui,id:"player-gui"},(0,o.h)(b.OverlayPortal,null),(0,o.h)(E.UnmuteIndication,{player:e.player}),(0,o.h)(s.OverlayAction,{player:e.player}),(0,o.h)(m.BottomBar,null,(0,o.h)(d.SeekBarPlaybackContainer,{showFramePreview:!0,showTimeBubble:!0,player:e.player,playerContainer:e.playerContainer}),(0,o.h)("div",{className:a.default.leftControls},(0,o.h)(c.PlayPauseControl,{player:e.player}),(0,o.h)(f.RewindControl,{player:e.player,step:10}),(0,o.h)(v.TimeDisplayPlaybackContainer,{format:"current / total"})),(0,o.h)("div",{className:a.default.rightControls},(0,o.h)(p.VolumeControl,{player:e.player}),(0,o.h)(y.LanguageControl,{player:e.player}),(0,o.h)(h.SettingsControl,{player:e.player}),(0,o.h)(g.FullscreenControl,{player:e.player})))),(0,o.h)(u.PrePlaybackPlayOverlay,{player:e.player}),(0,k.shouldRenderComponent)(e.config,A.Watermark.displayName)?(0,o.h)(A.Watermark,{player:e.player}):void 0)}Object.defineProperty(t,"__esModule",{value:!0}),t.playbackUI=i;var r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(0),s=n(28),u=n(29),l=n(9),c=n(12),f=n(55),d=n(56),p=n(13),h=n(32),y=n(36),g=n(14),v=n(61),m=n(15),b=n(38),_=n(16),E=n(17),A=n(39),k=n(24)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayAction=t.OVERLAY_ACTION_DEFAULT_TIMEOUT=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),f=n(1),d=i(f),p=n(2),h=n(4),y=n(27),g=n(3),v=i(g),m=n(5),b=i(m),_=function(e){return{iconType:e.overlayAction.iconType,isPlaying:e.engine.isPlaying,adBreak:e.engine.adBreak,adIsPlaying:e.engine.adIsPlaying,playerHover:e.shell.playerHover,isMobile:e.shell.isMobile}},E=t.OVERLAY_ACTION_DEFAULT_TIMEOUT=300,A=(s=(0,p.connect)(_,(0,h.bindActions)(y.actions)))(u=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"OverlayAction",player:e.player}));return n._iconTimeout=null,n._firstClickTime=0,n._clickTimeout=0,n}return o(t,e),l(t,[{key:"isPlayingAdOrPlayback",value:function(){return this.props.adBreak&&this.props.adIsPlaying||!this.props.adBreak&&this.props.isPlaying}},{key:"togglePlayPause",value:function(){this.isPlayingAdOrPlayback()?(this.player.pause(),this.props.updateOverlayActionIcon(m.IconType.Pause)):(this.player.play(),this.props.updateOverlayActionIcon(m.IconType.Play))}},{key:"toggleFullscreen",value:function(){this.player.isFullscreen()?(this.logger.debug("Exit fullscreen"),this.player.exitFullscreen()):(this.logger.debug("Enter fullscreen"),this.player.enterFullscreen())}},{key:"onOverlayClick",value:function(){var e=this;if(!this.props.isMobile){var t=Date.now();if(t-this._firstClickTime<200)return this.cancelClickTimeout(),void this.toggleFullscreen();if(t-this._firstClickTime<500)return this.cancelClickTimeout(),this.togglePlayPause(),this.toggleFullscreen(),void(this._firstClickTime=0);this._firstClickTime=t,this._clickTimeout=setTimeout(function(){e._clickTimeout=null,e.togglePlayPause()},200)}}},{key:"cancelClickTimeout",value:function(){this._clickTimeout&&(clearTimeout(this._clickTimeout),this._clickTimeout=null)}},{key:"onOverlayTouch",value:function(){this.props.playerHover&&this.togglePlayPause()}},{key:"shouldComponentUpdate",value:function(e){return e.iconType&&this.toggleOverlayActionIcon(e.iconType),!0}},{key:"toggleOverlayActionIcon",value:function(e){var t=this;null!==this._iconTimeout&&(clearTimeout(this._iconTimeout),this._iconTimeout=null,this.setState({animation:!1}),this.forceUpdate()),this.setState({animation:!0,iconType:e}),this._iconTimeout=setTimeout(function(){t.setState({animation:!1})},E)}},{key:"render",value:function(){var e=this;return(0,c.h)("div",{className:d.default.overlayAction+" "+(this.state.animation?d.default.in:""),onClick:function(){return e.onOverlayClick()},onTouchStart:function(){return e.onOverlayTouch()}},this.state.animation?this.renderIcons():void 0)}},{key:"renderIcons",value:function(){return Array.isArray(this.state.iconType)?this.state.iconType.map(function(e,t){return(0,c.h)(b.default,{key:t,type:e})}):(0,c.h)(b.default,{type:this.state.iconType})}},{key:"componentDidUpdate",value:function(){this.state.animation&&this.props.updateOverlayActionIcon(null)}}]),t}(v.default))||u;t.OverlayAction=A},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.IconType=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(0),c={Maximize:"maximize",Minimize:"minimize",Play:"play",Pause:"pause",VolumeBase:"volume-base",VolumeWaves:"volume-waves",VolumeWave:"volume-wave",VolumeMute:"volume-mute",Close:"close",Share:"share",Settings:"settings",Check:"check",Language:"language",Quality:"quality",Captions:"captions",Speed:"speed",SpeedDown:"speed-down",SpeedUp:"speed-up",Audio:"audio",Copy:"copy",Facebook:"facebook",Twitter:"twitter",GooglePlus:"google-plus",Linkedin:"linkedin",Email:"email",Embed:"embed",Link:"link",ArrowDown:"arrow-down",StartOver:"start-over",SeekForward:"seek-forward",SeekEnd:"seek-end",Rewind:"rewind",Rewind10:"rewind10"},f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"render",value:function(e){switch(e.type){case c.Maximize:return(0,l.h)("i",{className:[u.default.icon,u.default.iconMaximize].join(" ")});case c.Minimize:return(0,l.h)("i",{className:[u.default.icon,u.default.iconMinimize].join(" ")});case c.Play:return(0,l.h)("i",{className:[u.default.icon,u.default.iconPlay].join(" ")});case c.Pause:return(0,l.h)("i",{className:[u.default.icon,u.default.iconPause].join(" ")});case c.VolumeBase:return(0,l.h)("i",{className:[u.default.icon,u.default.iconVolumeBase].join(" ")});case c.VolumeWaves:return(0,l.h)("i",{className:[u.default.icon,u.default.iconVolumeWaves].join(" ")});case c.VolumeWave:return(0,l.h)("i",{className:[u.default.icon,u.default.iconVolumeWave].join(" ")});case c.VolumeMute:return(0,l.h)("i",{className:[u.default.icon,u.default.iconVolumeMute].join(" ")});case c.Close:return(0,l.h)("i",{className:[u.default.icon,u.default.iconClose].join(" ")});case c.Share:return(0,l.h)("i",{className:[u.default.icon,u.default.iconShare].join(" ")});case c.Settings:return(0,l.h)("i",{className:[u.default.icon,u.default.iconSettings].join(" ")});case c.Check:return(0,l.h)("i",{className:[u.default.icon,u.default.iconCheck].join(" ")});case c.Language:return(0,l.h)("i",{className:[u.default.icon,u.default.iconLanguage].join(" ")});case c.Quality:return(0,l.h)("i",{className:[u.default.icon,u.default.iconQuality].join(" ")});case c.Captions:return(0,l.h)("i",{className:[u.default.icon,u.default.iconCaptions].join(" ")});case c.Speed:return(0,l.h)("i",{className:[u.default.icon,u.default.iconSpeed].join(" ")});case c.SpeedDown:return(0,l.h)("i",{className:[u.default.icon,u.default.iconSpeedDown].join(" ")});case c.SpeedUp:return(0,l.h)("i",{className:[u.default.icon,u.default.iconSpeedUp].join(" ")});case c.Audio:return(0,l.h)("i",{className:[u.default.icon,u.default.iconAudio].join(" ")});case c.Copy:return(0,l.h)("i",{className:[u.default.icon,u.default.iconCopy].join(" ")});case c.Facebook:return(0,l.h)("i",{className:[u.default.icon,u.default.iconFacebook].join(" ")});case c.Twitter:return(0,l.h)("i",{className:[u.default.icon,u.default.iconTwitter].join(" ")});case c.GooglePlus:return(0,l.h)("i",{className:[u.default.icon,u.default.iconGoogleplus].join(" ")});case c.Linkedin:return(0,l.h)("i",{className:[u.default.icon,u.default.iconLinkedin].join(" ")});case c.Email:return(0,l.h)("i",{className:[u.default.icon,u.default.iconEmail].join(" ")});case c.Embed:return(0,l.h)("i",{className:[u.default.icon,u.default.iconEmbed].join(" ")});case c.Link:return(0,l.h)("i",{className:[u.default.icon,u.default.iconLink].join(" ")});case c.ArrowDown:return(0,l.h)("i",{className:[u.default.icon,u.default.iconArrowDown].join(" ")});case c.StartOver:return(0,l.h)("i",{className:[u.default.icon,u.default.iconStartOver].join(" ")});case c.SeekForward:return(0,l.h)("i",{className:[u.default.icon,u.default.iconSeekForward].join(" ")});case c.SeekEnd:return(0,l.h)("i",{className:[u.default.icon,u.default.iconSeekEnd].join(" ")});case c.Rewind:return(0,l.h)("i",{className:[u.default.icon,u.default.iconRewind].join(" ")});case c.Rewind10:return(0,l.h)("i",{className:[u.default.icon,u.default.iconRewind10].join(" ")})}}}]),t}(l.Component);t.default=f,t.IconType=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrePlaybackPlayOverlay=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(4),y=n(7),g=n(3),v=i(g),m=n(5),b=i(m),_=n(6),E=n(23),A=function(e){return{metadataLoaded:e.engine.metadataLoaded,prePlayback:e.shell.prePlayback,poster:e.engine.poster,isMobile:e.shell.isMobile,isEnded:e.engine.isEnded,loading:e.loading.show}},k=(s=(0,p.connect)(A,(0,h.bindActions)(Object.assign(y.actions,E.actions))))(u=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"PrePlaybackPlayOverlay",player:e.player}));return n.player.addEventListener(n.player.Event.CHANGE_SOURCE_ENDED,function(){return n._onChangeSourceEnded()}),n}return o(t,e),l(t,[{key:"componentWillMount",value:function(){var e=this;this.props.addPlayerClass(f.default.prePlayback);try{this.autoplay=this.player.config.playback.autoplay,!0===this.autoplay&&this.player.addEventListener(this.player.Event.AUTOPLAY_FAILED,function(){e.autoplay=!1,e.forceUpdate()})}catch(e){this.autoplay=!1}}},{key:"componentWillUnmount",value:function(){this._hidePrePlayback(),this.props.removePlayerClass(f.default.prePlayback)}},{key:"componentDidMount",value:function(){var e=this;this.player.addEventListener(this.player.Event.PLAY,function(){return e._hidePrePlayback()}),!1===this.player.paused&&this._hidePrePlayback()}},{key:"shouldComponentUpdate",value:function(e){return e.isEnded&&this.props.addPlayerClass(f.default.prePlayback),!0}},{key:"handleClick",value:function(){this.player.getView().focus(),this.player.play(),this.props.prePlayback&&(this._hidePrePlayback(),this.props.updateLoadingSpinnerState(!0))}},{key:"render",value:function(e){var t=this;if(!(!e.isEnded&&!e.prePlayback||!e.isEnded&&this.autoplay||e.loading)){var n={},i=[f.default.prePlaybackPlayOverlay];return!e.prePlayback&&e.poster&&(n={backgroundImage:"url("+e.poster+")"},i.push(f.default.hasPoster)),(0,d.h)("div",{className:i.join(" "),style:n,onMouseOver:function(e){return e.stopPropagation()},onClick:function(){return t.handleClick()}},(0,d.h)("a",{className:f.default.prePlaybackPlayButton,tabIndex:"0",onKeyDown:function(e){e.keyCode===_.KeyMap.ENTER&&t.handleClick()}},e.isEnded?(0,d.h)(b.default,{type:m.IconType.StartOver}):(0,d.h)(b.default,{type:m.IconType.Play})))}}},{key:"_onChangeSourceEnded",value:function(){try{this.player.config.playback.autoplay||this._displayPrePlayback()}catch(e){this.logger.error(e.message)}}},{key:"_displayPrePlayback",value:function(){this.props.updatePrePlayback(!0),this.props.addPlayerClass(f.default.prePlayback)}},{key:"_hidePrePlayback",value:function(){this.props.updatePrePlayback(!1),this.props.removePlayerClass(f.default.prePlayback)}}]),t}(v.default))||u;t.PrePlaybackPlayOverlay=k},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlayPauseControl=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(8),h=n(2),y=n(4),g=n(46),v=n(3),m=i(v),b=n(5),_=i(b),E=n(6),A=function(e){return{isPlaying:e.engine.isPlaying,adBreak:e.engine.adBreak,adIsPlaying:e.engine.adIsPlaying,isEnded:e.engine.isEnded}},k=(s=(0,h.connect)(A,(0,y.bindActions)(g.actions)))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"PlayPause",player:e.player}))}return o(t,e),l(t,[{key:"togglePlayPause",value:function(){this.logger.debug("Toggle play"),this.isPlayingAdOrPlayback()?this.player.pause():this.player.play()}},{key:"isPlayingAdOrPlayback",value:function(){return this.props.adBreak&&this.props.adIsPlaying||!this.props.adBreak&&this.props.isPlaying}},{key:"render",value:function(e){var t=this,n=this.isPlayingAdOrPlayback()?[f.default.controlButton,f.default.isPlaying].join(" "):f.default.controlButton;return(0,d.h)("div",{className:[f.default.controlButtonContainer,f.default.controlPlayPause].join(" ")},(0,d.h)(p.Localizer,null,(0,d.h)("button",{tabIndex:"0","aria-label":(0,d.h)(p.Text,{id:this.isPlayingAdOrPlayback()?"controls.pause":"controls.play"}),className:n,onClick:function(){return t.togglePlayPause()},onKeyDown:function(e){e.keyCode===E.KeyMap.ENTER&&t.togglePlayPause()}},e.isEnded&&!e.adBreak?(0,d.h)(_.default,{type:b.IconType.StartOver}):(0,d.h)("div",null,(0,d.h)(_.default,{type:b.IconType.Play}),(0,d.h)(_.default,{type:b.IconType.Pause})))))}}]),t}(m.default))||u;t.PlayPauseControl=k},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RewindControl=t.REWIND_DEFAULT_STEP=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),c=n(0),f=n(8),d=n(3),p=i(d),h=n(5),y=i(h),g=n(6),v=t.REWIND_DEFAULT_STEP=10,m=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Rewind",player:e.player}))}return o(t,e),s(t,[{key:"onClick",value:function(){this.animate();var e=this.props.step||v;this.player.currentTime-e<0?this.player.currentTime=0:this.player.currentTime=this.player.currentTime-e}},{key:"animate",value:function(){this.setState({animation:!1}),this.forceUpdate(),this.setState({animation:!0})}},{key:"render",value:function(e){var t=this;return(0,c.h)("div",{className:[l.default.controlButtonContainer,l.default.controlRewind].join(" ")},(0,c.h)(f.Localizer,null,(0,c.h)("button",{tabIndex:"0","aria-label":(0,c.h)(f.Text,{id:"controls.rewind"}),className:l.default.controlButton+" "+(this.state.animation?l.default.rotate:""),onClick:function(){return t.onClick()},onKeyDown:function(e){e.keyCode===g.KeyMap.ENTER&&t.onClick()}},(0,c.h)(y.default,{type:e.step&&10!==e.step?h.IconType.Rewind:h.IconType.Rewind10}))))}}]),t}(p.default);t.RewindControl=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SeekBarPlaybackContainer=void 0;var o,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),c=n(2),f=n(4),d=n(21),p=n(3),h=function(e){return e&&e.__esModule?e:{default:e}}(p),y=n(30),g=function(e){return{currentTime:e.seekbar.currentTime,duration:e.engine.duration,isDraggingActive:e.seekbar.draggingActive,isMobile:e.shell.isMobile,poster:e.engine.poster}},v=(o=(0,c.connect)(g,(0,f.bindActions)(d.actions)))(s=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"SeekBarPlaybackContainer",player:e.player}))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.player.addEventListener(this.player.Event.TIME_UPDATE,function(){e.props.isDraggingActive||e.props.updateCurrentTime(e.player.currentTime)})}},{key:"render",value:function(){var e=this;return(0,l.h)(y.SeekBarControl,{player:this.props.player,playerElement:this.props.playerContainer,showFramePreview:this.props.showFramePreview,showTimeBubble:this.props.showTimeBubble,changeCurrentTime:function(t){return e.player.currentTime=t},playerPoster:this.props.poster,updateSeekbarDraggingStatus:function(t){return e.props.updateSeekbarDraggingStatus(t)},updateSeekbarHoverActive:function(t){return e.props.updateSeekbarHoverActive(t)},updateCurrentTime:function(t){return e.props.updateCurrentTime(t)},currentTime:this.props.currentTime,duration:this.props.duration,isDraggingActive:this.props.isDraggingActive,isMobile:this.props.isMobile})}}]),t}(h.default))||s;t.SeekBarPlaybackContainer=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SeekBarControl=void 0;var o,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(0),d=n(31),p=n(6),h=n(2),y=n(4),g=n(7),v=function(e){return{config:e.config.components.seekbar,isMobile:e.shell.isMobile}},m=(o=(0,h.connect)(v,(0,y.bindActions)(g.actions)))(s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentWillMount",value:function(){this.setState({virtualTime:0})}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("mouseup",function(t){e.onPlayerMouseUp(t)}),document.addEventListener("mousemove",function(t){e.onPlayerMouseMove(t)})}},{key:"onSeekbarMouseDown",value:function(e){if(!this.props.isMobile&&(this.props.updateSeekbarDraggingStatus(!0),this.props.isDraggingActive)){var t=this.getTime(e);this.updateSeekBarProgress(t,this.props.duration)}}},{key:"onTap",value:function(e){if(this.props.isMobile){var t=this.getTime(e);this.props.changeCurrentTime(t),this.updateSeekBarProgress(t,this.props.duration),this.props.updateSeekbarDraggingStatus(!1)}}},{key:"onPlayerMouseUp",value:function(e){if(!this.props.isMobile&&this.props.isDraggingActive){var t=this.getTime(e);this.props.changeCurrentTime(t),this.updateSeekBarProgress(t,this.props.duration),this.props.updateSeekbarDraggingStatus(!1)}}},{key:"onPlayerMouseMove",value:function(e){if(!this.props.isMobile&&this.props.isDraggingActive){var t=this.getTime(e);this.updateSeekBarProgress(t,this.props.duration),this.updateSeekBarProgress(t,this.props.duration,!0)}}},{key:"onSeekbarMouseMove",value:function(e){if(!this.props.isMobile){var t=this.getTime(e);this.updateSeekBarProgress(t,this.props.duration,!0)}}},{key:"onSeekbarTouchStart",value:function(e){if(this.props.updateSeekbarDraggingStatus(!0),this.props.isDraggingActive){var t=this.getTime(e);this.updateSeekBarProgress(t,this.props.duration)}}},{key:"onSeekbarTouchMove",value:function(e){var t=this.getTime(e);this._movex=t,this.updateSeekBarProgress(t,this.props.duration,!0),this.props.isDraggingActive&&this.updateSeekBarProgress(t,this.props.duration)}},{key:"onSeekbarKeyDown",value:function(e){if(!this.props.adBreak){var t=void 0;switch(e.keyCode){case p.KeyMap.LEFT:t=this.props.player.currentTime-5,this.props.player.currentTime=t>0?t:0,this.updateSeekBarProgress(this.props.player.currentTime,this.props.duration,!0);break;case p.KeyMap.RIGHT:t=this.props.player.currentTime+5,this.props.player.currentTime=t>this.props.player.duration?this.props.player.duration:t,this.updateSeekBarProgress(this.props.player.currentTime,this.props.duration,!0)}}}},{key:"onSeekbarTouchEnd",value:function(){if(this.props.isDraggingActive){var e=this._movex;this.props.changeCurrentTime(e),this.updateSeekBarProgress(e,this.props.duration)}this.props.updateSeekbarDraggingStatus(!1)}},{key:"onSeekbarMouseOver",value:function(){this.props.isMobile||this.props.updateSeekbarHoverActive(!0)}},{key:"onSeekbarMouseLeave",value:function(){this.props.isMobile||this.props.updateSeekbarHoverActive(!1)}},{key:"updateSeekBarProgress",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.setState({virtualTime:e}):this.props.updateCurrentTime(e)}},{key:"getOffset",value:function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return{top:n,left:t}}},{key:"getTime",value:function(e){var t=e.touches?e.touches[0].clientX:e.clientX,n=this.props.duration*((t-this._seekBarElement.offsetLeft-this.getOffset(this.props.playerElement).left)/this._seekBarElement.clientWidth);return n=parseFloat(n.toFixed(2)),n<0?0:n>this.props.duration?this.props.duration:n}},{key:"getBufferedPercent",value:function(){if(this.props.player.duration>0&&this.props.player.buffered.length>0){var e=this.props.player.isLive()?this.props.player.buffered.end(0)-this.props.player.getStartTimeOfDvrWindow():this.props.player.buffered.end(0),t=e/this.props.player.duration*100;return t<100?t:100}return 0}},{key:"getThumbSpriteOffset",value:function(){var e=this.state.virtualTime/this.props.duration;return-Math.ceil(this.props.config.thumbsSlices*e)*this.props.config.thumbsWidth+"px 0px"}},{key:"getFramePreviewOffset",value:function(){if(this._seekBarElement&&this._framePreviewElement){var e=this.state.virtualTime/this.props.duration*this._seekBarElement.clientWidth-this._framePreviewElement.clientWidth/2;return e<0?0:e>this._seekBarElement.clientWidth-this._framePreviewElement.clientWidth?this._seekBarElement.clientWidth-this._framePreviewElement.clientWidth:e}return 0}},{key:"getTimeBubbleOffset",value:function(){if(this._timeBubbleElement){var e=this.state.virtualTime/this.props.duration*this._seekBarElement.clientWidth-this._timeBubbleElement.clientWidth/2;return e<0?0:e>this._seekBarElement.clientWidth-this._timeBubbleElement.clientWidth?this._seekBarElement.clientWidth-this._timeBubbleElement.clientWidth:e}return 0}},{key:"renderFramePreview",value:function(){var e=this;if(this.props.config.thumbsSprite&&this.props.config.thumbsSlices&&this.props.config.thumbsWidth&&this.props.showFramePreview&&!this.props.isMobile)return(0,f.h)("div",{className:c.default.framePreview,style:this._getFramePreviewStyle(),ref:function(t){return e._framePreviewElement=t}},(0,f.h)("div",{className:c.default.framePreviewImg,style:this._getFramePreviewImgStyle()}))}},{key:"_getFramePreviewImgStyle",value:function(){var e="background-image: url("+this.props.config.thumbsSprite+");";return e+="background-position: "+this.getThumbSpriteOffset()+";",e+="background-size: "+this.props.config.thumbsSlices*this.props.config.thumbsWidth+"px 100%;"}},{key:"_getFramePreviewStyle",value:function(){var e="left: "+this.getFramePreviewOffset()+"px;";return e+="width: "+this.props.config.thumbsWidth+"px;"}},{key:"renderTimeBubble",value:function(){var e=this;if(this.props.showTimeBubble&&!this.props.isMobile){var t="left: "+this.getTimeBubbleOffset()+"px",n=this.props.isDvr?"-"+(0,d.toHHMMSS)(this.props.duration-this.state.virtualTime):(0,d.toHHMMSS)(this.state.virtualTime);return(0,f.h)("div",{className:c.default.timePreview,style:t,ref:function(t){return e._timeBubbleElement=t}},n)}}},{key:"render",value:function(e){var t=this,n=this.state.virtualTime/e.duration*100+"%",i=e.currentTime/e.duration*100+"%",r=Math.round(this.getBufferedPercent())+"%",a=[c.default.seekBar];return e.adBreak&&a.push(c.default.adBreak),e.isDvr&&a.push(c.default.live),e.isMobile&&a.push(c.default.hover),e.isDraggingActive&&a.push(c.default.hover),(0,f.h)("div",{tabIndex:"0",className:a.join(" "),ref:function(e){return t._seekBarElement=e},role:"slider","aria-label":"Seek slider","aria-valuemin":"0","aria-valuemax":Math.round(this.props.duration),"aria-valuenow":Math.round(this.props.currentTime),"aria-valuetext":(0,d.toHHMMSS)(this.props.currentTime)+" of "+(0,d.toHHMMSS)(this.props.duration),onClick:function(e){return t.onTap(e)},onMouseOver:function(){return t.onSeekbarMouseOver()},onMouseLeave:function(){return t.onSeekbarMouseLeave()},onMouseMove:function(e){return t.onSeekbarMouseMove(e)},onMouseDown:function(e){return t.onSeekbarMouseDown(e)},onTouchStart:function(e){return t.onSeekbarTouchStart(e)},onTouchMove:function(e){return t.onSeekbarTouchMove(e)},onTouchEnd:function(){return t.onSeekbarTouchEnd()},onKeyDown:function(e){return t.onSeekbarKeyDown(e)}},(0,f.h)("div",{className:c.default.progressBar},(0,f.h)("div",{className:c.default.progress,style:{width:i}},e.adBreak?void 0:(0,f.h)("a",{className:c.default.scrubber})),(0,f.h)("div",{className:c.default.virtualProgress,style:{width:n}}),this.renderTimeBubble(),this.renderFramePreview(),(0,f.h)("div",{className:c.default.buffered,style:{width:r}})))}}]),t}(f.Component))||s;t.SeekBarControl=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeControl=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(4),y=n(22),g=n(3),v=i(g),m=n(5),b=i(m),_=n(6),E=function(e){return{isDraggingActive:e.volume.draggingActive,volume:e.volume.volume,muted:e.volume.muted,isMobile:e.shell.isMobile}},A=(s=(0,p.connect)(E,(0,h.bindActions)(y.actions)))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Volume",player:e.player}))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.player.addEventListener(this.player.Event.LOADED_METADATA,function(){e.props.updateVolume(e.player.volume),e.props.updateMuted(e.player.muted)}),this.player.addEventListener(this.player.Event.VOLUME_CHANGE,function(){e.props.updateMuted(e.player.muted),e.props.updateVolume(e.player.volume)}),document.addEventListener("mouseup",function(t){return e.onVolumeProgressBarMouseUp(t)}),document.addEventListener("mousemove",function(t){return e.onVolumeProgressBarMouseMove(t)})}},{key:"getVolumeProgressHeight",value:function(){return this.props.muted?"0%":Math.round(100*this.props.volume)+"%"}},{key:"onVolumeProgressBarMouseDown",value:function(){this.props.updateVolumeDraggingStatus(!0)}},{key:"onVolumeProgressBarMouseMove",value:function(e){this.props.isDraggingActive&&this.changeVolume(e)}},{key:"onVolumeMouseOver",value:function(){this.props.isMobile||(this.props.updateVolumeHover(!0),this.setState({hover:!0}))}},{key:"onVolumeMouseOut",value:function(){this.props.isMobile||(this.props.updateVolumeHover(!1),this.setState({hover:!1}))}},{key:"onVolumeControlKeyDown",value:function(e){var t=void 0;switch(e.keyCode){case _.KeyMap.UP:this.setState({hover:!0}),t=Math.round(100*this.player.volume)+5,this.player.muted&&(this.player.muted=!1),this.player.volume=t/100;break;case _.KeyMap.DOWN:if(this.setState({hover:!0}),(t=Math.round(100*this.player.volume)-5)<5)return void(this.player.muted=!0);this.player.volume=t/100;break;default:this.setState({hover:!1})}}},{key:"onVolumeProgressBarMouseUp",value:function(e){this.props.isDraggingActive&&(this.props.updateVolumeDraggingStatus(!1),this.changeVolume(e))}},{key:"onVolumeControlButtonClick",value:function(){this.logger.debug("Toggle mute. "+this.player.muted+" => "+!this.player.muted),this.player.muted=!this.player.muted}},{key:"changeVolume",value:function(e){var t=this._volumeProgressBarElement.clientHeight,n=this.getCoords(this._volumeProgressBarElement).top,i=e.clientY,r=1-(i-n)/t;r=parseFloat(r.toFixed(2)),this.logger.debug("Change volume from "+this.player.volume+" => "+r),this.player.volume=r,this.props.muted&&(this.player.muted=!1)}},{key:"getCoords",value:function(e){var t=e.getBoundingClientRect();return{top:t.top,left:t.left}}},{key:"render",value:function(){var e=this,t=[f.default.controlButtonContainer,f.default.volumeControl];return this.props.isDraggingActive&&t.push(f.default.draggingActive),(this.props.muted||0===this.props.volume)&&t.push(f.default.isMuted),this.state.hover&&!this.props.smartContainerOpen&&t.push(f.default.hover),(0,d.h)("div",{ref:function(t){return e._volumeControlElement=t},className:t.join(" "),onMouseOver:function(){return e.onVolumeMouseOver()},onMouseOut:function(){return e.onVolumeMouseOut()}},(0,d.h)("button",{tabIndex:"0","aria-label":"Volume",className:f.default.controlButton,onClick:function(){return e.onVolumeControlButtonClick()},onKeyDown:function(t){return e.onVolumeControlKeyDown(t)}},(0,d.h)(b.default,{type:m.IconType.VolumeBase}),(0,d.h)(b.default,{type:m.IconType.VolumeWaves}),(0,d.h)(b.default,{type:m.IconType.VolumeMute})),(0,d.h)("div",{className:f.default.volumeControlBar,role:"slider","aria-valuemin":"0","aria-valuemaz":"100","aria-valuenow":100*this.player.volume,"aria-valuetext":100*this.player.volume+"% volume "+(this.player.muted?"muted":"")},(0,d.h)("div",{className:f.default.bar,ref:function(t){return e._volumeProgressBarElement=t},onMouseDown:function(){return e.onVolumeProgressBarMouseDown()}},(0,d.h)("div",{className:f.default.progress,style:{height:this.getVolumeProgressHeight()}}))))}}]),t}(v.default))||u;t.VolumeControl=A},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsControl=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(8),h=n(2),y=n(4),g=n(49),v=n(3),m=i(v),b=n(33),_=n(57),E=n(5),A=i(E),k=function(e){return{videoTracks:e.engine.videoTracks,isMobile:e.shell.isMobile,isLive:e.engine.isLive}},T=(s=(0,h.connect)(k,(0,y.bindActions)(g.actions)))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Settings",player:e.player}))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){this.setState({smartContainerOpen:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside.bind(this))}},{key:"handleClickOutside",value:function(e){!this.props.isMobile&&this._controlSettingsElement&&!this._controlSettingsElement.contains(e.target)&&this.state.smartContainerOpen&&(e.target.classList.contains(f.default.overlayPlay)&&e.stopPropagation(),this.setState({smartContainerOpen:!1}))}},{key:"onControlButtonClick",value:function(){this.setState({smartContainerOpen:!this.state.smartContainerOpen})}},{key:"onSpeedChange",value:function(e){this.props.updateSpeed(e),this.player.playbackRate=e}},{key:"onQualityChange",value:function(e){"auto"===e?this.player.enableAdaptiveBitrate():this.player.selectTrack(e)}},{key:"filterUniqueQualities",value:function(e,t){var n=e.length-1,i=e[n];return n>-1&&t.height===i.height?t.bandwidth>i.bandwidth&&(e[n]=t):e.push(t),e}},{key:"render",value:function(e){var t=this,n=this.player.playbackRates.reduce(function(e,n){var i={value:n,label:1===n?"Normal":n,active:!1};return n===t.player.playbackRate&&(i.active=!0),e.push(i),e},[]),i=e.videoTracks.sort(function(e,t){return e.bandwidth<t.bandwidth?1:-1}).filter(function(e){return e.bandwidth||e.height}).reduce(this.filterUniqueQualities,[]).map(function(e){return{label:e.label,active:!t.player.isAdaptiveBitrateEnabled()&&e.active,value:e}});if(i.length>1&&"progressive"!==this.player.streamType&&i.unshift({label:"Auto",active:this.player.isAdaptiveBitrateEnabled(),value:"auto"}),!e.isLive||0!==i.length)return(0,d.h)("div",{ref:function(e){return t._controlSettingsElement=e},className:[f.default.controlButtonContainer,f.default.controlSettings].join(" ")},(0,d.h)(p.Localizer,null,(0,d.h)("button",{tabIndex:"0","aria-label":(0,d.h)(p.Text,{id:"controls.settings"}),className:this.state.smartContainerOpen?[f.default.controlButton,f.default.active].join(" "):f.default.controlButton,onClick:function(){return t.onControlButtonClick()}},(0,d.h)(A.default,{type:E.IconType.Settings}))),this.state.smartContainerOpen?(0,d.h)(b.SmartContainer,{title:"Settings",onClose:function(){return t.onControlButtonClick()}},i.length<=1?"":(0,d.h)(p.Localizer,null,(0,d.h)(_.SmartContainerItem,{icon:"quality",label:(0,d.h)(p.Text,{id:"settings.quality"}),options:i,onSelect:function(e){return t.onQualityChange(e)}})),e.isLive?"":(0,d.h)(p.Localizer,null,(0,d.h)(_.SmartContainerItem,{icon:"speed",label:(0,d.h)(p.Text,{id:"settings.speed"}),options:n,onSelect:function(e){return t.onSpeedChange(e)}}))):"")}}]),t}(m.default))||u;t.SettingsControl=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmartContainer=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(4),y=n(7),g=n(34),v=i(g),m=n(10),b=n(6),_=function(e){return{isMobile:e.shell.isMobile}},E=(s=(0,p.connect)(_,(0,h.bindActions)(y.actions)))(u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.addPlayerClass(f.default.smartContainerOpen),this.props.updateSmartContainerOpen(!0)}},{key:"componentWillUnmount",value:function(){this.props.removePlayerClass(f.default.smartContainerOpen),this.props.updateSmartContainerOpen(!1)}},{key:"render",value:function(e){return e.isMobile?(0,d.h)(v.default,{into:"#overlay-portal"},(0,d.h)(m.Overlay,{open:!0,onClose:function(){return e.onClose()}},(0,d.h)("div",{className:f.default.title},e.title),e.children)):(0,d.h)("div",{tabIndex:"-1",className:[f.default.smartContainer,f.default.top,f.default.left].join(" "),onKeyDown:function(t){t.keyCode===b.KeyMap.ESC&&e.onClose()}},e.children)}}]),t}(d.Component))||u;t.SmartContainer=E},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Overlay=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(8),h=n(2),y=n(4),g=n(7),v=n(5),m=i(v),b=n(6),_=(s=(0,h.connect)(null,(0,y.bindActions)(g.actions)))(u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.addPlayerClass(f.default.overlayActive)}},{key:"componentWillUnmount",value:function(){this.props.removePlayerClass(f.default.overlayActive)}},{key:"renderCloseButton",value:function(e){return e.permanent?void 0:(0,d.h)(p.Localizer,null,(0,d.h)("a",{onClick:function(){return e.onClose()},"aria-label":(0,d.h)(p.Text,{id:"core.close"}),className:f.default.closeOverlay},(0,d.h)(m.default,{type:v.IconType.Close})))}},{key:"render",value:function(e){var t=[f.default.overlay];return e.type&&t.push(f.default[e.type+"-overlay"]),e.open&&t.push(f.default.active),(0,d.h)("div",{tabIndex:"-1",className:t.join(" "),role:"dialog",onKeyDown:function(t){t.keyCode===b.KeyMap.ESC&&e.onClose()}},(0,d.h)("div",{className:f.default.overlayContents},e.children),this.renderCloseButton(e))}}]),t}(d.Component))||u;t.Overlay=_},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DropDown=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(58),y=n(5),g=i(y),v=n(6),m=function(e){return{isMobile:e.shell.isMobile}},b=(s=(0,p.connect)(m))(u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){this.setState({dropMenuActive:!1})}},{key:"isSelected",value:function(e){return e.active}},{key:"onSelect",value:function(e){this.props.onSelect(e),this.setState({dropMenuActive:!1})}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case v.KeyMap.ENTER:this.setState({dropMenuActive:!this.state.dropMenuActive});break;case v.KeyMap.ESC:this.onClose(),e.stopPropagation()}}},{key:"onClose",value:function(){this.setState({dropMenuActive:!1})}},{key:"getActiveOptionLabel",value:function(){var e=this.props.options.filter(function(e){return e.active});try{return e[0].label}catch(e){return this.props.options[0].label||"Unlabled"}}},{key:"renderNativeSelect",value:function(){var e=this;return(0,d.h)(h.Menu,{options:this.props.options,onSelect:function(t){return e.onSelect(t)},onClose:function(){return e.onClose()}})}},{key:"render",value:function(e){var t=this;return e.isMobile?this.renderNativeSelect():(0,d.h)("div",{className:this.state.dropMenuActive?[f.default.dropdown,f.default.active].join(" "):f.default.dropdown,ref:function(e){return t._el=e}},(0,d.h)("div",{tabIndex:"0",className:f.default.dropdownButton,onClick:function(){return t.setState({dropMenuActive:!t.state.dropMenuActive})},onKeyDown:function(e){return t.onKeyDown(e)}},(0,d.h)("span",null,this.getActiveOptionLabel()),(0,d.h)(g.default,{type:y.IconType.ArrowDown})),this.state.dropMenuActive?(0,d.h)(h.Menu,{parentEl:this._el,options:e.options,onSelect:function(e){return t.onSelect(e)},onClose:function(){return t.onClose()}}):void 0)}}]),t}(d.Component))||u;t.DropDown=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Menu=void 0;var u,l,c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),f=n(1),d=i(f),p=n(0),h=n(5),y=i(h),g=n(2),v=n(6),m=function(e){return{isMobile:e.shell.isMobile,playerClientRect:e.shell.playerClientRect}},b=(u=(0,g.connect)(m))(l=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"componentWillMount",value:function(){this.setState({position:[d.default.top,d.default.left]})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside.bind(this),!0),this.props.isMobile||this.setState({position:this.getPosition()})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside.bind(this))}},{key:"getPosition",value:function(){var e=this._menuElement.getBoundingClientRect(),t=this.props.playerClientRect;return t.bottom-e.bottom+e.height>t.height?[d.default.bottom,d.default.left]:[d.default.top,d.default.left]}},{key:"handleClickOutside",value:function(e){this.props.isMobile||!this._menuElement||this._menuElement.contains(e.target)||(e.stopPropagation(),this.props.onClose())}},{key:"isSelected",value:function(e){return e.active}},{key:"onSelect",value:function(e){this.props.onSelect(e.value),this.props.options.filter(function(e){return e.active}).forEach(function(e){e.active=!1}),this.props.options.filter(function(t){return t.value===e.value})[0].active=!0}},{key:"onKeyDown",value:function(e,t){switch(e.keyCode){case v.KeyMap.ENTER:this.onSelect(t);break;case v.KeyMap.ESC:this.props.onClose(),e.stopPropagation()}}},{key:"getActiveOptionLabel",value:function(){var e=this.props.options.filter(function(e){return e.active});return e.length>0?e[0].label:this.props.options[0].label}},{key:"renderNativeSelect",value:function(){var e=this;return(0,p.h)("select",{className:this.props.hideSelect?d.default.mobileHiddenSelect:"",onChange:function(t){return e.onSelect(e.props.options[t.target.value])}},this.props.options.map(function(t,n){return(0,p.h)("option",{selected:e.isSelected(t),value:n,key:n},t.label)}))}},{key:"render",value:function(e){var t=this;return e.isMobile?this.renderNativeSelect():(0,p.h)("div",{ref:function(e){return t._menuElement=e},className:[d.default.dropdownMenu].concat(r(this.state.position)).join(" ")},e.options.map(function(e,n){return(0,p.h)("div",{tabIndex:"",key:n,className:t.isSelected(e)?[d.default.dropdownMenuItem,d.default.active].join(" "):d.default.dropdownMenuItem,onClick:function(){return t.onSelect(e)},onKeyDown:function(n){return t.onKeyDown(n,e)}},(0,p.h)("span",null,e.label),(0,p.h)("span",{className:d.default.menuIconContainer,style:"opacity: "+(t.isSelected(e)?1:0)},(0,p.h)(y.default,{type:h.IconType.Check})))}))}}]),t}(p.Component))||l;t.Menu=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageControl=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(8),h=n(2),y=n(4),g=n(26),v=n(3),m=i(v),b=n(33),_=n(57),E=n(5),A=i(E),k=n(59),T=n(34),w=i(T),S=n(6),P=function(e){return{audioTracks:e.engine.audioTracks,textTracks:e.engine.textTracks,overlayOpen:e.cvaa.overlayOpen,isMobile:e.shell.isMobile}},O=(s=(0,h.connect)(P,(0,y.bindActions)(g.actions)))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"LanguageControl",player:e.player}))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){this.setState({smartContainerOpen:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"handleClickOutside",value:function(e){!this._controlLanguageElement||this.props.isMobile||this._controlLanguageElement.contains(e.target)||!this.state.smartContainerOpen||this.state.cvaaOverlay||(e.target.classList.contains("overlay-action")&&e.stopPropagation(),this.setState({smartContainerOpen:!1}))}},{key:"onControlButtonClick",value:function(){this.setState({smartContainerOpen:!this.state.smartContainerOpen})}},{key:"onAudioChange",value:function(e){this.player.selectTrack(e)}},{key:"onCaptionsChange",value:function(e){this.player.selectTrack(e)}},{key:"toggleCVAAOverlay",value:function(){this.setState({cvaaOverlay:!this.state.cvaaOverlay})}},{key:"renderAll",value:function(e,t){var n=this;return(0,d.h)("div",{ref:function(e){return n._controlLanguageElement=e},className:[f.default.controlButtonContainer,f.default.controlLanguage].join(" ")},(0,d.h)(p.Localizer,null,(0,d.h)("button",{tabIndex:"0","aria-label":(0,d.h)(p.Text,{id:"controls.language"}),className:this.state.smartContainerOpen?[f.default.controlButton,f.default.active].join(" "):f.default.controlButton,onClick:function(){return n.onControlButtonClick()}},(0,d.h)(A.default,{type:E.IconType.Language}))),!this.state.smartContainerOpen||this.state.cvaaOverlay?void 0:(0,d.h)(b.SmartContainer,{title:"Language",onClose:function(){return n.onControlButtonClick()}},0===e.length?void 0:(0,d.h)(p.Localizer,null,(0,d.h)(_.SmartContainerItem,{icon:"audio",label:(0,d.h)(p.Text,{id:"language.audio"}),options:e,onSelect:function(e){return n.onAudioChange(e)}})),0===t.length?void 0:(0,d.h)(p.Localizer,null,(0,d.h)(_.SmartContainerItem,{icon:"captions",label:(0,d.h)(p.Text,{id:"language.captions"}),options:t,onSelect:function(e){return n.onCaptionsChange(e)}})),0===t.length?void 0:(0,d.h)("div",{tabIndex:"0",className:f.default.smartContainerItem,onKeyDown:function(e){e.keyCode===S.KeyMap.ENTER&&n.toggleCVAAOverlay()}},(0,d.h)("a",{onClick:function(){return n.toggleCVAAOverlay()}},(0,d.h)(p.Text,{id:"language.advanced_captions_settings"})))),this.state.cvaaOverlay?(0,d.h)(w.default,{into:"#overlay-portal",ref:function(e){return n._portal=e}},(0,d.h)(k.CVAAOverlay,{player:this.player,onClose:function(){n.toggleCVAAOverlay(),n.onControlButtonClick()}})):(0,d.h)("div",null))}},{key:"render",value:function(e){var t=e.audioTracks.filter(function(e){return e.label||e.language}).map(function(e){return{label:e.label||e.language,active:e.active,value:e}}),n=e.textTracks.filter(function(e){return"subtitles"===e.kind}).map(function(e){return{label:e.label||e.language,active:e.active,value:e}});return t.length>0||n.length>0?this.renderAll(t,n):void 0}}]),t}(m.default))||u;t.LanguageControl=O},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CVAAOverlay=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f=n(1),d=i(f),p=n(0),h=n(2),y=n(117),g=i(y),v=n(4),m=n(26),b=n(7),_=n(3),E=i(_),A=n(10),k=n(35),T=n(60),w=n(5),S=i(w),P=n(6),O=function(e){return{open:e.cvaa.overlayOpen,style:e.cvaa.style}},C={Main:"main",CustomCaptions:"custom-captions"},L=(s=(0,h.connect)(O,(0,v.bindActions)(c({},m.actions,b.actions))))(u=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"CVAAOverlay"}))}return o(t,e),l(t,[{key:"componentWillUnmount",value:function(){this.setState({state:C.Main})}},{key:"componentWillMount",value:function(){this.setState({state:C.Main,customTextStyle:this.props.player.textStyle}),this.captionsStyleDefault=Object.assign(new this.props.player.TextStyle,{backgroundOpacity:this.props.player.TextStyle.StandardOpacities.TRANSPARENT}),this.captionsStyleYellow=Object.assign(new this.props.player.TextStyle,{backgroundOpacity:this.props.player.TextStyle.StandardOpacities.TRANSPARENT,fontColor:this.props.player.TextStyle.StandardColors.YELLOW}),this.captionsStyleBlackBG=Object.assign(new this.props.player.TextStyle,{backgroundColor:this.props.player.TextStyle.StandardColors.BLACK,fontColor:this.props.player.TextStyle.StandardColors.WHITE})}},{key:"transitionToState",value:function(e){this.setState({state:e})}},{key:"changeCaptionsStyle",value:function(e){this.props.updateCaptionsStyle(e),this.props.player.textStyle=e,this.props.onClose()}},{key:"isAdvancedStyleApplied",value:function(){return!(0,g.default)(this.props.player.textStyle,this.captionsStyleDefault)&&!(0,g.default)(this.props.player.textStyle,this.captionsStyleBlackBG)&&!(0,g.default)(this.props.player.textStyle,this.captionsStyleYellow)}},{key:"renderMainState",value:function(){var e=this;return(0,p.h)("div",{className:this.state.state===C.Main?[d.default.overlayScreen,d.default.active].join(" "):d.default.overlayScreen},(0,p.h)("div",{className:d.default.title},"Advanced captions settings"),(0,p.h)("div",null,(0,p.h)("div",{tabIndex:"0",className:d.default.sample,onClick:function(){return e.changeCaptionsStyle(e.captionsStyleDefault)},onKeyDown:function(t){t.keyCode===P.KeyMap.ENTER&&e.changeCaptionsStyle(e.captionsStyleDefault)}},"Sample",(0,g.default)(this.props.player.textStyle,this.captionsStyleDefault)?(0,p.h)("div",{className:d.default.activeTick},(0,p.h)(S.default,{type:w.IconType.Check})):void 0),(0,p.h)("div",{tabIndex:"0",className:[d.default.sample,d.default.blackBg].join(" "),onClick:function(){return e.changeCaptionsStyle(e.captionsStyleBlackBG)},onKeyDown:function(t){t.keyCode===P.KeyMap.ENTER&&e.changeCaptionsStyle(e.captionsStyleBlackBG)}},"Sample",(0,g.default)(this.props.player.textStyle,this.captionsStyleBlackBG)?(0,p.h)("div",{className:d.default.activeTick},(0,p.h)(S.default,{type:w.IconType.Check})):void 0),(0,p.h)("div",{tabIndex:"0",className:[d.default.sample,d.default.yellowText].join(" "),onClick:function(){return e.changeCaptionsStyle(e.captionsStyleYellow)},onKeyDown:function(t){t.keyCode===P.KeyMap.ENTER&&e.changeCaptionsStyle(e.captionsStyleYellow)}},"Sample",(0,g.default)(this.props.player.textStyle,this.captionsStyleYellow)?(0,p.h)("div",{className:d.default.activeTick},(0,p.h)(S.default,{type:w.IconType.Check})):void 0)),this.isAdvancedStyleApplied()?(0,p.h)("div",{className:d.default.customCaptionsApplied},(0,p.h)("div",{tabIndex:"0",className:[d.default.sample,d.default.custom].join(" "),style:this.state.customTextStyle.toCSS()},(0,p.h)("span",null,"Custom captions"),(0,p.h)("div",{className:d.default.activeTick},(0,p.h)(S.default,{type:w.IconType.Check}))),(0,p.h)("a",{tabIndex:"0",onClick:function(){return e.transitionToState(C.CustomCaptions)},onKeyDown:function(t){t.keyCode===P.KeyMap.ENTER&&e.transitionToState(C.CustomCaptions)}},"Edit caption")):(0,p.h)("a",{tabIndex:"0",className:d.default.buttonSaveCvaa,onClick:function(){return e.transitionToState(C.CustomCaptions)},onKeyDown:function(t){t.keyCode===P.KeyMap.ENTER&&e.transitionToState(C.CustomCaptions)}},"Set custom caption"))}},{key:"changeCustomStyle",value:function(e){this.setState({customTextStyle:Object.assign(this.state.customTextStyle,e)})}},{key:"renderCustomCaptionsState",value:function(e){var t=this,n=this.props.player.TextStyle.FontFamily,i=this.props.player.TextStyle.EdgeStyles,r=e.player.TextStyle.StandardColors,a=this.props.player.TextStyle.FontSizes.map(function(e){return{value:e,label:e,active:t.state.customTextStyle.fontSize===e}}),o=Object.keys(r).map(function(e){return{value:r[e],label:e.charAt(0).toUpperCase()+e.toLowerCase().slice(1),active:t.state.customTextStyle.fontColor==r[e]}}),s=Object.keys(n).map(function(e){return{value:n[e],label:n[e],active:t.state.customTextStyle.fontFamily==n[e]}}),u=Object.keys(i).map(function(e){return{value:i[e],label:e.charAt(0).toUpperCase()+e.toLowerCase().slice(1),active:t.state.customTextStyle.fontEdge==i[e]}}),l=Object.keys(r).map(function(e){return{value:r[e],label:e.charAt(0).toUpperCase()+e.toLowerCase().slice(1),active:t.state.customTextStyle.backgroundColor==r[e]}});return(0,p.h)("div",{className:this.state.state===C.CustomCaptions?[d.default.overlayScreen,d.default.active].join(" "):d.default.overlayScreen},(0,p.h)("form",{className:[d.default.form,d.default.customCaptionForm].join(" ")},(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("label",null,"Size"),(0,p.h)(k.DropDown,{onSelect:function(e){return t.changeCustomStyle({fontSize:e})},options:a})),(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("label",null,"Font color"),(0,p.h)(k.DropDown,{onSelect:function(e){return t.changeCustomStyle({fontColor:e})},options:o})),(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("label",null,"Font family"),(0,p.h)(k.DropDown,{onSelect:function(e){return t.changeCustomStyle({fontFamily:e})},options:s})),(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("label",null,"Font style"),(0,p.h)(k.DropDown,{onSelect:function(e){return t.changeCustomStyle({fontEdge:e})},options:u})),(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("label",null,"Font opacity"),(0,p.h)(T.Slider,{min:0,max:100,value:100*this.state.customTextStyle.fontOpacity,onChange:function(e){return t.changeCustomStyle({fontOpacity:e/100})}})),(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("label",null,"Background color"),(0,p.h)(k.DropDown,{onSelect:function(e){return t.changeCustomStyle({backgroundColor:e})},options:l})),(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("label",null,"Background opacity"),(0,p.h)(T.Slider,{min:0,max:100,value:100*this.state.customTextStyle.backgroundOpacity,onChange:function(e){return t.changeCustomStyle({backgroundOpacity:e/100})}})),(0,p.h)("div",{className:d.default.formGroupRow},(0,p.h)("a",{tabIndex:"0",onClick:function(){return t.changeCaptionsStyle(t.state.customTextStyle)},onKeyDown:function(e){e.keyCode===P.KeyMap.ENTER&&t.changeCaptionsStyle(t.state.customTextStyle)},className:[d.default.btn,d.default.btnBranded,d.default.btnBlock].join(" ")},"Apply")),(0,p.h)("div",{className:d.default.previewContainer},(0,p.h)("span",{style:this.state.customTextStyle.toCSS()},"This is your caption preview"))))}},{key:"render",value:function(e){return(0,p.h)(A.Overlay,{open:!0,onClose:function(){return e.onClose()},type:"cvaa"},this.renderMainState(),this.renderCustomCaptionsState(e))}}]),t}(E.default))||u;t.CVAAOverlay=L},function(e,t,n){"use strict";function i(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var r=0;r<n.length;r++)if(e[n[r]]!==t[n[r]])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Slider=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(0),c=n(6),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"componentWillMount",value:function(){var e=this;this.setState({value:this.props.value||0,min:this.props.min||0,max:this.props.max||100,dragging:!1}),document.addEventListener("mouseup",function(t){return e.mouseUpHandler(t)}),document.addEventListener("mousemove",function(t){return e.mouseMoveHandler(t)}),document.addEventListener("touchend",function(t){return e.mouseUpHandler(t)}),document.addEventListener("touchmove",function(t){return e.mouseMoveHandler(t)})}},{key:"componentDidMount",value:function(){this.sliderWidth=this._sliderElement.clientWidth,this._sliderElementOffsetLeft=this._sliderElement.getBoundingClientRect().left}},{key:"mouseDownHandler",value:function(e){this._sliderElementOffsetLeft=this._sliderElement.getBoundingClientRect().left,this.state.dragging||(this.setState({dragging:!0,value:this.mouseEventToValue(e)}),this.props.onChange(this.mouseEventToValue(e)))}},{key:"onKeyboardDragging",value:function(e){e.stopPropagation(),this._sliderElementOffsetLeft=this._sliderElement.getBoundingClientRect().left;var t=this.props.value;switch(e.keyCode){case c.KeyMap.RIGHT:(t+=5)>this.state.max&&(t=this.state.max);break;case c.KeyMap.LEFT:(t-=5)<this.state.min&&(t=this.state.min)}this.setState({value:t,dragging:!1}),this.props.onChange(t)}},{key:"mouseMoveHandler",value:function(e){this.state.dragging&&(this.setState({value:this.mouseEventToValue(e)}),this.props.onChange(this.mouseEventToValue(e)))}},{key:"mouseUpHandler",value:function(e){this.state.dragging&&(this.setState({value:this.mouseEventToValue(e),dragging:!1}),this.props.onChange(this.mouseEventToValue(e)))}},{key:"mouseEventToValue",value:function(e){var t=void 0;t=e.touches&&e.touches.length>0?e.touches[0].clientX:e.changedTouches?e.changedTouches[0].pageX:e.clientX;var n=t-this._sliderElement.getBoundingClientRect().left,i=Math.round(n/this._sliderElement.clientWidth*100);return this.getValueByPersentage(i)<this.state.min?this.state.min:this.getValueByPersentage(i)>this.state.max?this.state.max:this.getValueByPersentage(i)}},{key:"getValueByPersentage",value:function(e){return this.state.max/100*e}},{key:"getPersentageByValue",value:function(){return Math.round(this.state.value/this.state.max*100)}},{key:"render",value:function(){var e=this;return(0,l.h)("div",{tabIndex:"0",ref:function(t){return e._sliderElement=t},className:u.default.slider,onMouseDown:function(t){return e.mouseDownHandler(t)},onTouchStart:function(t){return e.mouseDownHandler(t)},onKeyDown:function(t){t.keyCode!==c.KeyMap.LEFT&&t.keyCode!==c.KeyMap.RIGHT||e.onKeyboardDragging(t)}},(0,l.h)("div",{className:u.default.progress,style:{width:this.getPersentageByValue()+"%"}},(0,l.h)("div",{className:u.default.handle,onMouseDown:function(t){return e.mouseDownHandler(t)},onTouchStart:function(t){return e.mouseDownHandler(t)}})))}}]),t}(l.Component);t.Slider=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FullscreenControl=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(8),h=n(2),y=n(4),g=n(7),v=n(47),m=n(3),b=i(m),_=n(5),E=i(_),A=function(e){return{targetId:e.config.targetId,fullscreen:e.fullscreen.fullscreen,isMobile:e.shell.isMobile}},k=(s=(0,h.connect)(A,(0,y.bindActions)(Object.assign(g.actions,v.actions))))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Fullscreen",player:e.player}))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;document.addEventListener("webkitfullscreenchange",function(){return e.fullscreenChangeHandler()}),document.addEventListener("mozfullscreenchange",function(){return e.fullscreenChangeHandler()}),document.addEventListener("fullscreenchange",function(){return e.fullscreenChangeHandler()}),document.addEventListener("MSFullscreenChange",function(){return e.fullscreenChangeHandler()}),this.player.addEventListener(this.player.Event.REQUESTED_ENTER_FULLSCREEN,function(){return e.enterFullscreen()}),this.player.addEventListener(this.player.Event.REQUESTED_EXIT_FULLSCREEN,function(){return e.exitFullscreen()}),this.handleIosFullscreen()}},{key:"handleIosFullscreen",value:function(){var e=this;if("iOS"===this.player.env.os.name){var t=function t(){e.player.removeEventListener(e.player.Event.SOURCE_SELECTED,t),e.player.getVideoElement().addEventListener("webkitbeginfullscreen",function(){e.fullscreenEnterHandler()}),e.player.getVideoElement().addEventListener("webkitendfullscreen",function(){e.fullscreenExitHandler()})};this.player.addEventListener(this.player.Event.SOURCE_SELECTED,t)}}},{key:"fullscreenChangeHandler",value:function(){void 0!==document.fullscreenElement&&Boolean(document.fullscreenElement)||void 0!==document.webkitFullscreenElement&&Boolean(document.webkitFullscreenElement)||void 0!==document.mozFullScreenElement&&Boolean(document.mozFullScreenElement)||void 0!==document.msFullscreenElement&&Boolean(document.msFullscreenElement)?this.fullscreenEnterHandler():this.fullscreenExitHandler()}},{key:"fullscreenEnterHandler",value:function(){this.player.notifyEnterFullscreen(),this.props.updateFullscreen(!0)}},{key:"fullscreenExitHandler",value:function(){this.player.notifyExitFullscreen(),this.props.updateFullscreen(!1)}},{key:"requestFullscreen",value:function(e){return"function"==typeof e.requestFullscreen?(e.requestFullscreen(),!0):"function"==typeof e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):"function"==typeof e.webkitRequestFullScreen?(e.webkitRequestFullScreen(),!0):"function"==typeof e.msRequestFullscreen&&(e.msRequestFullscreen(),!0)}},{key:"enterFullscreen",value:function(){if("iOS"===this.player.env.os.name)this.player.getVideoElement().webkitEnterFullScreen();else{var e=document.getElementById(this.props.targetId);e&&this.requestFullscreen(e)}}},{key:"exitFullscreen",value:function(){"iOS"===this.player.env.os.name?this.player.getVideoElement().webkitExitFullScreen():"function"==typeof document.exitFullscreen?document.exitFullscreen():"function"==typeof document.webkitExitFullscreen?document.webkitExitFullscreen():"function"==typeof document.mozCancelFullScreen?document.mozCancelFullScreen():"function"==typeof document.msExitFullscreen&&document.msExitFullscreen()}},{key:"toggleFullscreen",value:function(){this.logger.debug("Toggle fullscreen"),this.props.fullscreen?this.exitFullscreen():this.enterFullscreen()}},{key:"render",value:function(){var e=this;return(0,d.h)("div",{className:[f.default.controlButtonContainer,f.default.controlFullscreen].join(" ")},(0,d.h)(p.Localizer,null,(0,d.h)("button",{tabIndex:"0","aria-label":(0,d.h)(p.Text,{id:"controls.fullscreen"}),className:this.props.fullscreen?[f.default.controlButton,f.default.isFullscreen].join(" "):f.default.controlButton,onClick:function(){return e.toggleFullscreen()}},(0,d.h)(E.default,{type:_.IconType.Maximize}),(0,d.h)(E.default,{type:_.IconType.Minimize}))))}}]),t}(b.default))||u;t.FullscreenControl=k},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TimeDisplayPlaybackContainer=void 0;var o,s,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),f=n(2),d=n(3),p=function(e){return e&&e.__esModule?e:{default:e}}(d),h=n(37),y=function(e){return{currentTime:e.engine.currentTime,duration:e.engine.duration}},g=(o=(0,f.connect)(y))(s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"TimeDisplayPlaybackContainer"}))}return a(t,e),l(t,[{key:"render",value:function(e){return(0,c.h)(h.TimeDisplay,u({currentTime:e.currentTime,duration:e.duration},e))}}]),t}(p.default))||s;t.TimeDisplayPlaybackContainer=g},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TimeDisplay=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(0),c=n(31),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"getTimeDisplay",value:function(e,t,n){var i=n||"current / total",r=(0,c.toHHMMSS)(e),a=(0,c.toHHMMSS)(t),o=(0,c.toHHMMSS)(t-e);return i=i.replace(/current/g,r),i=i.replace(/total/g,a),i=i.replace(/left/g,o)}},{key:"render",value:function(e){return(0,l.h)("div",{className:u.default.timeDisplay},(0,l.h)("span",null,this.getTimeDisplay(e.currentTime,e.duration,e.format)))}}]),t}(l.Component);t.TimeDisplay=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.BottomBar=void 0;var o,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(0),d=n(4),p=n(7),h=n(2),y=(o=(0,h.connect)(null,(0,d.bindActions)(p.actions)))(s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(e){var t=this;return(0,f.h)("div",{className:c.default.bottomBar,onMouseOver:function(){return t.props.updateBottomBarHoverActive(!0)},onMouseLeave:function(){return t.props.updateBottomBarHoverActive(!1)}},e.children)}}]),t}(f.Component))||s;t.BottomBar=y},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayPortal=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),u=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(e){return(0,s.h)("div",{id:"overlay-portal"},e.children)}}]),t}(s.Component);t.OverlayPortal=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardControl=t.KEYBOARD_DEFAULT_VOLUME_JUMP=t.KEYBOARD_DEFAULT_SEEK_JUMP=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(3),f=function(e){return e&&e.__esModule?e:{default:e}}(c),d=n(2),p=n(7),h=n(27),y=n(4),g=n(6),v=n(5),m=n(52),b=function(e){return{playerNav:e.shell.playerNav,isPlaying:e.engine.isPlaying,adBreak:e.engine.adBreak,adIsPlaying:e.engine.adIsPlaying}},_=t.KEYBOARD_DEFAULT_SEEK_JUMP=5,E=t.KEYBOARD_DEFAULT_VOLUME_JUMP=5,A=(s=(0,d.connect)(b,(0,y.bindActions)(Object.assign(p.actions,h.actions))))(u=function(e){function t(e){var n;r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Keyboard",player:e.player,config:e.config}));o._activeTextTrack=null,o._hoverTimeout=null,o.keyboardHandlers=(n={},i(n,g.KeyMap.SPACE,function(){o.isPlayingAdOrPlayback()?(o.player.pause(),o.props.updateOverlayActionIcon(v.IconType.Pause)):(o.player.play(),o.props.updateOverlayActionIcon(v.IconType.Play))}),i(n,g.KeyMap.UP,function(){var e=(Math.round(100*o.player.volume)+E)/100;o.logger.debug("Changing volume. "+o.player.volume+" => "+e),o.player.muted&&(o.player.muted=!1),o.player.volume=e,o.props.updateOverlayActionIcon([v.IconType.VolumeBase,v.IconType.VolumeWaves])}),i(n,g.KeyMap.DOWN,function(){var e=(Math.round(100*o.player.volume)-E)/100;if(0===e)return o.player.muted=!0,void o.props.updateOverlayActionIcon([v.IconType.VolumeBase,v.IconType.VolumeMute]);o.logger.debug("Changing volume. "+o.player.volume+" => "+e),o.player.volume=e,o.props.updateOverlayActionIcon([v.IconType.VolumeBase,v.IconType.VolumeWave])}),i(n,g.KeyMap.F,function(){o.player.isFullscreen()||(o.logger.debug("Enter fullscreen"),o.player.enterFullscreen())}),i(n,g.KeyMap.ESC,function(){o.player.isFullscreen()&&(o.logger.debug("Exit fullscreen"),o.player.exitFullscreen())}),i(n,g.KeyMap.LEFT,function(){var e=o.player.currentTime-_;o.logger.debug("Seek. "+o.player.currentTime+" => "+(e>0?e:0)),o.player.currentTime=e>0?e:0,o.props.updateOverlayActionIcon(v.IconType.Rewind),o.toggleHoverState()}),i(n,g.KeyMap.RIGHT,function(){var e=o.player.currentTime+_;o.logger.debug("Seek. "+o.player.currentTime+" => "+(e>o.player.duration?o.player.duration:e)),o.player.currentTime=e>o.player.duration?o.player.duration:e,o.props.updateOverlayActionIcon(v.IconType.SeekForward),o.toggleHoverState()}),i(n,g.KeyMap.HOME,function(){o.logger.debug("Seek. "+o.player.currentTime+" => 0"),o.player.currentTime=0,o.props.updateOverlayActionIcon(v.IconType.StartOver),o.toggleHoverState()}),i(n,g.KeyMap.END,function(){o.logger.debug("Seek. "+o.player.currentTime+" => "+o.player.duration),o.player.currentTime=o.player.duration,o.props.updateOverlayActionIcon(v.IconType.SeekEnd),o.toggleHoverState()}),i(n,g.KeyMap.M,function(){o.logger.debug(o.player.muted?"Umnute":"Mute"),o.player.muted=!o.player.muted,o.player.muted?o.props.updateOverlayActionIcon([v.IconType.VolumeBase,v.IconType.VolumeMute]):o.props.updateOverlayActionIcon([v.IconType.VolumeBase,v.IconType.VolumeWaves])}),i(n,g.KeyMap.SEMI_COLON,function(e){e&&(o.logger.debug("Changing playback rate. "+o.player.playbackRate+" => "+o.player.defaultPlaybackRate),o.player.playbackRate=o.player.defaultPlaybackRate,o.props.updateOverlayActionIcon(v.IconType.Speed))}),i(n,g.KeyMap.PERIOD,function(e){if(e){var t=o.player.playbackRate,n=o.player.playbackRates.indexOf(t);n<o.player.playbackRates.length-1&&(o.logger.debug("Changing playback rate. "+t+" => "+o.player.playbackRates[n+1]),o.player.playbackRate=o.player.playbackRates[n+1]),o.props.updateOverlayActionIcon(v.IconType.SpeedUp)}}),i(n,g.KeyMap.COMMA,function(e){if(e){var t=o.player.playbackRate,n=o.player.playbackRates.indexOf(t);n>0&&(o.logger.debug("Changing playback rate. "+t+" => "+o.player.playbackRates[n-1]),o.player.playbackRate=o.player.playbackRates[n-1]),o.props.updateOverlayActionIcon(v.IconType.SpeedDown)}}),i(n,g.KeyMap.C,function(){var e=o.player.getActiveTracks().text;"off"===e.language&&o._activeTextTrack?(o.logger.debug("Changing text track",o._activeTextTrack),o.player.selectTrack(o._activeTextTrack),o._activeTextTrack=null):"off"===e.language||o._activeTextTrack||(o.logger.debug("Hiding text track"),o._activeTextTrack=e,o.player.hideTextTrack())}),n);var s=document.getElementById(o.config.targetId);return s?(s.onkeydown=function(e){o.props.playerNav||"function"!=typeof o.keyboardHandlers[e.keyCode]||(e.preventDefault(),o.logger.debug("KeyDown -> keyName: "+(0,g.getKeyName)(e.keyCode)+", shiftKey: "+e.shiftKey.toString()),o.keyboardHandlers[e.keyCode](e.shiftKey))},o):a(o)}return o(t,e),l(t,[{key:"isPlayingAdOrPlayback",value:function(){return this.props.adBreak&&this.props.adIsPlaying||!this.props.adBreak&&this.props.isPlaying}},{key:"toggleHoverState",value:function(){var e=this;null!==this._hoverTimeout&&(clearTimeout(this._hoverTimeout),this._hoverTimeout=null),this.props.updatePlayerHoverState(!0),this._hoverTimeout=setTimeout(function(){e.props.updatePlayerHoverState(!1)},m.CONTROL_BAR_HOVER_DEFAULT_TIMEOUT)}}]),t}(f.default))||u;t.KeyboardControl=A},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UnmuteIndication=t.MUTED_AUTOPLAY_ICON_ONLY_DEFAULT_TIMEOUT=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(4),y=n(22),g=n(3),v=i(g),m=n(5),b=i(m),_=t.MUTED_AUTOPLAY_ICON_ONLY_DEFAULT_TIMEOUT=3e3,E=(s=(0,p.connect)(null,(0,h.bindActions)(y.actions)))(u=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"UnmuteIndication",player:e.player}));return n._iconOnlyTimeoutCallback=n._iconOnlyTimeout.bind(n),n}return o(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;this.player.addEventListener(this.player.Event.MUTE_CHANGE,function(t){e.props.updateMuted(t.payload.mute),!t.payload.mute&&e.state.unmuteHint&&e.setState({unmuteHint:!1})}),this.player.addEventListener(this.player.Event.FALLBACK_TO_MUTED_AUTOPLAY,function(){e.setState({unmuteHint:!0}),e.player.addEventListener(e.player.Event.PLAYING,e._iconOnlyTimeoutCallback),e.player.addEventListener(e.player.Event.AD_STARTED,e._iconOnlyTimeoutCallback)})}},{key:"_iconOnlyTimeout",value:function(){var e=this;this.player.removeEventListener(this.player.Event.PLAYING,this._iconOnlyTimeoutCallback),this.player.removeEventListener(this.player.Event.AD_STARTED,this._iconOnlyTimeoutCallback),setTimeout(function(){e.setState({iconOnly:!0})},_)}},{key:"render",value:function(e){var t=this;if(this.state.unmuteHint){var n=[f.default.unmuteButtonContainer];return e.hasTopBar&&n.push(f.default.hasTopBar),this.state.iconOnly&&n.push(f.default.showIconOnly),(0,d.h)("div",{className:n.join(" "),onMouseOver:function(){return t.setState({iconOnly:!1})},onMouseOut:function(){return t.setState({iconOnly:!0})},onClick:function(){return t.player.muted=!t.player.muted}},(0,d.h)("a",{className:[f.default.btn,f.default.btnDarkTransparent,f.default.unmuteButton].join(" ")},(0,d.h)("div",{className:f.default.unmuteIconContainer},(0,d.h)(b.default,{type:m.IconType.VolumeBase}),(0,d.h)(b.default,{type:m.IconType.VolumeMute})),(0,d.h)("span",null,"Unmute")))}}}]),t}(v.default))||u;t.UnmuteIndication=E},function(e,t,n){"use strict";function i(e){if(a(e))return(0,u.h)("div",{className:s.default.adGuiWrapper},(0,u.h)(l.Loading,{player:e.player}),(0,u.h)("div",{className:s.default.playerGui,id:"player-gui"},(0,u.h)(m.UnmuteIndication,{player:e.player,hasTopBar:!0})));var t=r();return(0,u.h)("div",{className:s.default.adGuiWrapper},(0,u.h)(b.KeyboardControl,{player:e.player,config:e.config}),(0,u.h)(l.Loading,{player:e.player}),(0,u.h)("div",{className:s.default.playerGui,id:"player-gui"},(0,u.h)(m.UnmuteIndication,{player:e.player,hasTopBar:!0}),(0,u.h)("div",null,(0,u.h)(g.TopBar,null,(0,u.h)("div",{className:s.default.leftControls},(0,u.h)("span",{className:s.default.fontSizeBase},"Advertisement")),(0,u.h)("div",{className:s.default.rightControls},t.learnMoreButton?(0,u.h)(y.AdLearnMore,null):void 0)),t.skipButton?(0,u.h)(h.AdSkip,{player:e.player}):void 0),(0,u.h)(v.BottomBar,null,(0,u.h)("div",{className:s.default.leftControls},(0,u.h)(c.PlayPauseControl,{player:e.player}),(0,u.h)(p.TimeDisplayAdsContainer,null)),(0,u.h)("div",{className:s.default.rightControls},(0,u.h)(f.VolumeControl,{player:e.player}),(0,u.h)(d.FullscreenControl,{player:e.player})))))}function r(){return{learnMoreButton:!1,skipButton:!1}}function a(e){try{var t=!!e.player.env.device.type,n=e.player.config.plugins.ima.adsRenderingSettings,i=n&&n.useStyledLinearAds;return t||i}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.adsUI=i;var o=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(o),u=n(0),l=n(9),c=n(12),f=n(13),d=n(14),p=n(62),h=n(63),y=n(64),g=n(65),v=n(15),m=n(17),b=n(16)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TimeDisplayAdsContainer=void 0;var o,s,u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),f=n(2),d=n(3),p=function(e){return e&&e.__esModule?e:{default:e}}(d),h=n(37),y=function(e){return{adProgress:e.engine.adProgress}},g=(o=(0,f.connect)(y))(s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"TimeDisplayAdsContainer"}))}return a(t,e),l(t,[{key:"render",value:function(e){return(0,c.h)(h.TimeDisplay,u({currentTime:Math.round(e.adProgress.currentTime),duration:Math.round(e.adProgress.duration)},e))}}]),t}(p.default))||s;t.TimeDisplayAdsContainer=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AdSkip=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(3),y=i(h),g=function(e){return{currentTime:e.engine.adProgress.currentTime,duration:e.engine.adProgress.duration,adSkipTimeOffset:e.engine.adSkipTimeOffset,adSkippableState:e.engine.adSkippableState}},v=(s=(0,p.connect)(g))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"AdSkip",player:e.player}))}return o(t,e),l(t,[{key:"componentDidMount",value:function(){this.skipSupport=this.player.config.plugins.ima.skipSupport}},{key:"getSkipTimeOffset",value:function(){return this.skipSupport?Math.ceil(this.skipSupport.skipTimeOffset-this.props.currentTime):Math.ceil(this.props.adSkipTimeOffset-this.props.currentTime)}},{key:"render",value:function(){var e=this;return!this.props.adSkippableState&&this.skipSupport?this.getSkipTimeOffset()<=0?(0,d.h)("a",{className:[f.default.btn,f.default.btnBranded,f.default.btnSkipAd].join(" "),onClick:function(){return e.player.skipAd()}},this.skipSupport.label||"Skip ad"):(0,d.h)("span",{className:f.default.skipAd},"Skip in ",this.getSkipTimeOffset()):void 0}}]),t}(y.default))||u;t.AdSkip=v},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AdLearnMore=void 0;var o,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(0),d=n(2),p=function(e){return{url:e.engine.adUrl}},h=(o=(0,d.connect)(p))(s=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(e){return(0,f.h)("a",{href:e.url,target:"_blank",className:[c.default.btn,c.default.btnDarkTransparent].join(" ")},"Learn more")}}]),t}(f.Component))||s;t.AdLearnMore=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TopBar=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(0),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"render",value:function(e){return(0,l.h)("div",{className:u.default.topBar},e.children)}}]),t}(l.Component);t.TopBar=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,s.h)("div",{className:o.default.playbackGuiWWrapper},(0,s.h)(l.default,{player:e.player}))}Object.defineProperty(t,"__esModule",{value:!0}),t.errorUI=r;var a=n(1),o=i(a),s=n(0),u=n(66),l=i(u)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorOverlay=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(5),y=i(h),g=n(3),v=i(g),m=n(10),b=n(8),_=n(4),E=n(20),A=function(e){return{config:e.config.components.error,hasError:e.engine.hasError}},k=(s=(0,p.connect)(A,(0,_.bindActions)(E.actions)))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"ErrorOverlay",player:e.player}))}return o(t,e),l(t,[{key:"copyError",value:function(){var e=this,t=window.getSelection(),n=document.createRange();try{n.selectNode(this.sessionEl),t.removeAllRanges(),t.addRange(n),document.execCommand("copy"),this.setState({copySuccess:!0}),setTimeout(function(){return e.setState({copySuccess:!1})},2e3)}catch(e){this.setState({copySuccess:!1})}}},{key:"handleClick",value:function(){this.player.loadMedia(this.props.config.mediaInfo)}},{key:"renderSessionID",value:function(){var e=this,t=this.player&&this.player.config&&this.player.config.session&&this.player.config.session.id,n=[f.default.btnCopyUrl].join(" ");return n+=this.state.copySuccess?" "+f.default.copied:"",t?(0,d.h)("div",{className:f.default.linkOptionsContainer},(0,d.h)("div",{className:f.default.copyUrlRow},(0,d.h)("div",{ref:function(t){e.sessionEl=t},className:f.default.errorSession},(0,d.h)(b.Text,{id:"error.default_session_text"}),t),(0,d.h)("a",{className:n,onClick:function(){return e.copyError()}},(0,d.h)(y.default,{type:h.IconType.Copy}),(0,d.h)(y.default,{type:h.IconType.Check})))):void 0}},{key:"renderRetryButton",value:function(){var e=this;return this.props.config.mediaInfo?(0,d.h)("div",{className:f.default.controlButtonContainer,onClick:function(){return e.handleClick()}},(0,d.h)("button",{className:[f.default.controlButton,f.default.retryBtn].join(" ")},(0,d.h)(b.Text,{id:"core.retry"}))):void 0}},{key:"render",value:function(){return this.props&&this.props.hasError?(0,d.h)("div",{id:"overlay-portal"},(0,d.h)(m.Overlay,{open:!0,permanent:!0,type:"error"},(0,d.h)("div",{className:f.default.errorOverlay},(0,d.h)("p",{className:f.default.errorText}),(0,d.h)("div",{className:f.default.svgContainer},(0,d.h)("svg",{width:"124",height:"110",viewBox:"0 0 124 110",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},(0,d.h)("defs",null,(0,d.h)("polygon",{id:"path-1",points:"58.0906294 70 50.7492774 88.8201923 60.1881585 88.8201923 54.22331 107 73.8876457 84.2307692 64.0554779 84.2307692 70.6102564 70"})),(0,d.h)("g",{id:"Player-v3",fill:"none",fillRule:"evenodd"},(0,d.h)("g",{id:"Desktop---Default---Error",transform:"translate(-365 -103)"},(0,d.h)("g",{id:"Cloud",transform:"translate(366 104)"},(0,d.h)("path",{d:"M63.5662942,30.179068 C61.0506558,29.4162424 58.3339083,29 55.5,29 C42.5213084,29 32,37.7304474 32,48.5 C32,48.6497107 32.0020332,48.7990274 32.0060779,48.947932 L32.0060779,48.947932 C20.975194,51.4855427 13,58.8323573 13,67.5 C13,71.2164926 14.4662425,74.6901504 17.0109182,77.6459815 C17.3714483,67.0552274 26.624181,58.1393462 39.3259742,55.0194402 L39.3259742,55.0194402 C39.3212229,54.8326784 39.3188345,54.6453999 39.3188345,54.4576271 C39.3188345,41.956968 49.9040267,31.6467441 63.5662942,30.179068 Z",id:"Combined-Shape",fillOpacity:".08",fill:"#2E2E2E"}),(0,d.h)("path",{d:"M31.0032591,48.1614253 C31.2192187,36.9518144 42.1402046,28 55.5,28 C64.749856,28 73.0886419,32.3249294 77.2653132,39.0733535 C84.8537029,39.7078593 90.7909537,44.3809769 90.9945979,50.1913309 C102.911627,51.5069936 112,59.4322556 112,69 C112,79.5603607 100.981582,88 87.5,88 C84.4639246,88 81.503099,87.5724513 78.7283559,86.7489741 C74.6488476,88.1943213 69.4726739,89 64,89 C58.7323857,89 53.737093,88.2538247 49.7263698,86.9058736 C46.7827225,87.6274324 43.6763865,88 40.5,88 C24.8190401,88 12,78.9101352 12,67.5 C12,58.659353 19.7679337,51.004786 31.0032591,48.1614253 Z",id:"Combined-Shape",stroke:"#666",strokeWidth:"2"}),(0,d.h)("g",{id:"Path-8",strokeLinecap:"round",strokeLinejoin:"round"},(0,d.h)("use",{fill:"#666",xlinkHref:"#path-1"}),(0,d.h)("path",{stroke:"#1D1D1D",strokeWidth:"2",d:"M65.6170644,83.2307692 L76.0725949,83.2307692 L51.7165365,111.432521 L58.8076053,89.8201923 L49.2858112,89.8201923 L57.4073201,69 L72.1718429,69 L65.6170644,83.2307692 Z"})),(0,d.h)("path",{d:"M59.9991166,0 L59.9991166,7.04768642 C59.9991166,7.59997117 60.4468318,8.04768642 60.9991166,8.04768642 C61.5514013,8.04768642 61.9991166,7.59997117 61.9991166,7.04768642 L61.9991166,0 C61.9991166,-0.55228475 61.5514013,-1 60.9991166,-1 C60.4468318,-1 59.9991166,-0.55228475 59.9991166,0 Z M95.3084192,8.85153517 L90.7782537,14.2503762 C90.4232519,14.6734508 90.4784359,15.3042064 90.9015106,15.6592082 C91.3245852,16.01421 91.9553408,15.9590261 92.3103426,15.5359514 L96.8405081,10.1371104 C97.1955099,9.71403572 97.140326,9.08328013 96.7172513,8.72827833 C96.2941766,8.37327654 95.663421,8.4284605 95.3084192,8.85153517 Z M121.628196,36.6783398 L114.687579,37.9021577 C114.143685,37.9980609 113.780517,38.5167193 113.87642,39.0606136 C113.972323,39.6045079 114.490981,39.9676764 115.034876,39.8717732 L121.975492,38.6479553 C122.519386,38.552052 122.882555,38.0333936 122.786652,37.4894993 C122.690748,36.945605 122.17209,36.5824365 121.628196,36.6783398 Z M0.0227411046,38.6479553 L6.96335733,39.8717732 C7.50725163,39.9676764 8.02591002,39.6045079 8.12181326,39.0606136 C8.2177165,38.5167193 7.85454799,37.9980609 7.31065368,37.9021577 L0.37003746,36.6783398 C-0.173856844,36.5824365 -0.69251523,36.945605 -0.788418471,37.4894993 C-0.884321711,38.0333936 -0.521153199,38.552052 0.0227411046,38.6479553 Z M25.157725,10.1371104 L29.6878905,15.5359514 C30.0428923,15.9590261 30.6736479,16.01421 31.0967226,15.6592082 C31.5197972,15.3042064 31.5749812,14.6734508 31.2199794,14.2503762 L26.6898139,8.85153517 C26.3348121,8.4284605 25.7040565,8.37327654 25.2809818,8.72827833 C24.8579072,9.08328013 24.8027232,9.71403572 25.157725,10.1371104 Z",id:"Path-9",fill:"#666",fillRule:"nonzero"})))))),(0,d.h)("div",{className:f.default.headline},this.props.errorHead?this.props.errorHead:(0,d.h)(b.Text,{id:"error.default_error"})),this.renderSessionID(),this.renderRetryButton()))):void 0}}]),t}(v.default))||u;t.ErrorOverlay=k},function(e,t,n){"use strict";function i(e){return(0,o.h)("div",{className:a.default.playbackGuiWWrapper},(0,o.h)(m.KeyboardControl,{player:e.player,config:e.config}),(0,o.h)(l.Loading,{player:e.player}),(0,o.h)("div",{className:a.default.playerGui,id:"player-gui"},(0,o.h)(v.OverlayPortal,null),(0,o.h)(_.UnmuteIndication,null),(0,o.h)(s.OverlayAction,{player:e.player}),(0,o.h)(g.BottomBar,null,(0,o.h)(f.SeekBarLivePlaybackContainer,{showFramePreview:!0,showTimeBubble:!0,player:e.player,playerContainer:e.playerContainer}),(0,o.h)("div",{className:a.default.leftControls},(0,o.h)(c.PlayPauseControl,{player:e.player}),(0,o.h)(b.LiveTag,{player:e.player})),(0,o.h)("div",{className:a.default.rightControls},(0,o.h)(d.VolumeControl,{player:e.player}),(0,o.h)(h.LanguageControl,{player:e.player}),(0,o.h)(p.SettingsControl,{player:e.player}),(0,o.h)(y.FullscreenControl,{player:e.player})))),(0,o.h)(u.PrePlaybackPlayOverlay,{player:e.player}),(0,A.shouldRenderComponent)(e.config,E.Watermark.displayName)?(0,o.h)(E.Watermark,{player:e.player}):void 0)}Object.defineProperty(t,"__esModule",{value:!0}),t.liveUI=i;var r=n(1),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(0),s=n(28),u=n(29),l=n(9),c=n(12),f=n(67),d=n(13),p=n(32),h=n(36),y=n(14),g=n(15),v=n(38),m=n(16),b=n(68),_=n(17),E=n(39),A=n(24)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SeekBarLivePlaybackContainer=void 0;var o,s,u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),c=n(2),f=n(4),d=n(21),p=n(3),h=function(e){return e&&e.__esModule?e:{default:e}}(p),y=n(30),g=function(e){return{currentTime:e.seekbar.currentTime,duration:e.engine.duration,isDraggingActive:e.seekbar.draggingActive,isMobile:e.shell.isMobile,poster:e.engine.poster,isDvr:e.engine.isDvr}},v=(o=(0,c.connect)(g,(0,f.bindActions)(d.actions)))(s=function(e){function t(e){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"SeekBarLivePlaybackContainer",player:e.player}))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.player.addEventListener(this.player.Event.TIME_UPDATE,function(){e.props.isDraggingActive||e.props.updateCurrentTime(e.player.currentTime)})}},{key:"render",value:function(e){var t=this;if(e.isDvr)return(0,l.h)(y.SeekBarControl,{player:this.props.player,playerElement:this.props.playerContainer,showTimeBubble:this.props.showTimeBubble,changeCurrentTime:function(e){return t.player.currentTime=e},playerPoster:this.props.poster,updateSeekbarDraggingStatus:function(e){return t.props.updateSeekbarDraggingStatus(e)},updateSeekbarHoverActive:function(e){return t.props.updateSeekbarHoverActive(e)},updateCurrentTime:function(e){return t.props.updateCurrentTime(e)},isDvr:this.props.isDvr,currentTime:this.props.currentTime,duration:this.props.duration,isDraggingActive:this.props.isDraggingActive,isMobile:this.props.isMobile})}}]),t}(h.default))||s;t.SeekBarLivePlaybackContainer=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LiveTag=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(2),h=n(3),y=i(h),g=n(6),v=function(e){return{isLive:e.engine.isLive,isDvr:e.engine.isDvr,currentTime:e.engine.currentTime,duration:e.engine.duration}},m=(s=(0,p.connect)(v))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"LiveTag",player:e.player}))}return o(t,e),l(t,[{key:"isOnLiveEdge",value:function(){return this.props.currentTime>=this.props.duration-1}},{key:"onClick",value:function(){this.isOnLiveEdge()||(this.player.seekToLiveEdge(),this.player.paused&&this.player.play())}},{key:"render",value:function(e){var t=this,n=[f.default.liveTag];return e.isDvr&&!this.isOnLiveEdge()&&n.push(f.default.nonLivePlayhead),(0,d.h)("div",{tabIndex:"0",className:n.join(" "),onClick:function(){return t.onClick()},onKeyDown:function(e){e.keyCode===g.KeyMap.ENTER&&t.onClick()}},"Live")}}]),t}(y.default))||u;t.LiveTag=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(64);Object.defineProperty(t,"AdLearnMore",{enumerable:!0,get:function(){return i.AdLearnMore}});var r=n(63);Object.defineProperty(t,"AdSkip",{enumerable:!0,get:function(){return r.AdSkip}});var a=n(3);Object.defineProperty(t,"BaseComponent",{enumerable:!0,get:function(){return a.BaseComponent}});var o=n(15);Object.defineProperty(t,"BottomBar",{enumerable:!0,get:function(){return o.BottomBar}});var s=n(59);Object.defineProperty(t,"CVAAOverlay",{enumerable:!0,get:function(){return s.CVAAOverlay}});var u=n(35);Object.defineProperty(t,"DropDown",{enumerable:!0,get:function(){return u.DropDown}});var l=n(50);Object.defineProperty(t,"EngineConnector",{enumerable:!0,get:function(){return l.EngineConnector}});var c=n(66);Object.defineProperty(t,"ErrorOverlay",{enumerable:!0,get:function(){return c.ErrorOverlay}});var f=n(14);Object.defineProperty(t,"FullscreenControl",{enumerable:!0,get:function(){return f.FullscreenControl}});var d=n(5);Object.defineProperty(t,"IconType",{enumerable:!0,get:function(){return d.IconType}});var p=n(16);Object.defineProperty(t,"KeyboardControl",{enumerable:!0,get:function(){return p.KeyboardControl}});var h=n(36);Object.defineProperty(t,"LanguageControl",{enumerable:!0,get:function(){return h.LanguageControl}});var y=n(68);Object.defineProperty(t,"LiveTag",{enumerable:!0,get:function(){return y.LiveTag}});var g=n(9);Object.defineProperty(t,"Loading",{enumerable:!0,get:function(){return g.Loading}});var v=n(58);Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return v.Menu}});var m=n(10);Object.defineProperty(t,"Overlay",{enumerable:!0,get:function(){return m.Overlay}});var b=n(28);Object.defineProperty(t,"OverlayAction",{enumerable:!0,get:function(){return b.OverlayAction}});var _=n(38);Object.defineProperty(t,"OverlayPortal",{enumerable:!0,get:function(){return _.OverlayPortal}});var E=n(12);Object.defineProperty(t,"PlayPauseControl",{enumerable:!0,get:function(){return E.PlayPauseControl}});var A=n(29);Object.defineProperty(t,"PrePlaybackPlayOverlay",{enumerable:!0,get:function(){return A.PrePlaybackPlayOverlay}});var k=n(55);Object.defineProperty(t,"RewindControl",{enumerable:!0,get:function(){return k.RewindControl}});var T=n(30);Object.defineProperty(t,"SeekBarControl",{enumerable:!0,get:function(){return T.SeekBarControl}});var w=n(67);Object.defineProperty(t,"SeekBarLivePlaybackContainer",{enumerable:!0,get:function(){return w.SeekBarLivePlaybackContainer}});var S=n(56);Object.defineProperty(t,"SeekBarPlaybackContainer",{enumerable:!0,get:function(){return S.SeekBarPlaybackContainer}});var P=n(32);Object.defineProperty(t,"SettingsControl",{enumerable:!0,get:function(){return P.SettingsControl}});var O=n(137);Object.defineProperty(t,"ShareControl",{enumerable:!0,get:function(){return O.ShareControl}});var C=n(69);Object.defineProperty(t,"ShareOverlay",{enumerable:!0,get:function(){return C.ShareOverlay}});var L=n(51);Object.defineProperty(t,"Shell",{enumerable:!0,get:function(){return L.Shell}});var R=n(60);Object.defineProperty(t,"Slider",{enumerable:!0,get:function(){return R.Slider}});var I=n(33);Object.defineProperty(t,"SmartContainer",{enumerable:!0,get:function(){return I.SmartContainer}});var x=n(37);Object.defineProperty(t,"TimeDisplay",{enumerable:!0,get:function(){return x.TimeDisplay}});var D=n(62);Object.defineProperty(t,"TimeDisplayAdsContainer",{enumerable:!0,get:function(){return D.TimeDisplayAdsContainer}});var M=n(61);Object.defineProperty(t,"TimeDisplayPlaybackContainer",{enumerable:!0,get:function(){return M.TimeDisplayPlaybackContainer}});var N=n(140);Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return N.Tooltip}});var U=n(65);Object.defineProperty(t,"TopBar",{enumerable:!0,get:function(){return U.TopBar}});var B=n(17);Object.defineProperty(t,"UnmuteIndication",{enumerable:!0,get:function(){return B.UnmuteIndication}});var j=n(53);Object.defineProperty(t,"VideoPlayer",{enumerable:!0,get:function(){return j.VideoPlayer}});var F=n(13);Object.defineProperty(t,"VolumeControl",{enumerable:!0,get:function(){return F.VolumeControl}});var G=n(142);Object.defineProperty(t,"Watermark",{enumerable:!0,get:function(){return G.Watermark}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(138);Object.defineProperty(t,"ShareControl",{enumerable:!0,get:function(){return i.ShareControl}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShareControl=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),l=n(3),c=i(l),f=n(5),d=i(f),p=n(69),h=n(34),y=i(h),g=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"Share",player:e.player}))}return o(t,e),s(t,[{key:"componentWillMount",value:function(){this.setState({overlay:!1})}},{key:"toggleOverlay",value:function(){this.setState({overlay:!this.state.overlay})}},{key:"render",value:function(){var e=this;return(0,u.h)("div",{className:"control-button-container control-share"},(0,u.h)("button",{className:"control-button control-button-rounded",onClick:function(){return e.toggleOverlay()},"aria-label":"Share"},(0,u.h)(d.default,{type:f.IconType.Share})),this.state.overlay?(0,u.h)(y.default,{into:"#overlay-portal"},(0,u.h)(p.ShareOverlay,{player:this.player,onClose:function(){return e.toggleOverlay()}})):null)}}]),t}(c.default);t.ShareControl=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShareOverlay=void 0;var s,u,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),f=n(8),d=n(2),p=n(4),h=n(48),y=n(31),g=n(3),v=i(g),m=n(10),b=n(5),_=i(b),E=function(e){return{open:e.share.overlayOpen}},A={Main:"main",LinkOptions:"link-options",EmbedOptions:"embed-options"},k=(s=(0,d.connect)(E,(0,p.bindActions)(h.actions)))(u=function(e){function t(e){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{name:"ShareOverlay",player:e.player}))}return o(t,e),l(t,[{key:"componentWillMount",value:function(){this.setState({state:A.Main,shareUrl:"https://cdnapisec.kaltura.com/index.php?assetId=123456",startFrom:!1,startFromValue:0})}},{key:"componentWillUnmount",value:function(){this.setState({state:A.Main})}},{key:"transitionToState",value:function(e){this.setState({state:e})}},{key:"copyUrl",value:function(e){var t=this;try{e.select(),document.execCommand("copy"),e.blur(),this.setState({copySuccess:!0}),setTimeout(function(){return t.setState({copySuccess:!1})},2e3)}catch(e){this.setState({copySuccess:!1})}}},{key:"toggleStartFrom",value:function(){this.setState({startFrom:!this.state.startFrom})}},{key:"getShareUrl",value:function(){var e=this.state.shareUrl;return this.state.startFrom&&(e+="?start="+this.state.startFromValue),e}},{key:"getEmbedCode",value:function(){return'<iframe src="//cdnapi.kaltura.com/p/243342/sp/24334200/embedIframeJs/uiconf_id/28685261/partner_id/243342?iframeembed=true&playerId=kdp&entry_id=1_sf5ovm7u&flashvars[streamerType]=auto" width="560" height="395" allowfullscreen webkitallowfullscreen mozAllowFullScreen frameborder="0"></iframe>'}},{key:"handleStartFromChange",value:function(e){var t=(0,y.toSecondsFromHHMMSS)(e.target.value);t>=this.player.duration&&this.setState({startFromValue:1}),this.setState({startFromValue:t})}},{key:"share",value:function(e){return window.open(e,"_blank","width=580,height=580"),!1}},{key:"renderMainState",value:function(){var e=this;return(0,c.h)("div",{className:this.state.state===A.Main?"overlay-screen active":"overlay-screen"},(0,c.h)("div",{className:"title"},(0,c.h)(f.Text,{id:"share.share_title"})),(0,c.h)("div",{className:"share-main-container"},(0,c.h)("div",{className:"share-icons"},(0,c.h)("a",{href:"https://player.kaltura.com/video/220277207/share/facebook",target:"_blank",rel:"noopener noreferrer",title:"Share on Facebook",role:"button","aria-label":"Share on Facebook",className:"btn-rounded facebook-share-btn",onClick:function(){return e.share("https://player.kaltura.com/video/220277207/share/facebook")}},(0,c.h)(_.default,{type:b.IconType.Facebook})),(0,c.h)("a",{href:"https://player.kaltura.com/video/220277207/share/twitter",target:"_blank",rel:"noopener noreferrer",title:"Share on Twitter",role:"button","aria-label":"Share on Twitter",className:"btn-rounded twitter-share-btn",onClick:function(){return e.share("https://player.kaltura.com/video/220277207/share/twitter")}},(0,c.h)(_.default,{type:b.IconType.Twitter})),(0,c.h)("a",{href:"https://player.kaltura.com/video/220277207/share/google-plus",target:"_blank",rel:"noopener noreferrer",title:"Share on Google Plus",role:"button","aria-label":"Share on Google Plus",className:"btn-rounded google-plus-share-btn",onClick:function(){return e.share("https://player.kaltura.com/video/220277207/share/google")}},(0,c.h)(_.default,{type:b.IconType.GooglePlus})),(0,c.h)("a",{href:"https://player.kaltura.com/video/220277207/share/linkedin",target:"_blank",rel:"noopener noreferrer",title:"Share on Linkedin",role:"button","aria-label":"Share on Linkedin",className:"btn-rounded linkedin-share-btn",onClick:function(){return e.share("https://player.kaltura.com/video/220277207/share/linkedin")}},(0,c.h)(_.default,{type:b.IconType.Linkedin})),(0,c.h)("a",{className:"btn-rounded email-share-btn",href:"mailto:?subject="+encodeURIComponent("email subject")+"&body="+encodeURIComponent("email body")},(0,c.h)(_.default,{type:b.IconType.Email})),(0,c.h)("a",{className:"btn-rounded embed-share-btn",onClick:function(){return e.transitionToState(A.EmbedOptions)}},(0,c.h)(_.default,{type:b.IconType.Embed}))),(0,c.h)("div",null,(0,c.h)("div",{className:"form-group has-icon"},(0,c.h)("input",{type:"text",placeholder:"Share URL",className:"form-control",value:this.state.shareUrl,readOnly:!0}),(0,c.h)(_.default,{type:b.IconType.Link}))),(0,c.h)("a",{onClick:function(){return e.transitionToState(A.LinkOptions)}},(0,c.h)(f.Text,{id:"share.link_options"}))))}},{key:"renderLinkOptionsState",value:function(){var e=this,t="btn-rounded btn-branded btn-copy-url";return t+=this.state.copySuccess?" copied":"",(0,c.h)("div",{className:this.state.state===A.LinkOptions?"overlay-screen active":"overlay-screen"},(0,c.h)("div",{className:"title"},"Link options"),(0,c.h)("div",{className:"link-options-container"},(0,c.h)("div",{className:"copy-url-row"},(0,c.h)("div",{className:"form-group has-icon input-copy-url",style:"width: 350px;"},(0,c.h)("input",{type:"text",ref:function(t){return e._shareUrlInput=t},placeholder:"Share URL",className:"form-control",value:this.getShareUrl(),readOnly:!0}),(0,c.h)(_.default,{type:b.IconType.Link})),(0,c.h)("a",{className:t,onClick:function(){return e.copyUrl(e._shareUrlInput)}},(0,c.h)(_.default,{type:b.IconType.Copy}),(0,c.h)(_.default,{type:b.IconType.Check}))),(0,c.h)("div",{className:"video-start-options-row"},(0,c.h)("div",{className:"checkbox d-inline-block"},(0,c.h)("input",{type:"checkbox",id:"start-from",checked:this.state.startFrom,onClick:function(){return e.toggleStartFrom()}}),(0,c.h)("label",{htmlFor:"start-from"},"Start video at ")),(0,c.h)("div",{className:"form-group d-inline-block"},(0,c.h)("input",{type:"text",className:"form-control",onChange:function(t){return e.handleStartFromChange(t)},value:(0,y.toHHMMSS)(this.state.startFromValue),style:"width: 72px;"})))))}},{key:"renderEmbedOptionsState",value:function(){var e=this,t="btn-rounded btn-branded btn-copy-url";return t+=this.state.copySuccess?" copied":"",(0,c.h)("div",{className:this.state.state===A.EmbedOptions?"overlay-screen active":"overlay-screen"},(0,c.h)("div",{className:"title"},"Embed options"),(0,c.h)("div",{className:"link-options-container"},(0,c.h)("div",{className:"copy-url-row"},(0,c.h)("div",{className:"form-group has-icon input-copy-url",style:"width: 350px;"},(0,c.h)("input",{type:"text",ref:function(t){return e._embedCodeInput=t},placeholder:"Share URL",className:"form-control",value:this.getEmbedCode(),readOnly:!0}),(0,c.h)(_.default,{type:b.IconType.Embed})),(0,c.h)("a",{className:t,onClick:function(){return e.copyUrl(e._embedCodeInput)}},(0,c.h)(_.default,{type:b.IconType.Copy}),(0,c.h)(_.default,{type:b.IconType.Check}))),(0,c.h)("div",{className:"video-start-options-row"},(0,c.h)("div",{className:"checkbox d-inline-block"},(0,c.h)("input",{type:"checkbox",id:"start-from",checked:this.state.startFrom,onClick:function(){return e.toggleStartFrom()}}),(0,c.h)("label",{htmlFor:"start-from"},"Start video at ")),(0,c.h)("div",{className:"form-group d-inline-block"},(0,c.h)("input",{type:"text",className:"form-control",onChange:function(t){return e.handleStartFromChange(t)},value:(0,y.toHHMMSS)(this.state.startFromValue),style:"width: 72px;"})))))}},{key:"renderStateContent",value:function(){switch(this.state.state){case A.Main:return this.renderMainState();case A.LinkOptions:return this.renderLinkOptionsState();case A.EmbedOptions:return this.renderEmbedOptionsState();default:return this.renderMainState()}}},{key:"render",value:function(e){return(0,c.h)(m.Overlay,{open:!0,onClose:function(){return e.onClose()},type:"share"},this.renderStateContent())}}]),t}(v.default))||u;t.ShareOverlay=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(141);Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return i.Tooltip}})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Tooltip=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(0),c=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"render",value:function(e){var t=[u.default.tooltip];return e.out&&t.push(u.default.out),(0,l.h)("div",{className:t.join(" "),style:e.left?{left:e.left}:""},e.children)}}]),t}(l.Component);t.Tooltip=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(39);Object.defineProperty(t,"Watermark",{enumerable:!0,get:function(){return i.Watermark}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4);Object.defineProperty(t,"bindActions",{enumerable:!0,get:function(){return i.bindActions}})}])})},function(e,t,n){var i=n(4),r=n(2).document,a=i(r)&&i(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,n){var i=n(2),r=n(22),a=n(35),o=n(95),s=n(7).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=a?{}:i.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var i=n(52)("keys"),r=n(34);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(2).document;e.exports=i&&i.documentElement},function(e,t,n){var i=n(4),r=n(1),a=function(e,t){if(r(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{i=n(19)(Function.call,n(17).f(Object.prototype,"__proto__").set,2),i(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:a}},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var i=n(4),r=n(72).set;e.exports=function(e,t,n){var a,o=t.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&i(a)&&r&&r(e,a),e}},function(e,t,n){"use strict";var i=n(25),r=n(24);e.exports=function(e){var t=String(r(this)),n="",a=i(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var i=n(25),r=n(24);e.exports=function(e){return function(t,n){var a,o,s=String(r(t)),u=i(n),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u),a<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536)}}},function(e,t,n){"use strict";var i=n(35),r=n(0),a=n(14),o=n(13),s=n(12),u=n(46),l=n(80),c=n(44),f=n(18),d=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,y,g,v,m){l(n,t,y);var b,_,E,A=function(e){if(!p&&e in S)return S[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",T="values"==g,w=!1,S=e.prototype,P=S[d]||S["@@iterator"]||g&&S[g],O=P||A(g),C=g?T?A("entries"):O:void 0,L="Array"==t?S.entries||P:P;if(L&&(E=f(L.call(new e)))!==Object.prototype&&E.next&&(c(E,k,!0),i||s(E,d)||o(E,d,h)),T&&P&&"values"!==P.name&&(w=!0,O=function(){return P.call(this)}),i&&!m||!p&&!w&&S[d]||o(S,d,O),u[t]=O,u[k]=h,g)if(b={values:T?O:A("values"),keys:v?O:A("keys"),entries:C},m)for(_ in b)_ in S||a(S,_,b[_]);else r(r.P+r.F*(p||w),t,b);return b}},function(e,t,n){"use strict";var i=n(38),r=n(33),a=n(44),o={};n(13)(o,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(o,{next:r(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var i=n(56),r=n(24);e.exports=function(e,t,n){if(i(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(e))}},function(e,t,n){var i=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var i=n(46),r=n(5)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[r]===e)}},function(e,t,n){"use strict";var i=n(7),r=n(33);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){var i=n(50),r=n(5)("iterator"),a=n(46);e.exports=n(22).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||a[i(e)]}},function(e,t,n){var i=n(226);e.exports=function(e,t){return new(i(e))(t)}},function(e,t,n){"use strict";var i=n(9),r=n(37),a=n(8);e.exports=function(e){for(var t=i(this),n=a(t.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:r(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var i=n(31),r=n(111),a=n(46),o=n(16);e.exports=n(79)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,r(1)):"keys"==t?r(0,n):"values"==t?r(0,e[n]):r(0,[n,e[n]])},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var i,r,a,o=n(19),s=n(101),u=n(71),l=n(67),c=n(2),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,y=c.Dispatch,g=0,v={},m=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){m.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},i(g),g},p=function(e){delete v[e]},"process"==n(20)(f)?i=function(e){f.nextTick(o(m,e,1))}:y&&y.now?i=function(e){y.now(o(m,e,1))}:h?(r=new h,a=r.port2,r.port1.onmessage=b,i=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(i=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):i="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),m.call(e)}}:function(e){setTimeout(o(m,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var i=n(2),r=n(89).set,a=i.MutationObserver||i.WebKitMutationObserver,o=i.process,s=i.Promise,u="process"==n(20)(o);e.exports=function(){var e,t,n,l=function(){var i,r;for(u&&(i=o.domain)&&i.exit();e;){r=e.fn,e=e.next;try{r()}catch(i){throw e?n():t=void 0,i}}t=void 0,i&&i.enter()};if(u)n=function(){o.nextTick(l)};else if(a){var c=!0,f=document.createTextNode("");new a(l).observe(f,{characterData:!0}),n=function(){f.data=c=!c}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(l)}}else n=function(){r.call(i,l)};return function(i){var r={fn:i,next:void 0};t&&(t.next=r),e||(e=r,n()),t=r}}},function(e,t,n){"use strict";function i(e){var t,n;this.promise=new e(function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i}),this.resolve=r(t),this.reject=r(n)}var r=n(11);e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";function i(e,t,n){var i,r,a,o=Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?B(2,-24)-B(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for(e=U(e),e!=e||e===M?(r=e!=e?1:0,i=u):(i=j(F(e)/G),e*(a=B(2,-i))<1&&(i--,a*=2),e+=i+l>=1?c/a:c*B(2,1-l),e*a>=2&&(i++,a/=2),i+l>=u?(r=0,i=u):i+l>=1?(r=(e*a-1)*B(2,t),i+=l):(r=e*B(2,l-1)*B(2,t),i=0));t>=8;o[f++]=255&r,r/=256,t-=8);for(i=i<<t|r,s+=t;s>0;o[f++]=255&i,i/=256,s-=8);return o[--f]|=128*d,o}function r(e,t,n){var i,r=8*n-t-1,a=(1<<r)-1,o=a>>1,s=r-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=t;s>0;i=256*i+e[u],u--,s-=8);if(0===c)c=1-o;else{if(c===a)return i?NaN:l?-M:M;i+=B(2,t),c-=o}return(l?-1:1)*i*B(2,c-t)}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function o(e){return[255&e]}function s(e){return[255&e,e>>8&255]}function u(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function l(e){return i(e,52,8)}function c(e){return i(e,23,4)}function f(e,t,n){S(e[C],t,{get:function(){return this[n]}})}function d(e,t,n,i){var r=+n,a=T(r);if(a+t>e[H])throw D(L);var o=e[V]._b,s=a+e[K],u=o.slice(s,s+t);return i?u:u.reverse()}function p(e,t,n,i,r,a){var o=+n,s=T(o);if(s+t>e[H])throw D(L);for(var u=e[V]._b,l=s+e[K],c=i(+r),f=0;f<t;f++)u[l+f]=c[a?f:t-f-1]}var h=n(2),y=n(6),g=n(35),v=n(62),m=n(13),b=n(43),_=n(3),E=n(41),A=n(25),k=n(8),T=n(120),w=n(39).f,S=n(7).f,P=n(87),O=n(44),C="prototype",L="Wrong index!",R=h.ArrayBuffer,I=h.DataView,x=h.Math,D=h.RangeError,M=h.Infinity,N=R,U=x.abs,B=x.pow,j=x.floor,F=x.log,G=x.LN2,V=y?"_b":"buffer",H=y?"_l":"byteLength",K=y?"_o":"byteOffset";if(v.ABV){if(!_(function(){R(1)})||!_(function(){new R(-1)})||_(function(){return new R,new R(1.5),new R(NaN),"ArrayBuffer"!=R.name})){R=function(e){return E(this,R),new N(T(e))};for(var W,Y=R[C]=N[C],z=w(N),q=0;z.length>q;)(W=z[q++])in R||m(R,W,N[W]);g||(Y.constructor=R)}var X=new I(new R(2)),J=I[C].setInt8;X.setInt8(0,2147483648),X.setInt8(1,2147483649),!X.getInt8(0)&&X.getInt8(1)||b(I[C],{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else R=function(e){E(this,R,"ArrayBuffer");var t=T(e);this._b=P.call(Array(t),0),this[H]=t},I=function(e,t,n){E(this,I,"DataView"),E(e,R,"DataView");var i=e[H],r=A(t);if(r<0||r>i)throw D("Wrong offset!");if(n=void 0===n?i-r:k(n),r+n>i)throw D("Wrong length!");this[V]=e,this[K]=r,this[H]=n},y&&(f(R,"byteLength","_l"),f(I,"buffer","_b"),f(I,"byteLength","_l"),f(I,"byteOffset","_o")),b(I[C],{getInt8:function(e){return d(this,1,e)[0]<<24>>24},getUint8:function(e){return d(this,1,e)[0]},getInt16:function(e){var t=d(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=d(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return a(d(this,4,e,arguments[1]))},getUint32:function(e){return a(d(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return r(d(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return r(d(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){p(this,1,e,o,t)},setUint8:function(e,t){p(this,1,e,o,t)},setInt16:function(e,t){p(this,2,e,s,t,arguments[2])},setUint16:function(e,t){p(this,2,e,s,t,arguments[2])},setInt32:function(e,t){p(this,4,e,u,t,arguments[2])},setUint32:function(e,t){p(this,4,e,u,t,arguments[2])},setFloat32:function(e,t){p(this,4,e,c,t,arguments[2])},setFloat64:function(e,t){p(this,8,e,l,t,arguments[2])}});O(R,"ArrayBuffer"),O(I,"DataView"),m(I[C],v.VIEW,!0),t.ArrayBuffer=R,t.DataView=I},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(32),o=function(e){return e&&e.__esModule?e:{default:e}}(a);window._babelPolyfill||n(134);var s=function(){function e(){i(this,e)}return r(e,null,[{key:"register",value:function(t){e._logger.debug("Register <"+t.id+"> polyfill"),e._polyfills.push(t)}},{key:"installAll",value:function(){e._logger.debug("Installing all polyfills");for(var t=0;t<e._polyfills.length;t++)e._polyfills[t].install()}}]),e}();s._polyfills=[],s._logger=(0,o.default)("PolyfillManager"),t.default=s},function(e,t,n){e.exports=!n(6)&&!n(3)(function(){return 7!=Object.defineProperty(n(67)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var i=n(12),r=n(16),a=n(53)(!1),o=n(69)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),u=0,l=[];for(n in s)n!=o&&i(s,n)&&l.push(n);for(;t.length>u;)i(s,n=t[u++])&&(~a(l,n)||l.push(n));return l}},function(e,t,n){var i=n(7),r=n(1),a=n(36);e.exports=n(6)?Object.defineProperties:function(e,t){r(e);for(var n,o=a(t),s=o.length,u=0;s>u;)i.f(e,n=o[u++],t[n]);return e}},function(e,t,n){var i=n(16),r=n(39).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return r(e)}catch(e){return o.slice()}};e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?s(e):r(i(e))}},function(e,t,n){"use strict";var i=n(36),r=n(54),a=n(49),o=n(9),s=n(48),u=Object.assign;e.exports=!u||n(3)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=i})?function(e,t){for(var n=o(e),u=arguments.length,l=1,c=r.f,f=a.f;u>l;)for(var d,p=s(arguments[l++]),h=c?i(p).concat(c(p)):i(p),y=h.length,g=0;y>g;)f.call(p,d=h[g++])&&(n[d]=p[d]);return n}:u},function(e,t,n){"use strict";var i=n(11),r=n(4),a=n(101),o=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var i=[],r=0;r<t;r++)i[r]="a["+r+"]";s[t]=Function("F,a","return new F("+i.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=i(this),n=o.call(arguments,1),s=function(){var i=n.concat(o.call(arguments));return this instanceof s?u(t,i.length,i):a(t,i,e)};return r(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t){e.exports=function(e,t,n){var i=void 0===n;switch(t.length){case 0:return i?e():e.call(n);case 1:return i?e(t[0]):e.call(n,t[0]);case 2:return i?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return i?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return i?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var i=n(2).parseInt,r=n(45).trim,a=n(73),o=/^[-+]?0[xX]/;e.exports=8!==i(a+"08")||22!==i(a+"0x16")?function(e,t){var n=r(String(e),3);return i(n,t>>>0||(o.test(n)?16:10))}:i},function(e,t,n){var i=n(2).parseFloat,r=n(45).trim;e.exports=1/i(n(73)+"-0")!=-1/0?function(e){var t=r(String(e),3),n=i(t);return 0===n&&"-"==t.charAt(0)?-0:n}:i},function(e,t,n){var i=n(20);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=i(e))throw TypeError(t);return+e}},function(e,t,n){var i=n(4),r=Math.floor;e.exports=function(e){return!i(e)&&isFinite(e)&&r(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var i=n(76),r=Math.pow,a=r(2,-52),o=r(2,-23),s=r(2,127)*(2-o),u=r(2,-126),l=function(e){return e+1/a-1/a};e.exports=Math.fround||function(e){var t,n,r=Math.abs(e),c=i(e);return r<u?c*l(r/u/o)*u*o:(t=(1+o/a)*r,n=t-(t-r),n>s||n!=n?c*(1/0):c*n)}},function(e,t,n){var i=n(1);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},function(e,t,n){var i=n(11),r=n(9),a=n(48),o=n(8);e.exports=function(e,t,n,s,u){i(t);var l=r(e),c=a(l),f=o(l.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in c){s=c[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in c&&(s=t(s,c[d],d,l));return s}},function(e,t,n){"use strict";var i=n(9),r=n(37),a=n(8);e.exports=[].copyWithin||function(e,t){var n=i(this),o=a(n.length),s=r(e,o),u=r(t,o),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?o:r(l,o))-u,o-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(6)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(58)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var i=n(1),r=n(4),a=n(91);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var i=n(116),r=n(47);e.exports=n(61)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=i.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return i.def(r(this,"Map"),0===e?0:e,t)}},i,!0)},function(e,t,n){"use strict";var i=n(7).f,r=n(38),a=n(43),o=n(19),s=n(41),u=n(42),l=n(79),c=n(111),f=n(40),d=n(6),p=n(30).fastKey,h=n(47),y=d?"_s":"size",g=function(e,t){var n,i=p(t);if("F"!==i)return e._i[i];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,i){s(e,c,t,"_i"),e._t=t,e._i=r(null),e._f=void 0,e._l=void 0,e[y]=0,void 0!=i&&u(i,n,e[l],e)});return a(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];e._f=e._l=void 0,e[y]=0},delete:function(e){var n=h(this,t),i=g(n,e);if(i){var r=i.n,a=i.p;delete n._i[i.i],i.r=!0,a&&(a.n=r),r&&(r.p=a),n._f==i&&(n._f=r),n._l==i&&(n._l=a),n[y]--}return!!i},forEach:function(e){h(this,t);for(var n,i=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(h(this,t),e)}}),d&&i(c.prototype,"size",{get:function(){return h(this,t)[y]}}),c},def:function(e,t,n){var i,r,a=g(e,t);return a?a.v=n:(e._l=a={i:r=p(t,!0),k:t,v:n,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[y]++,"F"!==r&&(e._i[r]=a)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?"keys"==t?c(0,n.k):"values"==t?c(0,n.v):c(0,[n.k,n.v]):(e._t=void 0,c(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var i=n(116),r=n(47);e.exports=n(61)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"Set"),e=0===e?0:e,e)}},i)},function(e,t,n){"use strict";var i,r=n(27)(0),a=n(14),o=n(30),s=n(99),u=n(119),l=n(4),c=n(3),f=n(47),d=o.getWeak,p=Object.isExtensible,h=u.ufstore,y={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(l(e)){var t=d(e);return!0===t?h(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},m=e.exports=n(61)("WeakMap",g,v,u,!0,!0);c(function(){return 7!=(new m).set((Object.freeze||Object)(y),7).get(y)})&&(i=u.getConstructor(g,"WeakMap"),s(i.prototype,v),o.NEED=!0,r(["delete","has","get","set"],function(e){var t=m.prototype,n=t[e];a(t,e,function(t,r){if(l(t)&&!p(t)){this._f||(this._f=new i);var a=this._f[e](t,r);return"set"==e?this:a}return n.call(this,t,r)})}))},function(e,t,n){"use strict";var i=n(43),r=n(30).getWeak,a=n(1),o=n(4),s=n(41),u=n(42),l=n(27),c=n(12),f=n(47),d=l(5),p=l(6),h=0,y=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return d(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,a){var l=e(function(e,i){s(e,l,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=i&&u(i,n,e[a],e)});return i(l.prototype,{delete:function(e){if(!o(e))return!1;var n=r(e);return!0===n?y(f(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!o(e))return!1;var n=r(e);return!0===n?y(f(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var i=r(a(t),!0);return!0===i?y(e).set(t,n):i[e._i]=n,e},ufstore:y}},function(e,t,n){var i=n(25),r=n(8);e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=r(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var i=n(39),r=n(54),a=n(1),o=n(2).Reflect;e.exports=o&&o.ownKeys||function(e){var t=i.f(a(e)),n=r.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";function i(e,t,n,l,c,f,d,p){for(var h,y,g=c,v=0,m=!!d&&s(d,p,3);v<l;){if(v in n){if(h=m?m(n[v],v,t):n[v],y=!1,a(h)&&(y=h[u],y=void 0!==y?!!y:r(h)),y&&f>0)g=i(e,t,h,o(h.length),g,f-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=h}g++}v++}return g}var r=n(55),a=n(4),o=n(8),s=n(19),u=n(5)("isConcatSpreadable");e.exports=i},function(e,t,n){var i=n(8),r=n(75),a=n(24);e.exports=function(e,t,n,o){var s=String(a(e)),u=s.length,l=void 0===n?" ":String(n),c=i(t);if(c<=u||""==l)return s;var f=c-u,d=r.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),o?d+s:s+d}},function(e,t,n){var i=n(36),r=n(16),a=n(49).f;e.exports=function(e){return function(t){for(var n,o=r(t),s=i(o),u=s.length,l=0,c=[];u>l;)a.call(o,n=s[l++])&&c.push(e?[n,o[n]]:o[n]);return c}}},function(e,t,n){var i=n(50),r=n(126);e.exports=function(e){return function(){if(i(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,n){var i=n(42);e.exports=function(e,t){var n=[];return i(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,i,r){return 0===arguments.length||e!=e||t!=t||n!=n||i!=i||r!=r?NaN:e===1/0||e===-1/0?e:(e-t)*(r-i)/(n-t)+i}},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=37)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;i(this,e),this.headers=t}return a(e,[{key:"getUrl",value:function(e){return e+"/service/"+this.service+(this.action?"/action/"+this.action:"")}},{key:"doHttpRequest",value:function(){var e=this;if(!this.url)throw new Error("serviceUrl is mandatory for request builder");var t=new XMLHttpRequest;return new Promise(function(n,i){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&"object"===(void 0===e?"undefined":r(e))&&e.code&&e.message?i(e):n(e)}else i(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e?s.get(e):s}function r(e){return i(e).getLevel()}function a(e,t){i(t).setLevel(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var o=n(22),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u={DEBUG:s.DEBUG,INFO:s.INFO,TIME:s.TIME,WARN:s.WARN,ERROR:s.ERROR,OFF:s.OFF};s.useDefaults({defaultLevel:s.ERROR}),t.default=i,t.LogLevel=u,t.getLogLevel=r,t.setLogLevel=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.hasError=!1,"KalturaAPIException"===t.objectType?(this.hasError=!0,this.error=new a(t.code,t.message)):t.error&&"KalturaAPIException"===t.error.objectType?(this.hasError=!0,this.error=new a(t.error.code,t.error.message)):this.data=t};t.default=r;var a=function e(t,n){i(this,e),this.code=t,this.message=n}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(6),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(){i(this,e),this.metadata=new Map,this.sources=new o.default,this.type=e.Type.UNKNOWN}return r(e,[{key:"toJSON",value:function(){return{id:this.id,name:this.name,sources:this.sources.toJSON(),duration:this.duration,dvrStatus:this.dvrStatus,metadata:this.metadata,type:this.type}}}]),e}();s.Type={VOD:"Vod",LIVE:"Live",IMAGE:"Image",AUDIO:"Audio",UNKNOWN:"Unknown"},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.MediaFormat={DASH:{name:"dash",mimeType:"application/dash+xml",pathExt:"mpd"},HLS:{name:"hls",mimeType:"application/x-mpegURL",pathExt:"m3u8"},WVM:{name:"wvm",mimeType:"video/wvm",pathExt:"wvm"},MP4:{name:"mp4",mimeType:"video/mp4",pathExt:"mp4"},MP3:{name:"mp3",mimeType:"audio/mpeg",pathExt:"mp3"}};t.SupportedStreamFormat=new Map([["mpegdash",i.DASH],["applehttp",i.HLS],["url",i.MP4]])},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(8),o=(function(e){e&&e.__esModule}(a),function(){function e(){i(this,e)}return r(e,[{key:"toJSON",value:function(){var e={id:this.id,url:this.url,mimetype:this.mimetype};return this.bandwidth&&(e.bandwidth=this.bandwidth),this.width&&(e.width=this.width),this.height&&(e.height=this.height),this.label&&(e.label=this.label),this.drmData&&this.drmData.length>0&&(e.drmData=[],this.drmData.forEach(function(t){Array.isArray(e.drmData)&&e.drmData.push(t.toJSON())})),e}}]),e}());t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(5),o=(function(e){e&&e.__esModule}(a),n(4)),s=function(){function e(){i(this,e),this.progressive=[],this.dash=[],this.hls=[]}return r(e,[{key:"map",value:function(e,t){if(t)switch(t.name){case o.MediaFormat.MP4.name:this.progressive.push(e);break;case o.MediaFormat.DASH.name:this.dash.push(e);break;case o.MediaFormat.HLS.name:this.hls.push(e)}}},{key:"toJSON",value:function(){var e={progressive:[],dash:[],hls:[]};return this.progressive.forEach(function(t){return e.progressive.push(t.toJSON())}),this.hls.forEach(function(t){return e.hls.push(t.toJSON())}),this.dash.forEach(function(t){return e.dash.push(t.toJSON())}),e}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OVPConfiguration=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(21),o={serviceUrl:"//www.kaltura.com/api_v3",cdnUrl:"//cdnapisec.kaltura.com",serviceParams:{apiVersion:"3.3.0",format:1}},s=function(){function e(){i(this,e)}return r(e,null,[{key:"set",value:function(e){e&&Object.assign(o,e)}},{key:"get",value:function(){return(0,a.clone)(o)}}]),e}();t.default=s,t.OVPConfiguration=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(t,n,r){i(this,e),this.licenseUrl=t,this.scheme=n,r&&(this.certificate=r)}return r(e,[{key:"toJSON",value:function(){var e={licenseUrl:this.licenseUrl,scheme:this.scheme};return this.certificate&&(e.certificate=this.certificate),e}}]),e}();t.default=a},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),o=(function(e){e&&e.__esModule}(a),function(){function e(){i(this,e),this._loaders=new Map}return r(e,[{key:"add",value:function(t,n){var i=this,r=new t(n);if(r.isValid()){this._loaders.set(t.id,r);var a=this._multiRequest.requests.length,o=r.requests;o.forEach(function(e){i._multiRequest.add(e)});var s=Array.from(new Array(o.length),function(e,t){return t+a});e._loadersResponseMap.set(t.id,s)}}},{key:"fetchData",value:function(){var e=this;return new Promise(function(t,n){e._multiRequest.execute().then(function(i){if(e._multiResponse=i,i.success){var r=e.prepareData(i);r.success?t(e._loaders):n({success:!1,data:r.error})}else n(i)},function(e){n(e)})})}},{key:"prepareData",value:function(t){return this._loaders.forEach(function(n,i){var r=e._loadersResponseMap.get(i);try{r&&r.length>0&&(n.response=t.results.slice(r[0],r[r.length-1]+1))}catch(e){return{success:!1,error:e}}}),{success:!0,data:this._loaders}}}]),e}());o._loadersResponseMap=new Map,t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MultiRequestResult=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),c=i(l),f=n(1),d=i(f),p=n(2),h=i(p),y=function(e){function t(){var e,n,i,r;a(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.requests=[],r=n,o(i,r)}return s(t,e),u(t,[{key:"add",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,r({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:"execute",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(""+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new g(e))},function(e){n("Error on multiRequest execution, error <"+e+">.")})})}}]),t}(c.default);y._logger=(0,d.default)("MultiRequestBuilder"),t.default=y;var g=t.MultiRequestResult=function e(t){var n=this;a(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var i=new h.default(t);if(n.results.push(i),i.hasError)return e._logger.error("Service returned an error with error code: "+i.error.code+" and message: "+i.error.message+"."),void(n.success=!1)})};g._logger=(0,d.default)("MultiRequestResult")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.scheme=t.scheme,this.licenseURL=t.licenseURL,this.certificate=t.certificate};r.Scheme={"drm.PLAYREADY_CENC":"com.microsoft.playready","drm.WIDEVINE_CENC":"com.widevine.alpha","fairplay.FAIRPLAY":"com.apple.fairplay",WIDEVINE_CENC:"com.widevine.alpha",PLAYREADY_CENC:"com.microsoft.playready",FAIRPLAY:"com.apple.fairplay"},t.default=r},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(10),s=i(o),u=n(7),l=i(u),c=function(){function e(){r(this,e)}return a(e,null,[{key:"getMultiRequest",value:function(e,t,n){var i=l.default.get(),r=i.serviceParams;Object.assign(r,{ks:t,clientTag:"html5:v"+e}),n&&Object.assign(r,{partnerId:n});var a=new Map;a.set("Content-Type","application/json");var o=new s.default(a);return o.method="POST",o.service="multirequest",o.url=o.getUrl(i.serviceUrl),o.params=r,o}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),s=n(3),u=(i(s),n(6)),l=(i(u),n(5)),c=(i(l),function(){function e(){r(this,e)}return a(e,null,[{key:"getMediaEntry",value:function(){throw new TypeError("getMediaEntry method must be implement by the derived class")}},{key:"_getParsedSources",value:function(){throw new TypeError("_getParsedSources method must be implement by the derived class")}},{key:"_parseAdaptiveSource",value:function(){throw new TypeError("_parseAdaptiveSource method must be implement by the derived class")}},{key:"_isProgressiveSource",value:function(e){var t=o.SupportedStreamFormat.get(e.format);return!!t&&"mp4"===t.name}},{key:"hasBlockActions",value:function(e){if(e&&e.playBackContextResult)for(var t=e.playBackContextResult,n=0;n<t.actions.length;n++)if("BLOCK"===t.actions[n].type)return t.actions[n];return null}},{key:"hasErrorMessage",value:function(e){for(var t=e.playBackContextResult.messages,n=0;n<t.length;n++)if("OK"!==t[n].code)return t[n];return null}}]),e}());t.default=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(1),o=n(9),s=(function(e){e&&e.__esModule}(o),function(){function e(t,n){i(this,e),this._partnerId=t.partnerId,this._uiConfId=t.uiConfId,this._isAnonymous=!t.ks,this._ks=t.ks||"",this._playerVersion=n,t.logLevel&&this.LogLevel[t.logLevel]&&(0,a.setLogLevel)(this.LogLevel[t.logLevel])}return r(e,[{key:"partnerId",get:function(){return this._partnerId}},{key:"uiConfId",get:function(){return this._uiConfId}},{key:"ks",get:function(){return this._ks},set:function(e){this._ks=e}},{key:"playerVersion",get:function(){return this._playerVersion}},{key:"isAnonymous",get:function(){return this._isAnonymous}}]),r(e,[{key:"getMediaConfig",value:function(e){throw new TypeError("getMediaConfig method must be implement by the derived class")}},{key:"_parseDataFromResponse",value:function(e){throw new TypeError("_parseDataFromResponse method must be implement by the derived class")}},{key:"getLogLevel",value:function(e){return(0,a.getLogLevel)(e)}},{key:"setLogLevel",value:function(e,t){(0,a.setLogLevel)(e,t)}},{key:"LogLevel",get:function(){return a.LogLevel}}]),e}());t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.message=t.message,this.code=t.code};t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.type=t.type};r.Type={DRM_POLICY:"drm.DRM_POLICY",BLOCK:1,PREVIEW:2,LIMIT_FLAVORS:3,ADD_TO_STORAGE:4,LIMIT_DELIVERY_PROFILES:5,SERVE_FROM_REMOTE_SERVER:6,REQUEST_HOST_REGEX:7,LIMIT_THUMBNAIL_CAPTURE:8},t.default=r},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,r){("object"===(void 0===t?"undefined":i(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[r]=e(t))})):"object"===(void 0===t?"undefined":i(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){("object"===i(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=r},function(e,t,n){var i,r;/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */
!function(a){"use strict";var o={};o.VERSION="1.4.1";var s,u={},l=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,i=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in i||!n[t].hasOwnProperty(e)||(i[e]=n[t][e]);return i},f=function(e,t){return{value:e,name:t}};o.DEBUG=f(1,"DEBUG"),o.INFO=f(2,"INFO"),o.TIME=f(3,"TIME"),o.WARN=f(4,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var d=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};d.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"end"])},invoke:function(e,t){s&&this.enabledFor(e)&&s(t,c({level:e},this.context))}};var p=new d({filterLevel:o.OFF});!function(){var e=o;e.enabledFor=l(p,p.enabledFor),e.debug=l(p,p.debug),e.time=l(p,p.time),e.timeEnd=l(p,p.timeEnd),e.info=l(p,p.info),e.warn=l(p,p.warn),e.error=l(p,p.error),e.log=e.info}(),o.setHandler=function(e){s=e},o.setLevel=function(e){p.setLevel(e);for(var t in u)u.hasOwnProperty(t)&&u[t].setLevel(e)},o.getLevel=function(){return p.getLevel()},o.get=function(e){return u[e]||(u[e]=new d(c({name:e},p.context)))},o.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,r){i=Array.prototype.slice.call(i);var a,s=console.log;r.level===o.TIME?(a=(r.name?"["+r.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):n(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(r.level===o.WARN&&console.warn?s=console.warn:r.level===o.ERROR&&console.error?s=console.error:r.level===o.INFO&&console.info?s=console.info:r.level===o.DEBUG&&console.debug&&(s=console.debug),e.formatter(i,r),n(s,i))}},o.useDefaults=function(e){o.setLevel(e&&e.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(e))},i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}()},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.id=t.id,this.flavorParamsId=t.flavorParamsId,this.fileExt=t.fileExt,this.bitrate=t.bitrate,this.width=t.width,this.height=t.height,this.id=t.id,this.frameRate=t.frameRate,this.isOriginal=t.isOriginal,this.isWeb=t.isWeb,this.containerFormat=t.containerFormat,this.videoCodecId=t.videoCodecId,this.status=t.status,this.language=t.language,this.label=t.label};r.Status={ERROR:-1,QUEUED:0,CONVERTING:1,READY:2,DELETED:3,NOT_APPLICABLE:4,TEMP:5,WAIT_FOR_CONVERT:6,IMPORTING:7,VALIDATING:8,EXPORTING:9},t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.id=t.id,this.name=t.name,this.description=t.description,this.dataUrl=t.dataUrl,this.type=t.type,this.entryType=t.mediaType,this.flavorParamsIds=t.flavorParamsIds,this.duration=t.duration,this.poster=t.thumbnailUrl,this.dvrStatus=t.dvrStatus};r.EntryType={AUTOMATIC:{value:-1},EXTERNAL_MEDIA:{value:"externalMedia.externalMedia"},MEDIA_CLIP:{value:1},MIX:{value:2},PLAYLIST:{value:5},DATA:{value:6},LIVE_STREAM:{value:7},LIVE_CHANNEL:{value:8},DOCUMENT:{value:10}},r.MediaType={VIDEO:{value:1},IMAGE:{value:2},AUDIO:{value:5},LIVE_STREAM_FLASH:{value:201},LIVE_STREAM_WINDOWS_MEDIA:{value:202},LIVE_STREAM_REAL_MEDIA:{value:203},LIVE_STREAM_QUICK_TIME:{value:204}},r.EntryStatus={ERROR_IMPORTING:-2,ERROR_CONVERTING:-1,SCAN_FAILURE:"virusScan.ScanFailure",IMPORT:0,INFECTED:"virusScan.Infected",PRECONVERT:1,READY:2,DELETED:3,PENDING:4,MODERATE:5,BLOCKED:6,NO_CONTENT:7},r.EntryModerationStatus={PENDING_MODERATION:1,APPROVED:2,REJECTED:3,FLAGGED_FOR_REVIEW:4,MODERATE:5,AUTO_APPROVED:6},t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),u=i(s),l=n(44),c=i(l),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hasError||(n.totalCount=e.totalCount,n.totalCount>0&&(n.metas=[],e.objects.map(function(e){return n.metas.push(new c.default(e))}))),n}return o(t,e),t}(u.default);t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(11),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t){var n=this;i(this,e),this.drm=[],this.format=t.format,this.deliveryProfileId=t.deliveryProfileId,this.url=t.url,this.protocols=t.protocols,this.flavorIds=t.flavorIds,t.drm&&t.drm.map(function(e){return n.drm.push(new o.default(e))})}return r(e,[{key:"hasDrmData",value:function(){return this.drm&&this.drm.length>0}},{key:"hasFlavorIds",value:function(){return!!this.flavorIds&&this.flavorIds.length>0}},{key:"getProtocol",value:function(e){var t="";if(this.protocols&&this.protocols.length>0)this.protocols.split(",").forEach(function(n){n===e&&(t=n)});else if("http"===e)return e;return t}}]),e}();t.default=s},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),l=i(u),c=n(7),f=i(c),d=n(42),p=i(d),h=n(39),y=i(h),g=n(40),v=i(g),m=n(38),b=i(m),_=n(17),E=i(_),A=n(3),k=i(A),T=function(e){function t(e,n){r(this,t);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i._logger=(0,l.default)("OVPProvider"),f.default.set(e.env),i}return o(t,e),s(t,[{key:"getMediaConfig",value:function(e){var t=this;return e.ks&&(this.ks=e.ks),this._dataLoader=new b.default(this.playerVersion,this.partnerId,this.ks),new Promise(function(n,i){var r=e.entryId;if(r){var a=t.ks;a||(a="{1:result:ks}",t._dataLoader.add(v.default,{partnerId:t.partnerId})),t._dataLoader.add(y.default,{entryId:r,ks:a}),t._dataLoader.fetchData().then(function(e){n(t._parseDataFromResponse(e))},function(e){i(e)})}else i({success:!1,data:"Missing mandatory parameter"})})}},{key:"_parseDataFromResponse",value:function(e){this._logger.debug("Data parsing started");var t={id:"",name:"",session:{partnerId:this.partnerId},sources:{hls:[],dash:[],progressive:[]},duration:0,type:k.default.Type.UNKNOWN,dvr:!1,metadata:{},plugins:{}};if(this.uiConfId&&(t.session.uiConfId=this.uiConfId),e){if(e.has(v.default.id)){var n=e.get(v.default.id);n&&n.response&&(this.ks=n.response,t.session.ks=this.ks)}else t.session.ks=this.ks;if(e.has(y.default.id)){var i=e.get(y.default.id);if(i&&i.response){var r=p.default.hasBlockActions(i.response);if(r){var a=p.default.hasErrorMessage(i.response);throw a?(this._logger.error("Entry is blocked, error message: ",a),a):(this._logger.error("Entry is blocked, action: ",r),r)}var o=p.default.getMediaEntry(this.isAnonymous?"":this.ks,this.partnerId,this.uiConfId,i.response);t.id=o.id,t.name=o.name,t.sources=o.sources.toJSON(),t.duration=o.duration,t.type=o.type,t.dvr=!!o.dvrStatus,t.metadata=o.metadata}}}return this._logger.debug("Data parsing finished",t),t}}]),t}(E.default);t.default=T},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.NAME=t.Provider=void 0;var i=n(29),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.Provider=r.default,t.NAME="playkit-js-providers-ovp",t.VERSION="2.2.0"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),u=i(s),l=n(15),c=i(l),f=function(e){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o._multiRequest=c.default.getMultiRequest(e,i,n),o}return o(t,e),t}(u.default);t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),s=(i(o),n(46)),u=i(s),l=n(47),c=i(l),f=n(7),d=i(f),p=n(45),h=i(p),y=n(26),g=i(y),v=n(43),m=i(v),b=function(){function e(t){r(this,e),this._response={},this.requests=this.buildRequests(t),this._entryId=t.entryId}return a(e,null,[{key:"id",get:function(){return"media"}}]),a(e,[{key:"buildRequests",value:function(e){var t=d.default.get(),n=[];return n.push(u.default.list(t.serviceUrl,e.ks,e.entryId)),n.push(u.default.getPlaybackContext(t.serviceUrl,e.ks,e.entryId)),n.push(c.default.list(t.serviceUrl,e.ks,e.entryId)),n}},{key:"isValid",value:function(){return!!this._entryId}},{key:"requests",set:function(e){this._requests=e},get:function(){return this._requests}},{key:"response",set:function(e){var t=new m.default(e[0].data);this._response.entry=t.entries[0],this._response.playBackContextResult=new h.default(e[1].data),this._response.metadataListResult=new g.default(e[2].data)},get:function(){return this._response}}]),e}();t.default=b},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(48),s=i(o),u=n(7),l=i(u),c=n(0),f=(i(c),function(){function e(t){r(this,e),this._response={},this.requests=this.buildRequests(t),this._partnerId=t.partnerId}return a(e,[{key:"requests",set:function(e){this._requests=e},get:function(){return this._requests}},{key:"response",set:function(e){this._response.ks=e[0].data.ks},get:function(){return this._response.ks}}],[{key:"id",get:function(){return"session"}}]),a(e,[{key:"buildRequests",value:function(e){var t=l.default.get(),n=[];return n.push(s.default.anonymousSession(t.serviceUrl,e.partnerId)),n}},{key:"isValid",value:function(){return!!this._partnerId}}]),e}());t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(7),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(){i(this,e)}return r(e,null,[{key:"build",value:function(e){var t=o.default.get(),n=t.cdnUrl,i=e.partnerId,r=e.entryId,a=e.ks,s=e.uiConfId,u=e.format,l=e.protocol,c=e.extension,f=e.flavorIds;if(""===n&&""===i&&""===r&&""===c&&""===u)return"";var d=n;return n.endsWith("/")||(d+="/"),d+="p/"+i+"/sp/"+i+"00/playManifest/entryId/"+r+"/protocol/"+l+"/format/"+u,""!==f?d+="/flavorIds/"+f:""!==s&&(d+="/uiConfId/"+s),""!==a&&(d+="/ks/"+a),d+="/a."+c,s&&""!==f&&(d+="?uiConfId="+s),d}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(24),l=(i(u),n(26)),c=(i(l),n(25)),f=i(c),d=n(27),p=(i(d),n(11)),h=i(p),y=n(41),g=i(y),v=n(49),m=i(v),b=n(1),_=i(b),E=n(7),A=i(E),k=n(3),T=i(k),w=n(8),S=i(w),P=n(5),O=i(P),C=n(6),L=i(C),R=n(4),I=n(16),x=i(I),D=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"getMediaEntry",value:function(e,n,i,r){var a=new T.default,o=r.entry,s=r.playBackContextResult,u=r.metadataListResult,l=s.sources;a.sources=t._getParsedSources(l,e,n,i,o,s),a.metadata=this._parseMetadata(u),a.metadata.description=o.description,a.metadata.poster=o.poster,a.id=o.id,a.name=o.name,a.duration=o.duration;var c=T.default.Type.UNKNOWN;switch(o.entryType){case f.default.MediaType.IMAGE.value:c=T.default.Type.IMAGE;break;case f.default.MediaType.AUDIO.value:c=T.default.Type.AUDIO;break;default:switch(o.type){case f.default.EntryType.MEDIA_CLIP.value:c=T.default.Type.VOD;break;case f.default.EntryType.LIVE_STREAM.value:case f.default.EntryType.LIVE_CHANNEL.value:c=T.default.Type.LIVE,a.dvrStatus=o.dvrStatus;break;default:c=T.default.Type.UNKNOWN}}return a.type=c,a}},{key:"_getParsedSources",value:function(e,n,i,r,a,o){var s=new L.default,u=function(e){var u=t._parseAdaptiveSource(e,o.flavorAssets,n,i,r,a.id),l=R.SupportedStreamFormat.get(e.format);s.map(u,l)};return e&&e.length>0&&(function(){e.filter(function(e){return!t._isProgressiveSource(e)}).forEach(u)}(),function(){var u=e.find(t._isProgressiveSource);s.progressive=t._parseProgressiveSources(u,o.flavorAssets,n,i,r,a.id)}()),s}},{key:"_parseAdaptiveSource",value:function(e,n,i,r,a,o){var s=new O.default;if(e){var u="",l=R.SupportedStreamFormat.get(e.format),c="";if(l&&(c=l.pathExt,s.mimetype=l.mimeType),e.hasFlavorIds()?(!c&&n&&n.length>0&&(c=n[0].fileExt),u=g.default.build({entryId:o,flavorIds:e.flavorIds,format:e.format,ks:i,partnerId:r,uiConfId:a,extension:c,protocol:e.getProtocol(this._getBaseProtocol())})):u=e.url,""===u)return t._logger.error("failed to create play url from source, discarding source: ("+o+"_"+e.deliveryProfileId+"), "+e.format+"."),s;if(s.url=u,s.id=o+"_"+e.deliveryProfileId+","+e.format,e.hasDrmData()){var f=[];e.drm.forEach(function(e){f.push(new S.default(e.licenseURL,h.default.Scheme[e.scheme],e.certificate))}),s.drmData=f}}return s}},{key:"_parseProgressiveSources",value:function(e,t,n,i,r,a){var o=[];if(e){var s=e.getProtocol(this._getBaseProtocol()),u=e.format,l=e.deliveryProfileId+","+e.format;t.map(function(e){if(e.height&&e.width){var t=new O.default;t.id=e.id+l,t.mimetype="video/mp4",t.height=e.height,t.width=e.width,t.bandwidth=1024*e.bitrate,t.label=e.label||e.language,t.url=g.default.build({entryId:a,flavorIds:e.id,format:u,ks:n,partnerId:i,uiConfId:r,extension:"mp4",protocol:s}),o.push(t)}})}return o}},{key:"_parseMetadata",value:function(e){var t={};return e&&e.metas&&e.metas.length>0&&e.metas.forEach(function(e){var n=void 0,i=new DOMParser;e.xml=e.xml.replace(/\r?\n|\r/g,""),e.xml=e.xml.replace(/>\s*/g,">"),e.xml=e.xml.replace(/>\s*/g,">"),n=i.parseFromString(e.xml,"text/xml");var r=m.default.xmlToJson(n);Object.keys(r.metadata).forEach(function(e){t[e]=r.metadata[e]["#text"]})}),t}},{key:"_getBaseProtocol",value:function(){var e=A.default.get(),t=/^https?:/,n=t.exec(e.cdnUrl),i=n?n[0]:document.location.protocol;return"string"==typeof i?i.slice(0,-1):"https"}}]),t}(x.default);D._logger=(0,_.default)("OVPProviderParser"),t.default=D},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),u=i(s),l=n(25),c=i(l),f=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.hasError||(n.totalCount=e.totalCount,n.totalCount>0&&(n.entries=[],e.objects.map(function(e){return n.entries.push(new c.default(e))}))),n}return o(t,e),t}(u.default);t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.id=t.id,this.metadataProfileId=t.metadataProfileId,this.metadataProfileVersion=t.metadataProfileVersion,this.metadataProfileId=t.metadataProfileId,this.metadataObjectType=t.metadataObjectType,this.objectId=t.objectId,this.version=t.version,this.created=new Date(0),this.created.setUTCSeconds(t.createdAt),this.updated=new Date(0),this.updated.setUTCSeconds(t.updatedAt),this.status=t.status,this.xml=t.xml};r.ObjectType={AD_CUE_POINT:"adCuePointMetadata.AdCuePoint",ANNOTATION:"annotationMetadata.Annotation",CODE_CUE_POINT:"codeCuePointMetadata.CodeCuePoint",THUMB_CUE_POINT:"thumbCuePointMetadata.thumbCuePoint",ENTRY:1,CATEGORY:2,USER:3,PARTNER:4,DYNAMIC_OBJECT:5},r.Status={VALID:1,INVALID:2,DELETED:3},t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),u=i(s),l=n(18),c=i(l),f=n(27),d=i(f),p=n(19),h=i(p),y=n(24),g=i(y),v=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.sources=[],n.actions=[],n.messages=[],n.flavorAssets=[],!n.hasError){var i=e.messages;i&&i.map(function(e){return n.messages.push(new c.default(e))});var o=e.actions;o&&o.map(function(e){return n.actions.push(new h.default(e))});var s=e.sources;s&&s.map(function(e){return n.sources.push(new d.default(e))});var u=e.flavorAssets;u&&u.map(function(e){return n.flavorAssets.push(new g.default(e))})}return n}return o(t,e),t}(u.default);t.default=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(15),l=i(u),c=n(0),f=i(c),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"getPlaybackContext",value:function(e,t,n){var i=new Map;i.set("Content-Type","application/json");var r=new f.default(i);r.service="baseEntry",r.action="getPlaybackContext",r.method="POST",r.url=r.getUrl(e),r.tag="baseEntry-getPlaybackContext";var a={objectType:"KalturaContextDataParams",flavorTags:"all"};return r.params={entryId:n,ks:t,contextDataParams:a},r}},{key:"list",value:function(e,n,i){var r=new Map;r.set("Content-Type","application/json");var a=new f.default(r);return a.service="baseEntry",a.action="list",a.method="POST",a.url=a.getUrl(e),a.tag="list",a.params=t.getEntryListReqParams(i,n),a}},{key:"getEntryListReqParams",value:function(e,t){return{ks:t,filter:{redirectFromEntryId:e},responseProfile:{fields:"id,name,description,thumbnailUrl,dataUrl,duration,msDuration,flavorParamsIds,mediaType,type,tags,dvrStatus",type:1}}}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(15),l=i(u),c=n(0),f=i(c),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"list",value:function(e,t,n){var i=new Map;i.set("Content-Type","application/json");var r=new f.default(i);r.service="metadata_metadata",r.action="list",r.method="POST",r.url=r.getUrl(e),r.tag="metadata_metadata-list";var a={objectType:"KalturaMetadataFilter",objectIdEqual:n,metadataObjectTypeEqual:"1"};return r.params={filter:a,ks:t},r}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(15),l=i(u),c=n(0),f=i(c),d=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"anonymousSession",value:function(e,t){var n=new Map;n.set("Content-Type","application/json");var i=new f.default(n);return i.service="session",i.action="startWidgetSession",i.method="POST",i.url=i.getUrl(e),i.tag="session-startWidget",i.params={widgetId:"_"+t},i}}]),t}(l.default);t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){i(this,e)}return r(e,null,[{key:"xmlToJson",value:function(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes.item(n);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes.item(r),o=a.nodeName;if(void 0===t[o])t[o]=this.xmlToJson(a);else{if(void 0===t[o].push){var s=t[o];t[o]=[],t[o].push(s)}t[o].push(this.xmlToJson(a))}}return t}}]),e}();t.default=a}])})},function(e,t,n){(function(i){var r;!function(){var a={};(function(e){function t(){t=function(){},eu.Symbol||(eu.Symbol=tu)}function n(){t();var e=eu.Symbol.iterator;e||(e=eu.Symbol.iterator=eu.Symbol("iterator")),"function"!=typeof Array.prototype[e]&&Zs(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return r(this)}}),n=function(){}}function r(e){var t=0;return a(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}function a(e){return n(),e={next:e},e[eu.Symbol.iterator]=function(){return this},e}function o(e){n();var t=e[Symbol.iterator];return t?t.call(e):r(e)}function s(e,t){if(t){for(var n=eu,i=e.split("."),r=0;r<i.length-1;r++){var a=i[r];a in n||(n[a]={}),n=n[a]}i=i[i.length-1],r=n[i],a=t(r),a!=r&&null!=a&&Zs(n,i,{configurable:!0,writable:!0,value:a})}}function u(e,t){var n=e.split("."),i=nu;n[0]in i||!i.execScript||i.execScript("var "+n[0]);for(var r;n.length&&(r=n.shift());)n.length||void 0===t?i=i[r]?i[r]:i[r]={}:i[r]=t}function l(e,t){function n(){}n.prototype=t.prototype,e.df=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.af=function(e,n,i){return t.prototype[n].apply(e,Array.prototype.slice.call(arguments,2))}}function c(e){this.c=Math.exp(Math.log(.5)/e),this.b=this.a=0}function f(e,t,n){var i=Math.pow(e.c,t);n=n*(1-i)+i*e.a,isNaN(n)||(e.a=n,e.b+=t)}function d(e){return e.a/(1-Math.pow(e.c,e.b))}function p(){this.b=new c(2),this.c=new c(5),this.a=0}function h(){}function y(){}function g(e,t,n,i){this.severity=e,this.category=t,this.code=n,this.data=Array.prototype.slice.call(arguments,3),this.handled=!1}function v(e){var t;e instanceof v?(m(this,e.ea),this.ya=e.ya,this.ga=e.ga,b(this,e.Ma),this.Y=e.Y,_(this,w(e.a)),this.sa=e.sa):e&&(t=String(e).match(iu))?(m(this,t[1]||"",!0),this.ya=E(t[2]||""),this.ga=E(t[3]||"",!0),b(this,t[4]),this.Y=E(t[5]||"",!0),_(this,t[6]||"",!0),this.sa=E(t[7]||"")):this.a=new T(null)}function m(e,t,n){e.ea=n?E(t,!0):t,e.ea&&(e.ea=e.ea.replace(/:$/,""))}function b(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.Ma=t}else e.Ma=null}function _(e,t,n){t instanceof T?e.a=t:(n||(t=A(t,su)),e.a=new T(t))}function E(e,t){return e?t?decodeURI(e):decodeURIComponent(e):""}function A(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,k),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function k(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}function T(e){this.b=e||null}function w(e){var t=new T;if(t.b=e.b,e.a){var n,i={};for(n in e.a)i[n]=e.a[n].concat();t.a=i,t.c=e.c}return t}function S(){var e,t,n=new Promise(function(n,i){e=n,t=i});return n.resolve=e,n.reject=t,n}function P(e,t){var n=C();this.i=null==e.maxAttempts?n.maxAttempts:e.maxAttempts,this.f=null==e.baseDelay?n.baseDelay:e.baseDelay,this.h=null==e.fuzzFactor?n.fuzzFactor:e.fuzzFactor,this.g=null==e.backoffFactor?n.backoffFactor:e.backoffFactor,this.a=0,this.b=this.f,(this.c=t||!1)&&(this.a=1)}function O(t){if(t.a>=t.i){if(!t.c)return Promise.reject();t.a=1,t.b=t.f}var n=new S;return t.a?(e.setTimeout(n.resolve,t.b*(1+(2*Math.random()-1)*t.h)),t.b*=t.g):n.resolve(),t.a++,n}function C(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:0}}function L(e,t){this.promise=e,this.b=t,this.a=!1}function R(e){return new L(Promise.reject(e),function(){return Promise.resolve()})}function I(){var e=Promise.reject(new g(2,7,7001));return e.catch(function(){}),new L(e,function(){return Promise.resolve()})}function x(e){return new L(Promise.resolve(e),function(){return Promise.resolve()})}function D(e){return new L(e,function(){return e.catch(function(){})})}function M(e){return new L(Promise.all(e.map(function(e){return e.promise})),function(){return Promise.all(e.map(function(e){return e.abort()}))})}function N(e,t,n){function i(){return r.reject(new g(2,7,7001)),e.abort()}var r=new S;return e.promise.then(function(n){e.a?r.reject(new g(2,7,7001)):t?i=U(t,n,r):r.resolve(n)},function(e){n?i=U(n,e,r):r.reject(e)}),new L(r,function(){return i()})}function U(e,t,n){try{var i=e(t);return i&&i.promise&&i.abort?(n.resolve(i.promise),function(){return i.abort()}):(n.resolve(i),function(){return Promise.resolve(i).then(function(){}).catch(function(){})})}catch(e){return n.reject(e),function(){return Promise.resolve()}}}function B(e,t){for(var n=[],i=0;i<e.length;++i){for(var r=!1,a=0;a<n.length&&!(r=t?t(e[i],n[a]):e[i]===n[a]);++a);r||n.push(e[i])}return n}function j(e,t,n){for(var i=0;i<e.length;++i)if(n(e[i],t))return i;return-1}function F(e,t){var n=e.indexOf(t);-1<n&&e.splice(n,1)}function G(e,t){var n=0;return e.forEach(function(e){n+=t(e)?1:0}),n}function V(e,t,n,i,r){var a,o=r in i;for(a in t){var s=r+"."+a,u=o?i[r]:n[a];(o||a in e)&&(void 0===t[a]?void 0===u||o?delete e[a]:e[a]=u:u.constructor==Object&&t[a]&&t[a].constructor==Object?(e[a]||(e[a]=u),V(e[a],t[a],u,i,s)):typeof t[a]==typeof u&&null!=t[a]&&t[a].constructor==u.constructor&&(e[a]=t[a]))}}function H(e){function t(e){switch(typeof e){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return e;default:if(!e)return e;if(0<=n.indexOf(e))return null;var i=e.constructor==Array;if(e.constructor!=Object&&!i)return null;n.push(e);var r,a=i?[]:{};for(r in e)a[r]=t(e[r]);return i&&(a.length=e.length),a}}var n=[];return t(e)}function K(){this.a=[]}function W(e,t){e.a.push(t.finally(function(){F(e.a,t)}))}function Y(e){this.c=!1,this.g=new K,this.a=[],this.b=[],this.f=e||null}function z(e,t,n){n=n||3;var i=lu[e];(!i||n>=i.he)&&(lu[e]={he:n,fe:t})}function q(e,t){return{uris:e,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:t}}function X(e){return e.then=function(t,n){return h("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),e.promise.then(t,n)},e.catch=function(t){return h("The network request interface has changed!  Please update your application to the new interface, which allows operations to be aborted.  Support for the old API will be removed in v2.5."),e.promise.catch(t)},e}function J(e,t,n){var i=x(void 0);return e.a.forEach(function(e){i=N(i,function(){return e(t,n)})}),N(i,void 0,function(e){if(e&&7001==e.code)throw e;throw new g(2,1,1006,e)})}function Q(e,t,n,i,r,a){var o=new v(n.uris[r]),s=o.ea;s||(s=location.protocol,s=s.slice(0,-1),m(o,s),n.uris[r]=o.toString());var u=(s=lu[s])?s.fe:null;if(!u)return R(new g(2,1,1e3,o));var l;return N(N(D(O(i)),function(){if(e.c)return I();l=Date.now();var i=u(n.uris[r],n,t);return void 0==i.promise&&(h("The scheme plugin interface has changed!  Please update your scheme plugins to the new interface to add support for abort().  Support for the old plugin interface will be removed in v2.5."),i=D(i)),i}),function(e){return void 0==e.timeMs&&(e.timeMs=Date.now()-l),e},function(o){if(o&&7001==o.code)throw o;if(e.c)return I();if(o&&1==o.severity)return r=(r+1)%n.uris.length,Q(e,t,n,i,r,o);throw o||a})}function $(e,t,n){var i=x(void 0);return e.b.forEach(function(e){i=N(i,function(){return e(t,n)})}),N(i,function(){return n},function(e){if(e&&7001==e.code)throw e;var t=2;throw e instanceof g&&(t=e.severity),new g(t,1,1007,e)})}function Z(){this.a={}}function ee(){this.a=new Z}function te(e,t,n,i){e.a&&(t=new re(t,n,i),e.a.push(n,t))}function ne(e,t,n,i){te(e,t,n,function(e){this.ka(t,n),i(e)}.bind(e))}function ie(e){if(e.a){var t,n=e.a,i=[];for(t in n.a)i.push.apply(i,n.a[t]);for(n=0;n<i.length;++n)i[n].ka();e.a.a={}}}function re(e,t,n){this.target=e,this.type=t,this.a=n,this.target.addEventListener(t,n,!1)}function ae(t,n){var i,r=n||{};for(i in r)this[i]=r[i];this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=e.performance&&e.performance.now?e.performance.now():Date.now(),this.type=t,this.isTrusted=!1,this.target=this.currentTarget=null,this.a=!1}function oe(e,t){return e.reduce(function(e,t,n){return t.catch(e.bind(null,n))}.bind(null,t),Promise.reject())}function se(e,t){return e.concat(t)}function ue(){}function le(e){return null!=e}function ce(e,t,n){return n.indexOf(e)==t}function fe(e,t){if(0==t.length)return e;var n=t.map(function(e){return new v(e)});return e.map(function(e){return new v(e)}).map(function(e){return n.map(e.resolve.bind(e))}).reduce(se,[]).map(function(e){return e.toString()})}function de(e,t){return{keySystem:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:t||[],keyIds:[]}}function pe(e){return!e||0==Object.keys(e).length}function he(e){return Object.keys(e).map(function(t){return e[t]})}function ye(e,t){return Object.keys(e).every(function(n){return t(n,e[n])})}function ge(e,t){Object.keys(e).forEach(function(n){t(n,e[n])})}function ve(e,t){var n=e;return t&&(n+='; codecs="'+t+'"'),n}function me(e){if(!e)return"";e=new Uint8Array(e),239==e[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),e=escape(Ae(e));try{return decodeURIComponent(e)}catch(e){throw new g(2,2,2004)}}function be(e,t,n){if(!e)return"";if(!n&&0!=e.byteLength%2)throw new g(2,2,2004);if(e instanceof ArrayBuffer)var i=e;else n=new Uint8Array(e.byteLength),n.set(new Uint8Array(e)),i=n.buffer;e=Math.floor(e.byteLength/2),n=new Uint16Array(e),i=new DataView(i);for(var r=0;r<e;r++)n[r]=i.getUint16(2*r,t);return Ae(n)}function _e(e){var t=new Uint8Array(e);if(239==t[0]&&187==t[1]&&191==t[2])return me(t);if(254==t[0]&&255==t[1])return be(t.subarray(2),!1);if(255==t[0]&&254==t[1])return be(t.subarray(2),!0);var n=function(e,t){return e.byteLength<=t||32<=e[t]&&126>=e[t]}.bind(null,t);if(0==t[0]&&0==t[2])return be(e,!1);if(0==t[1]&&0==t[3])return be(e,!0);if(n(0)&&n(1)&&n(2)&&n(3))return me(e);throw new g(2,2,2003)}function Ee(e){e=encodeURIComponent(e),e=unescape(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}function Ae(e){for(var t="",n=0;n<e.length;n+=16e3)t+=String.fromCharCode.apply(null,e.subarray(n,n+16e3));return t}function ke(e){this.a=null,this.b=function(){this.a=null,e()}.bind(this)}function Te(e,t){e.cancel(),e.a=setTimeout(e.b,1e3*t)}function we(e,t){e.cancel();var n=function(){this.b(),this.a=setTimeout(n,1e3*t)}.bind(e);e.a=setTimeout(n,1e3*t)}function Se(t,n){var i=void 0==n||n,r=e.btoa(String.fromCharCode.apply(null,t)).replace(/\+/g,"-").replace(/\//g,"_");return i?r:r.replace(/=*$/,"")}function Pe(t){t=e.atob(t.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(t.length),i=0;i<t.length;++i)n[i]=t.charCodeAt(i);return n}function Oe(t){for(var n=new Uint8Array(t.length/2),i=0;i<t.length;i+=2)n[i/2]=e.parseInt(t.substr(i,2),16);return n}function Ce(e){for(var t="",n=0;n<e.length;++n){var i=e[n].toString(16);1==i.length&&(i="0"+i),t+=i}return t}function Le(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}function Re(e){for(var t=0,n=0;n<arguments.length;++n)t+=arguments[n].length;t=new Uint8Array(t);for(var i=n=0;i<arguments.length;++i)t.set(arguments[i],n),n+=arguments[i].length;return t}function Ie(e){this.o=e,this.l=this.j=this.u=null,this.M=!1,this.b=null,this.g=new ee,this.a=[],this.m=[],this.i=new S,this.f=null,this.h=function(t){this.i.reject(t),e.onError(t)}.bind(this),this.A={},this.H=new ke(this.ie.bind(this)),this.ca=this.c=!1,this.L=[],this.S=!1,this.v=new ke(this.ge.bind(this)),we(this.v,1),this.i.catch(function(){})}function xe(e,t){if(!e.j)return ne(e.g,t,"encrypted",function(){this.h(new g(2,6,6010))}.bind(e)),Promise.resolve();e.l=t,ne(e.g,e.l,"play",e.Md.bind(e));var n=e.l.setMediaKeys(e.j);n=n.catch(function(e){return Promise.reject(new g(2,6,6003,e.message))});var i=null;return e.b.serverCertificate&&e.b.serverCertificate.length&&(i=e.j.setServerCertificate(e.b.serverCertificate).then(function(){}).catch(function(e){return Promise.reject(new g(2,6,6004,e.message))})),Promise.all([n,i]).then(function(){if(this.c)return Promise.reject();De(this),this.b.initData.length||this.m.length||te(this.g,this.l,"encrypted",this.Bd.bind(this))}.bind(e)).catch(function(e){return this.c?Promise.resolve():Promise.reject(e)}.bind(e))}function De(e){var t=e.b?e.b.initData:[];return t.forEach(function(e){Ke(this,e.initDataType,e.initData)}.bind(e)),e.m.forEach(function(e){He(this,e)}.bind(e)),t.length||e.m.length||e.i.resolve(),e.i}function Me(e){return e.a.map(function(e){return e.ja.sessionId})}function Ne(t,n,i,r,a){var o=je(t),s=Fe(t,n);n.periods.forEach(function(t){t.variants.forEach(function(t){o&&(t.drmInfos=[o]),s&&(t.drmInfos=s),t.drmInfos.forEach(function(n){Be(this,n),e.cast&&e.cast.__platform__&&"com.microsoft.playready"==n.keySystem&&(n.keySystem="com.chromecast.playready");var o=r[n.keySystem];o||(o={audioCapabilities:[],videoCapabilities:[],distinctiveIdentifier:"optional",persistentState:i?"required":"optional",sessionTypes:[i?"persistent-license":"temporary"],label:n.keySystem,drmInfos:[]},r[n.keySystem]=o,a.push(n.keySystem)),o.drmInfos.push(n),n.distinctiveIdentifierRequired&&(o.distinctiveIdentifier="required"),n.persistentStateRequired&&(o.persistentState="required");var s=[];t.video&&s.push(t.video),t.audio&&s.push(t.audio),s.forEach(function(e){("video"==e.type?o.videoCapabilities:o.audioCapabilities).push({robustness:("video"==e.type?n.videoRobustness:n.audioRobustness)||"",contentType:ve(e.mimeType,e.codecs)})}.bind(this))}.bind(this))}.bind(this))}.bind(t))}function Ue(e,t,n){if(1==n.length&&""==n[0])return Promise.reject(new g(2,6,6e3));var i=new S,r=i;return[!0,!1].forEach(function(e){n.forEach(function(n){var i=t[n];i.drmInfos.some(function(e){return!!e.licenseServerUri})==e&&(0==i.audioCapabilities.length&&delete i.audioCapabilities,0==i.videoCapabilities.length&&delete i.videoCapabilities,r=r.catch(function(){return this.c?Promise.reject():navigator.requestMediaKeySystemAccess(n,[i])}.bind(this)))}.bind(this))}.bind(e)),r=r.catch(function(){return Promise.reject(new g(2,6,6001))}),r=r.then(function(e){if(this.c)return Promise.reject();var n=0<=navigator.userAgent.indexOf("Edge/"),i=e.getConfiguration();return this.u=(i.audioCapabilities||[]).concat(i.videoCapabilities||[]).map(function(e){return e.contentType}),n&&(this.u=null),n=t[e.keySystem],Ge(this,e.keySystem,n,n.drmInfos),this.b.licenseServerUri?e.createMediaKeys():Promise.reject(new g(2,6,6012))}.bind(e)).then(function(e){if(this.c)return Promise.reject();this.j=e,this.M=!0}.bind(e)).catch(function(e){return this.c?Promise.resolve():(this.u=this.b=null,e instanceof g?Promise.reject(e):Promise.reject(new g(2,6,6002,e.message)))}.bind(e)),i.reject(),r}function Be(e,t){var n=t.keySystem;if(n){if(!t.licenseServerUri){var i=e.f.servers[n];i&&(t.licenseServerUri=i)}t.keyIds||(t.keyIds=[]),(n=e.f.advanced[n])&&(t.distinctiveIdentifierRequired||(t.distinctiveIdentifierRequired=n.distinctiveIdentifierRequired),t.persistentStateRequired||(t.persistentStateRequired=n.persistentStateRequired),t.videoRobustness||(t.videoRobustness=n.videoRobustness),t.audioRobustness||(t.audioRobustness=n.audioRobustness),t.serverCertificate||(t.serverCertificate=n.serverCertificate))}}function je(t){if(pe(t.f.clearKeys))return null;var n,i=[],r=[];for(n in t.f.clearKeys){var a=t.f.clearKeys[n],o=Oe(n);a=Oe(a),o={kty:"oct",kid:Se(o,!1),k:Se(a,!1)},i.push(o),r.push(o.kid)}return t=JSON.stringify({keys:i}),r=JSON.stringify({kids:r}),r=[{initData:new Uint8Array(Ee(r)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",licenseServerUri:"data:application/json;base64,"+e.btoa(t),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:r,keyIds:[]}}function Fe(e,t){var n=e.f,i=Object.keys(n.servers);return!i.length||t.periods.some(function(e){return e.variants.some(function(e){return e.drmInfos.length})})?null:i.map(function(e){return{keySystem:e,licenseServerUri:n.servers[e],distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,initData:[],keyIds:[]}})}function Ge(e,t,n,i){var r=[],a=[],o=[],s=[];Ve(i,r,a,o,s),e.b={keySystem:t,licenseServerUri:r[0],distinctiveIdentifierRequired:"required"==n.distinctiveIdentifier,persistentStateRequired:"required"==n.persistentState,audioRobustness:n.audioCapabilities?n.audioCapabilities[0].robustness:"",videoRobustness:n.videoCapabilities?n.videoCapabilities[0].robustness:"",serverCertificate:a[0],initData:o,keyIds:s}}function Ve(e,t,n,i,r){function a(e,t){return!(!e.keyId||e.keyId!=t.keyId)||e.initDataType==t.initDataType&&Le(e.initData,t.initData)}e.forEach(function(e){if(-1==t.indexOf(e.licenseServerUri)&&t.push(e.licenseServerUri),e.serverCertificate&&-1==j(n,e.serverCertificate,Le)&&n.push(e.serverCertificate),e.initData&&e.initData.forEach(function(e){-1==j(i,e,a)&&i.push(e)}),e.keyIds)for(var o=0;o<e.keyIds.length;++o)-1==r.indexOf(e.keyIds[o])&&r.push(e.keyIds[o])})}function He(e,t){try{var n=e.j.createSession("persistent-license")}catch(t){var i=new g(2,6,6005,t.message);return e.h(i),void Promise.reject(i)}te(e.g,n,"message",e.yc.bind(e)),te(e.g,n,"keystatuseschange",e.uc.bind(e));var r={initData:null,ja:n,loaded:!1,Ob:1/0,oa:null};e.a.push(r),n.load(t).then(function(e){if(!this.c){if(e)return r.loaded=!0,this.a.every(function(e){return e.loaded})&&this.i.resolve(),n;this.a.splice(this.a.indexOf(r),1),this.h(new g(2,6,6013))}}.bind(e),function(e){this.c||(this.a.splice(this.a.indexOf(r),1),this.h(new g(2,6,6005,e.message)))}.bind(e))}function Ke(e,t,n){try{var i=e.ca?e.j.createSession("persistent-license"):e.j.createSession()}catch(t){return void e.h(new g(2,6,6005,t.message))}te(e.g,i,"message",e.yc.bind(e)),te(e.g,i,"keystatuseschange",e.uc.bind(e)),e.a.push({initData:n,ja:i,loaded:!1,Ob:1/0,oa:null}),i.generateRequest(t,n.buffer).catch(function(e){if(!this.c){for(var t=0;t<this.a.length;++t)if(this.a[t].ja==i){this.a.splice(t,1);break}this.h(new g(2,6,6006,e.message))}}.bind(e))}function We(e,t){for(var n,i=t.target,r=0;r<e.a.length;r++)if(e.a[r].ja==i){n=e.a[r];break}r=q([e.b.licenseServerUri],e.f.retryParameters),r.body=t.message,r.method="POST","com.microsoft.playready"!=e.b.keySystem&&"com.chromecast.playready"!=e.b.keySystem||Ye(r),e.o.sb.request(2,r).promise.then(function(e){return this.c?Promise.reject():i.update(e.data).then(function(){this.o.onEvent(new ae("drmsessionupdate")),n&&(n.oa&&n.oa.resolve(),setTimeout(function(){n.loaded=!0,this.a.every(function(e){return e.loaded})&&this.i.resolve()}.bind(this),5e3))}.bind(this))}.bind(e),function(e){if(this.c)return Promise.resolve();e=new g(2,6,6007,e),this.h(e),n&&n.oa&&n.oa.reject(e)}.bind(e)).catch(function(e){if(this.c)return Promise.resolve();e=new g(2,6,6008,e.message),this.h(e),n&&n.oa&&n.oa.reject(e)}.bind(e))}function Ye(e){var t=be(e.body,!0,!0);if(-1==t.indexOf("PlayReadyKeyMessage"))e.headers["Content-Type"]="text/xml; charset=utf-8";else{t=(new DOMParser).parseFromString(t,"application/xml");for(var n=t.getElementsByTagName("HttpHeader"),i=0;i<n.length;++i)e.headers[n[i].querySelector("name").textContent]=n[i].querySelector("value").textContent;e.body=Pe(t.querySelector("Challenge").textContent).buffer}}function ze(){var e=[],t=[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],n=[{videoCapabilities:t,persistentState:"required",sessionTypes:["persistent-license"]},{videoCapabilities:t}],i={};return"org.w3.clearkey com.widevine.alpha com.microsoft.playready com.apple.fps.2_0 com.apple.fps.1_0 com.apple.fps com.adobe.primetime".split(" ").forEach(function(t){var r=navigator.requestMediaKeySystemAccess(t,n).then(function(e){var n=e.getConfiguration().sessionTypes;return n=!!n&&0<=n.indexOf("persistent-license"),0<=navigator.userAgent.indexOf("Tizen 3")&&(n=!1),i[t]={persistentState:n},e.createMediaKeys()}).catch(function(){i[t]=null});e.push(r)}),Promise.all(e).then(function(){return i})}function qe(e,t){var n=e.keySystem();return 0==t.drmInfos.length||t.drmInfos.some(function(e){return e.keySystem==n})}function Xe(e,t){if(!e.length)return t;if(!t.length)return e;for(var n=[],i=0;i<e.length;i++)for(var r=0;r<t.length;r++)if(e[i].keySystem==t[r].keySystem){var a=e[i];r=t[r];var o=[];o=o.concat(a.initData||[]),o=o.concat(r.initData||[]);var s=[];s=s.concat(a.keyIds),s=s.concat(r.keyIds),n.push({keySystem:a.keySystem,licenseServerUri:a.licenseServerUri||r.licenseServerUri,distinctiveIdentifierRequired:a.distinctiveIdentifierRequired||r.distinctiveIdentifierRequired,persistentStateRequired:a.persistentStateRequired||r.persistentStateRequired,videoRobustness:a.videoRobustness||r.videoRobustness,audioRobustness:a.audioRobustness||r.audioRobustness,serverCertificate:a.serverCertificate||r.serverCertificate,initData:o,keyIds:s});break}return n}function Je(e){return!e||1==e.length&&1e-6>e.end(0)-e.start(0)?null:e.length?e.end(e.length-1):null}function Qe(e,t){return!(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))&&(t>=e.start(0)&&t<=e.end(e.length-1))}function $e(e,t){if(!e||!e.length||1==e.length&&1e-6>e.end(0)-e.start(0))return 0;for(var n=0,i=e.length-1;0<=i&&e.end(i)>t;--i)n+=e.end(i)-Math.max(e.start(i),t);return n}function Ze(e){if(!e)return[];for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}function et(e,t,n){this.startTime=e,this.endTime=t,this.payload=n,this.region=new tt,this.position=null,this.positionAlign=du,this.size=100,this.textAlign=pu,this.writingDirection=vu,this.lineInterpretation=mu,this.line=null,this.lineHeight="",this.lineAlign=bu,this.displayAlign=yu,this.fontSize=this.backgroundColor=this.color="",this.fontWeight=Eu,this.fontStyle=Au,this.fontFamily="",this.textDecoration=[],this.wrapLine=!0,this.id=""}function tt(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=Tu,this.scroll=wu}function nt(){this.a=new muxjs.mp4.Transmuxer({keepOriginalTimestamps:!0}),this.c=null,this.f=[],this.b=[],this.a.on("data",this.h.bind(this)),this.a.on("done",this.g.bind(this))}function it(t,n){return!(!e.muxjs||"mp2t"!=t.split(";")[0].split("/")[1])&&(n?MediaSource.isTypeSupported(rt(n,t)):MediaSource.isTypeSupported(rt("audio",t))||MediaSource.isTypeSupported(rt("video",t)))}function rt(e,t){var n=t.replace("mp2t","mp4");"audio"==e&&(n=n.replace("video","audio"));var i=/avc1\.(66|77|100)\.(\d+)/.exec(n);if(i){var r="avc1.",a=i[1],o=Number(i[2]);r=("66"==a?r+"4200":"77"==a?r+"4d00":r+"6400")+(o>>4).toString(16),r+=(15&o).toString(16),n=n.replace(i[0],r)}return n}function at(e,t){e.c=new S,e.f=[],e.b=[];var n=new Uint8Array(t);return e.a.push(n),e.a.flush(),e.c}function ot(e){this.f=null,this.c=e,this.i=this.g=0,this.h=1/0,this.b=this.a=null}function st(e,t,n,i){return Promise.resolve().then(function(){if(this.f&&this.c)if(null==n||null==i)this.f.parseInit(new Uint8Array(t));else{var e={periodStart:this.g,segmentStart:this.g+n,segmentEnd:this.g+i};e=this.f.parseMedia(new Uint8Array(t),e).filter(function(e){return e.startTime>=this.i&&e.startTime<this.h}.bind(this)),this.c.append(e),null==this.a&&(this.a=Math.max(n,this.i)),this.b=Math.min(i,this.h)}}.bind(e))}function ut(t){this.f=t,this.m=null,this.b={},this.a=null,this.c={},this.i=new ee,this.l=!1,this.h={},this.j=!1,t=this.o=new S;var n=new MediaSource;ne(this.i,n,"sourceopen",t.resolve),this.f.src=e.URL.createObjectURL(n),this.g=n}function lt(){var e={};return'video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="opus",audio/mp4; codecs="flac",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="av1",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").forEach(function(t){e[t]=!!Su[t]||MediaSource.isTypeSupported(t)||it(t);var n=t.split(";")[0];e[n]=e[n]||e[t]}),e}function ct(e,t){e.a||(e.a=new ot(e.m)),e.a.f=new Su[t]}function ft(e,t){if("text"==t)var n=e.a.a;else n=dt(e,t),n=!n||1==n.length&&1e-6>n.end(0)-n.start(0)?null:1==n.length&&0>n.start(0)?0:n.length?n.start(0):null;return n}function dt(e,t){try{return e.b[t].buffered}catch(e){return null}}function pt(e,t,n,i,r){return"text"==t?st(e.a,n,i,r):e.h[t]?at(e.h[t],n).then(function(e){return this.a||ct(this,"text/vtt"),this.j&&this.a.ec(e.cues),gt(this,t,this.Oc.bind(this,t,e.data.buffer))}.bind(e)):gt(e,t,e.Oc.bind(e,t,n))}function ht(e,t){return"text"==t?e.a?e.a.remove(0,1/0):Promise.resolve():gt(e,t,e.Pc.bind(e,t,0,e.g.duration))}function yt(e,t,n,i,r){return"text"==t?(e.a.g=n,e=e.a,e.i=i,e.h=r,Promise.resolve()):Promise.all([gt(e,t,e.Wc.bind(e,t)),gt(e,t,e.Ae.bind(e,t,n)),gt(e,t,e.xe.bind(e,t,i,r))])}function gt(e,t,n){if(e.l)return Promise.reject();if(n={start:n,p:new S},e.c[t].push(n),1==e.c[t].length)try{n.start()}catch(i){"QuotaExceededError"==i.name?n.p.reject(new g(2,3,3017,t)):n.p.reject(new g(2,3,3015,i)),mt(e,t)}return n.p}function vt(e,t){if(e.l)return Promise.reject();var n,i=[];for(n in e.b){var r=new S,a={start:function(e){e.resolve()}.bind(null,r),p:r};e.c[n].push(a),i.push(r),1==e.c[n].length&&a.start()}return Promise.all(i).then(function(){try{t()}catch(t){var e=Promise.reject(new g(2,3,3015,t))}for(var n in this.b)mt(this,n);return e}.bind(e),function(){return Promise.reject()}.bind(e))}function mt(e,t){e.c[t].shift();var n=e.c[t][0];if(n)try{n.start()}catch(i){n.p.reject(new g(2,3,3015,i)),mt(e,t)}}function bt(e,t,n){return n==t||e>=Pu&&n==t.split("-")[0]||e>=Ou&&n.split("-")[0]==t.split("-")[0]}function _t(e){e=e.toLowerCase().split("-");var t=Cu[e[0]];return t&&(e[0]=t),e.join("-")}function Et(e,t,n){var i=e.video;return!(i&&(i.width<t.minWidth||i.width>t.maxWidth||i.width>n.width||i.height<t.minHeight||i.height>t.maxHeight||i.height>n.height||i.width*i.height<t.minPixels||i.width*i.height>t.maxPixels)||e.bandwidth<t.minBandwidth||e.bandwidth>t.maxBandwidth)}function At(e,t,n){var i=!1;return e.variants.forEach(function(e){var r=e.allowedByApplication;e.allowedByApplication=Et(e,t,n),r!=e.allowedByApplication&&(i=!0)}),i}function kt(e,t,n,i){i.variants=i.variants.filter(function(i){return!(e&&e.M&&!qe(e,i))&&(Tt(i.audio,e,t)&&Tt(i.video,e,n))}),i.textStreams=i.textStreams.filter(function(e){return!!Su[ve(e.mimeType,e.codecs)]})}function Tt(e,t,n){if(!e)return!0;var i=null;t&&t.M&&(i=t.u),t=ve(e.mimeType,e.codecs);var r,a=ve(e.mimeType,e.codecs),o=e.mimeType;for(r in fu){var s=e[r],u=fu[r];s&&(o+="; "+u+'="'+s+'"')}return!(!(Su[a]||MediaSource.isTypeSupported(o)||it(a,e.type))||i&&e.encrypted&&0>i.indexOf(t)||n&&(e.mimeType!=n.mimeType||e.codecs.split(".")[0]!=n.codecs.split(".")[0]))}function wt(e){var t=e.audio,n=e.video,i=t?t.codecs:null,r=n?n.codecs:null,a=[];r&&a.push(r),i&&a.push(i);var o=[];n&&o.push(n.mimeType),t&&o.push(t.mimeType),o=o[0]||null;var s=[];t&&s.push(t.kind),n&&s.push(n.kind),s=s[0]||null;var u=[];return t&&u.push.apply(u,t.roles),n&&u.push.apply(u,n.roles),u=B(u),e={id:e.id,active:!1,type:"variant",bandwidth:e.bandwidth,language:e.language,label:null,kind:s,width:null,height:null,frameRate:null,mimeType:o,codecs:a.join(", "),audioCodec:i,videoCodec:r,primary:e.primary,roles:u,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null},n&&(e.videoId=n.id,e.width=n.width||null,e.height=n.height||null,e.frameRate=n.frameRate||null,e.videoBandwidth=n.bandwidth||null),t&&(e.audioId=t.id,e.channelsCount=t.channelsCount,e.audioBandwidth=t.bandwidth||null,e.label=t.label),e}function St(e){return{id:e.id,active:!1,type:"text",bandwidth:0,language:e.language,label:e.label,kind:e.kind||null,width:null,height:null,frameRate:null,mimeType:e.mimeType,codecs:e.codecs||null,audioCodec:null,videoCodec:null,primary:e.primary,roles:e.roles,videoId:null,audioId:null,channelsCount:null,audioBandwidth:null,videoBandwidth:null}}function Pt(e){var t=[],n=xt(e.variants);return e=e.textStreams,n.forEach(function(e){t.push(wt(e))}),e.forEach(function(e){t.push(St(e))}),t}function Ot(e,t,n){return xt(e.variants).map(function(e){var i=wt(e);return e.video&&e.audio?i.active=n==e.video.id&&t==e.audio.id:e.video?i.active=n==e.video.id:e.audio&&(i.active=t==e.audio.id),i})}function Ct(e,t){return e.textStreams.map(function(e){var n=St(e);return n.active=t==e.id,n})}function Lt(e,t){for(var n=0;n<e.variants.length;n++)if(e.variants[n].id==t.id)return e.variants[n];return null}function Rt(e,t){for(var n=0;n<e.textStreams.length;n++)if(e.textStreams[n].id==t.id)return e.textStreams[n];return null}function It(e){return e.allowedByApplication&&e.allowedByKeySystem}function xt(e){return e.filter(function(e){return It(e)})}function Dt(e,t,n,i){var r=xt(e),a=r;e=r.filter(function(e){return e.primary}),e.length&&(a=e);var o=a.length?a[0].language:"";if(a=a.filter(function(e){return e.language==o}),t){var s=_t(t);[Ou,Pu,0].forEach(function(e){var t=!1;r.forEach(function(n){s=_t(s);var r=_t(n.language);bt(e,s,r)&&(t?a.push(n):(a=[n],t=!0),i&&(i.audio=!0))})})}return n&&(t=Nt(a,n),t.length)?t:(t=a.map(function(e){return(e.audio?e.audio.roles:[]).concat(e.video?e.video.roles:[])}).reduce(se,[]),t.length?Nt(a,t[0]):a)}function Mt(e,t,n,i){var r=e,a=e.filter(function(e){return e.primary});a.length&&(r=a);var o=r.length?r[0].language:"";if(r=r.filter(function(e){return e.language==o}),t){var s=_t(t);[Ou,Pu,0].forEach(function(t){var n=!1;e.forEach(function(e){var a=_t(e.language);bt(t,s,a)&&(n?r.push(e):(r=[e],n=!0),i&&(i.text=!0))})})}return t=n?Ut(r,n):r.filter(function(e){return 0==e.roles.length}),t.length?t:(t=r.map(function(e){return e.roles}).reduce(se,[]),t.length?Ut(r,t[0]):r)}function Nt(e,t){return e.filter(function(e){return e.audio&&0<=e.audio.roles.indexOf(t)||e.video&&0<=e.video.roles.indexOf(t)})}function Ut(e,t){return e.filter(function(e){return 0<=e.roles.indexOf(t)})}function Bt(e,t,n){for(var i=0;i<n.length;i++)if(n[i].audio==e&&n[i].video==t)return n[i];return null}function jt(e,t,n){function i(e,t){return null==e?null==t:t.id==e}for(var r=0;r<n.length;r++)if(i(e,n[r].audio)&&i(t,n[r].video))return n[r];return null}function Ft(e,t){for(var n=e.periods.length-1;0<n;--n)if(t+cu>=e.periods[n].startTime)return n;return 0}function Gt(e,t){for(var n=0;n<e.periods.length;++n){var i=e.periods[n];if("text"==t.type){for(var r=0;r<i.textStreams.length;++r)if(i.textStreams[r]==t)return n}else for(r=0;r<i.variants.length;++r){var a=i.variants[r];if(a.audio==t||a.video==t||a.video&&a.video.trickModeVideo==t)return n}}return-1}function Vt(){this.h=null,this.c=!1,this.b=new p,this.g=[],this.i=!1,this.a=this.f=null}function Ht(e,t){return t.filter(function(t){return Et(t,e,{width:1/0,height:1/0})}).sort(function(e,t){return e.bandwidth-t.bandwidth})}function Kt(e){return JSON.stringify(e,function(e,t){if("function"!=typeof t){if(t instanceof Event||t instanceof ae){var n,i={};for(n in t){var r=t[n];r&&"object"==typeof r?"detail"==n&&(i[n]=r):n in Event||(i[n]=r)}return i}if(t instanceof TimeRanges)for(i={__type__:"TimeRanges",length:t.length,start:[],end:[]},n=0;n<t.length;++n)i.start.push(t.start(n)),i.end.push(t.end(n));else i="number"==typeof t?isNaN(t)?"NaN":isFinite(t)?t:0>t?"-Infinity":"Infinity":t;return i}})}function Wt(e){return JSON.parse(e,function(e,t){return"NaN"==t?NaN:"-Infinity"==t?-1/0:"Infinity"==t?1/0:t&&"object"==typeof t&&"TimeRanges"==t.__type__?Yt(t):t})}function Yt(e){return{length:e.length,start:function(t){return e.start[t]},end:function(t){return e.end[t]}}}function zt(e,t,n,i,r,a){this.L=e,this.g=t,this.M=n,this.j=!1,this.A=i,this.H=r,this.u=a,this.b=this.h=!1,this.v="",this.i=null,this.l=this.rc.bind(this),this.m=this.Id.bind(this),this.a={video:{},player:{}},this.o=0,this.c={},this.f=null}function qt(e){var t=Vu;t.removeUpdateListener(e.l),t.removeMessageListener("urn:x-cast:com.google.shaka.v2",e.m)}function Xt(e){for(var t in e.c){var n=e.c[t];delete e.c[t],n.reject(new g(1,7,7e3))}}function Jt(e){e=Kt(e),Vu.sendMessage("urn:x-cast:com.google.shaka.v2",e,function(){},y)}function Qt(){this.yb=new Z,this.gb=this}function $t(e,t,n){Qt.call(this),this.c=e,this.b=t,this.i=this.g=this.f=this.j=this.h=null,this.a=new zt(n,this.Fe.bind(this),this.Ge.bind(this),this.He.bind(this),this.Ie.bind(this),this.jc.bind(this)),Zt(this)}function Zt(e){e.a.init(),e.i=new ee,Lu.forEach(function(e){te(this.i,this.c,e,this.Te.bind(this))}.bind(e)),Du.forEach(function(e){te(this.i,this.b,e,this.ee.bind(this))}.bind(e)),e.h={};for(var t in e.c)Object.defineProperty(e.h,t,{configurable:!1,enumerable:!0,get:e.Se.bind(e,t),set:e.Ue.bind(e,t)});e.j={};for(var n in e.b)Object.defineProperty(e.j,n,{configurable:!1,enumerable:!0,get:e.de.bind(e,n)});e.f=new Qt,e.f.gb=e.h,e.g=new Qt,e.g.gb=e.j}function en(e,t,n,i){Qt.call(this),this.a=e,this.b=t,this.c=new ee,this.u={video:e,player:t},this.v=n||function(){},this.A=i||function(e){return e},this.o=!1,this.h=!0,this.g=0,this.m=!1,this.j=!0,this.l=this.i=this.f=null,tn(this)}function tn(t){var n=cast.receiver.CastReceiverManager.getInstance();n.onSenderConnected=t.xc.bind(t),n.onSenderDisconnected=t.xc.bind(t),n.onSystemVolumeChanged=t.dd.bind(t),t.i=n.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.i.onMessage=t.Dd.bind(t),t.f=n.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.f.onMessage=t.Sd.bind(t),n.start(),Lu.forEach(function(e){te(this.c,this.a,e,this.Cc.bind(this,"video"))}.bind(t)),Du.forEach(function(e){te(this.c,this.b,e,this.Cc.bind(this,"player"))}.bind(t)),cast.__platform__&&cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160')?t.b.Wb(3840,2160):t.b.Wb(1920,1080),te(t.c,t.a,"loadeddata",function(){this.m=!0}.bind(t)),te(t.c,t.b,"loading",function(){this.h=!1,nn(this)}.bind(t)),te(t.c,t.a,"playing",function(){this.h=!1,nn(this)}.bind(t)),te(t.c,t.a,"pause",function(){nn(this)}.bind(t)),te(t.c,t.b,"unloading",function(){this.h=!0,nn(this)}.bind(t)),te(t.c,t.a,"ended",function(){e.setTimeout(function(){this.a&&this.a.ended&&(this.h=!0,nn(this))}.bind(this),5e3)}.bind(t))}function nn(e){Promise.resolve().then(function(){this.b&&(this.dispatchEvent(new ae("caststatuschanged")),an(this)||un(this,0))}.bind(e))}function rn(e,t,n){for(var i in t.player)e.b[i](t.player[i]);e.v(n),n=Promise.resolve();var r=e.a.autoplay;t.manifest&&(e.a.autoplay=!1,n=e.b.load(t.manifest,t.startTime)),n.then(function(){if(e.b){for(var n in t.video)e.a[n]=t.video[n];for(var i in t.playerAfterLoad)e.b[i](t.playerAfterLoad[i]);e.a.autoplay=r,t.manifest&&(e.a.play(),un(e,0))}},function(t){e.b.dispatchEvent(new ae("error",{detail:t}))})}function an(e){return!(!e.j||!e.a.duration&&!e.b.O())&&(on(e),e.j=!1,!0)}function on(e){un(e,0,{contentId:e.b.Eb(),streamType:e.b.O()?"LIVE":"BUFFERED",duration:e.a.duration,contentType:""})}function sn(e,t,n,i){e.o&&(e=Kt(t),i?n.getCastChannel(i).send(e):n.broadcast(e))}function un(e,t,n){var i=e.a.playbackRate,r=Hu;r=e.h?r.IDLE:e.b.nc()?r.Rc:e.a.paused?r.Tc:r.Uc,i={mediaSessionId:0,playbackRate:i,playerState:r,currentTime:e.a.currentTime,supportedMediaCommands:15,volume:{level:e.a.volume,muted:e.a.muted}},n&&(i.media=n),sn(e,{requestId:t,type:"MEDIA_STATUS",status:[i]},e.i)}function ln(e,t){var n=cn(e,t);return 1!=n.length?null:n[0]}function cn(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return e instanceof Element&&e.tagName==t})}function fn(e){var t=e.firstChild;return t&&t.nodeType==Node.TEXT_NODE?e.textContent.trim():null}function dn(e,t,n,i){var r=null;return e=e.getAttribute(t),null!=e&&(r=n(e)),null==r?void 0!=i?i:null:r}function pn(e){return e?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e)&&(e+="Z"),e=Date.parse(e),isNaN(e)?null:Math.floor(e/1e3)):null}function hn(e){return e&&(e=/^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$/.exec(e))?(e=31536e3*Number(e[1]||null)+2592e3*Number(e[2]||null)+86400*Number(e[3]||null)+3600*Number(e[4]||null)+60*Number(e[5]||null)+Number(e[6]||null),isFinite(e)?e:null):null}function yn(e){var t=/([0-9]+)-([0-9]+)/.exec(e);return t?(e=Number(t[1]),isFinite(e)?(t=Number(t[2]),isFinite(t)?{start:e,end:t}:null):null):null}function gn(e){return e=Number(e),0==e%1?e:null}function vn(e){return e=Number(e),0==e%1&&0<e?e:null}function mn(e){return e=Number(e),0==e%1&&0<=e?e:null}function bn(e){var t;return e=(t=e.match(/^(\d+)\/(\d+)$/))?Number(t[1]/t[2]):Number(e),isNaN(e)?null:e}function _n(e,t,n){e=kn(e);var i=null,r=[],a=[],o=e.map(function(e){return e.keyId}).filter(le);if(o.length&&1<o.filter(ce).length)throw new g(2,4,4010);n||(a=e.filter(function(e){return"urn:mpeg:dash:mp4protection:2011"!=e.Ic||(i=e.init||i,!1)}),a.length&&(r=An(i,t,a),0==r.length&&(r=[de("",i)]))),!e.length||!n&&a.length||(r=he(Ku).map(function(e){return de(e,i)}));var s=o[0]||null;return s&&r.forEach(function(e){e.initData.forEach(function(e){e.keyId=s})}),{fc:s,bf:i,drmInfos:r,ic:!0}}function En(e,t,n,i){var r=_n(e,t,i);if(n.ic)e=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,t=0==r.drmInfos.length,(0==n.drmInfos.length||e&&!t)&&(n.drmInfos=r.drmInfos),n.ic=!1;else if(0<r.drmInfos.length&&(n.drmInfos=n.drmInfos.filter(function(e){return r.drmInfos.some(function(t){return t.keySystem==e.keySystem})}),0==n.drmInfos.length))throw new g(2,4,4008);return r.fc||n.fc}function An(e,t,n){return n.map(function(n){var i=Ku[n.Ic];return i?[de(i,n.init||e)]:t(n.node)||[]}).reduce(se,[])}function kn(e){return e.map(function(e){var t=e.getAttribute("schemeIdUri"),n=e.getAttribute("cenc:default_KID"),i=cn(e,"cenc:pssh").map(fn);if(!t)return null;if(t=t.toLowerCase(),n&&(n=n.replace(/-/g,"").toLowerCase(),0<=n.indexOf(" ")))throw new g(2,4,4009);var r=[];try{r=i.map(function(e){return{initDataType:"cenc",initData:Pe(e),keyId:null}})}catch(e){throw new g(2,4,4007)}return{node:e,Ic:t,keyId:n,init:0<r.length?r:null}}).filter(le)}function Tn(t,n,i,r,a){null!=a&&(a=Math.round(a));var o={RepresentationID:n,Number:i,Bandwidth:r,Time:a};return t.replace(/\$(RepresentationID|Number|Bandwidth|Time)?(?:%0([0-9]+)d)?\$/g,function(t,n,i){if("$$"==t)return"$";var r=o[n];return null==r?t:("RepresentationID"==n&&i&&(i=void 0),t=r.toString(),i=e.parseInt(i,10)||1,Array(Math.max(0,i-t.length)+1).join("0")+t)})}function wn(e,t){var n=Sn(e,t,"timescale"),i=1;n&&(i=vn(n)||1),n=Sn(e,t,"duration"),(n=vn(n||""))&&(n/=i);var r=Sn(e,t,"startNumber"),a=Number(Sn(e,t,"presentationTimeOffset"))||0,o=mn(r||"");null!=r&&null!=o||(o=1);var s=Pn(e,t,"SegmentTimeline");if(r=null,s){r=i;var u=e.N.duration||1/0;s=cn(s,"S");for(var l=[],c=0,f=0;f<s.length;++f){var d=s[f],p=dn(d,"t",mn),h=dn(d,"d",mn);if(d=dn(d,"r",gn),null!=p&&(p-=a),!h)break;if(p=null!=p?p:c,0>(d=d||0))if(f+1<s.length){if(null==(d=dn(s[f+1],"t",mn)))break;if(p>=d)break;d=Math.ceil((d-p)/h)-1}else{if(1/0==u)break;if(p/r>=u)break;d=Math.ceil((u*r-p)/h)-1}0<l.length&&p!=c&&(l[l.length-1].end=p/r);for(var y=0;y<=d;++y)c=p+h,l.push({start:p/r,end:c/r,Qe:p}),p=c}r=l}return{timescale:i,P:n,xa:o,aa:a/i||0,bc:a,I:r}}function Sn(e,t,n){return[t(e.w),t(e.T),t(e.Z)].filter(le).map(function(e){return e.getAttribute(n)}).reduce(function(e,t){return e||t})}function Pn(e,t,n){return[t(e.w),t(e.T),t(e.Z)].filter(le).map(function(e){return ln(e,n)}).reduce(function(e,t){return e||t})}function On(e,t){var n=new DOMParser;try{var i=me(e),r=n.parseFromString(i,"text/xml")}catch(e){}if(r&&r.documentElement.tagName==t)var a=r.documentElement;return a&&0<a.getElementsByTagName("parsererror").length?null:a}function Cn(e,t,n,i,r,a){for(var o=e.getAttribute("xlink:href"),s=e.getAttribute("xlink:actuate")||"onRequest",u=0;u<e.attributes.length;u++){var l=e.attributes[u].nodeName;-1!=l.indexOf("xlink:")&&(e.removeAttribute(l),--u)}if(5<=a)return R(new g(2,4,4028));if("onLoad"!=s)return R(new g(2,4,4027));var c=fe([i],[o]);return N(r.request(0,q(c,t)),function(i){if(!(i=On(i.data,e.tagName)))return R(new g(2,4,4001,o));for(;e.childNodes.length;)e.removeChild(e.childNodes[0]);for(;i.childNodes.length;){var s=i.childNodes[0];i.removeChild(s),e.appendChild(s)}for(s=0;s<i.attributes.length;s++){var u=i.attributes[s].nodeName,l=i.getAttribute(u);e.setAttribute(u,l)}return Ln(e,t,n,c[0],r,a+1)})}function Ln(e,t,n,i,r,a){if(a=a||0,e.getAttribute("xlink:href")){var o=Cn(e,t,n,i,r,a);return n&&(o=N(o,void 0,function(){return Ln(e,t,n,i,r,a)})),o}for(o=0;o<e.childNodes.length;o++){var s=e.childNodes[o];s instanceof Element&&"urn:mpeg:dash:resolve-to-zero:2013"==s.getAttribute("xlink:href")&&(e.removeChild(s),--o)}for(o=[],s=0;s<e.childNodes.length;s++){var u=e.childNodes[s];u.nodeType==Node.ELEMENT_NODE&&o.push(Ln(u,t,n,i,r,a))}return N(M(o),function(){return e})}function Rn(e,t,n){this.W=e,this.K=t,this.C=n,this.uris=[]}function In(e,t,n,i,r,a){this.position=e,this.startTime=t,this.endTime=n,this.W=i,this.K=r,this.C=a,this.dataKey=null,this.Ca=0}function xn(e,t){this.G=e,this.b=t==Wu,this.a=0}function Dn(){throw new g(2,3,3e3)}function Mn(){this.c=[],this.b=[],this.a=!1}function Nn(e){for(;e.s.da()&&!e.ia.a;)e.ia.ub(e.start,e.s,e.Ac)}function Un(e){for(var t=e.s.D();0<t&&!e.ia.a;--t)e.ia.ub(e.start,e.s,e.Ac)}function Bn(e){return function(t){e(t.s.Na(t.s.G.byteLength-t.s.U()))}}function jn(e){for(var t=0,n=0;n<e.length;n++)t=t<<8|e.charCodeAt(n);return t}function Fn(e,t,n,i){var r,a=(new Mn).V("sidx",function(e){r=Gn(t,i,n,e)});if(e&&a.parse(e),r)return r;throw new g(2,3,3004)}function Gn(e,t,n,i){var r=[];i.s.F(4);var a=i.s.D();if(0==a)throw new g(2,3,3005);if(0==i.version)var o=i.s.D(),s=i.s.D();else o=i.s.Oa(),s=i.s.Oa();i.s.F(2);var u=i.s.Ya();for(e=e+i.size+s,s=0;s<u;s++){var l=i.s.D(),c=(2147483648&l)>>>31;l&=2147483647;var f=i.s.D();if(i.s.F(4),1==c)throw new g(2,3,3006);r.push(new In(r.length,o/a-t,(o+f)/a-t,function(){return n},e,e+l-1)),o+=f,e+=l}return i.ia.stop(),r}function Vn(e){this.a=e}function Hn(e,t){for(;e.a.length&&e.a[e.a.length-1].startTime>=t;)e.a.pop();for(;e.a.length&&0>=e.a[0].endTime;)e.a.shift();if(0!=e.a.length){var n=e.a[0];n.startTime<cu&&(e.a[0]=new In(n.position,0,n.endTime,n.W,n.K,n.C)),n=e.a[e.a.length-1],e.a[e.a.length-1]=new In(n.position,n.startTime,t,n.W,n.K,n.C)}}function Kn(e){this.b=e,this.a=new xn(e,0),Yu||(Yu=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])])}function Wn(e){var t=Yn(e);if(7<t.length)throw new g(2,3,3002);for(var n=0,i=0;i<t.length;i++)n=256*n+t[i];t=n,n=Yn(e);e:{for(i=0;i<Yu.length;i++)if(Le(n,Yu[i])){i=!0;break e}i=!1}if(i)n=e.b.byteLength-e.a.U();else{if(8==n.length&&224&n[1])throw new g(2,3,3001);i=n[0]&(1<<8-n.length)-1;for(var r=1;r<n.length;r++)i=256*i+n[r];n=i}return n=e.a.U()+n<=e.b.byteLength?n:e.b.byteLength-e.a.U(),i=new DataView(e.b.buffer,e.b.byteOffset+e.a.U(),n),e.a.F(n),new zn(t,i)}function Yn(e){var t,n=e.a.$();for(t=1;8>=t&&!(n&1<<8-t);t++);if(8<t)throw new g(2,3,3002);var i=new Uint8Array(t);for(i[0]=n,n=1;n<t;n++)i[n]=e.a.$();return i}function zn(e,t){this.id=e,this.a=t}function qn(e){if(8<e.a.byteLength)throw new g(2,3,3002);if(8==e.a.byteLength&&224&e.a.getUint8(0))throw new g(2,3,3001);for(var t=0,n=0;n<e.a.byteLength;n++){t=256*t+e.a.getUint8(n)}return t}function Xn(){}function Jn(e,t,n,i,r,a){function o(){return r}var s=[];e=new Kn(e.a);for(var u=null,l=null;e.da();){var c=Wn(e);if(187==c.id){var f=Qn(c);f&&(c=n*f.Re,f=t+f.le,null!=u&&s.push(new In(s.length,u-a,c-a,o,l,f-1)),u=c,l=f)}}return null!=u&&s.push(new In(s.length,u-a,i-a,o,l,null)),s}function Qn(e){var t=new Kn(e.a);if(e=Wn(t),179!=e.id)throw new g(2,3,3013);if(e=qn(e),t=Wn(t),183!=t.id)throw new g(2,3,3012);t=new Kn(t.a);for(var n=0;t.da();){var i=Wn(t);if(241==i.id){n=qn(i);break}}return{Re:e,le:n}}function $n(e,t){var n=Pn(e,t,"Initialization");if(!n)return null;var i=e.w.ba,r=n.getAttribute("sourceURL");r&&(i=fe(e.w.ba,[r])),r=0;var a=null;return(n=dn(n,"range",yn))&&(r=n.start,a=n.end),new Rn(function(){return i},r,a)}function Zn(e,t){var n=Number(Sn(e,ti,"presentationTimeOffset"))||0,i=Sn(e,ti,"timescale"),r=1;i&&(r=vn(i)||1),n=n/r||0,i=$n(e,ti);var a=e.w.contentType;if(r=e.w.mimeType.split("/")[1],"text"!=a&&"mp4"!=r&&"webm"!=r)throw new g(2,4,4006);if("webm"==r&&!i)throw new g(2,4,4005);a=Pn(e,ti,"RepresentationIndex");var o=Sn(e,ti,"indexRange"),s=e.w.ba;if(o=yn(o||""),a){var u=a.getAttribute("sourceURL");u&&(s=fe(e.w.ba,[u])),o=dn(a,"range",yn,o)}if(!o)throw new g(2,4,4002);return r=ei(e,t,i,s,o.start,o.end,r,n),{createSegmentIndex:r.createSegmentIndex,findSegmentPosition:r.findSegmentPosition,getSegmentReference:r.getSegmentReference,initSegmentReference:i,aa:n}}function ei(e,t,n,i,r,a,o,s){var u=e.presentationTimeline,l=!e.Da||!e.N.Hb,c=e.N.index,f=e.N.duration,d=t,p=null;return{createSegmentIndex:function(){var e=[d(i,r,a),"webm"==o?d(n.W(),n.K,n.C):null];return d=null,Promise.all(e).then(function(e){var t=e[0];e=e[1]||null,t="mp4"==o?Fn(t,r,i,s):(new Xn).parse(t,e,i,s),u.Wa(t,0==c),p=new Vn(t),l&&Hn(p,f)})},findSegmentPosition:function(e){return p.find(e)},getSegmentReference:function(e){return p.get(e)}}}function ti(e){return e.Za}function ni(e,t){var n=$n(e,ii),i=ai(e),r=wn(e,ii),a=r.xa;0==a&&(a=1);var o=0;if(r.P?o=r.P*(a-1):r.I&&0<r.I.length&&(o=r.I[0].start),i={P:r.P,startTime:o,xa:a,aa:r.aa,I:r.I,Ja:i},!i.P&&!i.I&&1<i.Ja.length)throw new g(2,4,4002);if(!i.P&&!e.N.duration&&!i.I&&1==i.Ja.length)throw new g(2,4,4002);if(i.I&&0==i.I.length)throw new g(2,4,4002);return a=r=null,e.Z.id&&e.w.id&&(a=e.Z.id+","+e.w.id,r=t[a]),o=ri(e.N.duration,i.xa,e.w.ba,i),r?(r.Lb(o),a=e.presentationTimeline.Ha(),r.Bb(a-e.N.start)):(e.presentationTimeline.Wa(o,0==e.N.index),r=new Vn(o),a&&e.Da&&(t[a]=r)),e.Da&&e.N.Hb||Hn(r,e.N.duration),{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:r.find.bind(r),getSegmentReference:r.get.bind(r),initSegmentReference:n,aa:i.aa}}function ii(e){return e.na}function ri(e,t,n,i){var r=i.Ja.length;i.I&&i.I.length!=i.Ja.length&&(r=Math.min(i.I.length,i.Ja.length));for(var a=[],o=i.startTime,s=0;s<r;s++){var u=i.Ja[s],l=fe(n,[u.yd]),c=void 0;c=null!=i.P?o+i.P:i.I?i.I[s].end:o+e,a.push(new In(s+t,o,c,function(e){return e}.bind(null,l),u.start,u.end)),o=c}return a}function ai(e){return[e.w.na,e.T.na,e.Z.na].filter(le).map(function(e){return cn(e,"SegmentURL")}).reduce(function(e,t){return 0<e.length?e:t}).map(function(t){t.getAttribute("indexRange")&&!e.mc&&(e.mc=!0);var n=t.getAttribute("media");return t=dn(t,"mediaRange",yn,{start:0,end:null}),{yd:n,start:t.start,end:t.end}})}function oi(e,t,n,i){var r=ci(e),a=wn(e,si),o=Sn(e,si,"media"),s=Sn(e,si,"index");if(a={P:a.P,timescale:a.timescale,xa:a.xa,aa:a.aa,bc:a.bc,I:a.I,Kb:o,Va:s},o=0+(a.Va?1:0),o+=a.I?1:0,0==(o+=a.P?1:0))throw new g(2,4,4002);if(1!=o&&(a.Va&&(a.I=null),a.P=null),!a.Va&&!a.Kb)throw new g(2,4,4002);if(a.Va){if("mp4"!=(n=e.w.mimeType.split("/")[1])&&"webm"!=n)throw new g(2,4,4006);if("webm"==n&&!r)throw new g(2,4,4005);i=Tn(a.Va,e.w.id,null,e.bandwidth||null,null),i=fe(e.w.ba,[i]),e=ei(e,t,r,i,0,null,n,a.aa)}else a.P?(i||e.presentationTimeline.tb(a.P),e=ui(e,a)):(i=t=null,e.Z.id&&e.w.id&&(i=e.Z.id+","+e.w.id,t=n[i]),o=li(e,a),t?(t.Lb(o),n=e.presentationTimeline.Ha(),t.Bb(n-e.N.start)):(e.presentationTimeline.Wa(o,0==e.N.index),t=new Vn(o),i&&e.Da&&(n[i]=t)),e.Da&&e.N.Hb||Hn(t,e.N.duration),e={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t)});return{createSegmentIndex:e.createSegmentIndex,findSegmentPosition:e.findSegmentPosition,getSegmentReference:e.getSegmentReference,initSegmentReference:r,aa:a.aa}}function si(e){return e.ab}function ui(e,t){var n=e.N.duration,i=t.P,r=t.xa,a=t.timescale,o=t.Kb,s=e.bandwidth||null,u=e.w.id,l=e.w.ba;return{createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0>e||n&&e>=n?null:Math.floor(e/i)},getSegmentReference:function(e){var t=e*i,c=t+i;return n&&(c=Math.min(c,n)),0>c||n&&t>=n?null:new In(e,t,c,function(){var n=Tn(o,u,e+r,s,t*a);return fe(l,[n])},0,null)}}}function li(e,t){for(var n=[],i=0;i<t.I.length;i++){var r=i+t.xa;n.push(new In(r,t.I[i].start,t.I[i].end,function(e,t,n,i,r,a){return e=Tn(e,t,r,n,a),fe(i,[e]).map(function(e){return e.toString()})}.bind(null,t.Kb,e.w.id,e.bandwidth||null,e.w.ba,r,t.I[i].Qe+t.bc),0,null))}return n}function ci(e){var t=Sn(e,si,"initialization");if(!t)return null;var n=e.w.id,i=e.bandwidth||null,r=e.w.ba;return new Rn(function(){var e=Tn(t,n,null,i,null);return fe(r,[e])},0,null)}function fi(){var e,t={};for(e in zu)t[e]=!0;for(var n in qu)t[n]=!0;return["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"].forEach(function(e){t[e]=!!zu[e]}),["mpd","m3u8","ism"].forEach(function(e){t[e]=!!qu[e]}),t}function di(e,t,n,i){var r=i;return r||(i=new v(e).Y.split("/").pop().split("."),1<i.length&&(i=i.pop().toLowerCase(),r=qu[i])),r?Promise.resolve(r):(n=q([e],n),n.method="HEAD",t.request(0,n).promise.then(function(t){return(t=t.headers["content-type"])&&(t=t.toLowerCase()),(r=zu[t])?r:Promise.reject(new g(2,4,4e3,e))},function(e){return e.severity=2,Promise.reject(e)}))}function pi(e,t){this.c=e,this.l=t,this.f=this.a=1/0,this.b=1,this.j=this.g=0,this.i=!0,this.h=0}function hi(){this.a=this.b=null,this.h=[],this.c=null,this.j=[],this.i=1,this.l={},this.m=0,this.g=null,this.f=new K}function yi(e){var t=e.a.networkingEngine.request(0,q(e.h,e.b.retryParameters));return W(e.f,t),t.promise.then(function(t){if(e.a)return gi(e,t.data,t.uri)})}function gi(e,t,n){if(!(t=On(t,"MPD")))throw new g(2,4,4001,n);return t=Ln(t,e.b.retryParameters,e.b.dash.xlinkFailGracefully,n,e.a.networkingEngine),W(e.f,t),t.promise.then(function(t){return vi(e,t,n)})}function vi(e,t,n){n=[n];var i=cn(t,"Location").map(fn).filter(le);0<i.length&&(n=e.h=i),i=cn(t,"BaseURL").map(fn),n=fe(n,i);var r=dn(t,"minBufferTime",hn);e.m=dn(t,"minimumUpdatePeriod",hn,-1);var a=dn(t,"availabilityStartTime",pn);i=dn(t,"timeShiftBufferDepth",hn);var o=dn(t,"suggestedPresentationDelay",hn),s=dn(t,"maxSegmentDuration",hn),u=t.getAttribute("type")||"static";if(e.c)var l=e.c.presentationTimeline;else{var c=Math.max(e.b.dash.defaultPresentationDelay,1.5*r);l=new pi(a,null!=o?o:c)}a=mi(e,{Da:"static"!=u,presentationTimeline:l,Z:null,N:null,T:null,w:null,bandwidth:0,mc:!1},n,t),o=a.duration;var f=a.periods;return l.vb("static"==u),"static"!=u&&a.gc||l.fa(o||1/0),l.Xb(null!=i?i:1/0),l.tb(s||1),e.c?Promise.resolve():(t=cn(t,"UTCTiming"),i=l.O(),Pi(e,n,t,i).then(function(e){this.a&&(l.Lc(e),this.c={presentationTimeline:l,periods:f,offlineSessionIds:[],minBufferTime:r||0})}.bind(e)))}function mi(e,t,n,i){var r=dn(i,"mediaPresentationDuration",hn),a=[],o=0;i=cn(i,"Period");for(var s=0;s<i.length;s++){var u=i[s];o=dn(u,"start",hn,o);var l=dn(u,"duration",hn),c=null;if(s!=i.length-1){var f=dn(i[s+1],"start",hn);null!=f&&(c=f-o)}else null!=r&&(c=r-o);if(null==c&&(c=l),u=bi(e,t,n,{start:o,duration:c,node:u,index:s,Hb:null==c||s==i.length-1}),a.push(u),l=t.Z.id,-1==e.j.indexOf(l)&&(e.j.push(l),e.c&&(e.a.filterNewPeriod(u),e.c.periods.push(u))),null==c){o=null;break}o+=c}return null==e.c&&e.a.filterAllPeriods(a),null!=r?{periods:a,duration:r,gc:!1}:{periods:a,duration:o,gc:!0}}function bi(e,t,n,i){t.Z=ki(i.node,null,n),t.N=i,t.Z.id||(t.Z.id="__shaka_period_"+i.start),cn(i.node,"EventStream").forEach(e.be.bind(e,i.start,i.duration)),n=cn(i.node,"AdaptationSet").map(e.$d.bind(e,t)).filter(le);var r=n.map(function(e){return e.ne}).reduce(se,[]),a=r.filter(ce);if(t.Da&&r.length!=a.length)throw new g(2,4,4018);var o=n.filter(function(e){return!e.ac});if(n.filter(function(e){return e.ac}).forEach(function(e){var t=e.streams[0],n=e.ac;o.forEach(function(e){e.id==n&&e.streams.forEach(function(e){e.trickModeVideo=t})})}),n=_i(o,"video"),r=_i(o,"audio"),!n.length&&!r.length)throw new g(2,4,4004);for(r.length||(r=[null]),n.length||(n=[null]),t=[],a=0;a<r.length;a++)for(var s=0;s<n.length;s++)Ei(e,r[a],n[s],t);for(e=_i(o,"text"),n=[],r=0;r<e.length;r++)n.push.apply(n,e[r].streams);return{startTime:i.start,textStreams:n,variants:t}}function _i(e,t){return e.filter(function(e){return e.contentType==t})}function Ei(e,t,n,i){if(t||n)if(t&&n){var r=t.drmInfos,a=n.drmInfos;if(r.length&&a.length?0<Xe(r,a).length:1){a=Xe(t.drmInfos,n.drmInfos);for(var o=0;o<t.streams.length;o++)for(var s=0;s<n.streams.length;s++)r=(n.streams[s].bandwidth||0)+(t.streams[o].bandwidth||0),r={id:e.i++,language:t.language,primary:t.Jb||n.Jb,audio:t.streams[o],video:n.streams[s],bandwidth:r,drmInfos:a,allowedByApplication:!0,allowedByKeySystem:!0},i.push(r)}}else for(a=t||n,o=0;o<a.streams.length;o++)r=a.streams[o].bandwidth||0,r={id:e.i++,language:a.language||"und",primary:a.Jb,audio:t?a.streams[o]:null,video:n?a.streams[o]:null,bandwidth:r,drmInfos:a.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0},i.push(r)}function Ai(t,n){0>t.m||(t.g=e.setTimeout(t.Je.bind(t),1e3*Math.max(Math.max(3,t.m)-n,0)))}function ki(e,t,n){t=t||{contentType:"",mimeType:"",codecs:"",containsEmsgBoxes:!1,frameRate:void 0,Nb:null},n=n||t.ba;var i=cn(e,"BaseURL").map(fn),r=e.getAttribute("contentType")||t.contentType,a=e.getAttribute("mimeType")||t.mimeType,o=e.getAttribute("codecs")||t.codecs,s=dn(e,"frameRate",bn)||t.frameRate,u=!!cn(e,"InbandEventStream").length,l=cn(e,"AudioChannelConfiguration");return l=Ti(l)||t.Nb,r||(r=Oi(a,o)),{ba:fe(n,i),Za:ln(e,"SegmentBase")||t.Za,na:ln(e,"SegmentList")||t.na,ab:ln(e,"SegmentTemplate")||t.ab,width:dn(e,"width",mn)||t.width,height:dn(e,"height",mn)||t.height,contentType:r,mimeType:a,codecs:o,frameRate:s,containsEmsgBoxes:u||t.containsEmsgBoxes,id:e.getAttribute("id"),Nb:l}}function Ti(e){for(var t=0;t<e.length;++t){var n=e[t],i=n.getAttribute("schemeIdUri");if(i&&(n=n.getAttribute("value")))switch(i){case"urn:mpeg:dash:outputChannelPositionList:2012":return n.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(i=parseInt(n,10)))continue;return i;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(i=parseInt(n,16)){for(e=0;i;)1&i&&++e,i>>=1;return e}}}return null}function wi(e){var t=0+(e.Za?1:0);return t+=e.na?1:0,0==(t+=e.ab?1:0)?"text"==e.contentType||"application"==e.contentType:(1!=t&&(e.Za&&(e.na=null),e.ab=null),!0)}function Si(e,t,n,i){return t=fe(t,[n]),t=q(t,e.b.retryParameters),t.method=i,t=e.a.networkingEngine.request(0,t),W(e.f,t),t.promise.then(function(e){if("HEAD"==i){if(!e.headers||!e.headers.date)return 0;e=e.headers.date}else e=me(e.data);return e=Date.parse(e),isNaN(e)?0:e-Date.now()})}function Pi(e,t,n,i){n=n.map(function(e){return{scheme:e.getAttribute("schemeIdUri"),value:e.getAttribute("value")}});var r=e.b.dash.clockSyncUri;return i&&!n.length&&r&&n.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:r}),oe(n,function(e){var n=e.value;switch(e.scheme){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return Si(this,t,n,"HEAD");case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return Si(this,t,n,"GET");case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return e=Date.parse(n),isNaN(e)?0:e-Date.now();case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:return Promise.reject()}}.bind(e)).catch(function(){return 0})}function Oi(e,t){return Su[ve(e,t)]?"text":e.split("/")[0]}function Ci(e,t,n,i){this.uri=e,this.type=t,this.a=n,this.segments=i||null}function Li(e,t,n,i){this.id=e,this.name=t,this.a=n,this.value=i||null}function Ri(e,t){this.name=e,this.value=t}function Ii(e,t,n){return n=n||null,(e=e.getAttribute(t))?e.value:n}function xi(e,t){this.a=t,this.uri=e}function Di(e,t){return e.filter(function(e){return e.name==t})}function Mi(e,t){var n=Di(e,t);return n.length?n[0]:null}function Ni(e,t,n){return e.filter(function(e){var i=e.getAttribute("TYPE");return e=e.getAttribute("GROUP-ID"),i.value==t&&e.value==n})}function Ui(e,t){return fe([e],[t])[0]}function Bi(e){this.b=e,this.a=0}function ji(e){Fi(e,/[ \t]+/gm)}function Fi(e,t){t.lastIndex=e.a;var n=t.exec(e.b);return n=null==n?null:{position:n.index,length:n[0].length,qe:n},e.a==e.b.length||null==n||n.position!=e.a?null:(e.a+=n.length,n.qe)}function Gi(e){return e.a==e.b.length?null:(e=Fi(e,/[^ \t\n]*/gm))?e[0]:null}function Vi(){this.a=0}function Hi(e,t,n){t=me(t),t=t.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim();var i=t.split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(i[0]))throw new g(2,4,4015);t=0;for(var r=[],a=1;a<i.length;)if(/^#(?!EXT)/m.test(i[a]))a+=1;else{var o=i[a];if(o=Wi(e.a++,o),0<=Xu.indexOf(o.name))t=1;else if(0<=Ju.indexOf(o.name)){if(1!=t)throw new g(2,4,4017);return i=i.splice(a,i.length-a),e=Ki(e,i,r),new Ci(n,t,r,e)}r.push(o),a+=1,"EXT-X-STREAM-INF"==o.name&&(o.a.push(new Ri("URI",i[a])),a+=1)}return new Ci(n,t,r)}function Ki(e,t,n){var i=[],r=[];return t.forEach(function(e){if(/^(#EXT)/.test(e))e=Wi(this.a++,e),0<=Xu.indexOf(e.name)?n.push(e):r.push(e);else{if(/^#(?!EXT)/m.test(e))return[];i.push(new xi(e.trim(),r)),r=[]}}.bind(e)),i}function Wi(e,t){var n=t.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new g(2,4,4016);var i=n[1],r=n[2];if(n=[],r&&0<=r.indexOf("=")){r=new Bi(r);for(var a,o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=Fi(r,o);)n.push(new Ri(a[1],a[2]||a[3]))}else if(r)return new Li(e,i,n,r);return new Li(e,i,n)}function Yi(e){try{var t=Yi.parse(e);return x({uri:e,data:t.data,headers:{"content-type":t.contentType}})}catch(e){return R(e)}}function zi(){this.h=this.c=null,this.L=1,this.v={},this.H={},this.S={},this.a={},this.b=null,this.l="",this.u=new Vi,this.j=this.i=null,this.f=el,this.m=null,this.g=0,this.A=1/0,this.o=new K}function qi(e,t,n){vr(e,n).then(function(e){var i=tl,r=Hi(this.u,e.data,n);if(1!=r.type)throw new g(2,4,4017);e=Mi(r.a,"EXT-X-MEDIA-SEQUENCE");var a=t.stream;ur(this,r,e?Number(e.value):0,a.mimeType,a.codecs).then(function(e){t.$a.a=e,e=e[e.length-1],Mi(r.a,"EXT-X-ENDLIST")&&(br(this,i.la),this.b.fa(e.endTime))}.bind(this))}.bind(e))}function Xi(e,t,n){if(t=Hi(e.u,t,n),0!=t.type)throw new g(2,4,4022);return Ji(e,t).then(function(e){this.c.filterAllPeriods([e]);var t=1/0,n=0,i=0,r=1/0;for(o in this.a){var a=this.a[o];t=Math.min(t,a.Mb),n=Math.max(n,a.Mb),i=Math.max(i,a.xd),"text"!=a.stream.type&&(r=Math.min(r,a.duration))}var o=null;if(a=0,this.f!=tl.la&&(o=Date.now()/1e3-i,a=3*this.g),this.b=new pi(o,a),this.b.vb(this.f==tl.la),this.b.tb(this.g),this.f!=tl.la){for(t=3*this.g,this.b.Mc(t),this.i=this.A,this.f==tl.cc&&this.b.Xb(t),t=0;95443.7176888889<=n;)t+=95443.7176888889,n-=95443.7176888889;if(t)for(var s in this.a)n=this.a[s],95443.7176888889>n.Mb&&(n.stream.presentationTimeOffset=-t,n.$a.offset(t))}else{this.b.fa(r);for(var u in this.a)s=this.a[u],s.stream.presentationTimeOffset=t,s.$a.offset(-t),Hn(s.$a,r)}this.m={presentationTimeline:this.b,periods:[e],offlineSessionIds:[],minBufferTime:0}}.bind(e))}function Ji(e,t){var n=t.a,i=Di(t.a,"EXT-X-MEDIA").filter(function(e){return"SUBTITLES"==yr(e,"TYPE")}.bind(e)).map(function(e){return tr(this,e)}.bind(e));return Promise.all(i).then(function(e){var i=Di(n,"EXT-X-STREAM-INF").map(function(e){return Qi(this,e,t)}.bind(this));return Promise.all(i).then(function(t){return{startTime:0,variants:t.reduce(se,[]),textStreams:e}}.bind(this))}.bind(e))}function Qi(e,t,n){var i=Ii(t,"CODECS","avc1.42E01E,mp4a.40.2").split(","),r=t.getAttribute("RESOLUTION"),a=null,o=null,s=Ii(t,"FRAME-RATE"),u=Number(yr(t,"BANDWIDTH"));if(r){var l=r.value.split("x");a=l[0],o=l[1]}n=Di(n.a,"EXT-X-MEDIA");var c=Ii(t,"AUDIO"),f=Ii(t,"VIDEO");if(c?n=Ni(n,"AUDIO",c):f&&(n=Ni(n,"VIDEO",f)),l=pr("text",i)){var d=Ii(t,"SUBTITLES");d&&(d=Ni(n,"SUBTITLES",d),d.length&&(e.v[d[0].id].stream.codecs=l)),i.splice(i.indexOf(l),1)}n=n.map(function(e){return nr(this,e,i)}.bind(e));var p=[],h=[];return Promise.all(n).then(function(e){if(c?p=e:f&&(h=e),e=!1,p.length||h.length)if(p.length)if(yr(t,"URI")==p[0].Ub){var n="audio";e=!0}else n="video";else n="audio";else 1==i.length?(n=pr("video",i),n=r||s||n?"video":"audio"):(n="video",i=[i.join(",")]);return e?Promise.resolve():rr(this,t,i,n)}.bind(e)).then(function(e){return e&&("audio"==e.stream.type?p=[e]:h=[e]),h&&$i(h),p&&$i(p),Zi(this,p,h,u,a,o,s)}.bind(e))}function $i(e){e.forEach(function(e){var t=e.stream.codecs.split(",");t=t.filter(function(e){return"mp4a.40.34"!=e}),e.stream.codecs=t.join(",")})}function Zi(e,t,n,i,r,a,o){n.forEach(function(e){(e=e.stream)&&(e.width=Number(r)||void 0,e.height=Number(a)||void 0,e.frameRate=Number(o)||void 0)}.bind(e)),t.length||(t=[null]),n.length||(n=[null]);for(var s=[],u=0;u<t.length;u++)for(var l=0;l<n.length;l++){var c=t[u]?t[u].stream:null,f=n[l]?n[l].stream:null,d=t[u]?t[u].drmInfos:null,p=n[l]?n[l].drmInfos:null,h=void 0;if(c&&f){if(!(d.length&&p.length?0<Xe(d,p).length:1))continue;h=Xe(d,p)}else c?h=d:f&&(h=p);d=(n[u]?n[u].Ub:"")+" - "+(t[u]?t[u].Ub:""),e.H[d]||(c=er(e,c,f,i,h),s.push(c),e.H[d]=c)}return s}function er(e,t,n,i,r){return{id:e.L++,language:t?t.language:"und",primary:!!t&&t.primary||!!n&&n.primary,audio:t,video:n,bandwidth:i,drmInfos:r,allowedByApplication:!0,allowedByKeySystem:!0}}function tr(e,t){return yr(t,"TYPE"),nr(e,t,[]).then(function(e){return e.stream})}function nr(e,t,n){var i=yr(t,"URI");if(i=Ui(e.l,i),e.a[i])return Promise.resolve(e.a[i]);var r=yr(t,"TYPE").toLowerCase();"subtitles"==r&&(r="text");var a=_t(Ii(t,"LANGUAGE","und")),o=Ii(t,"NAME"),s=t.getAttribute("DEFAULT"),u=t.getAttribute("AUTOSELECT"),l=Ii(t,"CHANNELS");return ar(e,i,n,r,a,!!s||!!u,o,"audio"==r?ir(l):null).then(function(e){return this.a[i]?this.a[i]:(this.v[t.id]=e,this.a[i]=e)}.bind(e))}function ir(e){return e?(e=e.split("/")[0],parseInt(e,10)):null}function rr(e,t,n,i){var r=yr(t,"URI");return r=Ui(e.l,r),e.a[r]?Promise.resolve(e.a[r]):ar(e,r,n,i,"und",!1,null,null).then(function(e){return this.a[r]?this.a[r]:this.a[r]=e}.bind(e))}function ar(e,t,n,i,r,a,o,s){var u=t;t=Ui(e.l,t);var l,c,f="";return vr(e,t).then(function(e){if(l=Hi(this.u,e.data,t),1!=l.type)throw new g(2,4,4017);e=l;var r=tl,a=Mi(e.a,"EXT-X-PLAYLIST-TYPE"),o=Mi(e.a,"EXT-X-ENDLIST");if(o=a&&"VOD"==a.value||o,a=a&&"EVENT"==a.value&&!o,a=!o&&!a,o?br(this,r.la):(a?br(this,r.cc):br(this,r.Sc),e=gr(e.a,"EXT-X-TARGETDURATION"),e=Number(e.value),this.g=Math.max(e,this.g),this.A=Math.min(e,this.A)),1==n.length)f=n[0];else{if(null==(e=pr(i,n)))throw new g(2,4,4025,n);f=e}return hr(this,i,f,l)}.bind(e)).then(function(e){return c=e,e=Mi(l.a,"EXT-X-MEDIA-SEQUENCE"),ur(this,l,e?Number(e.value):0,c,f)}.bind(e)).then(function(e){var t=e[0].startTime,n=e[e.length-1].endTime,d=n-t;e=new Vn(e);var p=or(l),h=void 0;"text"==i&&(h="subtitle");var y=[];l.segments.forEach(function(e){e=Di(e.a,"EXT-X-KEY"),y.push.apply(y,e)});var v=!1,m=[],b=null;if(y.forEach(function(e){if("NONE"!=yr(e,"METHOD")){v=!0;var t=yr(e,"KEYFORMAT");(e=(t=Zu[t])?t(e):null)&&(e.keyIds.length&&(b=e.keyIds[0]),m.push(e))}}),v&&!m.length)throw new g(2,4,4026);return p={id:this.L++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:e.find.bind(e),getSegmentReference:e.get.bind(e),initSegmentReference:p,presentationTimeOffset:0,mimeType:c,codecs:f,kind:h,encrypted:v,keyId:b,language:r,label:o||null,type:i,primary:a,trickModeVideo:null,containsEmsgBoxes:!1,frameRate:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:[],channelsCount:s},this.S[p.id]=e,{stream:p,$a:e,drmInfos:m,Ub:u,Mb:t,xd:n,duration:d}}.bind(e))}function or(e){var t=Di(e.a,"EXT-X-MAP");if(!t.length)return null;if(1<t.length)throw new g(2,4,4020);t=t[0];var n=yr(t,"URI"),i=Ui(e.uri,n);return e=0,n=null,(t=Ii(t,"BYTERANGE"))&&(e=t.split("@"),t=Number(e[0]),e=Number(e[1]),n=e+t-1),new Rn(function(){return[i]},e,n)}function sr(e,t,n,i,r){var a=n.a,o=Ui(e.uri,n.uri);e=gr(a,"EXTINF").value.split(","),e=r+Number(e[0]),n=0;var s=null;return(a=Mi(a,"EXT-X-BYTERANGE"))&&(n=a.value.split("@"),a=Number(n[0]),n=n[1]?Number(n[1]):t.C+1,s=n+a-1),new In(i,r,e,function(){return[o]},n,s)}function ur(e,t,n,i,r){var a=t.segments,o=[],s=Ui(t.uri,a[0].uri),u=sr(t,null,a[0],n,0),l=or(t);return cr(e,t.uri,l,u,i,r).then(function(e){s.split("/").pop();for(var i=0;i<a.length;++i){var r=o[o.length-1];r=sr(t,r,a[i],n+i,0==i?e:r.endTime),o.push(r)}return o}.bind(e))}function lr(e,t){var n=e.c.networkingEngine,i=q(t.W(),e.h.retryParameters),r={},a=t.K;r.Range="bytes="+a+"-"+(a+2048-1);var o={};return 0==a&&null==t.C||(a="bytes="+a+"-",null!=t.C&&(a+=t.C),o.Range=a),i.headers=r,r=n.request(1,i),W(e.o,r),r.promise.catch(function(){return h("Unable to fetch a partial HLS segment! Falling back to a full segment request, which is expensive!  Your server should support Range requests and CORS preflights.",i.uris[0]),i.headers=o,n.request(1,i)})}function cr(e,t,n,i,r,a){return e.m&&(t=e.a[t].$a.get(i.position))?Promise.resolve(t.startTime):(i=[lr(e,i)],"video/mp4"!=r&&"audio/mp4"!=r||(n?i.push(lr(e,n)):i.push(i[0])),Promise.all(i).then(function(e){if("video/mp4"==r||"audio/mp4"==r)return fr(e[0].data,e[1].data);if("audio/mpeg"==r)return 0;if("video/mp2t"==r)return dr(e[0].data);if("application/mp4"==r||0==r.indexOf("text/")){e=e[0].data;var t=ve(r,a);if(Su[t]){var n=new ot(null);n.f=new Su[t],e=n.Gb(e)}else e=0;return e}throw new g(2,4,4030)}.bind(e)))}function fr(e,t){var n=0;if((new Mn).B("moov",Nn).B("trak",Nn).B("mdia",Nn).V("mdhd",function(e){e.s.F(0==e.version?8:16),n=e.s.D(),e.ia.stop()}).parse(t,!0),!n)throw new g(2,4,4030);var i=0,r=!1;if((new Mn).B("moof",Nn).B("traf",Nn).V("tfdt",function(e){i=(0==e.version?e.s.D():e.s.Oa())/n,r=!0,e.ia.stop()}).parse(e,!0),!r)throw new g(2,4,4030);return i}function dr(e){function t(){throw new g(2,4,4030)}e=new xn(new DataView(e),0);for(var n=0,i=0;;){if(n=e.U(),i=e.$(),71!=i&&t(),16384&e.Ya()||t(),i=(48&e.$())>>4,0!=i&&2!=i||t(),3==i&&(i=e.$(),e.F(i)),1==e.D()>>8)return e.F(3),n=e.$()>>6,0!=n&&1!=n||t(),0==e.$()&&t(),n=e.$(),i=e.Ya(),e=e.Ya(),(1073741824*((14&n)>>1)+((65534&i)<<14|(65534&e)>>1))/9e4;e.seek(n+188),i=e.$(),71!=i&&(e.seek(n+192),i=e.$()),71!=i&&(e.seek(n+204),i=e.$()),71!=i&&t(),e.Hc(1)}}function pr(e,t){for(var n=Qu[e],i=0;i<n.length;i++)for(var r=0;r<t.length;r++)if(n[i].test(t[r].trim()))return t[r].trim();return"text"==e?"":null}function hr(e,t,n,i){i=Ui(i.uri,i.segments[0].uri);var r=new v(i).Y.split(".").pop(),a=$u[t][r];return a?Promise.resolve(a):"text"==t?n&&"vtt"!=n?Promise.resolve("application/mp4"):Promise.resolve("text/vtt"):(t=q([i],e.h.retryParameters),t.method="HEAD",t=e.c.networkingEngine.request(1,t),W(e.o,t),t.promise.then(function(e){if(!(e=e.headers["content-type"]))throw new g(2,4,4021,r);return e.split(";")[0]}))}function yr(e,t){var n=e.getAttribute(t);if(!n)throw new g(2,4,4023,t);return n.value}function gr(e,t){var n=Mi(e,t);if(!n)throw new g(2,4,4024,t);return n}function vr(e,t){var n=e.c.networkingEngine.request(0,q([t],e.h.retryParameters));return W(e.o,n),n.promise}function mr(t,n){null!=t.i&&null!=n&&(t.j=e.setTimeout(t.M.bind(t),1e3*n))}function br(t,n){t.f=n,t.b&&t.b.vb(t.f==tl.la),t.f==tl.la&&null!=t.j&&(e.clearTimeout(t.j),t.j=null,t.i=null)}function _r(e,t,n,i){this.a=e,this.u=t,this.o=n,this.v=i,this.h=new ee,this.b=null,this.g=!1,this.m=e.readyState,this.c=!1,this.j=this.A=-1,this.f=this.i=!1,t=this.l.bind(this),te(this.h,e,"waiting",t),this.b=new ke(t),we(this.b,.25)}function Er(e,t,n){var i=this;this.a=e,this.j=t,this.i=n,this.b=new ee,this.g=1,this.h=!1,this.c=null,this.f=new ke(this.Ad.bind(this)),0<e.readyState?this.vc():(ne(this.b,e,"loadedmetadata",this.vc.bind(this)),te(this.b,e,"timeupdate",function(){Te(i.f,.1)})),te(this.b,e,"ratechange",this.Od.bind(this))}function Ar(e){return 0<e.a.readyState?e.a.currentTime:e.i}function kr(e,t){0<e.a.readyState?wr(e,e.a.currentTime,t):(e.i=t,setTimeout(e.j,0))}function Tr(e,t){null!=e.c&&(e.c.cancel(),e.c=null),e.g=t,e.a.playbackRate=e.h||0>t?0:t,!e.h&&0>t&&(e.c=new ke(function(){e.a.currentTime+=t/4}),we(e.c,.25))}function wr(e,t,n){function i(){!e.a||10<=r++||e.a.currentTime!=t||(e.a.currentTime=n,setTimeout(i,100))}e.a.currentTime=n;var r=0;setTimeout(i,100)}function Sr(e,t,n,i,r,a){this.b=e,this.c=t,this.h=n,this.i=r,this.f=null,this.g=new _r(e,t,n,a),t=this.Qd.bind(this),null==i&&(i=this.c.presentationTimeline,i=1/0>i.R()?i.Ta():i.Fa()),i=Or(this,Lr(this,i)),this.a=new Er(e,t,i),this.f=new ke(this.Nd.bind(this)),we(this.f,.25)}function Pr(e){var t=Ar(e.a);return 0<e.b.readyState&&(e.b.paused||(t=Lr(e,t))),t}function Or(e,t){var n=e.c.presentationTimeline.R();return t>=n?n-e.h.durationBackoff:t}function Cr(e,t){var n=Qe.bind(null,e.b.buffered),i=1*Math.max(e.c.minBufferTime||0,e.h.rebufferingGoal),r=e.c.presentationTimeline,a=r.Ea(0),o=r.Fa(),s=r.R(),u=r.Ea(i),l=r.Ea(5);return i=r.Ea(i+5),t>=s?Or(e,t):t>o?o:t<a?n(l)?l:i:t>=u||n(t)?t:i}function Lr(e,t){var n=e.c.presentationTimeline.Ta();return t<n?n:(n=e.c.presentationTimeline.Fa(),t>n?n:t)}function Rr(e,t,n,i,r,a,o){this.a=e,this.v=t,this.g=n,this.u=i,this.l=r,this.h=a,this.A=o,this.c=[],this.j=new ee,this.b=!1,this.i=-1,this.f=null,xr(this)}function Ir(e){var t=H(e);return t.eventElement=e.eventElement,t}function xr(t){Dr(t),t.f=e.setTimeout(t.H.bind(t),250)}function Dr(t){t.f&&(e.clearTimeout(t.f),t.f=null)}function Mr(e,t){this.a=t,this.b=e,this.h=null,this.i=1,this.m=Promise.resolve(),this.g=[],this.j={},this.c={},this.o=!1,this.A=null,this.v=this.f=this.l=!1,this.u=0}function Nr(e){var t=Pr(e.a.La);return e.b.periods[Ft(e.b,t)]}function Ur(e){var t=e.c.video||e.c.audio;return t?e.b.periods[t.va]:null}function Br(e){return Fr(e,"audio")}function jr(e){return Fr(e,"video")}function Fr(e,t){var n=e.c[t];return n?n.ma||n.stream:null}function Gr(e,t){ht(e.a.J,"text"),e.u++,e.v=!1;var n=e.u;return e.a.J.init({text:t}).then(function(){return Qr(e,[t])}).then(function(){if(!e.f&&e.u==n&&!e.c.text&&!e.v){var i=Pr(e.a.La);e.c.text=Xr(t,Ft(e.b,i)),ca(e,e.c.text,0)}})}function Vr(e){e.v=!0,e.c.text&&(fa(e.c.text),delete e.c.text)}function Hr(e,t){var n=e.c.video;if(n){var i=n.stream;if(i)if(t){var r=i.trickModeVideo;r&&!n.ma&&(Wr(e,r,!1),n.ma=i)}else(i=n.ma)&&(n.ma=null,Wr(e,i,!0))}}function Kr(e,t,n){t.video&&Wr(e,t.video,n),t.audio&&Wr(e,t.audio,n)}function Wr(e,t,n){var i=e.c[t.type];if(!i&&"text"==t.type&&e.h.ignoreTextStreamFailures)Gr(e,t);else if(i){var r=Gt(e.b,t);n&&r!=i.va?zr(e):(i.ma&&(t.trickModeVideo?(i.ma=t,t=t.trickModeVideo):i.ma=null),(r=e.g[r])&&r.Pa&&(r=e.j[t.id])&&r.Pa&&i.stream!=t&&("text"==t.type&&ct(e.a.J,ve(t.mimeType,t.codecs)),i.stream=t,i.rb=!0,n&&(i.ra?i.xb=!0:i.wa?(i.qa=!0,i.xb=!0):(fa(i),la(e,i,!0)))))}}function Yr(e){var t=Pr(e.a.La);Object.keys(e.c).every(function(e){var n=this.a.J;return"text"==e?(e=n.a,e=t>=e.a&&t<e.b):(e=dt(n,e),e=Qe(e,t)),e}.bind(e))||zr(e)}function zr(e){for(var t in e.c){var n=e.c[t];n.ra||n.qa||(n.wa?n.qa=!0:null==ft(e.a.J,t)?null==n.pa&&ca(e,n,0):(fa(n),la(e,n,!1)))}}function qr(e,t,n){var i=Pr(e.a.La),r=Ft(e.b,i),a={},o=[];return t.variant&&t.variant.audio&&(a.audio=t.variant.audio,o.push(t.variant.audio)),t.variant&&t.variant.video&&(a.video=t.variant.video,o.push(t.variant.video)),t.text&&(a.text=t.text,o.push(t.text)),e.a.J.init(a).then(function(){if(!e.f){var t=e.b.presentationTimeline.R();return 1/0>t?e.a.J.fa(t):e.a.J.fa(Math.pow(2,32)),Qr(e,o)}}).then(function(){if(!e.f)for(var t in a){var i=a[t];e.c[t]||(e.c[t]=Xr(i,r,n),ca(e,e.c[t],0))}})}function Xr(e,t,n){return{stream:e,type:e.type,Ia:null,ha:null,ma:null,rb:!0,va:t,endOfStream:!1,wa:!1,pa:null,qa:!1,xb:!1,ra:!1,Tb:!1,Ua:!1,Fc:n||0}}function Jr(e,t){var n=e.g[t];if(n)return n.promise;n={promise:new S,Pa:!1},e.g[t]=n;var i=e.b.periods[t].variants.map(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),e.video&&e.video.trickModeVideo&&t.push(e.video.trickModeVideo),t}).reduce(se,[]).filter(ce);return i.push.apply(i,e.b.periods[t].textStreams),e.m=e.m.then(function(){if(!this.f)return Qr(this,i)}.bind(e)).then(function(){this.f||(this.g[t].promise.resolve(),this.g[t].Pa=!0)}.bind(e)).catch(function(e){this.f||(this.g[t].promise.reject(),delete this.g[t],this.a.onError(e))}.bind(e)),n.promise}function Qr(e,t){t.map(function(e){return e.id}).filter(ce);for(var n=[],i=0;i<t.length;++i){var r=t[i],a=e.j[r.id];a?n.push(a.promise):(e.j[r.id]={promise:new S,Pa:!1},n.push(r.createSegmentIndex()))}return Promise.all(n).then(function(){if(!this.f)for(var e=0;e<t.length;++e){var n=this.j[t[e].id];n.Pa||(n.promise.resolve(),n.Pa=!0)}}.bind(e)).catch(function(e){if(!this.f){for(var n=0;n<t.length;n++)this.j[t[n].id].promise.reject(),delete this.j[t[n].id];return Promise.reject(e)}}.bind(e))}function $r(e,t){var n=Pr(e.a.La),i=t.Ia&&t.ha?e.b.periods[Gt(e.b,t.Ia)].startTime+t.ha.endTime:Math.max(n,t.Fc),r=Gt(e.b,t.stream),a=Ft(e.b,i),o=e.a.J,s=t.type;return"text"==s?(o=o.a,o=null==o.b||o.b<n?0:o.b-Math.max(n,o.a)):(o=dt(o,s),o=$e(o,n)),s=Math.max(e.i*Math.max(e.b.minBufferTime||0,e.h.rebufferingGoal),e.i*e.h.bufferingGoal),i>=e.b.presentationTimeline.R()?(t.endOfStream=!0,null):(t.endOfStream=!1,t.va=a,a!=r?null:o>=s?.5:(i=e.a.J,a=t.type,i="text"==a?i.a.b:Je(dt(i,a)),t.ha&&t.stream==t.Ia?i=Zr(e,t,r,t.ha.position+1):(a=t.ha?t.stream.findSegmentPosition(Math.max(0,e.b.periods[Gt(e.b,t.Ia)].startTime+t.ha.endTime-e.b.periods[r].startTime)):t.stream.findSegmentPosition(Math.max(0,(i||n)-e.b.periods[r].startTime)),null==a?i=null:(o=null,null==i&&(o=Zr(e,t,r,Math.max(0,a-1))),i=o||Zr(e,t,r,a))),i?(t.Fc=0,ea(e,t,n,r,i),null):1))}function Zr(e,t,n,i){return n=e.b.periods[n],(t=t.stream.getSegmentReference(i))?(i=e.b.presentationTimeline,e=i.Ha(),i=i.Ga(),n.startTime+t.endTime<e||n.startTime+t.startTime>i?null:t):null}function ea(e,t,n,i,r){var a=e.b.periods[i],o=t.stream,s=e.b.presentationTimeline.R(),u=e.b.periods[i+1];i=na(e,t,i,Math.max(0,a.startTime-.1),u?u.startTime:s),t.wa=!0,t.rb=!1,s=ua(e,r),Promise.all([i,s]).then(function(e){if(!this.f&&!this.l)return ia(this,t,n,a,o,r,e[1])}.bind(e)).then(function(){this.f||this.l||(t.wa=!1,t.Tb=!1,t.qa||this.a.Xa(),ca(this,t,0),aa(this,o))}.bind(e)).catch(function(e){this.f||this.l||(t.wa=!1,"text"==t.type&&this.h.ignoreTextStreamFailures?delete this.c.text:3017==e.code?ta(this,t,e):(t.Ua=!0,e.severity=2,da(this,e)))}.bind(e))}function ta(e,t,n){if(!he(e.c).some(function(e){return e!=t&&e.Tb})){var i=Math.round(100*e.i);if(20<i)e.i-=.2;else{if(!(4<i))return t.Ua=!0,e.l=!0,void e.a.onError(n);e.i-=.04}t.Tb=!0}ca(e,t,4)}function na(e,t,n,i,r){return t.rb?(n=yt(e.a.J,t.type,e.b.periods[n].startTime-t.stream.presentationTimeOffset,i,r),t.stream.initSegmentReference?(e=ua(e,t.stream.initSegmentReference).then(function(e){if(!this.f)return pt(this.a.J,t.type,e,null,null)}.bind(e)).catch(function(e){return t.rb=!0,Promise.reject(e)}),Promise.all([n,e])):n):Promise.resolve()}function ia(e,t,n,i,r,a,o){return r.containsEmsgBoxes&&(new Mn).V("emsg",e.ae.bind(e,i,a)).parse(o),ra(e,t,n).then(function(){if(!this.f)return pt(this.a.J,t.type,o,a.startTime,a.endTime)}.bind(e)).then(function(){if(!this.f)return t.Ia=r,t.ha=a,Promise.resolve()}.bind(e))}function ra(e,t,n){var i=Math.max(e.h.bufferBehind,e.b.presentationTimeline.b),r=ft(e.a.J,t.type);return null==r?Promise.resolve():(n=n-r-i,0>=n?Promise.resolve():e.a.J.remove(t.type,r,r+n).then(function(){}.bind(e)))}function aa(e,t){if(!e.o&&(e.o=he(e.c).every(function(e){return"text"==e.type||!e.qa&&!e.ra&&e.ha}),e.o)){var n=Gt(e.b,t);for(e.g[n]||Jr(e,n).then(function(){this.f||this.a.oc()}.bind(e)).catch(ue),n=0;n<e.b.periods.length;++n)Jr(e,n).catch(ue);e.a.Td&&e.a.Td()}}function oa(e,t){if(t.va!=Gt(e.b,t.stream)){var n=t.va,i=he(e.c);i.every(function(e){return e.va==n})&&i.every(sa)&&Jr(e,n).then(function(){if(!this.f&&i.every(function(e){var t=Gt(this.b,e.stream);return sa(e)&&e.va==n&&t!=n}.bind(this))){var e=this.b.periods[n],t=this.a.pc(e),r={};t.variant&&t.variant.video&&(r.video=t.variant.video),t.variant&&t.variant.audio&&(r.audio=t.variant.audio),t.text&&(r.text=t.text);for(var a in this.c)if(!r[a]&&"text"!=a)return void this.a.onError(new g(2,5,5005));for(var o in r)if(!this.c[o]){if("text"!=o)return void this.a.onError(new g(2,5,5005));qr(this,{text:r.text},e.startTime),delete r[o]}for(var s in this.c)(e=r[s])?(Wr(this,e,!1),ca(this,this.c[s],0)):delete this.c[s];this.a.oc()}}.bind(e)).catch(ue)}}function sa(e){return!e.wa&&null==e.pa&&!e.qa&&!e.ra}function ua(e,t){var n=q(t.W(),e.h.retryParameters);if(0!=t.K||null!=t.C){var i="bytes="+t.K+"-";null!=t.C&&(i+=t.C),n.headers.Range=i}return e.a.sb.request(1,n).promise.then(function(e){return e.data})}function la(e,t,n){t.qa=!1,t.xb=!1,t.ra=!0,ht(e.a.J,t.type).then(function(){if(!this.f&&n){var e=this.a.J,i=t.type;return"text"==i?Promise.resolve():gt(e,i,e.ed.bind(e,i))}}.bind(e)).then(function(){this.f||(t.Ia=null,t.ha=null,t.ra=!1,t.endOfStream=!1,ca(this,t,0))}.bind(e))}function ca(t,n,i){n.pa=e.setTimeout(t.Le.bind(t,n),1e3*i)}function fa(t){null!=t.pa&&(e.clearTimeout(t.pa),t.pa=null)}function da(e,t){O(e.A).then(function(){this.f||(this.a.onError(t),t.handled||this.h.failureCallback(t))}.bind(e))}function pa(e,t,n,i,r,a){if(200<=n&&299>=n&&202!=n)return r&&(i=r),{uri:i,data:t,headers:e,fromCache:!!e["x-shaka-from-cache"]};r=null;try{r=_e(t)}catch(e){}throw new g(401==n||403==n?2:1,1,1001,i,n,r,e,a)}function ha(e,t,n){var i=new ha.b;ge(t.headers,function(e,t){i.append(e,t)});var r,a=new ha.a,o={body:t.body||void 0,headers:i,method:t.method,signal:a.signal,credentials:t.allowCrossSiteCredentials?"include":void 0},s=!1,u=!1;return t.retryParameters.timeout&&(r=setTimeout(function(){u=!0,a.abort()},t.retryParameters.timeout)),t=ha.c,o=t(e,o).then(function(t){return clearTimeout(r),t.arrayBuffer().then(function(i){var r={};return t.headers.forEach(function(e,t){r[t.trim()]=e}),pa(r,i,t.status,e,t.url,n)})}).catch(function(t){return clearTimeout(r),s?Promise.reject(new g(1,1,7001,e,n)):u?Promise.reject(new g(1,1,1003,e,n)):void 0==t.severity?Promise.reject(new g(1,1,1002,e,t,n)):Promise.reject(t)}),new L(o,function(){return s=!0,a.abort(),Promise.resolve()})}function ya(e,t,n){var i=new ya.f;return new L(new Promise(function(r,a){i.open(t.method,e,!0),i.responseType="arraybuffer",i.timeout=t.retryParameters.timeout,i.withCredentials=t.allowCrossSiteCredentials,i.onabort=function(){a(new g(1,1,7001,e,n))},i.onload=function(t){t=t.target;var i=t.getAllResponseHeaders().trim().split("\r\n").reduce(function(e,t){var n=t.split(": ");return e[n[0].toLowerCase()]=n.slice(1).join(": "),e},{});try{var o=pa(i,t.response,t.status,e,t.responseURL,n);r(o)}catch(e){a(e)}},i.onerror=function(t){a(new g(1,1,1002,e,t,n))},i.ontimeout=function(){a(new g(1,1,1003,e,n))};for(var o in t.headers)i.setRequestHeader(o.toLowerCase(),t.headers[o]);i.send(t.body)}),function(){return i.abort(),Promise.resolve()})}function ga(){this.b=null,this.a=[]}function va(){if(!e.indexedDB)return Promise.resolve();var t=e.indexedDB.deleteDatabase("shaka_offline_db"),n=new S;return t.onsuccess=function(){n.resolve()},t.onerror=Pa.bind(null,t,n),n}function ma(e,t){return Ea(e,t)}function ba(e,t,n){return Ta(e,"segment-v3",t.filter(function(e){return null!=e}),n)}function _a(e,t,n){var i;return wa(e,t,"readonly",function(e){i=e.get(n)}).then(function(){return i.result})}function Ea(e,t){return wa(e,"manifest-v3","readonly",function(e){e.openCursor().onsuccess=function(e){(e=e.target.result)&&(t(e.key,e.value),e.continue())}})}function Aa(e,t,n){return wa(e,"manifest-v3","readwrite",function(e){e.put(n,t)})}function ka(e,t,n){var i;return wa(e,t,"readwrite",function(e){e.add(n).onsuccess=function(e){i=e.target.result}}).then(function(){return i})}function Ta(e,t,n,i){return wa(e,t,"readwrite",function(e){n.forEach(function(t){e.delete(t).onsuccess=function(){i&&i(t)}})})}function wa(e,t,n,i){var r={transaction:e.b.transaction([t],n),promise:new S};return r.transaction.oncomplete=function(){e.a.splice(e.a.indexOf(r),1),r.promise.resolve()},r.transaction.onabort=function(t){e.a.splice(e.a.indexOf(r),1),Pa(r.transaction,r.promise,t)},r.transaction.onerror=La(),t=r.transaction.objectStore(t),i(t),e.a.push(r),r.promise}function Sa(e,t,n){function i(){var t=a.pop();t?r(t,i):(e.reject(new g(1,9,9010,o)),n.abort())}function r(e,t){n.objectStore(e).openCursor().onsuccess=function(e){(e=e.target.result)?(o.push(e.value.originalManifestUri),e.continue()):t()}}var a=["manifest","manifest-v2"].filter(function(e){return t.objectStoreNames.contains(e)}),o=[];i()}function Pa(e,t,n){t.reject(e.error?new g(2,9,9001,e.error):new g(2,9,7001)),n.preventDefault()}function Oa(e){function t(){return new Promise(function(e){return setTimeout(e,1e3)})}var n=e||0,i=0<n;e=Ca(i);for(var r=0;r<n;r++)e=e.then(function(e){return e||t().then(function(){return Ca(i)})});return e.then(function(e){return e||Promise.reject(new g(2,9,9001,"Failed to issue upgrade after "+n+" retries"))})}function Ca(t){var n=new S,i=!1,r=e.indexedDB.open("shaka_offline_db",3);return r.onupgradeneeded=function(e){var t=e.target.transaction,r=t.db,a={autoIncrement:!0};0==e.oldVersion?(r.createObjectStore("manifest-v3",a),r.createObjectStore("segment-v3",a)):Sa(n,r,t),i=!0},r.onsuccess=function(e){e=e.target.result,t&&!i?(e.close(),n.resolve(null)):n.resolve(e)},r.onerror=La(function(){n.reject(new g(2,9,9001,"Failed to open IndexedDB Connection",r.error.message))}),n}function La(e){return function(t){t.preventDefault(),e&&e(t)}}function Ra(e,t,n){this.b={},this.i=[],this.g=e,this.l=t,this.o=n,this.h=this.a=null,this.c=this.f=0,this.m=[],this.j=null}function Ia(e,t){e.m.push(t)}function xa(e,t,n,i,r){e.b[t]=e.b[t]||[],e.b[t].push({uris:n.uris&&0<n.uris.length?n.uris:n.W(),K:n.K,C:n.C,Ca:i||n.Ca||0,zc:r})}function Da(e,t){e.f=t.size||0,e.c=t.size||0,he(e.b).forEach(function(e){e.forEach(this.u.bind(this))}.bind(e)),e.a=t;var n=he(e.b).map(function(e){var t=0,n=function(){return this.a?t>=e.length?Promise.resolve():Ma(this,e[t++]).then(n):Promise.reject(new g(2,9,7001))}.bind(this);return n()}.bind(e));return e.b={},e.h=Promise.all(n).then(function(){return this.j?Aa(this.g,this.j,t):ka(this.g,"manifest-v3",t)}.bind(e)).then(function(e){return this.i=[],e}.bind(e)),e.h}function Ma(e,t){if("paused"==e.a.downloadStatus||null!=t.dataKey&&void 0!==t.dataKey)return t.zc(t.dataKey||null),Promise.resolve();var n=q(t.uris,e.o);0==t.K&&null==t.C||(n.headers.Range="bytes="+t.K+"-"+(null==t.C?"":t.C));var i;return e.l.request(1,n).promise.then(function(e){return this.a?(i=e.data.byteLength,ka(this.g,"segment-v3",{data:e.data})):Promise.reject(new g(2,9,7001))}.bind(e)).then(function(e){if(!this.a)return Promise.reject(new g(2,9,7001));this.a.size+=i,this.c+=null==t.C?t.Ca:t.C-t.K+1,this.i.push(e),t.zc(e),Na(this)}.bind(e))}function Na(e){var t=0==e.f?0:e.c/e.f,n=e.a.size;e.m.forEach(function(e){e(t,n)})}function Ua(e){return(e=/^offline:manifest\/([0-9]+)$/.exec(e))?Number(e[1]):null}function Ba(e,t,n){var i=void 0==t.expiration?1/0:t.expiration,r=t.presentationTimeline.R();return t=Pt(t.periods[0]),{offlineUri:null,originalManifestUri:e,duration:r,size:0,expiration:i,tracks:t,appMetadata:n,downloadStatus:null}}function ja(e,t){var n=Fa(t.periods[0],[],new pi(null,0)),i=t.appMetadata||{};return n=Pt(n),{offlineUri:e,originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:t.expiration,tracks:n,appMetadata:i,downloadStatus:null}}function Fa(e,t,n){var i=e.streams.filter(Wa);return t=Va(i,e.streams.filter(Ya),t),i=e.streams.filter(za).map(Ha),e.streams.forEach(function(e,t){var i=e.segments.map(function(e,t){return Ga(t,e)});n.Wa(i,0==t)}),{startTime:e.startTime,variants:t,textStreams:i}}function Ga(e,t){var n="offline:segment/"+t.dataKey;return new In(e,t.startTime,t.endTime,function(){return[n]},0,null)}function Va(e,t,n){var i={},r=[];return r.push.apply(r,e),r.push.apply(r,t),r.forEach(function(e){e.variantIds.forEach(function(e){i[e]||(i[e]={id:e,language:"",primary:!1,audio:null,video:null,bandwidth:0,drmInfos:n,allowedByApplication:!0,allowedByKeySystem:!0})})}),e.forEach(function(e){var t=Ha(e);e.variantIds.forEach(function(e){e=i[e],e.language=t.language,e.primary=e.primary||t.primary,e.audio=t})}),t.forEach(function(e){var t=Ha(e);e.variantIds.forEach(function(e){e=i[e],e.primary=e.primary||t.primary,e.video=t})}),he(i)}function Ha(e){var t=e.segments.map(function(e,t){return Ga(t,e)});return t=new Vn(t),t={id:e.id,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:t.find.bind(t),getSegmentReference:t.get.bind(t),initSegmentReference:null,presentationTimeOffset:e.presentationTimeOffset,mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate||void 0,kind:e.kind,encrypted:e.encrypted,keyId:e.keyId,language:e.language,label:e.label||null,type:e.contentType,primary:e.primary,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null},null!=e.initSegmentKey&&(t.initSegmentReference=Ka(e.initSegmentKey)),t}function Ka(e){var t="offline:segment/"+e;return new Rn(function(){return[t]},0,null)}function Wa(e){return"audio"==e.contentType}function Ya(e){return"video"==e.contentType}function za(e){return"text"==e.contentType}function qa(e,t){var n=t[0].streams;e[0].streams.forEach(function(e){var t=e.id,i=n.filter(function(e){return e.id==t});e.segments=i[0].segments.filter(function(e){return null!=e.dataKey})})}function Xa(){return Qa().then(function(){var e=new ga;return e.init().then(function(){return e})})}function Ja(){return Qa().then(function(){return va()})}function Qa(){return null!=e.indexedDB?Promise.resolve():Promise.reject(new g(2,9,9e3))}function $a(){this.a=-1}function Za(e){var t=new pi(null,0);t.fa(e.duration);var n=e.drmInfo?[e.drmInfo]:[];return{presentationTimeline:t,minBufferTime:2,offlineSessionIds:e.sessionIds,Qc:e.periods,periods:e.periods.map(function(e){return Fa(e,n,t)})}}function eo(e){if(null!=Ua(e))return eo.a(e);var t=(t=/^offline:segment\/([0-9]+)$/.exec(e))?Number(t[1]):null;return null!=t?eo.b(t,e):R(new g(2,1,9004,e))}function to(e){this.a=null,this.b=e;for(var t=0;t<e.textTracks.length;++t){var n=e.textTracks[t];n.mode="disabled","Shaka Player TextTrack"==n.label&&(this.a=n)}this.a||(this.a=e.addTextTrack("subtitles","Shaka Player TextTrack")),this.a.mode="hidden",this.c=this.a.cues}function no(e,t){if(e.startTime>=e.endTime)return null;var n=new VTTCue(e.startTime,e.endTime,e.payload);n.lineAlign=e.lineAlign,n.positionAlign=e.positionAlign,n.size=e.size;try{n.align=e.textAlign}catch(e){}if("center"==e.textAlign&&"center"!=n.align&&(n.align="middle"),2==e.writingDirection?n.vertical="lr":3==e.writingDirection&&(n.vertical="rl"),1==e.lineInterpretation&&(n.snapToLines=!1),null!=e.line&&(n.line=e.line),null!=e.position&&(n.position=e.position),e.region.id.length){var i=t.filter(function(t){return t.id==e.region.id});i.length&&(n.region=i[0])}return n}function io(e,t){var n=new VTTRegion,i=e.b.offsetWidth,r=e.b.offsetHeight;return n.id=t.id,n.regionAnchorX=t.regionAnchorX,n.regionAnchorY=t.regionAnchorY,n.scroll=t.scroll,2==t.heightUnits&&(n.lines=t.height),n.width=0==t.widthUnits?100*t.width/i:t.width,0==t.viewportAnchorUnits?(n.viewportAnchorX=100*t.viewportAnchorX/i,n.viewportAnchorY=100*t.viewportAnchorY/r):(n.viewportAnchorX=t.viewportAnchorX,n.viewportAnchorY=t.viewportAnchorY),n}function ro(e,t){for(var n=e.c,i=[],r=0;r<n.length;++r)t(n[r])&&i.push(n[r]);for(n=0;n<i.length;++n)e.a.removeCue(i[n])}function ao(){this.a=Promise.resolve(),this.b=this.c=this.f=!1,this.i=new Promise(function(e){this.g=e}.bind(this)),this.l=[],this.j=[]}function oo(e){return e.f||(e.a=e.a.then(function(e){return this.c=!0,this.l.forEach(function(e){e()}),Promise.resolve(e)}.bind(e),function(e){return this.c=!0,this.b?(this.g(),Promise.reject(this.h)):Promise.reject(e)}.bind(e))),e.f=!0,e.a}function so(e,t){Qt.call(this),this.S=!1,this.f=e,this.mb=!1,this.v=null,this.o=new ee,this.h=this.zb=this.b=this.j=this.a=this.A=this.g=this.i=this.m=this.u=null,this.Vc=1e9,this.ib=[],this.lb=!1,this.ca=!0,this.M=this.Ra=this.Ba=null,this.dc=!1,this.H=null,this.kb=[],this.L={},this.c=bo(this),this.jb={width:1/0,height:1/0},this.l=_o(),this.hb=0,this.za=this.c.preferredAudioLanguage,this.Aa=this.c.preferredTextLanguage,this.eb=this.fb="",t&&t(this),this.u=new Y(this.De.bind(this)),this.i=new ut(this.f),this.i.init({}),te(this.o,this.f,"error",this.Vd.bind(this))}function uo(e){if(!e.Ba)return Promise.resolve();var t=Promise.resolve();return e.j&&(t=e.j.stop(),e.j=null),e=e.Ba.cancel(new g(2,7,7e3)),Promise.all([t,e])}function lo(e){function t(e){return(e.video?e.video.codecs.split(".")[0]:"")+"-"+(e.audio?e.audio.codecs.split(".")[0]:"")}var n={};e.b.periods.forEach(function(e){e.variants.forEach(function(e){var i=t(e);i in n||(n[i]=[]),n[i].push(e)})});var i=null,r=1/0;ge(n,function(e,t){var n=0,a=0;t.forEach(function(e){n+=e.bandwidth||0,++a});var o=n/a;o<r&&(i=e,r=o)}),e.b.periods.forEach(function(e){e.variants=e.variants.filter(function(e){return t(e)==i})})}function co(e){if(e.j&&e.j.configure(e.c.manifest),e.m&&e.m.configure(e.c.drm),e.a){e.a.configure(e.c.streaming);try{e.b.periods.forEach(e.ob.bind(e))}catch(t){e.Qa(t)}var t=Br(e.a),n=jr(e.a),i=Nr(e.a);(t=Bt(t,n,i.variants))&&t.allowedByApplication&&t.allowedByKeySystem||wo(e,i)}e.h&&(e.h.configure(e.c.abr),e.c.abr.enabled&&!e.ca?e.h.enable():e.h.disable())}function fo(e){var t=[];return e.forEach(function(e){if(e){var n=e.language;e.roles.length?e.roles.forEach(function(e){t.push({language:n,role:e})}):t.push({language:n,role:""})}else t.push({language:"und",role:""})}),B(t,function(e,t){return e.language==t.language&&e.role==t.role})}function po(e,t,n){t.video&&yo(e,t.video),t.audio&&yo(e,t.audio);var i=Ur(e.a);t!=Bt(Br(e.a),jr(e.a),i?i.variants:[])&&e.l.switchHistory.push({timestamp:Date.now()/1e3,id:t.id,type:"variant",fromAdaptation:n,bandwidth:t.bandwidth})}function ho(e,t,n){yo(e,t),e.l.switchHistory.push({timestamp:Date.now()/1e3,id:t.id,type:"text",fromAdaptation:n,bandwidth:null})}function yo(e,t){var n=Gt(e.b,t);e.L[n]||(e.L[n]={}),e.L[n][t.type]=t.id}function go(e){e.o&&(e.o.ka(e.f,"loadeddata"),e.o.ka(e.f,"playing"),e.o.ka(e.f,"pause"),e.o.ka(e.f,"ended"));var t=Promise.all([e.h?e.h.stop():null,e.i?e.i.destroy():null,e.m?e.m.destroy():null,e.g?e.g.destroy():null,e.A?e.A.destroy():null,e.a?e.a.destroy():null,e.j?e.j.stop():null,e.v?e.v.destroy():null]);return e.ca=!0,e.m=null,e.i=null,e.g=null,e.A=null,e.a=null,e.j=null,e.v=null,e.b=null,e.zb=null,e.kb=[],e.L={},e.l=_o(),t}function vo(e){return e.j?go(e).then(function(){this.S||(this.Nc(!1),this.i=new ut(this.f),this.i.init({}))}.bind(e)):Promise.resolve()}function mo(){return{".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:"",audioRobustness:"",serverCertificate:new Uint8Array(0)}}}function bo(e){var t=5e5;return navigator.connection&&navigator.connection.type&&(t=1e6*navigator.connection.downlink),{drm:{retryParameters:C(),servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1},manifest:{retryParameters:C(),dash:{customScheme:function(e){if(e)return null},clockSyncUri:"",ignoreDrmInfo:!1,xlinkFailGracefully:!1,defaultPresentationDelay:10}},streaming:{retryParameters:C(),failureCallback:e.bd.bind(e),rebufferingGoal:2,bufferingGoal:10,bufferBehind:30,ignoreTextStreamFailures:!1,startAtSegmentBoundary:!1,smallGapLimit:.5,jumpLargeGaps:!1,durationBackoff:1},abrFactory:Vt,textDisplayFactory:function(e){return new to(e)}.bind(null,e.f),abr:{enabled:!0,defaultBandwidthEstimate:t,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0}},preferredAudioLanguage:"",preferredTextLanguage:"",restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minBandwidth:0,maxBandwidth:1/0},playRangeStart:0,playRangeEnd:1/0}}function _o(){return{width:NaN,height:NaN,streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,estimatedBandwidth:NaN,loadLatency:NaN,playTime:0,bufferingTime:0,switchHistory:[],stateHistory:[]}}function Eo(e,t,n){e.ca?(e.M=t,e.dc=n||!1):Kr(e.a,t,n||!1)}function Ao(e){if(e.b){var t=Date.now()/1e3;e.lb?e.l.bufferingTime+=t-e.hb:e.l.playTime+=t-e.hb,e.hb=t}}function ko(e,t){function n(e,t){if(!e)return null;var n=e.findSegmentPosition(t-a.startTime);return null==n?null:(n=e.getSegmentReference(n))?n.startTime+a.startTime:null}var i=Br(e.a),r=jr(e.a),a=Nr(e.a);return i=n(i,t),r=n(r,t),null!=r&&null!=i?Math.max(r,i):null!=r?r:null!=i?i:t}function To(e,t){return t&&t.length?(e.h.setVariants(t),e.h.chooseVariant()):(e.Qa(new g(2,4,4012)),null)}function wo(e,t){var n=Dt(t.variants,e.za,e.fb),i=Mt(t.textStreams,e.Aa,e.eb);(n=To(e,n))&&(po(e,n,!0),Eo(e,n,!0)),(i=i[0])&&e.Ib()&&(ho(e,i,!0),e.ca?e.H=i:Wr(e.a,i,!0)),So(e)}function So(e){Promise.resolve().then(function(){this.S||this.dispatchEvent(new ae("adaptation"))}.bind(e))}function Po(e){Promise.resolve().then(function(){this.S||this.dispatchEvent(new ae("trackschanged"))}.bind(e))}function Oo(e){e.dispatchEvent(new ae("texttrackvisibility"))}function Co(e){if(!e||e.constructor!=so)throw new g(2,9,9008);this.c=null,this.h=e,this.f=No(this),this.g=null,this.m=!1,this.a=this.j=this.b=this.i=null}function Lo(){return null!=e.indexedDB}function Ro(e,t,n,i,r){if(n.presentationTimeline.O()||n.presentationTimeline.ua())throw new g(2,9,9005,t);e.b=n,e.g=r,e.l(n.periods),e.j=Ba(t,n,i);var a=Fo(e,t,i);return Da(e.a,a).then(function(e){return Object.assign(ja("offline:manifest/"+e,a),{downloadStatus:a.downloadStatus})})}function Io(e,t){var n=Ua(t);if(null==n)return Promise.reject(new g(2,9,9004,t));var i;return Uo(e).then(function(){return Ho(this),this.c.ta(n)}.bind(e)).then(function(e){if(Ho(this),!e)throw new g(2,9,9003,t);return i=e,null==n?Promise.reject(new g(2,9,9004,t)):Do(this,t,n,i)}.bind(e))}function xo(e,t){var n=Ua(t);return null==n?Promise.reject(new g(2,9,9004,t)):Uo(e).then(function(){return Ho(this),this.c.ta(n)}.bind(e)).then(function(e){if(e.downloadStatus="resumed",Ho(this),!e)throw new g(2,9,9003,t);this.b=Za(e);var i=this.b.periods.map(this.u.bind(this));return qa(i,this.b.Qc),e.periods=i,this.a.j=n,this.j={appMetadata:e.appMetadata,duration:e.duration,expiration:e.expiration,offlineUri:null,originalManifestUri:e.originalManifestUri,size:e.size,tracks:null,downloadStatus:null},Da(this.a,e).then(function(){return"resumed"==e.downloadStatus&&(e.downloadStatus="ended"),e}.bind(this))}.bind(e))}function Do(e,t,n,i){function r(){u++,a(o,u/l)}var a=e.f.progressCallback,o=ja(t,i),s=Ko(i),u=0,l=s.length+1;return Promise.resolve().then(function(){return Ho(this),ba(this.c,s,r)}.bind(e)).then(function(){return Ho(this),Ta(this.c,"manifest-v3",[n],r)}.bind(e))}function Mo(e,t,n,i){function r(){}var a,o,s,u=e.h.u,l=e.h.getConfiguration();return di(t,u,l.manifest.retryParameters,i).then(function(e){return Ho(this),s=new e,s.configure(l.manifest),s.start(t,{networkingEngine:u,filterAllPeriods:this.l.bind(this),filterNewPeriod:this.o.bind(this),onTimelineRegionAdded:function(){},onEvent:function(){},onError:n})}.bind(e)).then(function(e){return Ho(this),a=e,o=new Ie({sb:u,onError:n,tc:r,onExpirationUpdated:function(){},onEvent:function(){}}),o.configure(l.drm),o.init(a,this.f.usePersistentLicense||!1)}.bind(e)).then(function(){return Ho(this),jo(a)}.bind(e)).then(function(){return Ho(this),De(o)}.bind(e)).then(function(){return Ho(this),s.stop()}.bind(e)).then(function(){return Ho(this),{manifest:a,cd:o}}.bind(e)).catch(function(e){if(s)return s.stop().then(function(){throw e});throw e})}function No(e){return{trackSelectionCallback:e.v.bind(e),progressCallback:function(e,t){if(e||t)return null},usePersistentLicense:!0}}function Uo(t){if(null==e.indexedDB)return Promise.reject(new g(2,9,9e3));if(t.c)return Promise.resolve();var n=t.h.u,i=t.h.getConfiguration().streaming.retryParameters;return Xa().then(function(e){this.c=e,this.a=new Ra(e,n,i),Ia(this.a,function(e,t){var n=this.j;n.size=t,this.f.progressCallback(n,e)}.bind(this))}.bind(t))}function Bo(e){var t=e.g?e.g.destroy():Promise.resolve();return e.g=null,e.b=null,e.m=!1,e.i=null,t}function jo(e){var t=e.periods.map(function(e){return e.variants}).reduce(se,[]).map(function(e){var t=[];return e.audio&&t.push(e.audio),e.video&&t.push(e.video),t}).reduce(se,[]).filter(ce);return e=e.periods.map(function(e){return e.textStreams}).reduce(se,[]),t.push.apply(t,e),Promise.all(t.map(function(e){return e.createSegmentIndex()}))}function Fo(e,t,n){var i=e.b.periods.map(e.u.bind(e)),r=e.g.b,a=Me(e.g);if(r&&e.f.usePersistentLicense){if(!a.length)throw new g(2,9,9007,t);r.initData=[]}return{originalManifestUri:t,duration:e.b.presentationTimeline.R(),size:0,expiration:e.g.qb(),periods:i,sessionIds:e.f.usePersistentLicense?a:[],drmInfo:r,appMetadata:n,downloadStatus:null}}function Go(e,t,n,i){var r={id:t.id,primary:t.primary,presentationTimeOffset:t.presentationTimeOffset||0,contentType:t.type,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,kind:t.kind,language:t.language,label:t.label,width:t.width||null,height:t.height||null,initSegmentKey:null,encrypted:t.encrypted,keyId:t.keyId,segments:[],variantIds:[]};return null!=i&&r.variantIds.push(i),i=e.b.presentationTimeline.Ha(),Vo.bind(e)(t,i,function(e){var i=e.startTime,a=e.endTime,o=e.Ca||(a-i)*n/8||0,s=e.uris&&0<e.uris.length?e.uris:e.W(),u=e.K,l=e.C,c=e.position;xa(this.a,t.type,e,o,function(e){var t={startTime:i,endTime:a,dataKey:e};null==e&&(t={startTime:i,endTime:a,dataKey:e,Ca:o,K:u,C:l,position:c,uris:s}),r.segments.push(t)})}.bind(e),e.b.Qc),(i=t.initSegmentReference)&&xa(e.a,t.contentType,i,0,function(e){r.initSegmentKey=e}),r}function Vo(e,t,n,i){t=e.findSegmentPosition(t);var r=null==t?null:e.getSegmentReference(t),a=e.id;if(i)i[0].streams.filter(function(e){return e.id==a})[0].segments.filter(function(e){return null==e.dataKey}).forEach(function(e){n(e)});else for(;r;)n(r),r=e.getSegmentReference(++t)}function Ho(e){if(!e.h)throw new g(2,9,7001)}function Ko(e){var t=[];return e.periods.forEach(function(e){e.streams.forEach(function(e){null!=e.initSegmentKey&&t.push(e.initSegmentKey),e.segments.forEach(function(e){t.push(e.dataKey)})})}),t}function Wo(e){il.push(e)}function Yo(e){var t=e.type.replace(/^(webkit|moz|MS)/,"").toLowerCase();if("function"==typeof Event)var n=new Event(t,e);else n=document.createEvent("Event"),n.initEvent(t,e.bubbles,e.cancelable);e.target.dispatchEvent(n)}function zo(e,t,n){if("input"==e)switch(this.type){case"range":e="change"}rl.call(this,e,t,n)}function qo(e){this.f=[],this.b=[],this.a=[],(new Mn).V("pssh",this.c.bind(this)).parse(e.buffer)}function Xo(e,t){try{var n=new Jo(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function Jo(e,t){this.keySystem=e;for(var n=!1,i=0;i<t.length;++i){var r=t[i],a={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:r.initDataTypes,sessionTypes:["temporary"],label:r.label},o=!1;if(r.audioCapabilities)for(var s=0;s<r.audioCapabilities.length;++s){var u=r.audioCapabilities[s];if(u.contentType){o=!0;var l=u.contentType.split(";")[0];MSMediaKeys.isTypeSupported(this.keySystem,l)&&(a.audioCapabilities.push(u),n=!0)}}if(r.videoCapabilities)for(s=0;s<r.videoCapabilities.length;++s)u=r.videoCapabilities[s],u.contentType&&(o=!0,l=u.contentType.split(";")[0],MSMediaKeys.isTypeSupported(this.keySystem,l)&&(a.videoCapabilities.push(u),n=!0));if(o||(n=MSMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),"required"==r.persistentState&&(n=!1),n)return void(this.a=a)}throw n=Error("Unsupported keySystem"),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function Qo(e){var t=this.mediaKeys;return t&&t!=e&&Zo(t,null),delete this.mediaKeys,(this.mediaKeys=e)?Zo(e,this):Promise.resolve()}function $o(e){this.a=new MSMediaKeys(e),this.b=new ee}function Zo(e,t){function n(){t.msSetMediaKeys(i.a),t.removeEventListener("loadedmetadata",n)}if(ie(e.b),!t)return Promise.resolve();te(e.b,t,"msneedkey",ts);var i=e;try{return 1<=t.readyState?t.msSetMediaKeys(e.a):t.addEventListener("loadedmetadata",n),Promise.resolve()}catch(e){return Promise.reject(e)}}function es(e){Qt.call(this),this.c=null,this.g=e,this.b=this.a=null,this.f=new ee,this.sessionId="",this.expiration=NaN,this.closed=new S,this.keyStatuses=new rs}function ts(e){var t=document.createEvent("CustomEvent");if(t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="cenc",e=e.initData){var n=new qo(e);if(!(1>=n.a.length)){for(var i=[],r=0;r<n.a.length;r++)i.push(e.subarray(n.a[r].start,n.a[r].end+1));for(e=B(i,ns),i=n=0;i<e.length;i++)n+=e[i].length;for(n=new Uint8Array(n),r=i=0;r<e.length;r++)n.set(e[r],i),i+=e[r].length;e=n}}t.initData=e,this.dispatchEvent(t)}function ns(e,t){return Le(e,t)}function is(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new ae("keystatuseschange"))}function rs(){this.size=0,this.a=void 0}function as(){return Promise.reject(Error("The key system specified is not supported."))}function os(e){return null==e?Promise.resolve():Promise.reject(Error("MediaKeys not supported."))}function ss(){throw new TypeError("Illegal constructor.")}function us(){throw new TypeError("Illegal constructor.")}function ls(t){ol=t,sl=new Uint8Array([0]).buffer,navigator.requestMediaKeySystemAccess=fs,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=ds,e.MediaKeys=hs,e.MediaKeySystemAccess=ps}function cs(e){var t=ol;return t?t+e.charAt(0).toUpperCase()+e.slice(1):e}function fs(e,t){try{var n=new ps(e,t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}function ds(e){var t=this.mediaKeys;return t&&t!=e&&ys(t,null),delete this.mediaKeys,(this.mediaKeys=e)&&ys(e,this),Promise.resolve()}function ps(e,t){this.a=this.keySystem=e;var n=!1;"org.w3.clearkey"==e&&(this.a="webkit-org.w3.clearkey",n=!1);var i=!1,r=document.getElementsByTagName("video");r=r.length?r[0]:document.createElement("video");for(var a=0;a<t.length;++a){var o=t[a],s={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:o.initDataTypes,sessionTypes:["temporary"],label:o.label},u=!1;if(o.audioCapabilities)for(var l=0;l<o.audioCapabilities.length;++l){var c=o.audioCapabilities[l];if(c.contentType){u=!0;var f=c.contentType.split(";")[0];r.canPlayType(f,this.a)&&(s.audioCapabilities.push(c),i=!0)}}if(o.videoCapabilities)for(l=0;l<o.videoCapabilities.length;++l)c=o.videoCapabilities[l],c.contentType&&(u=!0,r.canPlayType(c.contentType,this.a)&&(s.videoCapabilities.push(c),i=!0));if(u||(i=r.canPlayType("video/mp4",this.a)||r.canPlayType("video/webm",this.a)),"required"==o.persistentState&&(n?(s.persistentState="required",s.sessionTypes=["persistent-license"]):i=!1),i)return void(this.b=s)}throw n="Unsupported keySystem","org.w3.clearkey"!=e&&"com.widevine.alpha"!=e||(n="None of the requested configurations were supported."),n=Error(n),n.name="NotSupportedError",n.code=DOMException.NOT_SUPPORTED_ERR,n}function hs(e){this.g=e,this.b=null,this.a=new ee,this.c=[],this.f={}}function ys(e,t){e.b=t,ie(e.a);var n=ol;t&&(te(e.a,t,n+"needkey",e.Zd.bind(e)),te(e.a,t,n+"keymessage",e.Yd.bind(e)),te(e.a,t,n+"keyadded",e.Wd.bind(e)),te(e.a,t,n+"keyerror",e.Xd.bind(e)))}function gs(e,t){var n=e.f[t];return n||((n=e.c.shift())?(n.sessionId=t,e.f[t]=n):null)}function vs(e,t,n){Qt.call(this),this.f=e,this.h=!1,this.a=this.b=null,this.c=t,this.g=n,this.sessionId="",this.expiration=NaN,this.closed=new S,this.keyStatuses=new _s}function ms(e,t,n){if(e.h)return Promise.reject(Error("The session is already initialized."));e.h=!0;try{if("persistent-license"==e.g)if(n)var i=new Uint8Array(Ee("LOAD_SESSION|"+n));else{var r=Ee("PERSISTENT|"),a=new Uint8Array(r.byteLength+t.byteLength);a.set(new Uint8Array(r),0),a.set(new Uint8Array(t),r.byteLength),i=a}else i=new Uint8Array(t)}catch(e){return Promise.reject(e)}e.b=new S;var o=cs("generateKeyRequest");try{e.f[o](e.c,i)}catch(t){if("InvalidStateError"!=t.name)return e.b=null,Promise.reject(t);setTimeout(function(){try{this.f[o](this.c,i)}catch(e){this.b.reject(e),this.b=null}}.bind(e),10)}return e.b}function bs(e,t){var n=e.keyStatuses;n.size=void 0==t?0:1,n.a=t,e.dispatchEvent(new ae("keystatuseschange"))}function _s(){this.size=0,this.a=void 0}function Es(){var e=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var t=e.apply(this,arguments);return t.abort=function(){},t}}function As(){var e=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(t,n){return e.call(this,t,n-.001)}}function ks(){var e=MediaSource.prototype.endOfStream;MediaSource.prototype.endOfStream=function(){for(var t=0,n=0;n<this.sourceBuffers.length;++n){var i=this.sourceBuffers[n];i=i.buffered.end(i.buffered.length-1),t=Math.max(t,i)}if(!isNaN(this.duration)&&t<this.duration)for(this.lc=!0,t=0;t<this.sourceBuffers.length;++t)this.sourceBuffers[t].hc=!1;return e.apply(this,arguments)};var t=!1,n=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=n.apply(this,arguments);return e.mediaSource_=this,e.addEventListener("updateend",Ts,!1),t||(this.addEventListener("sourceclose",ws,!1),t=!0),e}}function Ts(e){var t=e.target,n=t.mediaSource_;if(n.lc){for(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),t.hc=!0,e=0;e<n.sourceBuffers.length;++e)if(0==n.sourceBuffers[e].hc)return;n.lc=!1}}function ws(e){e=e.target;for(var t=0;t<e.sourceBuffers.length;++t)e.sourceBuffers[t].removeEventListener("updateend",Ts,!1);e.removeEventListener("sourceclose",ws,!1)}function Ss(){var e=MediaSource.isTypeSupported;MediaSource.isTypeSupported=function(t){return"mp2t"!=t.split(/ *; */)[0].split("/")[1]&&e(t)}}function Ps(){var e=MediaSource.isTypeSupported,t=/^dv(?:he|av)\./;MediaSource.isTypeSupported=function(n){for(var i=n.split(/ *; */),r=i[0],a={},o=1;o<i.length;++o){var s=i[o].split("="),u=s[0];s=s[1].replace(/"(.*)"/,"$1"),a[u]=s}if(!(i=a.codecs))return e(n);var l=!1,c=!1;n=i.split(",").filter(function(e){return t.test(e)?(c=!0,!1):(/^(hev|hvc)1\.2/.test(e)&&(l=!0),!0)}),c&&(l=!1),a.codecs=n.join(","),l&&(a.eotf="smpte2084");for(var f in a)r+="; "+f+'="'+a[f]+'"';return cast.__platform__.canDisplayType(r)}}function Os(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function Cs(t,n,i){return new e.TextTrackCue(t,n,i)}function Ls(t,n,i){return new e.TextTrackCue(t+"-"+n+"-"+i,t,n,i)}function Rs(){}function Is(e){var t=[];if(!e)return t;for(var n=e.childNodes,i=0;i<n.length;i++){var r="span"==n[i].nodeName&&"p"==e.nodeName;n[i].nodeType!=Node.ELEMENT_NODE||"br"==n[i].nodeName||r||(r=Is(n[i]),t=t.concat(r))}return t.length||t.push(e),t}function xs(e,t){for(var n=e.childNodes,i=0;i<n.length;i++)if("br"==n[i].nodeName&&0<i)n[i-1].textContent+="\n";else if(0<n[i].childNodes.length)xs(n[i],t);else if(t){var r=n[i].textContent.trim();r=r.replace(/\s+/g," "),n[i].textContent=r}}function Ds(e,t,n,i,r,a,o){if(!e.hasAttribute("begin")&&!e.hasAttribute("end")&&/^\s*$/.test(e.textContent))return null;xs(e,o),o=Gs(e.getAttribute("begin"),n);var s=Gs(e.getAttribute("end"),n);n=Gs(e.getAttribute("dur"),n);var u=e.textContent;if(null==s&&null!=n&&(s=o+n),null==o||null==s)throw new g(2,2,2001);if(t=new et(o+t,s+t,u),(r=Fs(e,"region",r))&&r.getAttribute("xml:id")){var l=r.getAttribute("xml:id");a=a.filter(function(e){return e.id==l}),t.region=a[0]}return Ms(t,e,r,i),t}function Ms(e,t,n,i){"rtl"==Us(t,n,i,"tts:direction")&&(e.writingDirection=1);var r=Us(t,n,i,"tts:writingMode");"tb"==r||"tblr"==r?e.writingDirection=2:"tbrl"==r?e.writingDirection=3:"rltb"==r||"rl"==r?e.writingDirection=1:r&&(e.writingDirection=vu),(r=Us(t,n,i,"tts:textAlign"))&&(e.positionAlign=ml[r],e.lineAlign=vl[r],e.textAlign=hu[r.toUpperCase()]),(r=Us(t,n,i,"tts:displayAlign"))&&(e.displayAlign=gu[r.toUpperCase()]),(r=Us(t,n,i,"tts:color"))&&(e.color=r),(r=Us(t,n,i,"tts:backgroundColor"))&&(e.backgroundColor=r),(r=Us(t,n,i,"tts:fontFamily"))&&(e.fontFamily=r),(r=Us(t,n,i,"tts:fontWeight"))&&"bold"==r&&(e.fontWeight=700),(r=Us(t,n,i,"tts:wrapOption"))&&"noWrap"==r&&(e.wrapLine=!1),(r=Us(t,n,i,"tts:lineHeight"))&&r.match(ll)&&(e.lineHeight=r),(r=Us(t,n,i,"tts:fontSize"))&&r.match(ll)&&(e.fontSize=r),(r=Us(t,n,i,"tts:fontStyle"))&&(e.fontStyle=ku[r.toUpperCase()]),(n=Bs(n,i,"tts:textDecoration"))&&Ns(e,n),(t=js(t,i,"tts:textDecoration"))&&Ns(e,t)}function Ns(e,t){for(var n=t.split(" "),i=0;i<n.length;i++)switch(n[i]){case"underline":0>e.textDecoration.indexOf("underline")&&e.textDecoration.push("underline");break;case"noUnderline":0<=e.textDecoration.indexOf("underline")&&F(e.textDecoration,"underline");break;case"lineThrough":0>e.textDecoration.indexOf("lineThrough")&&e.textDecoration.push("lineThrough");break;case"noLineThrough":0<=e.textDecoration.indexOf("lineThrough")&&F(e.textDecoration,"lineThrough");break;case"overline":0>e.textDecoration.indexOf("overline")&&e.textDecoration.push("overline");break;case"noOverline":0<=e.textDecoration.indexOf("overline")&&F(e.textDecoration,"overline")}}function Us(e,t,n,i){return(e=js(e,n,i))?e:Bs(t,n,i)}function Bs(e,t,n){for(var i=Is(e),r=0;r<i.length;r++){var a=i[r].getAttribute(n);if(a)return a}return(e=Fs(e,"style",t))?e.getAttribute(n):null}function js(e,t,n){return(e=Fs(e,"style",t))?e.getAttribute(n):null}function Fs(e,t,n){if(!e||1>n.length)return null;var i=null,r=e;for(e=null;r&&!(e=r.getAttribute(t))&&(r=r.parentNode)instanceof Element;);if(t=e)for(e=0;e<n.length;e++)if(n[e].getAttribute("xml:id")==t){i=n[e];break}return i}function Gs(e,t){var n=null;if(fl.test(e)){n=fl.exec(e);var i=Number(n[1]),r=Number(n[2]),a=Number(n[3]),o=Number(n[4]);o+=(Number(n[5])||0)/t.b,a+=o/t.frameRate,n=a+60*r+3600*i}else dl.test(e)?n=Vs(dl,e):pl.test(e)?n=Vs(pl,e):hl.test(e)?(n=hl.exec(e),n=Number(n[1])/t.frameRate):yl.test(e)?(n=yl.exec(e),n=Number(n[1])/t.a):gl.test(e)&&(n=Vs(gl,e));return n}function Vs(e,t){var n=e.exec(t);return null==n||""==n[0]?null:(Number(n[4])||0)/1e3+(Number(n[3])||0)+60*(Number(n[2])||0)+3600*(Number(n[1])||0)}function Hs(e,t,n,i){this.frameRate=Number(e)||30,this.b=Number(t)||1,this.a=Number(i),0==this.a&&(this.a=e?this.frameRate*this.b:1),n&&(e=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=e[1]/e[2])}function Ks(){this.a=new Rs}function Ws(){}function Ys(e,t,n){var i;(i=/^align:(start|middle|center|end|left|right)$/.exec(t))?(t=i[1],e.textAlign="middle"==t?pu:hu[t.toUpperCase()]):(i=/^vertical:(lr|rl)$/.exec(t))?e.writingDirection="lr"==i[1]?2:3:(i=/^size:([\d.]+)%$/.exec(t))?e.size=Number(i[1]):(i=/^position:([\d.]+)%(?:,(line-left|line-right|center|start|end))?$/.exec(t))?(e.position=Number(i[1]),i[2]&&(t=i[2],e.positionAlign="line-left"==t||"start"==t?"line-left":"line-right"==t||"end"==t?"line-right":"center")):(i=/^region:(.*)$/.exec(t))?(t=zs(n,i[1]))&&(e.region=t):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(t))?(e.lineInterpretation=1,e.line=Number(n[1]),n[2]&&(e.lineAlign=_u[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(t))&&(e.lineInterpretation=mu,e.line=Number(n[1]),n[2]&&(e.lineAlign=_u[n[2].toUpperCase()]))}function zs(e,t){var n=e.filter(function(e){return e.id==t});return n.length?n[0]:null}function qs(e){if(null==(e=Fi(e,/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3})/g)))return null;var t=Number(e[2]),n=Number(e[3]);return 59<t||59<n?null:Number(e[4])/1e3+n+60*t+3600*(Number(e[1])||0)}function Xs(){this.a=null}function Js(e,t,n){var i,r,a;return(new Mn).B("payl",Bn(function(e){i=me(e)})).B("iden",Bn(function(e){r=me(e)})).B("sttg",Bn(function(e){a=me(e)})).parse(e),i?Qs(i,r,a,t,n):null}function Qs(e,t,n,i,r){if(e=new et(i,r,e),t&&(e.id=t),n)for(t=new Bi(n),n=Gi(t);n;)Ys(e,n,[]),ji(t),n=Gi(t);return e}var $s,Zs="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},eu=void 0!==e&&e===this?this:void 0!==i&&null!=i?i:this,tu=function(){var e=0;return function(t){return"jscomp_symbol_"+(t||"")+e++}}();s("Promise",function(e){function t(e){this.b=0,this.g=void 0,this.a=[];var t=this.c();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){null==this.a&&(this.a=[],this.f()),this.a.push(e)},n.prototype.f=function(){var e=this;this.c(function(){e.h()})};var r=eu.setTimeout;n.prototype.c=function(e){r(e,0)},n.prototype.h=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];delete e[t];try{n()}catch(e){this.g(e)}}}this.a=null},n.prototype.g=function(e){this.c(function(){throw e})},t.prototype.c=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.f)}},t.prototype.m=function(e){if(e===this)this.f(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.l(e):this.h(e)}},t.prototype.l=function(e){var t=void 0;try{t=e.then}catch(e){return void this.f(e)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.f=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t|"): Promise already settled in state"+this.b);this.b=e,this.g=t,this.j()},t.prototype.j=function(){if(null!=this.a){for(var e=this.a,t=0;t<e.length;++t)e[t].call(),e[t]=null;this.a=null}};var a=new n;return t.prototype.o=function(e){var t=this.c();e.nb(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.c();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(e){a(e)}}:t}var r,a,o=new t(function(e,t){r=e,a=t});return this.nb(i(e,r),i(n,a)),o},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.nb=function(e,t){function n(){switch(i.b){case 1:e(i.g);break;case 2:t(i.g);break;default:throw Error("Unexpected state: "+i.b)}}var i=this;null==this.a?a.b(n):this.a.push(function(){a.b(n)})},t.resolve=i,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var r=o(e),a=r.next();!a.done;a=r.next())i(a.value).nb(t,n)})},t.all=function(e){var n=o(e),r=n.next();return r.done?i([]):new t(function(e,t){var a=[],o=0;do{a.push(void 0),o++,i(r.value).nb(function(t){return function(n){a[t]=n,0==--o&&e(a)}}(a.length-1),t),r=n.next()}while(!r.done)})},t}),s("Array.prototype.find",function(e){return e||function(e,t){e:{var n=this;n instanceof String&&(n=String(n));for(var i=n.length,r=0;r<i;r++){var a=n[r];if(e.call(t,a,r,n)){n=a;break e}}n=void 0}return n}}),s("Object.assign",function(e){return e||function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}});var nu=this;nu.Xe=!0,p.prototype.getBandwidthEstimate=function(e){return 128e3>this.a?e:Math.min(d(this.b),d(this.c))},e.console&&e.console.log.bind&&(h=console.warn.bind(console)),u("shaka.util.Error",g),g.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},g.Severity={RECOVERABLE:1,CRITICAL:2},g.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9},g.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,UNKNOWN_DATA_URI_ENCODING:1005,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,UNPLAYABLE_PERIOD:4011,RESTRICTIONS_CANNOT_BE_MET:4012,NO_PERIODS:4014,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_COULD_NOT_GUESS_MIME_TYPE:4021,HLS_MASTER_PLAYLIST_NOT_PROVIDED:4022,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,HLS_COULD_NOT_PARSE_SEGMENT_START_TIME:4030,INVALID_STREAMS_CHOSEN:5005,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,STORE_ALREADY_IN_PROGRESS:9006,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,CONTENT_UNSUPPORTED_BY_BROWSER:9009,UNSUPPORTED_UPGRADE_REQUEST:9010};var iu=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;$s=v.prototype,$s.ea="",$s.ya="",$s.ga="",$s.Ma=null,$s.Y="",$s.sa="",$s.toString=function(){var e=[],t=this.ea;if(t&&e.push(A(t,ru,!0),":"),t=this.ga){e.push("//");var n=this.ya;n&&e.push(A(n,ru,!0),"@"),e.push(encodeURIComponent(t).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.Ma,null!=t&&e.push(":",String(t))}return(t=this.Y)&&(this.ga&&"/"!=t.charAt(0)&&e.push("/"),e.push(A(t,"/"==t.charAt(0)?ou:au,!0))),(t=this.a.toString())&&e.push("?",t),(t=this.sa)&&e.push("#",A(t,uu)),e.join("")},$s.resolve=function(e){var t=new v(this);"data"===t.ea&&(t=new v);var n=!!e.ea;n?m(t,e.ea):n=!!e.ya,n?t.ya=e.ya:n=!!e.ga,n?t.ga=e.ga:n=null!=e.Ma;var i=e.Y;if(n)b(t,e.Ma);else if(n=!!e.Y){if("/"!=i.charAt(0))if(this.ga&&!this.Y)i="/"+i;else{var r=t.Y.lastIndexOf("/");-1!=r&&(i=t.Y.substr(0,r+1)+i)}if(".."==i||"."==i)i="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var a=[],o=0;o<i.length;){var s=i[o++];"."==s?r&&o==i.length&&a.push(""):".."==s?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&o==i.length&&a.push("")):(a.push(s),r=!0)}i=a.join("/")}}return n?t.Y=i:n=""!==e.a.toString(),n?_(t,w(e.a)):n=!!e.sa,n&&(t.sa=e.sa),t};var ru=/[#\/\?@]/g,au=/[#\?:]/g,ou=/[#\?]/g,su=/[#\?@]/g,uu=/#/g;T.prototype.a=null,T.prototype.c=null,T.prototype.add=function(e,t){if(!this.a&&(this.a={},this.c=0,this.b))for(var n=this.b.split("&"),i=0;i<n.length;i++){var r=n[i].indexOf("="),a=null;if(0<=r){var o=n[i].substring(0,r);a=n[i].substring(r+1)}else o=n[i];o=decodeURIComponent(o.replace(/\+/g," ")),a=a||"",this.add(o,decodeURIComponent(a.replace(/\+/g," ")))}return this.b=null,(n=this.a.hasOwnProperty(e)&&this.a[e])||(this.a[e]=n=[]),n.push(t),this.c++,this},T.prototype.toString=function(){if(this.b)return this.b;if(!this.a)return"";var e,t=[];for(e in this.a)for(var n=encodeURIComponent(e),i=this.a[e],r=0;r<i.length;r++){var a=n;""!==i[r]&&(a+="="+encodeURIComponent(i[r])),t.push(a)}return this.b=t.join("&")},S.prototype.resolve=function(){},S.prototype.reject=function(){},L.prototype.abort=function(){return this.a=!0,this.b()},L.prototype.finally=function(e){return this.promise.then(function(){return e(!0)},function(){return e(!1)}),this},K.prototype.destroy=function(){var e=[];return this.a.forEach(function(t){t.promise.catch(function(){}),e.push(t.abort())}),this.a=[],Promise.all(e)},u("shaka.net.NetworkingEngine",Y),Y.RequestType={MANIFEST:0,SEGMENT:1,LICENSE:2,APP:3},Y.PluginPriority={Ye:1,$e:2,Ve:3};var lu={};Y.registerScheme=z,Y.unregisterScheme=function(e){delete lu[e]},Y.prototype.je=function(e){this.a.push(e)},Y.prototype.registerRequestFilter=Y.prototype.je,Y.prototype.Oe=function(e){F(this.a,e)},Y.prototype.unregisterRequestFilter=Y.prototype.Oe,Y.prototype.$c=function(){this.a=[]},Y.prototype.clearAllRequestFilters=Y.prototype.$c,Y.prototype.ke=function(e){this.b.push(e)},Y.prototype.registerResponseFilter=Y.prototype.ke,Y.prototype.Pe=function(e){F(this.b,e)},Y.prototype.unregisterResponseFilter=Y.prototype.Pe,Y.prototype.ad=function(){this.b=[]},Y.prototype.clearAllResponseFilters=Y.prototype.ad,Y.prototype.destroy=function(){return this.c=!0,this.a=[],this.b=[],this.g.destroy()},Y.prototype.destroy=Y.prototype.destroy,Y.prototype.request=function(e,t){var n=this;if(this.c)return X(I());t.method=t.method||"GET",t.headers=t.headers||{},t.retryParameters=t.retryParameters?H(t.retryParameters):C(),t.uris=H(t.uris);var i=J(this,e,t),r=N(i,function(){return Q(n,e,t,new P(t.retryParameters,!1),0,null)}),a=N(r,function(t){return $(n,e,t)}),o=Date.now(),s=0;i.promise.then(function(){s=Date.now()-o},function(){});var u=0;return r.promise.then(function(){u=Date.now()},function(){}),i=N(a,function(t){var i=Date.now()-u;return t.timeMs+=s,t.timeMs+=i,n.f&&!t.fromCache&&1==e&&n.f(t.timeMs,t.data.byteLength),t},function(e){throw e&&(e.severity=2),e}),W(this.g,i),X(i)},Y.prototype.request=Y.prototype.request,Z.prototype.push=function(e,t){this.a.hasOwnProperty(e)?this.a[e].push(t):this.a[e]=[t]},Z.prototype.get=function(e){return(e=this.a[e])?e.slice():null},Z.prototype.remove=function(e,t){var n=this.a[e];if(n)for(var i=0;i<n.length;++i)n[i]==t&&(n.splice(i,1),--i)},ee.prototype.destroy=function(){return ie(this),this.a=null,Promise.resolve()},ee.prototype.ka=function(e,t){if(this.a)for(var n=this.a.get(t)||[],i=0;i<n.length;++i){var r=n[i];r.target==e&&(r.ka(),this.a.remove(t,r))}},re.prototype.ka=function(){this.target.removeEventListener(this.type,this.a,!1),this.a=this.target=null},ae.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},ae.prototype.stopImmediatePropagation=function(){this.a=!0},ae.prototype.stopPropagation=function(){};var cu=1/15,fu={codecs:"codecs",frameRate:"framerate",bandwidth:"bitrate",width:"width",height:"height",channelsCount:"channels"};u("shaka.util.StringUtils.fromUTF8",me),u("shaka.util.StringUtils.fromUTF16",be),u("shaka.util.StringUtils.fromBytesAutoDetect",_e),u("shaka.util.StringUtils.toUTF8",Ee),ke.prototype.cancel=function(){null!=this.a&&(clearTimeout(this.a),this.a=null)},u("shaka.util.Uint8ArrayUtils.toBase64",Se),u("shaka.util.Uint8ArrayUtils.fromBase64",Pe),u("shaka.util.Uint8ArrayUtils.fromHex",Oe),u("shaka.util.Uint8ArrayUtils.toHex",Ce),u("shaka.util.Uint8ArrayUtils.equal",Le),u("shaka.util.Uint8ArrayUtils.concat",Re),$s=Ie.prototype,$s.destroy=function(){this.c=!0;var e=[];return this.a.forEach(function(t){t=t.ja.close().catch(ue);var n=new Promise(function(e){setTimeout(e,1e3)});e.push(Promise.race([t,n]))}),this.i.reject(),this.g&&e.push(this.g.destroy()),this.l&&e.push(this.l.setMediaKeys(null).catch(ue)),this.v&&(this.v.cancel(),this.v=null),this.H&&(this.H.cancel(),this.H=null),this.g=this.l=this.j=this.u=this.b=null,this.a=[],this.m=[],this.o=this.h=this.f=null,Promise.all(e)},$s.configure=function(e){this.f=e},$s.init=function(e,t){var n={},i=[];return this.ca=t,this.m=e.offlineSessionIds,Ne(this,e,t||0<e.offlineSessionIds.length,n,i),i.length?Ue(this,n,i):(this.M=!0,Promise.resolve())},$s.keySystem=function(){return this.b?this.b.keySystem:""},$s.qb=function(){var e=this.a.map(function(e){return e=e.ja.expiration,isNaN(e)?1/0:e});return Math.min.apply(Math,e)},$s.Bd=function(e){for(var t=new Uint8Array(e.initData),n=0;n<this.a.length;++n)if(Le(t,this.a[n].initData))return;Ke(this,e.initDataType,t)},$s.yc=function(e){this.f.delayLicenseRequestUntilPlayed&&this.l.paused&&!this.S?this.L.push(e):We(this,e)},$s.uc=function(e){e=e.target;var t;for(t=0;t<this.a.length&&this.a[t].ja!=e;++t);if(t!=this.a.length){var n=!1;e.keyStatuses.forEach(function(e,i){if("string"==typeof i){var r=i;i=e,e=r}if("com.microsoft.playready"==this.b.keySystem&&16==i.byteLength){r=new DataView(i);var a=r.getUint32(0,!0),o=r.getUint16(4,!0),s=r.getUint16(6,!0);r.setUint32(0,a,!1),r.setUint16(4,o,!1),r.setUint16(6,s,!1)}"com.microsoft.playready"==this.b.keySystem&&"status-pending"==e&&(e="usable"),"status-pending"!=e&&(this.a[t].loaded=!0,this.a.every(function(e){return e.loaded})&&this.i.resolve()),"expired"==e&&(n=!0),r=Ce(new Uint8Array(i)),this.A[r]=e}.bind(this));var i=e.expiration-Date.now();(0>i||n&&1e3>i)&&!this.a[t].oa&&(this.a.splice(t,1),e.close().catch(function(){})),Te(this.H,.5)}},$s.ie=function(){function e(e,t){return"expired"==t}!pe(this.A)&&ye(this.A,e)&&this.h(new g(2,6,6014)),this.o.tc(this.A)},$s.Md=function(){for(var e=0;e<this.L.length;e++)We(this,this.L[e]);this.S=!0,this.L=[]},$s.ge=function(){this.a.forEach(function(e){var t=e.Ob,n=e.ja.expiration;isNaN(n)&&(n=1/0),n!=t&&(this.o.onExpirationUpdated(e.ja.sessionId,n),e.Ob=n)}.bind(this))},u("shaka.text.Cue",et);var du="auto";et.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:du};var pu="center",hu={LEFT:"left",RIGHT:"right",CENTER:pu,START:"start",END:"end"};et.textAlign=hu;var yu="before",gu={BEFORE:yu,CENTER:"center",AFTER:"after"};et.displayAlign=gu;var vu=0;et.writingDirection={HORIZONTAL_LEFT_TO_RIGHT:vu,HORIZONTAL_RIGHT_TO_LEFT:1,VERTICAL_LEFT_TO_RIGHT:2,VERTICAL_RIGHT_TO_LEFT:3};var mu=0;et.lineInterpretation={LINE_NUMBER:mu,PERCENTAGE:1};var bu="center",_u={CENTER:bu,START:"start",END:"end"};et.lineAlign=_u;var Eu=400;et.fontWeight={NORMAL:Eu,BOLD:700};var Au="normal",ku={NORMAL:Au,ITALIC:"italic",OBLIQUE:"oblique"};et.fontStyle=ku,et.textDecoration={UNDERLINE:"underline",LINE_THROUGH:"lineThrough",OVERLINE:"overline"},u("shaka.text.CueRegion",tt);var Tu=1;tt.units={PX:0,PERCENTAGE:Tu,LINES:2};var wu="";tt.scrollMode={NONE:wu,UP:"up"},nt.prototype.destroy=function(){return this.a.dispose(),this.a=null,Promise.resolve()},nt.prototype.h=function(e){for(var t=0;t<e.captions.length;t++){var n=e.captions[t];this.b.push(new et(n.startTime,n.endTime,n.text))}t=new Uint8Array(e.data.byteLength+e.initSegment.byteLength),t.set(e.initSegment,0),t.set(e.data,e.initSegment.byteLength),this.f.push(t)},nt.prototype.g=function(){var e={data:Re.apply(null,this.f),cues:this.b};this.c.resolve(e)};var Su={};u("shaka.text.TextEngine.registerParser",function(e,t){Su[e]=t}),u("shaka.text.TextEngine.unregisterParser",function(e){delete Su[e]}),ot.prototype.destroy=function(){return this.c=this.f=null,Promise.resolve()},ot.prototype.ye=function(e){this.c=e},ot.prototype.setDisplayer=ot.prototype.ye,ot.prototype.Gb=function(e){var t={periodStart:0,segmentStart:null,segmentEnd:0};try{return this.f.parseMedia(new Uint8Array(e),t)[0].startTime}catch(e){throw new g(2,2,2009,e)}},ot.prototype.remove=function(e,t){return Promise.resolve().then(function(){!this.c||!this.c.remove(e,t)||null==this.a||t<=this.a||e>=this.b||(e<=this.a&&t>=this.b?this.a=this.b=null:e<=this.a&&t<this.b?this.a=t:e>this.a&&t>=this.b&&(this.b=e))}.bind(this))},ot.prototype.ec=function(e){this.c.append(e)},ot.prototype.appendCues=ot.prototype.ec,$s=ut.prototype,$s.destroy=function(){this.l=!0;var e,t=[];for(e in this.c){var n=this.c[e],i=n[0];for(this.c[e]=n.slice(0,1),i&&t.push(i.p.catch(ue)),i=1;i<n.length;++i)n[i].p.catch(ue),n[i].p.reject()}this.a&&t.push(this.a.destroy());for(var r in this.h)t.push(this.h[r].destroy());return this.f&&(this.f.removeAttribute("src"),this.f.load()),Promise.all(t).then(function(){this.i.destroy(),this.m=this.a=this.g=this.f=this.i=null,this.b={},this.h={},this.c={}}.bind(this))},$s.init=function(e){var t=this;return this.o.then(function(){for(var n in e){var i=e[n];i=ve(i.mimeType,i.codecs),"text"==n?ct(t,i):(!MediaSource.isTypeSupported(i)&&it(i,n)&&(t.h[n]=new nt,i=rt(n,i)),i=t.g.addSourceBuffer(i),te(t.i,i,"error",t.Ke.bind(t,n)),te(t.i,i,"updateend",t.Ka.bind(t,n)),t.b[n]=i,t.c[n]=[])}})},$s.Cb=function(){var e=this.a&&null!=this.a.a?[{start:this.a.a,end:this.a.b}]:[];return{total:Ze(this.f.buffered),audio:Ze(dt(this,"audio")),video:Ze(dt(this,"video")),text:e}},$s.remove=function(e,t,n){return"text"==e?this.a.remove(t,n):gt(this,e,this.Pc.bind(this,e,t,n))},$s.endOfStream=function(e){return vt(this,function(){e?this.g.endOfStream(e):this.g.endOfStream()}.bind(this))},$s.fa=function(e){return vt(this,function(){this.g.duration=e}.bind(this))},$s.R=function(){return this.g.duration},$s.Oc=function(e,t){this.b[e].appendBuffer(t)},$s.Pc=function(e,t,n){n<=t?this.Ka(e):this.b[e].remove(t,n)},$s.Wc=function(e){var t=this.b[e].appendWindowStart,n=this.b[e].appendWindowEnd;this.b[e].abort(),this.b[e].appendWindowStart=t,this.b[e].appendWindowEnd=n,this.Ka(e)},$s.ed=function(e){this.f.currentTime-=.001,this.Ka(e)},$s.Ae=function(e,t){0>t&&(t+=.001),this.b[e].timestampOffset=t,this.Ka(e)},$s.xe=function(e,t,n){this.b[e].appendWindowStart=0,this.b[e].appendWindowEnd=n,this.b[e].appendWindowStart=t,this.Ka(e)},$s.Ke=function(e){this.c[e][0].p.reject(new g(2,3,3014,this.f.error?this.f.error.code:0))},$s.Ka=function(e){var t=this.c[e][0];t&&(t.p.resolve(),mt(this,e))};var Pu=1,Ou=2,Cu={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bod:"bo",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",ces:"cs",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cym:"cy",cze:"cs",dan:"da",deu:"de",div:"dv",dut:"nl",dzo:"dz",ell:"el",eng:"en",epo:"eo",est:"et",eus:"eu",ewe:"ee",fao:"fo",fas:"fa",fij:"fj",fin:"fi",fra:"fr",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",hye:"hy",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",isl:"is",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kat:"ka",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mkd:"mk",mlg:"mg",mlt:"mt",mon:"mn",mri:"mi",msa:"ms",mya:"my",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nld:"nl",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",ron:"ro",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slk:"sk",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",sqi:"sq",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zho:"zh",zul:"zu"};u("shaka.abr.SimpleAbrManager",Vt),Vt.prototype.stop=function(){this.h=null,this.c=!1,this.g=[],this.f=null},Vt.prototype.stop=Vt.prototype.stop,Vt.prototype.init=function(e){this.h=e},Vt.prototype.init=Vt.prototype.init,Vt.prototype.chooseVariant=function(){var e=Ht(this.a.restrictions,this.g),t=this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate);if(this.g.length&&!e.length)throw new g(2,4,4012);for(var n=e[0]||null,i=0;i<e.length;++i){var r=e[i],a=(e[i+1]||{bandwidth:1/0}).bandwidth/this.a.bandwidthUpgradeTarget;t>=r.bandwidth/this.a.bandwidthDowngradeTarget&&t<=a&&(n=r)}return this.f=Date.now(),n},Vt.prototype.chooseVariant=Vt.prototype.chooseVariant,Vt.prototype.enable=function(){this.c=!0},Vt.prototype.enable=Vt.prototype.enable,Vt.prototype.disable=function(){this.c=!1},Vt.prototype.disable=Vt.prototype.disable,Vt.prototype.segmentDownloaded=function(e,t){var n=this.b;if(!(16e3>t)){var i=8e3*t/e,r=e/1e3;n.a+=t,f(n.b,r,i),f(n.c,r,i)}if(null!=this.f&&this.c)e:{if(this.i){if(Date.now()-this.f<1e3*this.a.switchInterval)break e}else{if(!(128e3<=this.b.a))break e;this.i=!0}n=this.chooseVariant(),this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate),this.h(n)}},Vt.prototype.segmentDownloaded=Vt.prototype.segmentDownloaded,Vt.prototype.getBandwidthEstimate=function(){return this.b.getBandwidthEstimate(this.a.defaultBandwidthEstimate)},Vt.prototype.getBandwidthEstimate=Vt.prototype.getBandwidthEstimate,Vt.prototype.setVariants=function(e){this.g=e},Vt.prototype.setVariants=Vt.prototype.setVariants,Vt.prototype.configure=function(e){this.a=e},Vt.prototype.configure=Vt.prototype.configure;var Lu="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),Ru="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),Iu=["loop","playbackRate"],xu=["pause","play"],Du="adaptation buffering emsg error loading streaming texttrackvisibility timelineregionadded timelineregionenter timelineregionexit trackschanged unloading".split(" "),Mu={drmInfo:20,getAudioLanguages:2,getAudioLanguagesAndRoles:2,getBufferedInfo:2,getConfiguration:2,getExpiration:2,getManifestUri:2,getPlaybackRate:2,getTextLanguages:2,getTextLanguagesAndRoles:2,getTextTracks:2,getStats:5,getUseEmbeddedTextTrack:2,getVariantTracks:2,isAudioOnly:10,isBuffering:1,isInProgress:1,isLive:10,isTextTrackVisible:1,keySystem:10,seekRange:1},Nu={getPlayheadTimeAsDate:1,getPresentationStartTimeAsDate:20},Uu=[["getConfiguration","configure"]],Bu=[["isTextTrackVisible","setTextTrackVisibility"]],ju="addTextTrack cancelTrickPlay configure resetConfiguration retryStreaming selectAudioLanguage selectEmbeddedTextTrack selectTextLanguage selectTextTrack selectVariantTrack setTextTrackVisibility trickPlay".split(" "),Fu=["load","unload"],Gu=!1,Vu=null;$s=zt.prototype,$s.destroy=function(){return Xt(this),Vu&&qt(this),this.H=this.A=this.g=null,this.b=this.h=!1,this.m=this.l=this.f=this.c=this.a=this.i=null,Promise.resolve()},$s.X=function(){return this.b},$s.Sb=function(){return this.v},$s.init=function(){if(e.chrome&&chrome.cast&&chrome.cast.isAvailable){delete e.__onGCastApiAvailable,this.h=!0,this.g();var t=new chrome.cast.SessionRequest(this.L);t=new chrome.cast.ApiConfig(t,this.sc.bind(this),this.Pd.bind(this),"origin_scoped"),chrome.cast.initialize(t,function(){},function(){}),Gu&&setTimeout(this.g.bind(this),20),(t=Vu)&&t.status!=chrome.cast.SessionStatus.STOPPED?this.sc(t):Vu=null}else e.__onGCastApiAvailable=function(e){e&&this.init()}.bind(this)},$s.Vb=function(e){this.i=e,this.b&&Jt({type:"appData",appData:this.i})},$s.cast=function(e){return this.h?Gu?this.b?Promise.reject(new g(1,8,8002)):(this.f=new S,chrome.cast.requestSession(this.Pb.bind(this,e),this.qc.bind(this)),this.f):Promise.reject(new g(1,8,8001)):Promise.reject(new g(1,8,8e3))},$s.pb=function(){this.b&&(Xt(this),Vu&&(qt(this),Vu.stop(function(){},function(){}),Vu=null))},$s.get=function(e,t){if("video"==e){if(0<=xu.indexOf(t))return this.Ec.bind(this,e,t)}else if("player"==e){if(Nu[t]&&!this.get("player","isLive")())return function(){};if(0<=ju.indexOf(t))return this.Ec.bind(this,e,t);if(0<=Fu.indexOf(t))return this.me.bind(this,e,t);if(Mu[t])return this.Bc.bind(this,e,t)}return this.Bc(e,t)},$s.set=function(e,t,n){this.a[e][t]=n,Jt({type:"set",targetName:e,property:t,value:n})},$s.Pb=function(e,t){Vu=t,t.addUpdateListener(this.l),t.addMessageListener("urn:x-cast:com.google.shaka.v2",this.m),this.rc(),Jt({type:"init",initState:e,appData:this.i}),this.f.resolve()},$s.qc=function(e){var t=8003;switch(e.code){case"cancel":t=8004;break;case"timeout":t=8005;break;case"receiver_unavailable":t=8006}this.f.reject(new g(2,8,t,e))},$s.Bc=function(e,t){return this.a[e][t]},$s.Ec=function(e,t){Jt({type:"call",targetName:e,methodName:t,args:Array.prototype.slice.call(arguments,2)})},$s.me=function(e,t){var n=Array.prototype.slice.call(arguments,2),i=new S,r=this.o.toString();return this.o++,this.c[r]=i,Jt({type:"asyncCall",targetName:e,methodName:t,args:n,id:r}),i},$s.sc=function(e){var t=this.u();this.f=new S,this.j=!0,this.Pb(t,e)},$s.Pd=function(e){Gu="available"==e,this.g()},$s.rc=function(){var e=!!Vu&&"connected"==Vu.status;if(this.b&&!e){this.H();for(var t in this.a)this.a[t]={};Xt(this)}this.v=(this.b=e)?Vu.receiver.friendlyName:"",this.g()},$s.Id=function(e,t){var n=Wt(t);switch(n.type){case"event":var i=n.event;this.A(n.targetName,new ae(i.type,i));break;case"update":i=n.update;for(var r in i){n=this.a[r]||{};for(var a in i[r])n[a]=i[r][a]}this.j&&(this.M(),this.j=!1);break;case"asyncComplete":if(r=n.id,n=n.error,a=this.c[r],delete this.c[r],a)if(n){r=new g(n.severity,n.category,n.code);for(i in n)r[i]=n[i];a.reject(r)}else a.resolve()}},Qt.prototype.addEventListener=function(e,t){this.yb.push(e,t)},Qt.prototype.removeEventListener=function(e,t){this.yb.remove(e,t)},Qt.prototype.dispatchEvent=function(e){for(var t=this.yb.get(e.type)||[],n=0;n<t.length;++n){e.target=this.gb,e.currentTarget=this.gb;var i=t[n];try{i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(e){}if(e.a)break}return e.defaultPrevented},l($t,Qt),u("shaka.cast.CastProxy",$t),$t.prototype.destroy=function(e){return e&&this.a&&this.a.pb(),e=[this.i?this.i.destroy():null,this.b?this.b.destroy():null,this.a?this.a.destroy():null],this.a=this.i=this.j=this.h=this.b=this.c=null,Promise.all(e)},$t.prototype.destroy=$t.prototype.destroy,$t.prototype.ud=function(){return this.h},$t.prototype.getVideo=$t.prototype.ud,$t.prototype.ld=function(){return this.j},$t.prototype.getPlayer=$t.prototype.ld,$t.prototype.Xc=function(){return!!this.a&&(this.a.h&&Gu)},$t.prototype.canCast=$t.prototype.Xc,$t.prototype.X=function(){return!!this.a&&this.a.X()},$t.prototype.isCasting=$t.prototype.X,$t.prototype.Sb=function(){return this.a?this.a.Sb():""},$t.prototype.receiverName=$t.prototype.Sb,$t.prototype.cast=function(){var e=this.jc();return this.a.cast(e).then(function(){if(this.b)return this.b.wb()}.bind(this))},$t.prototype.cast=$t.prototype.cast,$t.prototype.Vb=function(e){this.a.Vb(e)},$t.prototype.setAppData=$t.prototype.Vb,$t.prototype.Me=function(){var e=this.a;if(e.b){var t=e.u();chrome.cast.requestSession(e.Pb.bind(e,t),e.qc.bind(e))}},$t.prototype.suggestDisconnect=$t.prototype.Me,$t.prototype.pb=function(){this.a.pb()},$t.prototype.forceDisconnect=$t.prototype.pb,$s=$t.prototype,$s.jc=function(){var e={video:{},player:{},playerAfterLoad:{},manifest:this.b.Eb(),startTime:null};return this.c.pause(),Iu.forEach(function(t){e.video[t]=this.c[t]}.bind(this)),this.c.ended||(e.startTime=this.c.currentTime),Uu.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.player[n]=t}.bind(this)),Bu.forEach(function(t){var n=t[1];t=this.b[t[0]](),e.playerAfterLoad[n]=t}.bind(this)),e},$s.Fe=function(){this.dispatchEvent(new ae("caststatuschanged"))},$s.Ge=function(){this.f.dispatchEvent(new ae(this.h.paused?"pause":"play"))},$s.Ie=function(){var e=this;Uu.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(this));var t=this.a.get("player","getManifestUri")(),n=this.a.get("video","ended"),i=Promise.resolve(),r=this.c.autoplay,a=null;n||(a=this.a.get("video","currentTime")),t&&(this.c.autoplay=!1,i=this.b.load(t,a));var o={};Iu.forEach(function(e){o[e]=this.a.get("video",e)}.bind(this)),i.then(function(){e.c&&(Iu.forEach(function(e){this.c[e]=o[e]}.bind(e)),Bu.forEach(function(e){var t=e[1];e=this.a.get("player",e[0])(),this.b[t](e)}.bind(e)),e.c.autoplay=r,t&&e.c.play())},function(t){e.b.dispatchEvent(new ae("error",{detail:t}))})},$s.Se=function(e){if("addEventListener"==e)return this.f.addEventListener.bind(this.f);if("removeEventListener"==e)return this.f.removeEventListener.bind(this.f);if(this.a.X()&&0==Object.keys(this.a.a.video).length){var t=this.c[e];if("function"!=typeof t)return t}return this.a.X()?this.a.get("video",e):(e=this.c[e],"function"==typeof e&&(e=e.bind(this.c)),e)},$s.Ue=function(e,t){this.a.X()?this.a.set("video",e,t):this.c[e]=t},$s.Te=function(e){this.a.X()||this.f.dispatchEvent(new ae(e.type,e))},$s.de=function(e){return"addEventListener"==e?this.g.addEventListener.bind(this.g):"removeEventListener"==e?this.g.removeEventListener.bind(this.g):"getMediaElement"==e?function(){return this.h}.bind(this):"getNetworkingEngine"==e?this.b.kc.bind(this.b):"getManifest"==e?this.a.X()?function(){return null}:this.b.ta.bind(this.b):this.a.X()&&0==Object.keys(this.a.a.video).length&&Mu[e]||!this.a.X()?this.b[e].bind(this.b):this.a.get("player",e)},$s.ee=function(e){this.a.X()||this.g.dispatchEvent(e)},$s.He=function(e,t){this.a.X()&&("video"==e?this.f.dispatchEvent(t):"player"==e&&this.g.dispatchEvent(t))},l(en,Qt),u("shaka.cast.CastReceiver",en),en.prototype.isConnected=function(){return this.o},en.prototype.isConnected=en.prototype.isConnected,en.prototype.wd=function(){return this.h},en.prototype.isIdle=en.prototype.wd,en.prototype.destroy=function(){var t=[this.c?this.c.destroy():null,this.b?this.b.destroy():null];return null!=this.l&&e.clearTimeout(this.l),this.v=this.u=this.c=this.b=this.a=null,this.o=!1,this.h=!0,this.l=this.i=this.f=null,Promise.all(t).then(function(){cast.receiver.CastReceiverManager.getInstance().stop()})},en.prototype.destroy=en.prototype.destroy,$s=en.prototype,$s.xc=function(){this.g=0,this.j=!0,this.o=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,nn(this)},$s.Cc=function(e,t){this.b&&(this.Qb(),sn(this,{type:"event",targetName:e,event:t},this.f))},$s.Qb=function(){null!=this.l&&e.clearTimeout(this.l),this.l=e.setTimeout(this.Qb.bind(this),500);var t={video:{},player:{}};if(Ru.forEach(function(e){t.video[e]=this.a[e]}.bind(this)),this.b.O())for(var n in Nu)0==this.g%Nu[n]&&(t.player[n]=this.b[n]());for(var i in Mu)0==this.g%Mu[i]&&(t.player[i]=this.b[i]());(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(t.video.volume=n.level,t.video.muted=n.muted),this.m&&(this.g+=1),sn(this,{type:"update",update:t},this.f),an(this)},$s.dd=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&sn(this,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},this.f),sn(this,{type:"event",targetName:"video",event:{type:"volumechange"}},this.f)},$s.Sd=function(e){var t=Wt(e.data);switch(t.type){case"init":this.g=0,this.m=!1,this.j=!0,rn(this,t.initState,t.appData),this.Qb();break;case"appData":this.v(t.appData);break;case"set":var n=t.targetName,i=t.property;if(t=t.value,"video"==n){var r=cast.receiver.CastReceiverManager.getInstance();if("volume"==i){r.setSystemVolumeLevel(t);break}if("muted"==i){r.setSystemVolumeMuted(t);break}}this.u[n][i]=t;break;case"call":n=this.u[t.targetName],n[t.methodName].apply(n,t.args);break;case"asyncCall":n=t.targetName,i=t.methodName,"player"==n&&"load"==i&&(this.g=0,this.m=!1),r=t.id,e=e.senderId;var a=this.u[n];t=a[i].apply(a,t.args),"player"==n&&"load"==i&&(t=t.then(function(){this.j=!0}.bind(this))),t.then(this.Jc.bind(this,e,r,null),this.Jc.bind(this,e,r))}},$s.Dd=function(e){var t=Wt(e.data);switch(t.type){case"PLAY":this.a.play(),un(this,0);break;case"PAUSE":this.a.pause(),un(this,0);break;case"SEEK":e=t.currentTime;var n=t.resumeState;null!=e&&(this.a.currentTime=Number(e)),n&&"PLAYBACK_START"==n?(this.a.play(),un(this,0)):n&&"PLAYBACK_PAUSE"==n&&(this.a.pause(),un(this,0));break;case"STOP":this.b.wb().then(function(){this.b&&un(this,0)}.bind(this));break;case"GET_STATUS":un(this,Number(t.requestId));break;case"VOLUME":n=t.volume,e=n.level,n=n.muted;var i=this.a.volume,r=this.a.muted;null!=e&&(this.a.volume=Number(e)),null!=n&&(this.a.muted=n),i==this.a.volume&&r==this.a.muted||un(this,0);break;case"LOAD":this.g=0,this.j=this.m=!1,e=t.currentTime,n=this.A(t.media.contentId),this.a.autoplay=!0,this.b.load(n,e).then(function(){this.b&&on(this)}.bind(this)).catch(function(e){var n="LOAD_FAILED";7==e.category&&7e3==e.code&&(n="LOAD_CANCELLED"),sn(this,{requestId:Number(t.requestId),type:n},this.i)}.bind(this));break;default:sn(this,{requestId:Number(t.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},this.i)}},$s.Jc=function(e,t,n){this.b&&sn(this,{type:"asyncComplete",id:t,error:n},this.f,e)};var Hu={IDLE:"IDLE",Uc:"PLAYING",Rc:"BUFFERING",Tc:"PAUSED"},Ku={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};u("shaka.media.InitSegmentReference",Rn),Rn.prototype.Ab=function(){return this.W()},Rn.prototype.createUris=Rn.prototype.Ab,Rn.prototype.Fb=function(){return this.K},Rn.prototype.getStartByte=Rn.prototype.Fb,Rn.prototype.Db=function(){return this.C},Rn.prototype.getEndByte=Rn.prototype.Db,u("shaka.media.SegmentReference",In),In.prototype.U=function(){return this.position},In.prototype.getPosition=In.prototype.U,In.prototype.Gb=function(){return this.startTime},In.prototype.getStartTime=In.prototype.Gb,In.prototype.hd=function(){return this.endTime},In.prototype.getEndTime=In.prototype.hd,In.prototype.Ab=function(){return this.W()},In.prototype.createUris=In.prototype.Ab,In.prototype.Fb=function(){return this.K},In.prototype.getStartByte=In.prototype.Fb,In.prototype.Db=function(){return this.C},In.prototype.getEndByte=In.prototype.Db,u("shaka.util.DataViewReader",xn);var Wu=1;xn.Endianness={We:0,Ze:Wu},xn.prototype.da=function(){return this.a<this.G.byteLength},xn.prototype.hasMoreData=xn.prototype.da,xn.prototype.U=function(){return this.a},xn.prototype.getPosition=xn.prototype.U,xn.prototype.jd=function(){return this.G.byteLength},xn.prototype.getLength=xn.prototype.jd,xn.prototype.$=function(){try{var e=this.G.getUint8(this.a);return this.a+=1,e}catch(e){Dn()}},xn.prototype.readUint8=xn.prototype.$,xn.prototype.Ya=function(){try{var e=this.G.getUint16(this.a,this.b);return this.a+=2,e}catch(e){Dn()}},xn.prototype.readUint16=xn.prototype.Ya,xn.prototype.D=function(){try{var e=this.G.getUint32(this.a,this.b);return this.a+=4,e}catch(e){Dn()}},xn.prototype.readUint32=xn.prototype.D,xn.prototype.Dc=function(){try{var e=this.G.getInt32(this.a,this.b);return this.a+=4,e}catch(e){Dn()}},xn.prototype.readInt32=xn.prototype.Dc,xn.prototype.Oa=function(){try{if(this.b)var e=this.G.getUint32(this.a,!0),t=this.G.getUint32(this.a+4,!0);else t=this.G.getUint32(this.a,!1),e=this.G.getUint32(this.a+4,!1)}catch(e){Dn()}if(2097151<t)throw new g(2,3,3001);return this.a+=8,t*Math.pow(2,32)+e},xn.prototype.readUint64=xn.prototype.Oa,xn.prototype.Na=function(e){this.a+e>this.G.byteLength&&Dn();var t=new Uint8Array(this.G.buffer,this.G.byteOffset+this.a,e);return this.a+=e,new Uint8Array(t)},xn.prototype.readBytes=xn.prototype.Na,xn.prototype.F=function(e){this.a+e>this.G.byteLength&&Dn(),this.a+=e},xn.prototype.skip=xn.prototype.F,xn.prototype.Hc=function(e){this.a<e&&Dn(),this.a-=e},xn.prototype.rewind=xn.prototype.Hc,xn.prototype.seek=function(e){(0>e||e>this.G.byteLength)&&Dn(),this.a=e},xn.prototype.seek=xn.prototype.seek,xn.prototype.Rb=function(){for(var e=this.a;this.da()&&0!=this.G.getUint8(this.a);)this.a+=1;return e=new Uint8Array(this.G.buffer,this.G.byteOffset+e,this.a-e),this.a+=1,me(e)},xn.prototype.readTerminatedString=xn.prototype.Rb,u("shaka.util.Mp4Parser",Mn),Mn.prototype.B=function(e,t){var n=jn(e);return this.c[n]=0,this.b[n]=t,this},Mn.prototype.box=Mn.prototype.B,Mn.prototype.V=function(e,t){var n=jn(e);return this.c[n]=1,this.b[n]=t,this},Mn.prototype.fullBox=Mn.prototype.V,Mn.prototype.stop=function(){this.a=!0},Mn.prototype.stop=Mn.prototype.stop,Mn.prototype.parse=function(e,t){var n=new Uint8Array(e);for(n=new xn(new DataView(n.buffer,n.byteOffset,n.byteLength),0),this.a=!1;n.da()&&!this.a;)this.ub(0,n,t)},Mn.prototype.parse=Mn.prototype.parse,Mn.prototype.ub=function(e,t,n){var i=t.U(),r=t.D(),a=t.D();switch(r){case 0:r=t.G.byteLength-i;break;case 1:r=t.Oa()}var o=this.b[a];if(o){var s=null,u=null;1==this.c[a]&&(u=t.D(),s=u>>>24,u&=16777215),a=i+r,n&&a>t.G.byteLength&&(a=t.G.byteLength),a-=t.U(),t=0<a?t.Na(a):new Uint8Array(0),t=new xn(new DataView(t.buffer,t.byteOffset,t.byteLength),0),o({ia:this,Ac:n||!1,version:s,flags:u,s:t,size:r,start:i+e})}else t.F(i+r-t.U())},Mn.prototype.parseNext=Mn.prototype.ub,Mn.children=Nn,Mn.sampleDescription=Un,Mn.allData=Bn,u("shaka.media.SegmentIndex",Vn),Vn.prototype.destroy=function(){return this.a=null,Promise.resolve()},Vn.prototype.destroy=Vn.prototype.destroy,Vn.prototype.find=function(e){for(var t=this.a.length-1;0<=t;--t){var n=this.a[t];if(e>=n.startTime&&e<n.endTime)return n.position}return this.a.length&&e<this.a[0].startTime?this.a[0].position:null},Vn.prototype.find=Vn.prototype.find,Vn.prototype.get=function(e){return 0==this.a.length?null:(e-=this.a[0].position,0>e||e>=this.a.length?null:this.a[e])},Vn.prototype.get=Vn.prototype.get,Vn.prototype.offset=function(e){for(var t=0;t<this.a.length;++t)this.a[t].startTime+=e,this.a[t].endTime+=e},Vn.prototype.offset=Vn.prototype.offset,Vn.prototype.Lb=function(e){for(var t=[],n=0,i=0;n<this.a.length&&i<e.length;){var r=this.a[n],a=e[i];r.startTime<a.startTime?(t.push(r),n++):(r.startTime>a.startTime?0==n&&t.push(a):(.1<Math.abs(r.endTime-a.endTime)?t.push(new In(r.position,a.startTime,a.endTime,a.W,a.K,a.C)):t.push(r),n++),i++)}for(;n<this.a.length;)t.push(this.a[n++]);if(t.length)for(n=t[t.length-1].position+1;i<e.length;)r=e[i++],r=new In(n++,r.startTime,r.endTime,r.W,r.K,r.C),t.push(r);else t=e;this.a=t},Vn.prototype.merge=Vn.prototype.Lb,Vn.prototype.Bb=function(e){for(var t=0;t<this.a.length;++t)if(this.a[t].endTime>e)return void this.a.splice(0,t);this.a=[]},Vn.prototype.evict=Vn.prototype.Bb;var Yu;Kn.prototype.da=function(){return this.a.da()},Xn.prototype.parse=function(e,t,n,i){var r;if(t=new Kn(new DataView(t)),440786851!=Wn(t).id)throw new g(2,3,3008);var a=Wn(t);if(408125543!=a.id)throw new g(2,3,3009);for(t=a.a.byteOffset,a=new Kn(a.a),r=null;a.da();){var o=Wn(a);if(357149030==o.id){r=o;break}}if(!r)throw new g(2,3,3010);for(a=new Kn(r.a),r=1e6,o=null;a.da();){var s=Wn(a);if(2807729==s.id)r=qn(s);else if(17545==s.id)if(o=s,4==o.a.byteLength)o=o.a.getFloat32(0);else{if(8!=o.a.byteLength)throw new g(2,3,3003);o=o.a.getFloat64(0)}}if(null==o)throw new g(2,3,3011);if(a=r/1e9,r=o*a,e=Wn(new Kn(new DataView(e))),475249515!=e.id)throw new g(2,3,3007);return Jn(e,t,a,r,n,i)};var zu={},qu={};u("shaka.media.ManifestParser.registerParserByExtension",function(e,t){qu[e]=t}),u("shaka.media.ManifestParser.registerParserByMime",function(e,t){zu[e]=t}),u("shaka.media.PresentationTimeline",pi),pi.prototype.R=function(){return this.a},pi.prototype.getDuration=pi.prototype.R,pi.prototype.fa=function(e){this.a=e},pi.prototype.setDuration=pi.prototype.fa,pi.prototype.nd=function(){return this.c},pi.prototype.getPresentationStartTime=pi.prototype.nd,pi.prototype.Lc=function(e){this.j=e},pi.prototype.setClockOffset=pi.prototype.Lc,pi.prototype.vb=function(e){this.i=e},pi.prototype.setStatic=pi.prototype.vb,pi.prototype.Xb=function(e){this.f=e},pi.prototype.setSegmentAvailabilityDuration=pi.prototype.Xb,pi.prototype.Mc=function(e){this.l=e},pi.prototype.setDelay=pi.prototype.Mc,pi.prototype.Wa=function(e,t){0!=e.length&&(t&&(this.g=Math.max(this.g,e[0].startTime)),this.b=e.reduce(function(e,t){return Math.max(e,t.endTime-t.startTime)},this.b))},pi.prototype.notifySegments=pi.prototype.Wa,pi.prototype.tb=function(e){this.b=Math.max(this.b,e)},pi.prototype.notifyMaxSegmentDuration=pi.prototype.tb,pi.prototype.O=function(){return 1/0==this.a&&!this.i},pi.prototype.isLive=pi.prototype.O,pi.prototype.ua=function(){return 1/0!=this.a&&!this.i},pi.prototype.isInProgress=pi.prototype.ua,pi.prototype.Ha=function(){if(1/0==this.f)return this.h;var e=this.Ga()-this.f;return Math.max(this.h,e)},pi.prototype.getSegmentAvailabilityStart=pi.prototype.Ha,pi.prototype.Kc=function(e){this.h=e},pi.prototype.setAvailabilityStart=pi.prototype.Kc,pi.prototype.Ga=function(){return this.O()||this.ua()?Math.min(Math.max(0,(Date.now()+this.j)/1e3-this.b-this.c),this.a):this.a},pi.prototype.getSegmentAvailabilityEnd=pi.prototype.Ga,pi.prototype.Ea=function(e){1/0==this.f&&(e=0);var t=this.Ga();return e=Math.min(this.g+e,t),Math.max(this.Ha(),e)},pi.prototype.getSafeSeekRangeStart=pi.prototype.Ea,pi.prototype.Ta=function(){return this.Ea(0)},pi.prototype.getSeekRangeStart=pi.prototype.Ta,pi.prototype.Fa=function(){var e=this.O()||this.ua()?this.l:0;return Math.max(0,this.Ga()-e)},pi.prototype.getSeekRangeEnd=pi.prototype.Fa,u("shaka.dash.DashParser",hi),$s=hi.prototype,$s.configure=function(e){this.b=e},$s.start=function(e,t){return this.h=[e],this.a=t,yi(this).then(function(){return this.a&&Ai(this,0),this.c}.bind(this))},$s.stop=function(){return this.b=this.a=null,this.h=[],this.c=null,this.j=[],this.l={},null!=this.g&&(e.clearTimeout(this.g),this.g=null),this.f.destroy()},$s.update=function(){yi(this).catch(function(e){this.a&&this.a.onError(e)}.bind(this))},$s.onExpirationUpdated=function(){},$s.$d=function(e,t){e.T=ki(t,e.Z,null);var n=!1,i=cn(t,"Role"),r=i.map(function(e){return e.getAttribute("value")}).filter(le),a=void 0;"text"==e.T.contentType&&(a="subtitle");for(var o=0;o<i.length;o++){var s=i[o].getAttribute("schemeIdUri");if(null==s||"urn:mpeg:dash:role:2011"==s)switch(s=i[o].getAttribute("value")){case"main":n=!0;break;case"caption":case"subtitle":a=s}}var u=null,l=!1;if(cn(t,"EssentialProperty").forEach(function(e){"http://dashif.org/guidelines/trickmode"==e.getAttribute("schemeIdUri")?u=e.getAttribute("value"):l=!0}),l)return null;i=cn(t,"ContentProtection");var c=_n(i,this.b.dash.customScheme,this.b.dash.ignoreDrmInfo);if(i=_t(t.getAttribute("lang")||"und"),s=t.getAttribute("label"),o=cn(t,"Representation"),r=o.map(this.ce.bind(this,e,c,a,i,s,n,r)).filter(function(e){return!!e}),0==r.length)throw new g(2,4,4003);return e.T.contentType&&"application"!=e.T.contentType||(e.T.contentType=Oi(r[0].mimeType,r[0].codecs),r.forEach(function(t){t.type=e.T.contentType})),r.forEach(function(e){c.drmInfos.forEach(function(t){e.keyId&&t.keyIds.push(e.keyId)})}),a=o.map(function(e){return e.getAttribute("id")}).filter(le),{id:e.T.id||"__fake__"+this.i++,contentType:e.T.contentType,language:i,Jb:n,streams:r,drmInfos:c.drmInfos,ac:u,ne:a}},$s.ce=function(e,t,n,i,r,a,o,s){if(e.w=ki(s,e.T,null),!wi(e.w))return null;e.bandwidth=dn(s,"bandwidth",vn)||0;var u=this.oe.bind(this);if(e.w.Za)u=Zn(e,u);else if(e.w.na)u=ni(e,this.l);else if(e.w.ab)u=oi(e,u,this.l,!!this.c);else{var l=e.w.ba,c=e.N.duration||0;u={createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(e){return 0<=e&&e<c?1:null},getSegmentReference:function(e){return 1!=e?null:new In(1,0,c,function(){return l},0,null)},initSegmentReference:null,aa:0}}return s=cn(s,"ContentProtection"),s=En(s,this.b.dash.customScheme,t,this.b.dash.ignoreDrmInfo),{id:this.i++,createSegmentIndex:u.createSegmentIndex,findSegmentPosition:u.findSegmentPosition,getSegmentReference:u.getSegmentReference,initSegmentReference:u.initSegmentReference,presentationTimeOffset:u.aa,mimeType:e.w.mimeType,codecs:e.w.codecs,frameRate:e.w.frameRate,bandwidth:e.bandwidth,width:e.w.width,height:e.w.height,kind:n,encrypted:0<t.drmInfos.length,keyId:s,language:i,label:r,type:e.T.contentType,primary:a,trickModeVideo:null,containsEmsgBoxes:e.w.containsEmsgBoxes,roles:o,channelsCount:e.w.Nb}},$s.Je=function(){this.g=null;var e=Date.now();yi(this).then(function(){this.a&&Ai(this,(Date.now()-e)/1e3)}.bind(this)).catch(function(e){this.a&&(e.severity=1,this.a.onError(e),Ai(this,0))}.bind(this))},$s.be=function(e,t,n){var i=n.getAttribute("schemeIdUri")||"",r=n.getAttribute("value")||"",a=dn(n,"timescale",mn)||1;cn(n,"Event").forEach(function(n){var o=dn(n,"presentationTime",mn)||0,s=dn(n,"duration",mn)||0;o=o/a+e,s=o+s/a,null!=t&&(o=Math.min(o,e+t),s=Math.min(s,e+t)),n={schemeIdUri:i,value:r,startTime:o,endTime:s,id:n.getAttribute("id")||"",eventElement:n},this.a.onTimelineRegionAdded(n)}.bind(this))},$s.oe=function(e,t,n){return e=q(e,this.b.retryParameters),null!=t&&(e.headers.Range="bytes="+t+"-"+(null!=n?n:"")),t=this.a.networkingEngine.request(1,e),W(this.f,t),t.promise.then(function(e){return e.data})},qu.mpd=hi,zu["application/dash+xml"]=hi,Li.prototype.toString=function(){function e(e){return e.name+'="'+e.value+'"'}return this.value?"#"+this.name+":"+this.value:0<this.a.length?"#"+this.name+":"+this.a.map(e).join(","):"#"+this.name},Li.prototype.getAttribute=function(e){var t=this.a.filter(function(t){return t.name==e});return t.length?t[0]:null};var Xu="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-MAP EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST".split(" "),Ju="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE".split(" ");u("shaka.net.DataUriPlugin",Yi),Yi.parse=function(t){var n=t.split(":");if(2>n.length||"data"!=n[0])throw new g(2,1,1004,t);if(n=n.slice(1).join(":").split(","),2>n.length)throw new g(2,1,1004,t);var i=n[0];n=e.decodeURIComponent(n.slice(1).join(",")),i=i.split(";");var r=null;if(1<i.length&&(r=i[1]),"base64"==r)t=Pe(n).buffer;else{if(r)throw new g(2,1,1005,t);t=Ee(n)}return{data:t,contentType:i[0]}},z("data",Yi),u("shaka.hls.HlsParser",zi),$s=zi.prototype,$s.configure=function(e){this.h=e},$s.start=function(e,t){return this.c=t,this.l=e,vr(this,e).then(function(t){return Xi(this,t.data,e).then(function(){return mr(this,this.i),this.m}.bind(this))}.bind(this))},$s.stop=function(){return this.h=this.c=null,this.v={},this.H={},this.m=null,this.o.destroy()},$s.update=function(){if(this.f!=tl.la){var e,t=[];for(e in this.a)t.push(qi(this,this.a[e],e));return Promise.all(t)}},$s.onExpirationUpdated=function(){};var Qu={audio:[/^vorbis$/,/^opus$/,/^flac$/,/^mp4a/,/^[ae]c-3$/],video:[/^avc/,/^hev/,/^hvc/,/^vp0?[89]/,/^av1$/],text:[/^vtt$/,/^wvtt/,/^stpp/]},$u={audio:{mp4:"audio/mp4",m4s:"audio/mp4",m4i:"audio/mp4",m4a:"audio/mp4",ts:"video/mp2t"},video:{mp4:"video/mp4",m4s:"video/mp4",m4i:"video/mp4",m4v:"video/mp4",ts:"video/mp2t"},text:{mp4:"application/mp4",m4s:"application/mp4",m4i:"application/mp4",vtt:"text/vtt",ttml:"application/ttml+xml"}};zi.prototype.M=function(){this.c&&(this.j=null,this.update().then(function(){mr(this,this.i)}.bind(this)).catch(function(e){this.c&&(e.severity=1,this.c.onError(e),mr(this,0))}.bind(this)))};var Zu={"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":function(e){var t=yr(e,"METHOD");return"SAMPLE-AES-CENC"!=t&&"SAMPLE-AES-CTR"!=t?null:(t=yr(e,"URI"),t=Yi.parse(t),t=new Uint8Array(t.data),t=de("com.widevine.alpha",[{initDataType:"cenc",initData:t}]),(e=Ii(e,"KEYID"))&&(t.keyIds=[e.substr(2).toLowerCase()]),t)}},el="VOD",tl={la:el,Sc:"EVENT",cc:"LIVE"};qu.m3u8=zi,zu["application/x-mpegurl"]=zi,zu["application/vnd.apple.mpegurl"]=zi,_r.prototype.destroy=function(){var e=this.h.destroy();return this.v=this.u=this.a=this.h=null,null!=this.b&&(this.b.cancel(),this.b=null),e},_r.prototype.Xa=function(){this.f=!0,this.l()},_r.prototype.l=function(){if(0!=this.a.readyState){if(this.a.seeking){if(!this.g)return}else this.g=!1;if(!this.a.paused){this.a.readyState!=this.m&&(this.c=!1,this.m=this.a.readyState);var e=this.o.smallGapLimit,t=this.a.currentTime,n=this.a.buffered;e:{if(n&&n.length&&!(1==n.length&&1e-6>n.end(0)-n.start(0))){var i=.1;/(Edge\/|Trident\/|Tizen)/.test(navigator.userAgent)&&(i=.5);for(var r=0;r<n.length;r++)if(n.start(r)>t&&(0==r||n.end(r-1)-t<=i)){i=r;break e}}i=null}if(null==i){if(n=this.a.currentTime,t=this.a.buffered,3>this.a.readyState&&0<this.a.playbackRate)if(this.j!=n)this.j=n,this.A=Date.now(),this.i=!1;else if(!this.i&&this.A<Date.now()-1e3)for(i=0;i<t.length;i++)if(n>=t.start(i)&&n<t.end(i)-.5){this.a.currentTime+=.1,this.j=this.a.currentTime,this.i=!0;break}}else if(0!=i||this.f){r=n.start(i);var a=this.u.presentationTimeline.Fa();if(!(r>=a)){a=r-t,e=a<=e;var o=!1;.001>a||(e||this.c||(this.c=!0,t=new ae("largegap",{currentTime:t,gapSize:a}),t.cancelable=!0,this.v(t),this.o.jumpLargeGaps&&!t.defaultPrevented&&(o=!0)),!e&&!o)||(0!=i&&n.end(i-1),this.a.currentTime=r)}}}}},$s=Er.prototype,$s.destroy=function(){var e=this.b.destroy();return this.b=null,null!=this.c&&(this.c.cancel(),this.c=null),null!=this.f&&(this.f.cancel(),this.f=null),this.j=this.a=null,e},$s.Sa=function(){return this.g},$s.Od=function(){var e=this.h||0>this.g?0:this.g;this.a.playbackRate&&this.a.playbackRate!=e&&Tr(this,this.a.playbackRate)},$s.vc=function(){this.b.ka(this.a,"timeupdate"),this.f.cancel(),.001>Math.abs(this.a.currentTime-this.i)?this.wc():(ne(this.b,this.a,"seeking",this.wc.bind(this)),this.a.currentTime=this.i)},$s.wc=function(){var e=this;te(this.b,this.a,"seeking",function(){return e.j()})},$s.Ad=function(){this.i=this.a.currentTime,this.j()},$s=Sr.prototype,$s.destroy=function(){var e=Promise.all([this.a.destroy(),this.g.destroy()]);return this.g=this.a=null,null!=this.f&&(this.f.cancel(),this.f=null),this.i=this.h=this.c=this.b=null,e},$s.Sa=function(){return this.a.Sa()},$s.Xa=function(){this.g.Xa()},$s.Nd=function(){if(0!=this.b.readyState&&!this.b.seeking&&!this.b.paused){var e=this.b.currentTime;e<this.c.presentationTimeline.Ta()&&(e=Cr(this,e),this.b.currentTime=e)}},$s.Qd=function(){var e=this.g;e.g=!0,e.f=!1,e.c=!1,e=Ar(this.a);var t=Cr(this,e);.001<Math.abs(t-e)?kr(this.a,t):this.i()},Rr.prototype.destroy=function(){var e=this.j?this.j.destroy():Promise.resolve();return this.j=null,Dr(this),this.A=this.h=this.l=this.u=this.g=this.v=this.a=null,this.c=[],e},Rr.prototype.o=function(e){if(!this.c.some(function(t){return t.info.schemeIdUri==e.schemeIdUri&&t.info.startTime==e.startTime&&t.info.endTime==e.endTime})){var t={info:e,status:1};this.c.push(t);var n=new ae("timelineregionadded",{detail:Ir(e)});this.h(n),this.m(!0,t)}},Rr.prototype.m=function(e,t){var n=t.info.startTime>this.a.currentTime?1:t.info.endTime<this.a.currentTime?3:2,i=2==t.status,r=2==n;n!=t.status&&((!e||i||r)&&(i||this.h(new ae("timelineregionenter",{detail:Ir(t.info)})),r||this.h(new ae("timelineregionexit",{detail:Ir(t.info)}))),t.status=n)},Rr.prototype.H=function(){this.f=null,xr(this);var e=Ft(this.g,this.a.currentTime);e!=this.i&&(-1!=this.i&&this.A(),this.i=e),e=$e(this.a.buffered,this.a.currentTime);var t=Je(this.a.buffered),n=this.g.presentationTimeline,i=n.Ga();t=n.O()&&t>=i,n=this.v,n=!n.g||"ended"==n.g.readyState,t=t||this.a.ended||n,this.b?(n=1*Math.max(this.g.minBufferTime||0,this.u.rebufferingGoal),(t||e>=n)&&0!=this.b&&(this.b=!1,this.l(!1))):!t&&.5>e&&1!=this.b&&(this.b=!0,this.l(!0)),this.c.forEach(this.m.bind(this,!1))},$s=Mr.prototype,$s.destroy=function(){for(var e in this.c)fa(this.c[e]);return this.h=this.c=this.j=this.g=this.m=this.b=this.a=null,this.f=!0,Promise.resolve()},$s.configure=function(e){this.h=e,this.A=new P({maxAttempts:Math.max(e.retryParameters.maxAttempts,2),baseDelay:e.retryParameters.baseDelay,backoffFactor:e.retryParameters.backoffFactor,fuzzFactor:e.retryParameters.fuzzFactor,timeout:0},!0)},$s.init=function(){var e=Pr(this.a.La);return e=this.a.pc(this.b.periods[Ft(this.b,e)]),e.variant||e.text?qr(this,e).then(function(){!this.f&&this.a&&this.a.Ed&&this.a.Ed()}.bind(this)):Promise.reject(new g(2,5,5005))},$s.Le=function(e){if(!this.f&&!e.wa&&null!=e.pa&&!e.ra)if(e.pa=null,e.qa)la(this,e,e.xb);else{try{var t=$r(this,e);null!=t&&(ca(this,e,t),e.Ua=!1)}catch(e){return void da(this,e)}t=he(this.c),oa(this,e),t.every(function(e){return e.endOfStream})&&this.a.J.endOfStream().then(function(){if(!this.f){var e=this.a.J.R();e<this.b.presentationTimeline.R()&&this.b.presentationTimeline.fa(e)}}.bind(this))}},$s.ae=function(e,t,n){var i=n.s.Rb(),r=n.s.Rb(),a=n.s.D(),o=n.s.D(),s=n.s.D(),u=n.s.D(),l=n.s.Na(n.s.G.byteLength-n.s.U());e=e.startTime+t.startTime+o/a,"urn:mpeg:dash:event:2012"==i?this.a.Gd():this.a.onEvent(new ae("emsg",{detail:{startTime:e,endTime:e+s/a,schemeIdUri:i,value:r,timescale:a,presentationTimeDelta:o,eventDuration:s,id:u,messageData:l}})),n.ia.stop()},u("shaka.net.HttpFetchPlugin",ha),ha.isSupported=function(){return!(!e.fetch||!e.AbortController)},ha.isSupported=ha.isSupported,ha.c=e.fetch,ha.a=e.AbortController,ha.b=e.Headers,ha.isSupported()&&(z("http",ha,2),z("https",ha,2)),u("shaka.net.HttpXHRPlugin",ya),ya.f=e.XMLHttpRequest,z("http",ya,1),z("https",ya,1),ga.prototype.init=function(e){var t=this;return Oa(e).then(function(e){t.b=e})},ga.prototype.destroy=function(){var e=this;return Promise.all(this.a.map(function(e){try{e.transaction.abort()}catch(e){}return e.promise.catch(function(){})})).then(function(){e.b&&(e.b.close(),e.b=null)})},ga.prototype.ta=function(e){return _a(this,"manifest-v3",e)},Ra.prototype.destroy=function(){var e=this.g,t=this.i,n=this.h||Promise.resolve();return t.length&&(n=n.then(function(){return ba(e,t,null)})),this.b={},this.i=[],this.h=this.a=this.o=this.l=this.g=null,n},Ra.prototype.pause=function(){this.a.cf=this.c,this.a.downloadStatus="paused"},Ra.prototype.u=function(e){this.f+=null==e.C?e.Ca:e.C-e.K+1},$s=$a.prototype,$s.configure=function(){},$s.start=function(e){var t=Ua(e);if(null==t)return Promise.reject(new g(2,1,9004,e));this.a=t;var n;return Xa().then(function(e){return n=e,n.ta(t)}.bind(this)).then(function(e){if(!e)throw new g(2,9,9003,t);return Za(e)}).then(function(e){return n.destroy().then(function(){return e})},function(e){return n.destroy().then(function(){throw e})})},$s.stop=function(){return Promise.resolve()},$s.update=function(){},$s.onExpirationUpdated=function(e,t){var n,i=this.a;Xa().then(function(e){return n=e,n.ta(i)}).then(function(r){if(r&&!(0>r.sessionIds.indexOf(e))&&(void 0==r.expiration||r.expiration>t))return r.expiration=t,Aa(n,i,r)}).catch(function(){}).then(function(){return n.destroy()})},zu["application/x-offline-manifest"]=$a,u("shaka.offline.OfflineScheme",eo),eo.a=function(e){return e={uri:e,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"}},x(e)},eo.b=function(e,t){var n,i;return D(Xa().then(function(t){return n=t,_a(n,"segment-v3",e)}).then(function(e){return i=e,n.destroy()}).then(function(){if(!i)throw new g(2,9,9003,e);return{uri:t,data:i.data,headers:{}}}))},z("offline",eo),u("shaka.text.SimpleTextDisplayer",to),to.prototype.remove=function(e,t){return!!this.a&&(ro(this,function(n){return!(n.startTime>=t||n.endTime<=e)}),!0)},to.prototype.remove=to.prototype.remove,to.prototype.append=function(t){var n=[];if(e.VTTRegion){var i=t.map(function(e){return e.region});i=i.filter(ce);for(var r=0;r<i.length;r++){var a=io(this,i[r]);n.push(a)}}var o=[];for(i=0;i<t.length;i++)(r=no(t[i],n))&&o.push(r);o.slice().sort(function(e,t){return e.startTime!=t.startTime?e.startTime-t.startTime:e.endTime!=t.endTime?e.endTime-t.startTime:o.indexOf(t)-o.indexOf(e)}).forEach(function(e){this.a.addCue(e)}.bind(this))},to.prototype.append=to.prototype.append,to.prototype.destroy=function(){return this.a&&ro(this,function(){return!0}),this.b=this.a=null,Promise.resolve()},to.prototype.destroy=to.prototype.destroy,to.prototype.isTextVisible=function(){return"showing"==this.a.mode},to.prototype.isTextVisible=to.prototype.isTextVisible,to.prototype.setTextVisibility=function(e){this.a.mode=e?"showing":"hidden"},to.prototype.setTextVisibility=to.prototype.setTextVisibility,ao.prototype.then=function(e){return this.a=this.a.then(e).then(function(e){return this.b?(this.g(),Promise.reject(this.h)):Promise.resolve(e)}.bind(this)),this},ao.prototype.cancel=function(e){return this.c?Promise.resolve():(this.b=!0,this.h=e,this.j.forEach(function(e){e()}),this.i)},l(so,Qt),u("shaka.Player",so),so.prototype.destroy=function(){return this.S=!0,uo(this).then(function(){var e=Promise.all([this.Ra,go(this),this.o?this.o.destroy():null,this.u?this.u.destroy():null]);return this.f=null,this.mb=!1,this.c=this.u=this.h=this.o=null,e}.bind(this))},so.prototype.destroy=so.prototype.destroy,so.version="v2.3.0-148-g4c9194f7";var nl={};so.registerSupportPlugin=function(e,t){nl[e]=t},so.isBrowserSupported=function(){return!!(e.Promise&&e.Uint8Array&&Array.prototype.forEach&&e.MediaSource&&MediaSource.isTypeSupported&&e.MediaKeys&&e.navigator&&e.navigator.requestMediaKeySystemAccess&&e.MediaKeySystemAccess&&e.MediaKeySystemAccess.prototype.getConfiguration)},so.probeSupport=function(){return ze().then(function(e){e={manifest:fi(),media:lt(),drm:e};for(var t in nl)e[t]=nl[t]();return e})},so.prototype.load=function(e,t,n){var i=this.wb(),r=new ao;this.Ba=r,this.dispatchEvent(new ae("loading"));var a=Date.now();return oo(r.then(function(){return i}).then(function(){return this.l=_o(),te(this.o,this.f,"playing",this.cb.bind(this)),te(this.o,this.f,"pause",this.cb.bind(this)),te(this.o,this.f,"ended",this.cb.bind(this)),this.h=new this.c.abrFactory,this.h.configure(this.c.abr),this.v=new this.c.textDisplayFactory,this.v.setTextVisibility(this.mb),di(e,this.u,this.c.manifest.retryParameters,n)}.bind(this)).then(function(t){return this.j=new t,this.j.configure(this.c.manifest),this.j.start(e,{networkingEngine:this.u,filterNewPeriod:this.ob.bind(this),filterAllPeriods:this.Yb.bind(this),onTimelineRegionAdded:this.Ud.bind(this),onEvent:this.bb.bind(this),onError:this.Qa.bind(this)})}.bind(this)).then(function(t){if(t.periods.some(function(e){return e.variants.some(function(e){return e.video&&e.audio})})&&t.periods.forEach(function(e){e.variants=e.variants.filter(function(e){return e.video&&e.audio})}),0==t.periods.length)throw new g(2,4,4014);return this.b=t,this.zb=e,this.m=new Ie({sb:this.u,onError:this.Qa.bind(this),tc:this.Fd.bind(this),onExpirationUpdated:this.Cd.bind(this),onEvent:this.bb.bind(this)}),this.m.configure(this.c.drm),this.m.init(t,!1)}.bind(this)).then(function(){this.Yb(this.b.periods),this.hb=Date.now()/1e3,this.za=this.c.preferredAudioLanguage,this.Aa=this.c.preferredTextLanguage;var e=this.b.presentationTimeline.R(),t=this.c.playRangeEnd,n=this.c.playRangeStart;return 0<n&&(this.O()||this.b.presentationTimeline.Kc(n)),t<e&&(this.O()||this.b.presentationTimeline.fa(t)),xe(this.m,this.f)}.bind(this)).then(function(){return this.h.init(this.Ee.bind(this)),this.i||(this.i=new ut(this.f)),this.i.m=this.v,this.g=new Sr(this.f,this.b,this.c.streaming,void 0==t?null:t,this.Ce.bind(this),this.bb.bind(this)),this.A=new Rr(this.f,this.i,this.b,this.c.streaming,this.Nc.bind(this),this.bb.bind(this),this.Be.bind(this)),this.a=new Mr(this.b,{La:this.g,J:this.i,sb:this.u,pc:this.zd.bind(this),oc:this.Yc.bind(this),onError:this.Qa.bind(this),onEvent:this.bb.bind(this),Gd:this.Hd.bind(this),Xa:this.Rd.bind(this),filterNewPeriod:this.ob.bind(this),filterAllPeriods:this.Yb.bind(this)}),this.a.configure(this.c.streaming),lo(this),this.dispatchEvent(new ae("streaming")),this.a.init()}.bind(this)).then(function(){if(this.c.streaming.startAtSegmentBoundary){var e=ko(this,Pr(this.g));kr(this.g.a,e)}this.b.periods.forEach(this.ob.bind(this)),Po(this),So(this),e=Nr(this.a);var t=Dt(e.variants,this.za,this.fb);this.h.setVariants(t),e.variants.some(function(e){return e.primary}),this.kb.forEach(this.A.o.bind(this.A)),this.kb=[],ne(this.o,this.f,"loadeddata",function(){this.l.loadLatency=(Date.now()-a)/1e3}.bind(this)),this.Ba=null}.bind(this))).catch(function(e){return this.Ba==r&&(this.Ba=null,this.dispatchEvent(new ae("unloading"))),Promise.reject(e)}.bind(this))},so.prototype.load=so.prototype.load,so.prototype.configure=function(e){V(this.c,e,bo(this),mo(),""),co(this)},so.prototype.configure=so.prototype.configure,so.prototype.getConfiguration=function(){var e=bo(this);return V(e,this.c,bo(this),mo(),""),e},so.prototype.getConfiguration=so.prototype.getConfiguration,so.prototype.pe=function(){this.c=bo(this),co(this)},so.prototype.resetConfiguration=so.prototype.pe,so.prototype.kd=function(){return this.f},so.prototype.getMediaElement=so.prototype.kd,so.prototype.kc=function(){return this.u},so.prototype.getNetworkingEngine=so.prototype.kc,so.prototype.Eb=function(){return this.zb},so.prototype.getManifestUri=so.prototype.Eb,so.prototype.O=function(){return!!this.b&&this.b.presentationTimeline.O()},so.prototype.isLive=so.prototype.O,so.prototype.ua=function(){return!!this.b&&this.b.presentationTimeline.ua()},so.prototype.isInProgress=so.prototype.ua,so.prototype.vd=function(){if(!this.b||!this.b.periods.length)return!1;var e=this.b.periods[0].variants;return!!e.length&&!e[0].video},so.prototype.isAudioOnly=so.prototype.vd,so.prototype.re=function(){var e=0,t=0;return this.b&&(t=this.b.presentationTimeline,e=t.Ta(),t=t.Fa()),{start:e,end:t}},so.prototype.seekRange=so.prototype.re,so.prototype.keySystem=function(){return this.m?this.m.keySystem():""},so.prototype.keySystem=so.prototype.keySystem,so.prototype.drmInfo=function(){return this.m?this.m.b:null},so.prototype.drmInfo=so.prototype.drmInfo,so.prototype.qb=function(){return this.m?this.m.qb():1/0},so.prototype.getExpiration=so.prototype.qb,so.prototype.nc=function(){return this.lb},so.prototype.isBuffering=so.prototype.nc,so.prototype.wb=function(){return this.S?Promise.resolve():(this.dispatchEvent(new ae("unloading")),uo(this).then(function(){return this.Ra||(this.Ra=vo(this).then(function(){this.Ra=null}.bind(this))),this.Ra}.bind(this)))},so.prototype.unload=so.prototype.wb,so.prototype.Sa=function(){return this.g?this.g.Sa():0},so.prototype.getPlaybackRate=so.prototype.Sa,so.prototype.Ne=function(e){this.g&&Tr(this.g.a,e),this.a&&Hr(this.a,1!=e)},so.prototype.trickPlay=so.prototype.Ne,so.prototype.Zc=function(){this.g&&Tr(this.g.a,1),this.a&&Hr(this.a,!1)},so.prototype.cancelTrickPlay=so.prototype.Zc,so.prototype.td=function(){if(!this.b||!this.g)return[];var e=Ft(this.b,Pr(this.g)),t=this.L[e]||{};return Ot(this.b.periods[e],t.audio,t.video)},so.prototype.getVariantTracks=so.prototype.td,so.prototype.rd=function(){if(!this.b||!this.g)return[];var e=Ft(this.b,Pr(this.g));return Ct(this.b.periods[e],(this.L[e]||{}).text).filter(function(e){return 0>this.ib.indexOf(e.id)}.bind(this))},so.prototype.getTextTracks=so.prototype.rd,so.prototype.ve=function(e){if(this.a){(e=Rt(Nr(this.a),e))&&(this.i.j=!1,ho(this,e,!1),this.ca?this.H=e:Wr(this.a,e,!0),this.Aa=e.language)}},so.prototype.selectTextTrack=so.prototype.ve,so.prototype.te=function(){this.i.j=!0,Vr(this.a)},so.prototype.selectEmbeddedTextTrack=so.prototype.te,so.prototype.sd=function(){return!!this.i&&this.i.j},so.prototype.getUseEmbeddedTextTrack=so.prototype.sd,so.prototype.we=function(e,t){if(this.a){this.c.abr.enabled&&h("Changing tracks while abr manager is enabled will likely result in the selected track being overriden. Consider disabling abr before calling selectVariantTrack().");var n=Nr(this.a);(n=Lt(n,e))&&It(n)&&(po(this,n,!1),Eo(this,n,t),this.za=n.language)}},so.prototype.selectVariantTrack=so.prototype.we,so.prototype.gd=function(){if(!this.a)return[];var e=Nr(this.a);return e=xt(e.variants).map(function(e){return e.audio}).filter(ce),fo(e)},so.prototype.getAudioLanguagesAndRoles=so.prototype.gd,so.prototype.qd=function(){return this.a?fo(Nr(this.a).textStreams):[]},so.prototype.getTextLanguagesAndRoles=so.prototype.qd,so.prototype.fd=function(){return this.a?xt(Nr(this.a).variants).map(function(e){return e.language}).filter(ce):[]},so.prototype.getAudioLanguages=so.prototype.fd,so.prototype.pd=function(){return this.a?Nr(this.a).textStreams.map(function(e){return e.language}).filter(ce):[]},so.prototype.getTextLanguages=so.prototype.pd,so.prototype.se=function(e,t){if(this.a){var n=Nr(this.a);this.za=e,this.fb=t||"",wo(this,n)}},so.prototype.selectAudioLanguage=so.prototype.se,so.prototype.ue=function(e,t){if(this.a){var n=Nr(this.a);this.Aa=e,this.eb=t||"",wo(this,n)}},so.prototype.selectTextLanguage=so.prototype.ue,so.prototype.Ib=function(){return this.v?this.v.isTextVisible():this.mb},so.prototype.isTextTrackVisible=so.prototype.Ib,so.prototype.ze=function(e){this.v&&this.v.setTextVisibility(e),this.mb=e,Oo(this),this.a&&(e?(e=Nr(this.a),(e=Mt(e.textStreams,this.Aa,this.eb)[0])&&Gr(this.a,e)):Vr(this.a))},so.prototype.setTextTrackVisibility=so.prototype.ze,so.prototype.md=function(){return this.b?new Date(1e3*this.b.presentationTimeline.c+1e3*this.f.currentTime):null},so.prototype.getPlayheadTimeAsDate=so.prototype.md,so.prototype.od=function(){return this.b?new Date(1e3*this.b.presentationTimeline.c):null},so.prototype.getPresentationStartTimeAsDate=so.prototype.od,so.prototype.Cb=function(){return this.i?this.i.Cb():{total:[],audio:[],video:[],text:[]}},so.prototype.getBufferedInfo=so.prototype.Cb,so.prototype.getStats=function(){Ao(this),this.cb();var e=null,t=null,n=this.f;if(n=n&&n.getVideoPlaybackQuality?n.getVideoPlaybackQuality():{},this.g&&this.b){var i=Ft(this.b,Pr(this.g)),r=this.b.periods[i];(i=this.L[i])&&(t=jt(i.audio,i.video,r.variants),e=t.video||{})}return e||(e={}),t||(t={}),{width:e.width||0,height:e.height||0,streamBandwidth:t.bandwidth||0,decodedFrames:Number(n.totalVideoFrames),droppedFrames:Number(n.droppedVideoFrames),estimatedBandwidth:this.h?this.h.getBandwidthEstimate():NaN,loadLatency:this.l.loadLatency,playTime:this.l.playTime,bufferingTime:this.l.bufferingTime,switchHistory:H(this.l.switchHistory),stateHistory:H(this.l.stateHistory)}},so.prototype.getStats=so.prototype.getStats,so.prototype.addTextTrack=function(e,t,n,i,r,a){if(!this.a)return Promise.reject();for(var o,s=Nr(this.a),u=0;u<this.b.periods.length;u++)if(this.b.periods[u]==s){if(u==this.b.periods.length-1){if(o=this.b.presentationTimeline.R()-s.startTime,1/0==o)return Promise.reject()}else o=this.b.periods[u+1].startTime-s.startTime;break}var l={id:this.Vc++,createSegmentIndex:Promise.resolve.bind(Promise),findSegmentPosition:function(){return 1},getSegmentReference:function(t){return 1!=t?null:new In(1,0,o,function(){return[e]},0,null)},initSegmentReference:null,presentationTimeOffset:0,mimeType:i,codecs:r||"",kind:n,encrypted:!1,keyId:null,language:t,label:a||null,type:"text",primary:!1,trickModeVideo:null,containsEmsgBoxes:!1,roles:[],channelsCount:null};return this.ib.push(l.id),s.textStreams.push(l),Gr(this.a,l).then(function(){if(!this.S){var e=this.b.periods.indexOf(s),i=Fr(this.a,"text");return i&&(this.L[e].text=i.id),this.ib.splice(this.ib.indexOf(l.id),1),wo(this,s),Po(this),{id:l.id,active:!1,type:"text",bandwidth:0,language:t,label:a||null,kind:n,width:null,height:null}}}.bind(this))},so.prototype.addTextTrack=so.prototype.addTextTrack,so.prototype.Wb=function(e,t){this.jb.width=e,this.jb.height=t},so.prototype.setMaxHardwareResolution=so.prototype.Wb,so.prototype.Gc=function(){if(this.a){var e=this.a;if(e.f)e=!1;else if(e.l)e=!1;else{for(var t in e.c){var n=e.c[t];n.Ua&&(n.Ua=!1,ca(e,n,.1))}e=!0}}else e=!1;return e},so.prototype.retryStreaming=so.prototype.Gc,so.prototype.ta=function(){return this.b},so.prototype.getManifest=so.prototype.ta,$s=so.prototype,$s.bd=function(e){var t=[1001,1002,1003];this.O()&&0<=t.indexOf(e.code)&&(e.severity=1,this.Gc())},$s.Yb=function(e){e.forEach(kt.bind(null,this.m,this.a?Br(this.a):null,this.a?jr(this.a):null));var t=G(e,function(e){return e.variants.some(It)});if(0==t)throw new g(2,4,9009);if(t<e.length)throw new g(2,4,4011);e.forEach(function(e){if(At(e,this.c.restrictions,this.jb)&&this.a&&Nr(this.a)==e&&Po(this),!e.variants.some(It))throw new g(2,4,4012)}.bind(this))},$s.ob=function(e){kt(this.m,this.a?Br(this.a):null,this.a?jr(this.a):null,e);var t=e.variants,n=t.some(It);if(At(e,this.c.restrictions,this.jb)&&this.a&&Nr(this.a)==e&&Po(this),e=t.some(It),!n)throw new g(2,4,4011);if(!e)throw new g(2,4,4012)},$s.De=function(e,t){this.h&&this.h.segmentDownloaded(e,t)},$s.Nc=function(e){if(Ao(this),this.lb=e,this.cb(),this.g){var t=this.g.a;e!=t.h&&(t.h=e,Tr(t,t.g))}this.dispatchEvent(new ae("buffering",{buffering:e}))},$s.Be=function(){Po(this)},$s.cb=function(){if(!this.S){var e=this.lb?"buffering":this.f.ended?"ended":this.f.paused?"paused":"playing",t=Date.now()/1e3;if(this.l.stateHistory.length){var n=this.l.stateHistory[this.l.stateHistory.length-1];if(n.duration=t-n.timestamp,e==n.state)return}this.l.stateHistory.push({timestamp:t,state:e,duration:0})}},$s.Ce=function(){if(this.A){var e=this.A;e.c.forEach(e.m.bind(e,!0))}this.a&&Yr(this.a)},$s.zd=function(e){this.ca=!0,this.h.disable();var t={audio:!1,text:!1},n=Dt(e.variants,this.za,this.fb,t),i=Mt(e.textStreams,this.Aa,this.eb,t);if(n=To(this,n),i=i[0]||null,this.M){e:{for(var r=this.b,a=0;a<r.periods.length;++a)for(var o=r.periods[a],s=0;s<o.variants.length;++s)if(o.variants[s]==this.M){r=a;break e}r=-1}this.b.periods[r]==e&&(n=this.M),this.M=null}return this.H&&(this.b.periods[Gt(this.b,this.H)]==e&&(i=this.H),this.H=null),n&&po(this,n,!0),i&&(ho(this,i,!0),!Ur(this.a)&&n&&n.audio&&t.text&&i.language!=n.audio.language&&(this.v.setTextVisibility(!0),Oo(this))),this.Ib()?{variant:n,text:i}:{variant:n,text:null}},$s.Yc=function(){this.ca=!1,this.c.abr.enabled&&this.h.enable(),this.M&&(Kr(this.a,this.M,this.dc),this.M=null),this.H&&(Wr(this.a,this.H,!0),this.H=null)},$s.Hd=function(){this.j&&this.j.update&&this.j.update()},$s.Rd=function(){this.g&&this.g.Xa()},$s.Ee=function(e,t){po(this,e,!0),this.a&&(Kr(this.a,e,t||!1),So(this))},$s.Qa=function(e){if(!this.S){var t=new ae("error",{detail:e});this.dispatchEvent(t),t.defaultPrevented&&(e.handled=!0)}},$s.Ud=function(e){this.A?this.A.o(e):this.kb.push(e)},$s.bb=function(e){this.dispatchEvent(e)},$s.Vd=function(){if(this.f.error){var e=this.f.error.code;if(1!=e){var t=this.f.error.msExtendedCode;t&&(0>t&&(t+=Math.pow(2,32)),t=t.toString(16)),this.Qa(new g(2,3,3016,e,t,this.f.error.message))}}},$s.Fd=function(e){var t=["output-restricted","internal-error"],n=Nr(this.a),i=!1,r=Object.keys(e),a=1==r.length&&"00"==r[0];r.length&&n.variants.forEach(function(n){var r=[];n.audio&&r.push(n.audio),n.video&&r.push(n.video),r.forEach(function(r){var o=n.allowedByKeySystem;r.keyId&&(r=e[a?"00":r.keyId],n.allowedByKeySystem=!!r&&0>t.indexOf(r)),o!=n.allowedByKeySystem&&(i=!0)})}),(r=Bt(Br(this.a),jr(this.a),n.variants))&&!r.allowedByKeySystem&&wo(this,n),i&&Po(this)},$s.Cd=function(e,t){this.j&&this.j.onExpirationUpdated&&this.j.onExpirationUpdated(e,t),this.dispatchEvent(new ae("expirationupdated"))},u("shaka.offline.Storage",Co),Co.support=Lo,Co.prototype.destroy=function(){var e=this.c,t=this.a?this.a.destroy().catch(function(){}).then(function(){if(e)return e.destroy()}):Promise.resolve();return this.f=this.h=this.a=this.c=null,t},Co.prototype.destroy=Co.prototype.destroy,Co.prototype.configure=function(e){V(this.f,e,No(this),{},"")},Co.prototype.configure=Co.prototype.configure,Co.prototype.store=function(e,t,n){function i(e){a=e}if(this.m)return Promise.reject(new g(2,9,9006));this.m=!0;var r=t||{},a=null;return Uo(this).then(function(){return Ho(this),Mo(this,e,i,n)}.bind(this)).then(function(t){if(Ho(this),a)throw a;return Ro(this,e,t.manifest,r,t.cd)}.bind(this)).then(function(e){return Ho(this),Bo(this).then(function(){return e})}.bind(this)).catch(function(e){return a=a||e,Bo(this).then(function(){throw a})}.bind(this))},Co.prototype.store=Co.prototype.store,Co.prototype.remove=function(e){return e.offlineUri?(h("Removing downloaded content using shakaExtern.StoredContent is deprecated. Please remove using the offline uri."),Io(this,e.offlineUri)):Io(this,e)},Co.prototype.remove=Co.prototype.remove,Co.prototype.pause=function(){return this.a.pause(),Promise.resolve("paused")},Co.prototype.pause=Co.prototype.pause,Co.prototype.resume=function(e){return xo(this,e).then(function(e){return Promise.resolve(e)})},Co.prototype.resume=Co.prototype.resume,Co.prototype.list=function(){var e=[];return Uo(this).then(function(){return Ho(this),ma(this.c,function(t,n){var i=ja("offline:manifest/"+t,n);e.push(i)})}.bind(this)).then(function(){return e})},Co.prototype.list=Co.prototype.list,Co.prototype.v=function(e){var t=[],n=_t(this.h.getConfiguration().preferredAudioLanguage),i=[0,Pu,Ou],r=e.filter(function(e){return"variant"==e.type});i=i.map(function(e){return r.filter(function(t){return t=_t(t.language),bt(e,n,t)})});for(var a,o=0;o<i.length;o++)if(i[o].length){a=i[o];break}a||(i=r.filter(function(e){return e.primary}),i.length&&(a=i)),a||(a=r,r.map(function(e){return e.language}).filter(ce));var s=a.filter(function(e){return e.height&&480>=e.height});return s.length&&(s.sort(function(e,t){return t.height-e.height}),a=s.filter(function(e){return e.height==s[0].height})),a.sort(function(e,t){return e.bandwidth-t.bandwidth}),a.length&&t.push(a[Math.floor(a.length/2)]),t.push.apply(t,e.filter(function(e){return"text"==e.type})),t},Co.prototype.l=function(e){e.forEach(this.o.bind(this))},Co.prototype.o=function(e){var t=null;if(this.i){var n=this.i.filter(function(e){return"variant"==e.type})[0];n&&(t=Lt(e,n))}var i=n=null;t&&(t.audio&&(n=t.audio),t.video&&(i=t.video)),kt(this.g,n,i,e),At(e,this.h.getConfiguration().restrictions,{width:1/0,height:1/0})},Co.prototype.u=function(e){var t=Ot(e,null,null),n=Ct(e,null);for(t=this.f.trackSelectionCallback(t.concat(n)),null==this.i&&(this.i=t,this.l(this.b.periods)),n=t.length-1;0<n;--n){for(var i=!1,r=n-1;0<=r;--r)if(t[n].type==t[r].type&&t[n].kind==t[r].kind&&t[n].language==t[r].language){i=!0;break}if(i)break}for(n=[],i={},r=0;r<t.length;i={variant:i.variant},r++)if(i.variant=Lt(e,t[r]),i.variant){var a=void 0;i.variant.audio&&((a=n.filter(function(e){return function(t){return t.id==e.variant.audio.id}}(i))[0])?a.variantIds.push(i.variant.id):(a=i.variant.video?i.variant.bandwidth/2:i.variant.bandwidth,n.push(Go(this,i.variant.audio,a,i.variant.id)))),i.variant.video&&((a=n.filter(function(e){return function(t){return t.id==e.variant.video.id}}(i))[0])?a.variantIds.push(i.variant.id):(a=i.variant.audio?i.variant.bandwidth/2:i.variant.bandwidth,n.push(Go(this,i.variant.video,a,i.variant.id))))}else n.push(Go(this,Rt(e,t[r]),0));return{startTime:e.startTime,streams:n}},Co.deleteAll=function(){return Ja()},nl.offline=Lo,u("shaka.polyfill.installAll",function(){for(var e=0;e<il.length;++e)il[e]()});var il=[];u("shaka.polyfill.register",Wo),Wo(function(){if(e.Document){var t=Element.prototype;t.requestFullscreen=t.requestFullscreen||t.mozRequestFullScreen||t.msRequestFullscreen||t.webkitRequestFullscreen,t=Document.prototype,t.exitFullscreen=t.exitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen||t.webkitExitFullscreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Yo),document.addEventListener("webkitfullscreenerror",Yo),document.addEventListener("mozfullscreenchange",Yo),document.addEventListener("mozfullscreenerror",Yo),document.addEventListener("MSFullscreenChange",Yo),document.addEventListener("MSFullscreenError",Yo)}}),Wo(function(){var t=navigator.userAgent;t&&0<=t.indexOf("CrKey")&&delete e.indexedDB});var rl;Wo(function(){0>navigator.userAgent.indexOf("Trident/")||HTMLInputElement.prototype.addEventListener==zo||(rl=HTMLInputElement.prototype.addEventListener,HTMLInputElement.prototype.addEventListener=zo)}),Wo(function(){if(4503599627370497!=Math.round(4503599627370497)){var e=Math.round;Math.round=function(t){var n=t;return 4503599627370496>=t&&(n=e(t)),n}}}),qo.prototype.c=function(e){if(!(1<e.version)){var t=Ce(e.s.Na(16)),n=[];if(0<e.version)for(var i=e.s.D(),r=0;r<i;++r){var a=Ce(e.s.Na(16));n.push(a)}i=e.s.D(),e.s.F(i),this.b.push.apply(this.b,n),this.f.push(t),this.a.push({start:e.start,end:e.start+e.size-1})}},Jo.prototype.createMediaKeys=function(){var e=new $o(this.keySystem);return Promise.resolve(e)},Jo.prototype.getConfiguration=function(){return this.a},$o.prototype.createSession=function(e){var t=e||"temporary";if("temporary"!=t)throw new TypeError("Session type "+e+" is unsupported on this platform.");return new es(this.a,t)},$o.prototype.setServerCertificate=function(){return Promise.resolve(!1)},l(es,Qt),$s=es.prototype,$s.generateRequest=function(e,t){this.a=new S;try{this.c=this.g.createSession("video/mp4",new Uint8Array(t),null),te(this.f,this.c,"mskeymessage",this.Ld.bind(this)),te(this.f,this.c,"mskeyadded",this.Jd.bind(this)),te(this.f,this.c,"mskeyerror",this.Kd.bind(this)),is(this,"status-pending")}catch(e){this.a.reject(e)}return this.a},$s.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},$s.update=function(e){this.b=new S;try{this.c.update(new Uint8Array(e))}catch(e){this.b.reject(e)}return this.b},$s.close=function(){try{this.c.close(),this.closed.resolve(),ie(this.f)}catch(e){this.closed.reject(e)}return this.closed},$s.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},$s.Ld=function(e){this.a&&(this.a.resolve(),this.a=null),this.dispatchEvent(new ae("message",{messageType:void 0==this.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message.buffer}))},$s.Jd=function(){this.a?(is(this,"usable"),this.a.resolve(),this.a=null):this.b&&(is(this,"usable"),this.b.resolve(),this.b=null)},$s.Kd=function(){var e=Error("EME PatchedMediaKeysMs key error");if(e.errorCode=this.c.error,null!=this.a)this.a.reject(e),this.a=null;else if(null!=this.b)this.b.reject(e),this.b=null;else switch(this.c.error.code){case MSMediaKeyError.MS_MEDIA_KEYERR_OUTPUT:case MSMediaKeyError.MS_MEDIA_KEYERR_HARDWARECHANGE:is(this,"output-not-allowed");break;default:is(this,"internal-error")}};var al;$s=rs.prototype,$s.forEach=function(e){this.a&&e(this.a,al)},$s.get=function(e){if(this.has(e))return this.a},$s.has=function(e){var t=al;return!(!this.a||!Le(new Uint8Array(e),new Uint8Array(t)))},$s.entries=function(){},$s.keys=function(){},$s.values=function(){},ss.prototype.createSession=function(){},ss.prototype.setServerCertificate=function(){},us.prototype.getConfiguration=function(){},us.prototype.createMediaKeys=function(){};var ol="";ps.prototype.createMediaKeys=function(){var e=new hs(this.a);return Promise.resolve(e)},ps.prototype.getConfiguration=function(){return this.b},$s=hs.prototype,$s.createSession=function(e){var t=e||"temporary";if("temporary"!=t&&"persistent-license"!=t)throw new TypeError("Session type "+e+" is unsupported on this platform.");return e=this.b||document.createElement("video"),e.src||(e.src="about:blank"),t=new vs(e,this.g,t),this.c.push(t),t},$s.setServerCertificate=function(){return Promise.resolve(!1)},$s.Zd=function(e){var t=document.createEvent("CustomEvent");t.initCustomEvent("encrypted",!1,!1,null),t.initDataType="webm",t.initData=e.initData,this.b.dispatchEvent(t)},$s.Yd=function(e){var t=gs(this,e.sessionId);t&&(e=new ae("message",{messageType:void 0==t.keyStatuses.a?"licenserequest":"licenserenewal",message:e.message}),t.b&&(t.b.resolve(),t.b=null),t.dispatchEvent(e))},$s.Wd=function(e){(e=gs(this,e.sessionId))&&(bs(e,"usable"),e.a&&e.a.resolve(),e.a=null)},$s.Xd=function(e){var t=gs(this,e.sessionId);if(t){var n=Error("EME v0.1b key error");n.errorCode=e.errorCode,n.errorCode.systemCode=e.systemCode,!e.sessionId&&t.b?(n.method="generateRequest",45==e.systemCode&&(n.message="Unsupported session type."),t.b.reject(n),t.b=null):e.sessionId&&t.a?(n.method="update",t.a.reject(n),t.a=null):(n=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?bs(t,"output-restricted"):1==n?bs(t,"expired"):bs(t,"internal-error"))}},l(vs,Qt),$s=vs.prototype,$s.Zb=function(e,t){if(this.a)this.a.then(this.Zb.bind(this,e,t)).catch(this.Zb.bind(this,e,t));else{if(this.a=e,"webkit-org.w3.clearkey"==this.c){var n=me(t),i=JSON.parse(n);"oct"!=i.keys[0].kty&&(this.a.reject(Error("Response is not a valid JSON Web Key Set.")),this.a=null),n=Pe(i.keys[0].k),i=Pe(i.keys[0].kid)}else n=new Uint8Array(t),i=null;var r=cs("addKey");try{this.f[r](this.c,n,i,this.sessionId)}catch(e){this.a.reject(e),this.a=null}}},$s.generateRequest=function(e,t){return ms(this,t,null)},$s.load=function(e){return"persistent-license"==this.g?ms(this,null,e):Promise.reject(Error("Not a persistent session."))},$s.update=function(e){var t=new S;return this.Zb(t,e),t},$s.close=function(){if("persistent-license"!=this.g){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var e=cs("cancelKeyRequest");try{this.f[e](this.c,this.sessionId)}catch(e){}}return this.closed.resolve(),this.closed},$s.remove=function(){return"persistent-license"!=this.g?Promise.reject(Error("Not a persistent session.")):this.close()};var sl;$s=_s.prototype,$s.forEach=function(e){this.a&&e(this.a,sl)},$s.get=function(e){if(this.has(e))return this.a},$s.has=function(e){var t=sl;return!(!this.a||!Le(new Uint8Array(e),new Uint8Array(t)))},$s.entries=function(){},$s.keys=function(){},$s.values=function(){},Wo(function(){!e.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||(HTMLMediaElement.prototype.webkitGenerateKeyRequest?ls("webkit"):HTMLMediaElement.prototype.generateKeyRequest?ls(""):e.MSMediaKeys?(al=new Uint8Array([0]).buffer,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=Qo,e.MediaKeys=$o,e.MediaKeySystemAccess=Jo,navigator.requestMediaKeySystemAccess=Xo):(navigator.requestMediaKeySystemAccess=as,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=os,e.MediaKeys=ss,e.MediaKeySystemAccess=us))}),Wo(function(){if(e.MediaSource)if(e.cast&&cast.__platform__&&cast.__platform__.canDisplayType)Ps();else if(navigator.vendor&&0<=navigator.vendor.indexOf("Apple")){var t=navigator.appVersion;Ss(),0<=t.indexOf("Version/8")?e.MediaSource=null:0<=t.indexOf("Version/9")?Es():0<=t.indexOf("Version/10")?(Es(),ks()):0<=t.indexOf("Version/11")&&(Es(),As())}}),Wo(function(){if(e.HTMLMediaElement){var t=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var e=t.apply(this,arguments);return e&&e.catch(function(){}),e}}}),Wo(function(){if(e.HTMLVideoElement){var t=HTMLVideoElement.prototype;!t.getVideoPlaybackQuality&&"webkitDroppedFrameCount"in t&&(t.getVideoPlaybackQuality=Os)}}),Wo(function(){if(!e.VTTCue&&e.TextTrackCue){var t=TextTrackCue.length;if(3==t)e.VTTCue=Cs;else if(6==t)e.VTTCue=Ls;else{try{var n=!!Cs(1,2,"")}catch(e){n=!1}n&&(e.VTTCue=Cs)}}}),Rs.prototype.parseInit=function(){},Rs.prototype.parseMedia=function(e,t){var n=me(e),i=[],r=new DOMParser,a=null;try{a=r.parseFromString(n,"text/xml")}catch(e){throw new g(2,2,2005)}if(a){if(!(r=a.getElementsByTagName("tt")[0]))throw new g(2,2,2005);a=r.getAttribute("ttp:frameRate");var o=r.getAttribute("ttp:subFrameRate"),s=r.getAttribute("ttp:frameRateMultiplier"),u=r.getAttribute("ttp:tickRate");if("default"!=(n=r.getAttribute("xml:space")||"default")&&"preserve"!=n)throw new g(2,2,2005);n="default"==n,a=new Hs(a,o,s,u),o=Is(r.getElementsByTagName("styling")[0]),s=Is(r.getElementsByTagName("layout")[0]),u=[];for(var l=0;l<s.length;l++){var c=s[l],f=o,d=new tt,p=c.getAttribute("xml:id");if(p){d.id=p;var h;(h=Bs(c,f,"tts:extent"))&&null!=(h=(p=ul.exec(h))||cl.exec(h))&&(d.width=Number(h[1]),d.height=Number(h[2]),d.widthUnits=p?Tu:0,d.heightUnits=p?Tu:0),(c=Bs(c,f,"tts:origin"))&&null!=(h=(p=ul.exec(c))||cl.exec(c))&&(d.viewportAnchorX=Number(h[1]),d.viewportAnchorY=Number(h[2]),d.viewportAnchorUnits=p?Tu:0)}else d=null;d&&u.push(d)}for(r=Is(r.getElementsByTagName("body")[0]),l=0;l<r.length;l++)(d=Ds(r[l],t.periodStart,a,o,s,u,n))&&i.push(d)}return i};var ul=/^(\d{1,2}|100)% (\d{1,2}|100)%$/,ll=/^(\d+px|\d+em)$/,cl=/^(\d+)px (\d+)px$/,fl=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,dl=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,pl=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d{2,})$/,hl=/^(\d*(?:\.\d*)?)f$/,yl=/^(\d*(?:\.\d*)?)t$/,gl=/^(?:(\d*(?:\.\d*)?)h)?(?:(\d*(?:\.\d*)?)m)?(?:(\d*(?:\.\d*)?)s)?(?:(\d*(?:\.\d*)?)ms)?$/,vl={left:"start",center:bu,right:"end",start:"start",end:"end"},ml={left:"line-left",center:"center",right:"line-right"};Su["application/ttml+xml"]=Rs,Ks.prototype.parseInit=function(e){var t=!1;if((new Mn).B("moov",Nn).B("trak",Nn).B("mdia",Nn).B("minf",Nn).B("stbl",Nn).V("stsd",Un).B("stpp",function(e){t=!0,e.ia.stop()}).parse(e),!t)throw new g(2,2,2007)},Ks.prototype.parseMedia=function(e,t){var n=!1,i=[];if((new Mn).B("mdat",Bn(function(e){n=!0,i=i.concat(this.a.parseMedia(e,t))}.bind(this))).parse(e),!n)throw new g(2,2,2007);return i},Su['application/mp4; codecs="stpp"']=Ks,Su['application/mp4; codecs="stpp.TTML.im1t"']=Ks,Ws.prototype.parseInit=function(){},Ws.prototype.parseMedia=function(e,t){var n=me(e);if(n=n.replace(/\r\n|\r(?=[^\n]|$)/gm,"\n"),n=n.split(/\n{2,}/m),!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new g(2,2,2e3);var i=t.segmentStart;if(null==i&&(i=0,0<=n[0].indexOf("X-TIMESTAMP-MAP"))){var r=n[0].match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),a=n[0].match(/MPEGTS:(\d+)/m);r&&a&&(i=qs(new Bi(r[1])),i=t.periodStart+(Number(a[1])/9e4-i))}a=[];var o=n[0].split("\n");for(r=1;r<o.length;r++)if(/^Region:/.test(o[r])){var s=new Bi(o[r]),u=new tt;Gi(s),ji(s);for(var l=Gi(s);l;){var c=u,f=l;(l=/^id=(.*)$/.exec(f))?c.id=l[1]:(l=/^width=(\d{1,2}|100)%$/.exec(f))?c.width=Number(l[1]):(l=/^lines=(\d+)$/.exec(f))?(c.height=Number(l[1]),c.heightUnits=2):(l=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(c.regionAnchorX=Number(l[1]),c.regionAnchorY=Number(l[2])):(l=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(f))?(c.viewportAnchorX=Number(l[1]),c.viewportAnchorY=Number(l[2])):/^scroll=up$/.exec(f)&&(c.scroll="up"),ji(s),l=Gi(s)}a.push(u)}for(r=[],s=1;s<n.length;s++){if(o=n[s].split("\n"),l=o,f=i,o=a,1==l.length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0])o=null;else{u=null,0>l[0].indexOf("--\x3e")&&(u=l[0],l.splice(0,1)),c=new Bi(l[0]);var d=qs(c),p=Fi(c,/[ \t]+--\x3e[ \t]+/g),h=qs(c);if(null==d||null==p||null==h)throw new g(2,2,2001);for(l=new et(d+f,h+f,l.slice(1).join("\n").trim()),ji(c),f=Gi(c);f;)Ys(l,f,o),ji(c),f=Gi(c);null!=u&&(l.id=u),o=l}o&&r.push(o)}return r},Su["text/vtt"]=Ws,Su['text/vtt; codecs="vtt"']=Ws,Xs.prototype.parseInit=function(e){var t=!1;if((new Mn).B("moov",Nn).B("trak",Nn).B("mdia",Nn).V("mdhd",function(e){0==e.version?(e.s.F(4),e.s.F(4),this.a=e.s.D(),e.s.F(4)):(e.s.F(8),e.s.F(8),this.a=e.s.D(),e.s.F(8)),e.s.F(4)}.bind(this)).B("minf",Nn).B("stbl",Nn).V("stsd",Un).B("wvtt",function(){t=!0}).parse(e),!this.a)throw new g(2,2,2008);if(!t)throw new g(2,2,2008)},Xs.prototype.parseMedia=function(e,t){if(!this.a)throw new g(2,2,2008);var n=0,i=[],r=[],a=[],o=!1,s=!1,u=!1,l=null;if((new Mn).B("moof",Nn).B("traf",Nn).V("tfdt",function(e){o=!0,n=0==e.version?e.s.D():e.s.Oa()}).V("tfhd",function(e){var t=e.flags;e=e.s,e.F(4),1&t&&e.F(8),2&t&&e.F(4),l=8&t?e.D():null}).V("trun",function(e){s=!0;var t=e.version,n=e.flags;e=e.s;var r=e.D();1&n&&e.F(4),4&n&&e.F(4);for(var a=[],o=0;o<r;o++){var u={duration:null,$b:null};256&n&&(u.duration=e.D()),512&n&&e.F(4),1024&n&&e.F(4),2048&n&&(u.$b=0==t?e.D():e.Dc()),a.push(u)}i=a}).B("vtte",function(){r.push(null)}).B("vttc",Bn(function(e){r.push(e)})).B("mdat",function(e){u=!0,Nn(e)}).parse(e),!u&&!o&&!s)throw new g(2,2,2008);for(var c=n,f=0;f<i.length;f++){var d=i[f],p=r[f],h=d.duration||l;h&&(d=d.$b?n+d.$b:c,c=d+h,p&&a.push(Js(p,t.periodStart+d/this.a,t.periodStart+c/this.a)))}return a.filter(le)},Su['application/mp4; codecs="wvtt"']=Xs}).call(a,this),void 0!==e&&e.exports?e.exports=a.shaka:void 0!==(r=function(){return a.shaka}.call(t,n,t,e))&&(e.exports=r)}()}).call(t,n(51))},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e.plugins){var t={pVersion:"0.22.0",pName:"kaltura-player-js"};if(e.session){var n={entryId:e.id,entryName:e.name,entryType:e.type,sessionId:e.session.id,ks:e.session.ks,uiConfId:e.session.uiConfId,partnerId:e.session.partnerId};Object.keys(n).forEach(function(e){void 0===n[e]&&delete n[e]}),l.Utils.Object.mergeDeep(t,n)}var i=(0,u.default)(JSON.stringify(o.default),t),r=void 0;try{r=JSON.parse(i)}catch(e){r={}}var a=new RegExp("{{.*}}");Object.keys(r).forEach(function(e){Object.keys(r[e]).forEach(function(t){a.test(r[e][t])&&delete r[e][t]})}),e.plugins&&Object.keys(e.plugins).forEach(function(t){e.plugins&&e.plugins[t]&&l.Utils.Object.mergeDeep(e.plugins[t],r[t])})}}Object.defineProperty(t,"__esModule",{value:!0}),t.evaluatePluginsConfig=void 0;var a=n(350),o=i(a),s=n(131),u=i(s),l=n(10);t.evaluatePluginsConfig=r},function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=void 0,i=e;for(var r in t)n=new RegExp("{{"+r+"}}","g"),i=i.replace(n,t[r]||"");return i}catch(e){return""}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.PLAYER_NAME=t.VERSION=t.PLAYER_TYPE=t.shaka=t.setup=t.providers=t.ui=t.core=void 0;var a=n(93),o=r(a);n(336);var s=n(32),u=r(s),l=n(10),c=i(l),f=n(66),d=i(f),p=n(128),h=i(p);n(338),n(340),n(341),n(342),n(343),n(344);var y=n(129),g=i(y),v=n(346),m=(0,s.getLogLevel)();(0,s.setLogLevel)(s.LogLevel.INFO),(0,u.default)().log("%c kaltura-player-js 0.22.0","color: #ff98f9;  font-size: large"),(0,u.default)().log("%c For more details see https://github.com/kaltura/kaltura-player-js","color: #ff98f9;"),(0,s.setLogLevel)(m),o.default.installAll(),t.core=c,t.ui=d,t.providers=h,t.setup=v.setup,t.shaka=g,t.PLAYER_TYPE="ovp",t.VERSION="0.22.0",t.PLAYER_NAME="kaltura-player-js"},function(e,t,n){var i,r;/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */
!function(a){"use strict";var o={};o.VERSION="1.4.1";var s,u={},l=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,i=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in i||!n[t].hasOwnProperty(e)||(i[e]=n[t][e]);return i},f=function(e,t){return{value:e,name:t}};o.DEBUG=f(1,"DEBUG"),o.INFO=f(2,"INFO"),o.TIME=f(3,"TIME"),o.WARN=f(4,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var d=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};d.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"end"])},invoke:function(e,t){s&&this.enabledFor(e)&&s(t,c({level:e},this.context))}};var p=new d({filterLevel:o.OFF});!function(){var e=o;e.enabledFor=l(p,p.enabledFor),e.debug=l(p,p.debug),e.time=l(p,p.time),e.timeEnd=l(p,p.timeEnd),e.info=l(p,p.info),e.warn=l(p,p.warn),e.error=l(p,p.error),e.log=e.info}(),o.setHandler=function(e){s=e},o.setLevel=function(e){p.setLevel(e);for(var t in u)u.hasOwnProperty(t)&&u[t].setLevel(e)},o.getLevel=function(){return p.getLevel()},o.get=function(e){return u[e]||(u[e]=new d(c({name:e},p.context)))},o.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,r){i=Array.prototype.slice.call(i);var a,s=console.log;r.level===o.TIME?(a=(r.name?"["+r.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):n(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(r.level===o.WARN&&console.warn?s=console.warn:r.level===o.ERROR&&console.error?s=console.error:r.level===o.INFO&&console.info?s=console.info:r.level===o.DEBUG&&console.debug&&(s=console.debug),e.formatter(i,r),n(s,i))}},o.useDefaults=function(e){o.setLevel(e&&e.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(e))},i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}()},function(e,t,n){"use strict";(function(e){function t(e,t,n){e[t]||Object[i](e,t,{writable:!0,configurable:!0,value:n})}if(n(135),n(332),n(333),e._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");e._babelPolyfill=!0;var i="defineProperty";t(String.prototype,"padLeft","".padStart),t(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&t(Array,e,Function.call.bind([][e]))})}).call(t,n(51))},function(e,t,n){n(136),n(138),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(88),n(240),n(241),n(112),n(242),n(243),n(244),n(245),n(246),n(115),n(117),n(118),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),e.exports=n(22)},function(e,t,n){"use strict";var i=n(2),r=n(12),a=n(6),o=n(0),s=n(14),u=n(30).KEY,l=n(3),c=n(52),f=n(44),d=n(34),p=n(5),h=n(95),y=n(68),g=n(137),v=n(55),m=n(1),b=n(16),_=n(23),E=n(33),A=n(38),k=n(98),T=n(17),w=n(7),S=n(36),P=T.f,O=w.f,C=k.f,L=i.Symbol,R=i.JSON,I=R&&R.stringify,x=p("_hidden"),D=p("toPrimitive"),M={}.propertyIsEnumerable,N=c("symbol-registry"),U=c("symbols"),B=c("op-symbols"),j=Object.prototype,F="function"==typeof L,G=i.QObject,V=!G||!G.prototype||!G.prototype.findChild,H=a&&l(function(){return 7!=A(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,t,n){var i=P(j,t);i&&delete j[t],O(e,t,n),i&&e!==j&&O(j,t,i)}:O,K=function(e){var t=U[e]=A(L.prototype);return t._k=e,t},W=F&&"symbol"==typeof L.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof L},Y=function(e,t,n){return e===j&&Y(B,t,n),m(e),t=_(t,!0),m(n),r(U,t)?(n.enumerable?(r(e,x)&&e[x][t]&&(e[x][t]=!1),n=A(n,{enumerable:E(0,!1)})):(r(e,x)||O(e,x,E(1,{})),e[x][t]=!0),H(e,t,n)):O(e,t,n)},z=function(e,t){m(e);for(var n,i=g(t=b(t)),r=0,a=i.length;a>r;)Y(e,n=i[r++],t[n]);return e},q=function(e,t){return void 0===t?A(e):z(A(e),t)},X=function(e){var t=M.call(this,e=_(e,!0));return!(this===j&&r(U,e)&&!r(B,e))&&(!(t||!r(this,e)||!r(U,e)||r(this,x)&&this[x][e])||t)},J=function(e,t){if(e=b(e),t=_(t,!0),e!==j||!r(U,t)||r(B,t)){var n=P(e,t);return!n||!r(U,t)||r(e,x)&&e[x][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=C(b(e)),i=[],a=0;n.length>a;)r(U,t=n[a++])||t==x||t==u||i.push(t);return i},$=function(e){for(var t,n=e===j,i=C(n?B:b(e)),a=[],o=0;i.length>o;)!r(U,t=i[o++])||n&&!r(j,t)||a.push(U[t]);return a};F||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===j&&t.call(B,n),r(this,x)&&r(this[x],e)&&(this[x][e]=!1),H(this,e,E(1,n))};return a&&V&&H(j,e,{configurable:!0,set:t}),K(e)},s(L.prototype,"toString",function(){return this._k}),T.f=J,w.f=Y,n(39).f=k.f=Q,n(49).f=X,n(54).f=$,a&&!n(35)&&s(j,"propertyIsEnumerable",X,!0),h.f=function(e){return K(p(e))}),o(o.G+o.W+o.F*!F,{Symbol:L});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=S(p.store),ne=0;te.length>ne;)y(te[ne++]);o(o.S+o.F*!F,"Symbol",{for:function(e){return r(N,e+="")?N[e]:N[e]=L(e)},keyFor:function(e){if(!W(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!F,"Object",{create:q,defineProperty:Y,defineProperties:z,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),R&&o(o.S+o.F*(!F||l(function(){var e=L();return"[null]"!=I([e])||"{}"!=I({a:e})||"{}"!=I(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!W(e)){for(var t,n,i=[e],r=1;arguments.length>r;)i.push(arguments[r++]);return t=i[1],"function"==typeof t&&(n=t),!n&&v(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!W(t))return t}),i[1]=t,I.apply(R,i)}}}),L.prototype[D]||n(13)(L.prototype,D,L.prototype.valueOf),f(L,"Symbol"),f(Math,"Math",!0),f(i.JSON,"JSON",!0)},function(e,t,n){var i=n(36),r=n(54),a=n(49);e.exports=function(e){var t=i(e),n=r.f;if(n)for(var o,s=n(e),u=a.f,l=0;s.length>l;)u.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,n){var i=n(0);i(i.S,"Object",{create:n(38)})},function(e,t,n){var i=n(0);i(i.S+i.F*!n(6),"Object",{defineProperty:n(7).f})},function(e,t,n){var i=n(0);i(i.S+i.F*!n(6),"Object",{defineProperties:n(97)})},function(e,t,n){var i=n(16),r=n(17).f;n(26)("getOwnPropertyDescriptor",function(){return function(e,t){return r(i(e),t)}})},function(e,t,n){var i=n(9),r=n(18);n(26)("getPrototypeOf",function(){return function(e){return r(i(e))}})},function(e,t,n){var i=n(9),r=n(36);n(26)("keys",function(){return function(e){return r(i(e))}})},function(e,t,n){n(26)("getOwnPropertyNames",function(){return n(98).f})},function(e,t,n){var i=n(4),r=n(30).onFreeze;n(26)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(4),r=n(30).onFreeze;n(26)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(4),r=n(30).onFreeze;n(26)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(e,t,n){var i=n(4);n(26)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(4);n(26)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(e,t,n){var i=n(4);n(26)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(e,t,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(99)})},function(e,t,n){var i=n(0);i(i.S,"Object",{is:n(153)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(72).set})},function(e,t,n){"use strict";var i=n(50),r={};r[n(5)("toStringTag")]="z",r+""!="[object z]"&&n(14)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(e,t,n){var i=n(0);i(i.P,"Function",{bind:n(100)})},function(e,t,n){var i=n(7).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||n(6)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var i=n(4),r=n(18),a=n(5)("hasInstance"),o=Function.prototype;a in o||n(7).f(o,a,{value:function(e){if("function"!=typeof this||!i(e))return!1;if(!i(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var i=n(0),r=n(102);i(i.G+i.F*(parseInt!=r),{parseInt:r})},function(e,t,n){var i=n(0),r=n(103);i(i.G+i.F*(parseFloat!=r),{parseFloat:r})},function(e,t,n){"use strict";var i=n(2),r=n(12),a=n(20),o=n(74),s=n(23),u=n(3),l=n(39).f,c=n(17).f,f=n(7).f,d=n(45).trim,p=i.Number,h=p,y=p.prototype,g="Number"==a(n(38)(y)),v="trim"in String.prototype,m=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():d(t,3);var n,i,r,a=t.charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+t}for(var o,u=t.slice(2),l=0,c=u.length;l<c;l++)if((o=u.charCodeAt(l))<48||o>r)return NaN;return parseInt(u,i)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(g?u(function(){y.valueOf.call(n)}):"Number"!=a(n))?o(new h(m(t)),n,p):m(t)};for(var b,_=n(6)?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;_.length>E;E++)r(h,b=_[E])&&!r(p,b)&&f(p,b,c(h,b));p.prototype=y,y.constructor=p,n(14)(i,"Number",p)}},function(e,t,n){"use strict";var i=n(0),r=n(25),a=n(104),o=n(75),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,i=t;++n<6;)i+=e*l[n],l[n]=i%1e7,i=u(i/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+o.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)},y=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,i,s,u=a(this,c),l=r(e),g="",v="0";if(l<0||l>20)throw RangeError(c);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(g="-",u=-u),u>1e-21)if(t=y(u*h(2,69,1))-69,n=t<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),i=l;i>=7;)f(1e7,0),i-=7;for(f(h(10,i,1),0),i=t-1;i>=23;)d(1<<23),i-=23;d(1<<i),f(1,1),d(2),v=p()}else f(0,n),f(1<<-t,0),v=p()+o.call("0",l);return l>0?(s=v.length,v=g+(s<=l?"0."+o.call("0",l-s)+v:v.slice(0,s-l)+"."+v.slice(s-l))):v=g+v,v}})},function(e,t,n){"use strict";var i=n(0),r=n(3),a=n(104),o=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var i=n(0),r=n(2).isFinite;i(i.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,n){var i=n(0);i(i.S,"Number",{isInteger:n(105)})},function(e,t,n){var i=n(0);i(i.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var i=n(0),r=n(105),a=Math.abs;i(i.S,"Number",{isSafeInteger:function(e){return r(e)&&a(e)<=9007199254740991}})},function(e,t,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var i=n(0),r=n(103);i(i.S+i.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,n){var i=n(0),r=n(102);i(i.S+i.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,n){var i=n(0),r=n(106),a=Math.sqrt,o=Math.acosh;i(i.S+i.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:r(e-1+a(e-1)*a(e+1))}})},function(e,t,n){function i(e){return isFinite(e=+e)&&0!=e?e<0?-i(-e):Math.log(e+Math.sqrt(e*e+1)):e}var r=n(0),a=Math.asinh;r(r.S+r.F*!(a&&1/a(0)>0),"Math",{asinh:i})},function(e,t,n){var i=n(0),r=Math.atanh;i(i.S+i.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var i=n(0),r=n(76);i(i.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var i=n(0),r=Math.exp;i(i.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,n){var i=n(0),r=n(77);i(i.S+i.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,n){var i=n(0);i(i.S,"Math",{fround:n(107)})},function(e,t,n){var i=n(0),r=Math.abs;i(i.S,"Math",{hypot:function(e,t){for(var n,i,a=0,o=0,s=arguments.length,u=0;o<s;)n=r(arguments[o++]),u<n?(i=u/n,a=a*i*i+1,u=n):n>0?(i=n/u,a+=i*i):a+=n;return u===1/0?1/0:u*Math.sqrt(a)}})},function(e,t,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(3)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var n=+e,i=+t,r=65535&n,a=65535&i;return 0|r*a+((65535&n>>>16)*a+r*(65535&i>>>16)<<16>>>0)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var i=n(0);i(i.S,"Math",{log1p:n(106)})},function(e,t,n){var i=n(0);i(i.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var i=n(0);i(i.S,"Math",{sign:n(76)})},function(e,t,n){var i=n(0),r=n(77),a=Math.exp;i(i.S+i.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,n){var i=n(0),r=n(77),a=Math.exp;i(i.S,"Math",{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},function(e,t,n){var i=n(0);i(i.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var i=n(0),r=n(37),a=String.fromCharCode,o=String.fromCodePoint;i(i.S+i.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,n=[],i=arguments.length,o=0;i>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var i=n(0),r=n(16),a=n(8);i(i.S,"String",{raw:function(e){for(var t=r(e.raw),n=a(t.length),i=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<i&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,n){"use strict";n(45)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var i=n(78)(!0);n(79)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var i=n(0),r=n(78)(!1);i(i.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(0),r=n(8),a=n(81),o="".endsWith;i(i.P+i.F*n(82)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=r(t.length),s=void 0===n?i:Math.min(r(n),i),u=String(e);return o?o.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var i=n(0),r=n(81);i(i.P+i.F*n(82)("includes"),"String",{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var i=n(0);i(i.P,"String",{repeat:n(75)})},function(e,t,n){"use strict";var i=n(0),r=n(8),a=n(81),o="".startsWith;i(i.P+i.F*n(82)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),i=String(e);return o?o.call(t,i,n):t.slice(n,n+i.length)===i}})},function(e,t,n){"use strict";n(15)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(15)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(15)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(15)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(15)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(15)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(15)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(15)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(15)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(15)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(15)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(15)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(15)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var i=n(0),r=n(9),a=n(23);i(i.P+i.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=r(this),n=a(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var i=n(0),r=n(215);i(i.P+i.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,n){"use strict";var i=n(3),r=Date.prototype.getTime,a=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=i(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!i(function(){a.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),i=t<0?"-":t>9999?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:a},function(e,t,n){var i=Date.prototype,r=i.toString,a=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(14)(i,"toString",function(){var e=a.call(this);return e===e?r.call(this):"Invalid Date"})},function(e,t,n){var i=n(5)("toPrimitive"),r=Date.prototype;i in r||n(13)(r,i,n(218))},function(e,t,n){"use strict";var i=n(1),r=n(23);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(i(this),"number"!=e)}},function(e,t,n){var i=n(0);i(i.S,"Array",{isArray:n(55)})},function(e,t,n){"use strict";var i=n(19),r=n(0),a=n(9),o=n(108),s=n(83),u=n(8),l=n(84),c=n(85);r(r.S+r.F*!n(57)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,f,d=a(e),p="function"==typeof this?this:Array,h=arguments.length,y=h>1?arguments[1]:void 0,g=void 0!==y,v=0,m=c(d);if(g&&(y=i(y,h>2?arguments[2]:void 0,2)),void 0==m||p==Array&&s(m))for(t=u(d.length),n=new p(t);t>v;v++)l(n,v,g?y(d[v],v):d[v]);else for(f=m.call(d),n=new p;!(r=f.next()).done;v++)l(n,v,g?o(f,y,[r.value,v],!0):r.value);return n.length=v,n}})},function(e,t,n){"use strict";var i=n(0),r=n(84);i(i.S+i.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var i=n(0),r=n(16),a=[].join;i(i.P+i.F*(n(48)!=Object||!n(21)(a)),"Array",{join:function(e){return a.call(r(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var i=n(0),r=n(71),a=n(20),o=n(37),s=n(8),u=[].slice;i(i.P+i.F*n(3)(function(){r&&u.call(r)}),"Array",{slice:function(e,t){var n=s(this.length),i=a(this);if(t=void 0===t?n:t,"Array"==i)return u.call(this,e,t);for(var r=o(e,n),l=o(t,n),c=s(l-r),f=Array(c),d=0;d<c;d++)f[d]="String"==i?this.charAt(r+d):this[r+d];return f}})},function(e,t,n){"use strict";var i=n(0),r=n(11),a=n(9),o=n(3),s=[].sort,u=[1,2,3];i(i.P+i.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!n(21)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),r(e))}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(0),a=n(21)([].forEach,!0);i(i.P+i.F*!a,"Array",{forEach:function(e){return r(this,e,arguments[1])}})},function(e,t,n){var i=n(4),r=n(55),a=n(5)("species");e.exports=function(e){var t;return r(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!r(t.prototype)||(t=void 0),i(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var i=n(0),r=n(27)(1);i(i.P+i.F*!n(21)([].map,!0),"Array",{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(2);i(i.P+i.F*!n(21)([].filter,!0),"Array",{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(3);i(i.P+i.F*!n(21)([].some,!0),"Array",{some:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(27)(4);i(i.P+i.F*!n(21)([].every,!0),"Array",{every:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(109);i(i.P+i.F*!n(21)([].reduce,!0),"Array",{reduce:function(e){return r(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var i=n(0),r=n(109);i(i.P+i.F*!n(21)([].reduceRight,!0),"Array",{reduceRight:function(e){return r(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var i=n(0),r=n(53)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(o||!n(21)(a)),"Array",{indexOf:function(e){return o?a.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){"use strict";var i=n(0),r=n(16),a=n(25),o=n(8),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(u||!n(21)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=r(this),n=o(t.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,a(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in t&&t[i]===e)return i||0;return-1}})},function(e,t,n){var i=n(0);i(i.P,"Array",{copyWithin:n(110)}),n(31)("copyWithin")},function(e,t,n){var i=n(0);i(i.P,"Array",{fill:n(87)}),n(31)("fill")},function(e,t,n){"use strict";var i=n(0),r=n(27)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)("find")},function(e,t,n){"use strict";var i=n(0),r=n(27)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),i(i.P+i.F*o,"Array",{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)(a)},function(e,t,n){n(40)("Array")},function(e,t,n){var i=n(2),r=n(74),a=n(7).f,o=n(39).f,s=n(56),u=n(58),l=i.RegExp,c=l,f=l.prototype,d=/a/g,p=/a/g,h=new l(d)!==d;if(n(6)&&(!h||n(3)(function(){return p[n(5)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function(e,t){var n=this instanceof l,i=s(e),a=void 0===t;return!n&&i&&e.constructor===l&&a?e:r(h?new c(i&&!a?e.source:e,t):c((i=e instanceof l)?e.source:e,i&&a?u.call(e):t),n?this:f,l)};for(var y=o(c),g=0;y.length>g;)!function(e){e in l||a(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(y[g++]);f.constructor=l,l.prototype=f,n(14)(i,"RegExp",l)}n(40)("RegExp")},function(e,t,n){"use strict";n(112);var i=n(1),r=n(58),a=n(6),o=/./.toString,s=function(e){n(14)(RegExp.prototype,"toString",e,!0)};n(3)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?r.call(e):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},function(e,t,n){n(59)("match",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(59)("replace",2,function(e,t,n){return[function(i,r){"use strict";var a=e(this),o=void 0==i?void 0:i[t];return void 0!==o?o.call(i,a,r):n.call(String(a),i,r)},n]})},function(e,t,n){n(59)("search",1,function(e,t,n){return[function(n){"use strict";var i=e(this),r=void 0==n?void 0:n[t];return void 0!==r?r.call(n,i):new RegExp(n)[t](String(i))},n]})},function(e,t,n){n(59)("split",2,function(e,t,i){"use strict";var r=n(56),a=i,o=[].push,s="length";if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[s]||2!="ab".split(/(?:ab)*/)[s]||4!=".".split(/(.?)(.?)/)[s]||".".split(/()()/)[s]>1||"".split(/.?/)[s]){var u=void 0===/()??/.exec("")[1];i=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!r(e))return a.call(n,e,t);var i,l,c,f,d,p=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),y=0,g=void 0===t?4294967295:t>>>0,v=new RegExp(e.source,h+"g");for(u||(i=new RegExp("^"+v.source+"$(?!\\s)",h));(l=v.exec(n))&&!((c=l.index+l[0][s])>y&&(p.push(n.slice(y,l.index)),!u&&l[s]>1&&l[0].replace(i,function(){for(d=1;d<arguments[s]-2;d++)void 0===arguments[d]&&(l[d]=void 0)}),l[s]>1&&l.index<n[s]&&o.apply(p,l.slice(1)),f=l[0][s],y=c,p[s]>=g));)v.lastIndex===l.index&&v.lastIndex++;return y===n[s]?!f&&v.test("")||p.push(""):p.push(n.slice(y)),p[s]>g?p.slice(0,g):p}}else"0".split(void 0,0)[s]&&(i=function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)});return[function(n,r){var a=e(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,a,r):i.call(String(a),n,r)},i]})},function(e,t,n){"use strict";var i,r,a,o,s=n(35),u=n(2),l=n(19),c=n(50),f=n(0),d=n(4),p=n(11),h=n(41),y=n(42),g=n(60),v=n(89).set,m=n(90)(),b=n(91),_=n(113),E=n(114),A=u.TypeError,k=u.process,T=u.Promise,w="process"==c(k),S=function(){},P=r=b.f,O=!!function(){try{var e=T.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(S,S)};return(w||"function"==typeof PromiseRejectionEvent)&&e.then(S)instanceof t}catch(e){}}(),C=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},L=function(e,t){if(!e._n){e._n=!0;var n=e._c;m(function(){for(var i=e._v,r=1==e._s,a=0;n.length>a;)!function(t){var n,a,o=r?t.ok:t.fail,s=t.resolve,u=t.reject,l=t.domain;try{o?(r||(2==e._h&&x(e),e._h=1),!0===o?n=i:(l&&l.enter(),n=o(i),l&&l.exit()),n===t.promise?u(A("Promise-chain cycle")):(a=C(n))?a.call(n,s,u):s(n)):u(i)}catch(e){u(e)}}(n[a++]);e._c=[],e._n=!1,t&&!e._h&&R(e)})}},R=function(e){v.call(u,function(){var t,n,i,r=e._v,a=I(e);if(a&&(t=_(function(){w?k.emit("unhandledRejection",r,e):(n=u.onunhandledrejection)?n({promise:e,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),e._h=w||I(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},I=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,i=0;n.length>i;)if(t=n[i++],t.fail||!I(t.promise))return!1;return!0},x=function(e){v.call(u,function(){var t;w?k.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},D=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),L(t,!0))},M=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw A("Promise can't be resolved itself");(t=C(e))?m(function(){var i={_w:n,_d:!1};try{t.call(e,l(M,i,1),l(D,i,1))}catch(e){D.call(i,e)}}):(n._v=e,n._s=1,L(n,!1))}catch(e){D.call({_w:n,_d:!1},e)}}};O||(T=function(e){h(this,T,"Promise","_h"),p(e),i.call(this);try{e(l(M,this,1),l(D,this,1))}catch(e){D.call(this,e)}},i=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(43)(T.prototype,{then:function(e,t){var n=P(g(this,T));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=w?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&L(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new i;this.promise=e,this.resolve=l(M,e,1),this.reject=l(D,e,1)},b.f=P=function(e){return e===T||e===o?new a(e):r(e)}),f(f.G+f.W+f.F*!O,{Promise:T}),n(44)(T,"Promise"),n(40)("Promise"),o=n(22).Promise,f(f.S+f.F*!O,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!O),"Promise",{resolve:function(e){return E(s&&this===o?T:this,e)}}),f(f.S+f.F*!(O&&n(57)(function(e){T.all(e).catch(S)})),"Promise",{all:function(e){var t=this,n=P(t),i=n.resolve,r=n.reject,a=_(function(){var n=[],a=0,o=1;y(e,!1,function(e){var s=a++,u=!1;n.push(void 0),o++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--o||i(n))},r)}),--o||i(n)});return a.e&&r(a.v),n.promise},race:function(e){var t=this,n=P(t),i=n.reject,r=_(function(){y(e,!1,function(e){t.resolve(e).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(e,t,n){"use strict";var i=n(119),r=n(47);n(61)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return i.def(r(this,"WeakSet"),e,!0)}},i,!1,!0)},function(e,t,n){"use strict";var i=n(0),r=n(62),a=n(92),o=n(1),s=n(37),u=n(8),l=n(4),c=n(2).ArrayBuffer,f=n(60),d=a.ArrayBuffer,p=a.DataView,h=r.ABV&&c.isView,y=d.prototype.slice,g=r.VIEW;i(i.G+i.W+i.F*(c!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||l(e)&&g in e}}),i(i.P+i.U+i.F*n(3)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==y&&void 0===t)return y.call(o(this),e);for(var n=o(this).byteLength,i=s(e,n),r=s(void 0===t?n:t,n),a=new(f(this,d))(u(r-i)),l=new p(this),c=new p(a),h=0;i<r;)c.setUint8(h++,l.getUint8(i++));return a}}),n(40)("ArrayBuffer")},function(e,t,n){var i=n(0);i(i.G+i.W+i.F*!n(62).ABV,{DataView:n(92).DataView})},function(e,t,n){n(28)("Int8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint8",1,function(e){return function(t,n,i){return e(this,t,n,i)}},!0)},function(e,t,n){n(28)("Int16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint16",2,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Int32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Uint32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Float32",4,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){n(28)("Float64",8,function(e){return function(t,n,i){return e(this,t,n,i)}})},function(e,t,n){var i=n(0),r=n(11),a=n(1),o=(n(2).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(3)(function(){o(function(){})}),"Reflect",{apply:function(e,t,n){var i=r(e),u=a(n);return o?o(i,t,u):s.call(i,t,u)}})},function(e,t,n){var i=n(0),r=n(38),a=n(11),o=n(1),s=n(4),u=n(3),l=n(100),c=(n(2).Reflect||{}).construct,f=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!u(function(){c(function(){})});i(i.S+i.F*(f||d),"Reflect",{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var i=[null];return i.push.apply(i,t),new(l.apply(e,i))}var u=n.prototype,p=r(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var i=n(7),r=n(0),a=n(1),o=n(23);r(r.S+r.F*n(3)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){a(e),t=o(t,!0),a(n);try{return i.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var i=n(0),r=n(17).f,a=n(1);i(i.S,"Reflect",{deleteProperty:function(e,t){var n=r(a(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var i=n(0),r=n(1),a=function(e){this._t=r(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(80)(a,"Object",function(){var e,t=this,n=t._k;do{if(t._i>=n.length)return{value:void 0,done:!0}}while(!((e=n[t._i++])in t._t));return{value:e,done:!1}}),i(i.S,"Reflect",{enumerate:function(e){return new a(e)}})},function(e,t,n){function i(e,t){var n,s,c=arguments.length<3?e:arguments[2];return l(e)===c?e[t]:(n=r.f(e,t))?o(n,"value")?n.value:void 0!==n.get?n.get.call(c):void 0:u(s=a(e))?i(s,t,c):void 0}var r=n(17),a=n(18),o=n(12),s=n(0),u=n(4),l=n(1);s(s.S,"Reflect",{get:i})},function(e,t,n){var i=n(17),r=n(0),a=n(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return i.f(a(e),t)}})},function(e,t,n){var i=n(0),r=n(18),a=n(1);i(i.S,"Reflect",{getPrototypeOf:function(e){return r(a(e))}})},function(e,t,n){var i=n(0);i(i.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var i=n(0),r=n(1),a=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(e){return r(e),!a||a(e)}})},function(e,t,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(121)})},function(e,t,n){var i=n(0),r=n(1),a=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(e){r(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,n){function i(e,t,n){var u,d,p=arguments.length<4?e:arguments[3],h=a.f(c(e),t);if(!h){if(f(d=o(e)))return i(d,t,n,p);h=l(0)}return s(h,"value")?!(!1===h.writable||!f(p))&&(u=a.f(p,t)||l(0),u.value=n,r.f(p,t,u),!0):void 0!==h.set&&(h.set.call(p,n),!0)}var r=n(7),a=n(17),o=n(18),s=n(12),u=n(0),l=n(33),c=n(1),f=n(4);u(u.S,"Reflect",{set:i})},function(e,t,n){var i=n(0),r=n(72);r&&i(i.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var i=n(0),r=n(53)(!0);i(i.P,"Array",{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(31)("includes")},function(e,t,n){"use strict";var i=n(0),r=n(122),a=n(9),o=n(8),s=n(11),u=n(86);i(i.P,"Array",{flatMap:function(e){var t,n,i=a(this);return s(e),t=o(i.length),n=u(i,0),r(n,i,i,t,0,1,e,arguments[1]),n}}),n(31)("flatMap")},function(e,t,n){"use strict";var i=n(0),r=n(122),a=n(9),o=n(8),s=n(25),u=n(86);i(i.P,"Array",{flatten:function(){var e=arguments[0],t=a(this),n=o(t.length),i=u(t,0);return r(i,t,t,n,0,void 0===e?1:s(e)),i}}),n(31)("flatten")},function(e,t,n){"use strict";var i=n(0),r=n(78)(!0);i(i.P,"String",{at:function(e){return r(this,e)}})},function(e,t,n){"use strict";var i=n(0),r=n(123);i(i.P,"String",{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var i=n(0),r=n(123);i(i.P,"String",{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(45)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(45)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var i=n(0),r=n(24),a=n(8),o=n(56),s=n(58),u=RegExp.prototype,l=function(e,t){this._r=e,this._s=t};n(80)(l,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),i(i.P,"String",{matchAll:function(e){if(r(this),!o(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),i=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=a(e.lastIndex),new l(i,t)}})},function(e,t,n){n(68)("asyncIterator")},function(e,t,n){n(68)("observable")},function(e,t,n){var i=n(0),r=n(121),a=n(16),o=n(17),s=n(84);i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,i=a(e),u=o.f,l=r(i),c={},f=0;l.length>f;)void 0!==(n=u(i,t=l[f++]))&&s(c,t,n);return c}})},function(e,t,n){var i=n(0),r=n(124)(!1);i(i.S,"Object",{values:function(e){return r(e)}})},function(e,t,n){var i=n(0),r=n(124)(!0);i(i.S,"Object",{entries:function(e){return r(e)}})},function(e,t,n){"use strict";var i=n(0),r=n(9),a=n(11),o=n(7);n(6)&&i(i.P+n(63),"Object",{__defineGetter__:function(e,t){o.f(r(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),r=n(9),a=n(11),o=n(7);n(6)&&i(i.P+n(63),"Object",{__defineSetter__:function(e,t){o.f(r(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var i=n(0),r=n(9),a=n(23),o=n(18),s=n(17).f;n(6)&&i(i.P+n(63),"Object",{__lookupGetter__:function(e){var t,n=r(this),i=a(e,!0);do{if(t=s(n,i))return t.get}while(n=o(n))}})},function(e,t,n){"use strict";var i=n(0),r=n(9),a=n(23),o=n(18),s=n(17).f;n(6)&&i(i.P+n(63),"Object",{__lookupSetter__:function(e){var t,n=r(this),i=a(e,!0);do{if(t=s(n,i))return t.set}while(n=o(n))}})},function(e,t,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(125)("Map")})},function(e,t,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(125)("Set")})},function(e,t,n){n(64)("Map")},function(e,t,n){n(64)("Set")},function(e,t,n){n(64)("WeakMap")},function(e,t,n){n(64)("WeakSet")},function(e,t,n){n(65)("Map")},function(e,t,n){n(65)("Set")},function(e,t,n){n(65)("WeakMap")},function(e,t,n){n(65)("WeakSet")},function(e,t,n){var i=n(0);i(i.G,{global:n(2)})},function(e,t,n){var i=n(0);i(i.S,"System",{global:n(2)})},function(e,t,n){var i=n(0),r=n(20);i(i.S,"Error",{isError:function(e){return"Error"===r(e)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var i=n(0),r=180/Math.PI;i(i.S,"Math",{degrees:function(e){return e*r}})},function(e,t,n){var i=n(0),r=n(127),a=n(107);i(i.S,"Math",{fscale:function(e,t,n,i,o){return a(r(e,t,n,i,o))}})},function(e,t,n){var i=n(0);i(i.S,"Math",{iaddh:function(e,t,n,i){var r=e>>>0,a=t>>>0,o=n>>>0;return a+(i>>>0)+((r&o|(r|o)&~(r+o>>>0))>>>31)|0}})},function(e,t,n){var i=n(0);i(i.S,"Math",{isubh:function(e,t,n,i){var r=e>>>0,a=t>>>0,o=n>>>0;return a-(i>>>0)-((~r&o|~(r^o)&r-o>>>0)>>>31)|0}})},function(e,t,n){var i=n(0);i(i.S,"Math",{imulh:function(e,t){var n=+e,i=+t,r=65535&n,a=65535&i,o=n>>16,s=i>>16,u=(o*a>>>0)+(r*a>>>16);return o*s+(u>>16)+((r*s>>>0)+(65535&u)>>16)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var i=n(0),r=Math.PI/180;i(i.S,"Math",{radians:function(e){return e*r}})},function(e,t,n){var i=n(0);i(i.S,"Math",{scale:n(127)})},function(e,t,n){var i=n(0);i(i.S,"Math",{umulh:function(e,t){var n=+e,i=+t,r=65535&n,a=65535&i,o=n>>>16,s=i>>>16,u=(o*a>>>0)+(r*a>>>16);return o*s+(u>>>16)+((r*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){var i=n(0);i(i.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var i=n(0),r=n(22),a=n(2),o=n(60),s=n(114);i(i.P+i.R,"Promise",{finally:function(e){var t=o(this,r.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var i=n(0),r=n(91),a=n(113);i(i.S,"Promise",{try:function(e){var t=r.f(this),n=a(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var i=n(29),r=n(1),a=i.key,o=i.set;i.exp({defineMetadata:function(e,t,n,i){o(e,t,r(n),a(i))}})},function(e,t,n){var i=n(29),r=n(1),a=i.key,o=i.map,s=i.store;i.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:a(arguments[2]),i=o(r(t),n,!1);if(void 0===i||!i.delete(e))return!1;if(i.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){var i=n(29),r=n(1),a=n(18),o=i.has,s=i.get,u=i.key,l=function(e,t,n){if(o(e,t,n))return s(e,t,n);var i=a(t);return null!==i?l(e,i,n):void 0};i.exp({getMetadata:function(e,t){return l(e,r(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var i=n(117),r=n(126),a=n(29),o=n(1),s=n(18),u=a.keys,l=a.key,c=function(e,t){var n=u(e,t),a=s(e);if(null===a)return n;var o=c(a,t);return o.length?n.length?r(new i(n.concat(o))):o:n};a.exp({getMetadataKeys:function(e){return c(o(e),arguments.length<2?void 0:l(arguments[1]))}})},function(e,t,n){var i=n(29),r=n(1),a=i.get,o=i.key;i.exp({getOwnMetadata:function(e,t){return a(e,r(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,n){var i=n(29),r=n(1),a=i.keys,o=i.key;i.exp({getOwnMetadataKeys:function(e){return a(r(e),arguments.length<2?void 0:o(arguments[1]))}})},function(e,t,n){var i=n(29),r=n(1),a=n(18),o=i.has,s=i.key,u=function(e,t,n){if(o(e,t,n))return!0;var i=a(t);return null!==i&&u(e,i,n)};i.exp({hasMetadata:function(e,t){return u(e,r(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var i=n(29),r=n(1),a=i.has,o=i.key;i.exp({hasOwnMetadata:function(e,t){return a(e,r(t),arguments.length<3?void 0:o(arguments[2]))}})},function(e,t,n){var i=n(29),r=n(1),a=n(11),o=i.key,s=i.set;i.exp({metadata:function(e,t){return function(n,i){s(e,t,(void 0!==i?r:a)(n),o(i))}}})},function(e,t,n){var i=n(0),r=n(90)(),a=n(2).process,o="process"==n(20)(a);i(i.G,{asap:function(e){var t=o&&a.domain;r(t?t.bind(e):e)}})},function(e,t,n){"use strict";var i=n(0),r=n(2),a=n(22),o=n(90)(),s=n(5)("observable"),u=n(11),l=n(1),c=n(41),f=n(43),d=n(13),p=n(42),h=p.RETURN,y=function(e){return null==e?void 0:u(e)},g=function(e){var t=e._c;t&&(e._c=void 0,t())},v=function(e){return void 0===e._o},m=function(e){v(e)||(e._o=void 0,g(e))},b=function(e,t){l(e),this._c=void 0,this._o=e,e=new _(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}v(this)&&g(this)};b.prototype=f({},{unsubscribe:function(){m(this)}});var _=function(e){this._s=e};_.prototype=f({},{next:function(e){var t=this._s;if(!v(t)){var n=t._o;try{var i=y(n.next);if(i)return i.call(n,e)}catch(e){try{m(t)}finally{throw e}}}},error:function(e){var t=this._s;if(v(t))throw e;var n=t._o;t._o=void 0;try{var i=y(n.error);if(!i)throw e;e=i.call(n,e)}catch(e){try{g(t)}finally{throw e}}return g(t),e},complete:function(e){var t=this._s;if(!v(t)){var n=t._o;t._o=void 0;try{var i=y(n.complete);e=i?i.call(n,e):void 0}catch(e){try{g(t)}finally{throw e}}return g(t),e}}});var E=function(e){c(this,E,"Observable","_f")._f=u(e)};f(E.prototype,{subscribe:function(e){return new b(e,this._f)},forEach:function(e){var t=this;return new(a.Promise||r.Promise)(function(n,i){u(e);var r=t.subscribe({next:function(t){try{return e(t)}catch(e){i(e),r.unsubscribe()}},error:i,complete:n})})}}),f(E,{from:function(e){var t="function"==typeof this?this:E,n=y(l(e)[s]);if(n){var i=l(n.call(e));return i.constructor===t?i:new t(function(e){return i.subscribe(e)})}return new t(function(t){var n=!1;return o(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:E)(function(e){var t=!1;return o(function(){if(!t){for(var i=0;i<n.length;++i)if(e.next(n[i]),t)return;e.complete()}}),function(){t=!0}})}}),d(E.prototype,s,function(){return this}),i(i.G,{Observable:E}),n(40)("Observable")},function(e,t,n){var i=n(2),r=n(0),a=i.navigator,o=[].slice,s=!!a&&/MSIE .\./.test(a.userAgent),u=function(e){return function(t,n){var i=arguments.length>2,r=!!i&&o.call(arguments,2);return e(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,n)}};r(r.G+r.B+r.F*s,{setTimeout:u(i.setTimeout),setInterval:u(i.setInterval)})},function(e,t,n){var i=n(0),r=n(89);i(i.G+i.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,n){for(var i=n(88),r=n(36),a=n(14),o=n(2),s=n(13),u=n(46),l=n(5),c=l("iterator"),f=l("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=r(p),y=0;y<h.length;y++){var g,v=h[y],m=p[v],b=o[v],_=b&&b.prototype;if(_&&(_[c]||s(_,c,d),_[f]||s(_,f,v),u[v]=d,m))for(g in i)_[g]||a(_,g,i[g],!0)}},function(e,t,n){(function(t){!function(t){"use strict";function n(e,t,n,i){var a=t&&t.prototype instanceof r?t:r,o=Object.create(a.prototype),s=new p(i||[]);return o._invoke=l(e,n,s),o}function i(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function r(){}function a(){}function o(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function n(t,r,a,o){var s=i(e[t],e,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&m.call(l,"__await")?Promise.resolve(l.__await).then(function(e){n("next",e,a,o)},function(e){n("throw",e,a,o)}):Promise.resolve(l).then(function(e){u.value=e,a(u)},o)}o(s.arg)}function r(e,t){function i(){return new Promise(function(i,r){n(e,t,i,r)})}return a=a?a.then(i,i):i()}"object"==typeof t.process&&t.process.domain&&(n=t.process.domain.bind(n));var a;this._invoke=r}function l(e,t,n){var r=w;return function(a,o){if(r===P)throw new Error("Generator is already running");if(r===O){if("throw"===a)throw o;return y()}for(n.method=a,n.arg=o;;){var s=n.delegate;if(s){var u=c(s,n);if(u){if(u===C)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===w)throw r=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=P;var l=i(e,t,n);if("normal"===l.type){if(r=n.done?O:S,l.arg===C)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=O,n.method="throw",n.arg=l.arg)}}}function c(e,t){var n=e.iterator[t.method];if(n===g){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=g,c(e,t),"throw"===t.method))return C;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return C}var r=i(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,C;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=g),t.delegate=null,C):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,C)}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function h(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(m.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=g,t.done=!0,t};return i.next=i}}return{next:y}}function y(){return{value:g,done:!0}}var g,v=Object.prototype,m=v.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",E=b.asyncIterator||"@@asyncIterator",A=b.toStringTag||"@@toStringTag",k="object"==typeof e,T=t.regeneratorRuntime;if(T)return void(k&&(e.exports=T));T=t.regeneratorRuntime=k?e.exports:{},T.wrap=n;var w="suspendedStart",S="suspendedYield",P="executing",O="completed",C={},L={};L[_]=function(){return this};var R=Object.getPrototypeOf,I=R&&R(R(h([])));I&&I!==v&&m.call(I,_)&&(L=I);var x=o.prototype=r.prototype=Object.create(L);a.prototype=x.constructor=o,o.constructor=a,o[A]=a.displayName="GeneratorFunction",T.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},T.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,o):(e.__proto__=o,A in e||(e[A]="GeneratorFunction")),e.prototype=Object.create(x),e},T.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[E]=function(){return this},T.AsyncIterator=u,T.async=function(e,t,i,r){var a=new u(n(e,t,i,r));return T.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},s(x),x[A]="Generator",x[_]=function(){return this},x.toString=function(){return"[object Generator]"},T.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},T.values=h,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return a.type="throw",a.arg=e,n.next=t,i&&(n.method="next",n.arg=g),!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var o=m.call(r,"catchLoc"),s=m.call(r,"finallyLoc");if(o&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(o){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,C):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),C},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;d(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:h(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=g),C}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,n(51))},function(e,t,n){n(334),e.exports=n(22).RegExp.escape},function(e,t,n){var i=n(0),r=n(335)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(e){return r(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";n(337)},function(e,t,n){"use strict";(function(e){function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(93),s=i(o),u=n(32),l=i(u),c=function(){function t(){r(this,t)}return a(t,null,[{key:"install",value:function(){if(e.performance&&e.performance.now)return void t._logger.debug("No need to install polyfill");t._logger.debug("Installing polyfill");var n=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-n}}}]),t}();c.id="performance.now",c._logger=(0,l.default)("PerformanceNowPolyfill"),t.default=c,s.default.register(c)}).call(t,n(51))},function(e,t,n){!function(t,i){e.exports=i(n(10),n(339))}(0,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var i=n(0),r=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default,t.VERSION="1.6.0",t.NAME="playkit-js-hls",a.default.isSupported()&&(0,i.registerMediaSourceAdapter)(a.default)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(1),c=i(l),f=n(4),d=i(f),p=n(5),h=n(0),y=n(6),g=i(y),v=function(e){function t(e,n,i){r(this,t),t._logger.debug("Creating adapter. Hls version: "+c.default.version);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o._triedReloadWithRedirect=!1,o._startTime=0,o._config=h.Utils.Object.mergeDeep({},o._config,d.default),o._config.forceRedirectExternalStreams&&(o._config.hlsConfig.pLoader=g.default),o._hls=new c.default(o._config.hlsConfig),o._addBindings(),o}return o(t,e),u(t,null,[{key:"createAdapter",value:function(e,t,n){var i={};if(h.Utils.Object.hasPropertyPath(n,"playback.options.html5.hls")&&(i.hlsConfig=n.playback.options.html5.hls),h.Utils.Object.hasPropertyPath(n,"sources.options")){var r=n.sources.options;i.forceRedirectExternalStreams=r.forceRedirectExternalStreams,i.redirectExternalStreamsHandler=r.redirectExternalStreamsHandler,i.redirectExternalStreamsTimeout=r.redirectExternalStreamsTimeout,g.default.redirectExternalStreamsHandler=i.redirectExternalStreamsHandler,g.default.redirectExternalStreamsTimeout=i.redirectExternalStreamsTimeout}return new this(e,t,i)}},{key:"canPlayType",value:function(e){var n="string"==typeof e&&t._hlsMimeTypes.includes(e.toLowerCase());return t._logger.debug("canPlayType result for mimeType:"+e+" is "+n.toString()),n}},{key:"canPlayDrm",value:function(){return t._logger.warn("canPlayDrm result is false"),!1}},{key:"isSupported",value:function(){var e=c.default.isSupported();return t._logger.debug("isSupported:"+e),e}}]),u(t,[{key:"_addBindings",value:function(){var e=this;this._hls.on(c.default.Events.ERROR,function(t,n){return e._onError(n)}),this._hls.on(c.default.Events.MANIFEST_LOADED,this._onManifestLoaded.bind(this)),this._hls.on(c.default.Events.LEVEL_SWITCHED,this._onLevelSwitched.bind(this)),this._hls.on(c.default.Events.AUDIO_TRACK_SWITCHED,this._onAudioTrackSwitched.bind(this))}},{key:"load",value:function(e){var t=this;return this._loadPromise||(this._startTime=e,this._loadPromise=new Promise(function(e){t._resolveLoad=e,t._loadInternal()})),this._loadPromise}},{key:"_loadInternal",value:function(){this._onLoadedMetadataCallback=this._onLoadedMetadata.bind(this),this._videoElement.addEventListener(h.EventType.LOADED_METADATA,this._onLoadedMetadataCallback),this._startTime&&(this._hls.startPosition=this._startTime),this._sourceObj&&this._sourceObj.url&&(this._hls.loadSource(this._sourceObj.url),this._hls.attachMedia(this._videoElement),this._trigger(h.EventType.ABR_MODE_CHANGED,{mode:this.isAdaptiveBitrateEnabled()?"auto":"manual"}))}},{key:"_reloadWithDirectManifest",value:function(){this._triedReloadWithRedirect=!0,this._reset(),this._config.hlsConfig.pLoader=g.default,this._hls=new c.default(this._config.hlsConfig),this._addBindings(),this._loadInternal()}},{key:"_onLoadedMetadata",value:function(){this._removeLoadedMetadataListener(),this._resolveLoad({tracks:this._playerTracks})}},{key:"_removeLoadedMetadataListener",value:function(){this._onLoadedMetadataCallback&&(this._videoElement.removeEventListener(h.EventType.LOADED_METADATA,this._onLoadedMetadataCallback),this._onLoadedMetadataCallback=null)}},{key:"destroy",value:function(){var e=this;return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this).then(function(){t._logger.debug("destroy"),e._loadPromise=null,e._playerTracks=[],e._reset()})}},{key:"_reset",value:function(){this._removeBindings(),this._hls.detachMedia(),this._hls.destroy()}},{key:"_parseTracks",value:function(){var e=this._parseAudioTracks(this._hls.audioTracks||[]),t=this._parseVideoTracks(this._hls.levels||[]),n=this._parseTextTracks(this._hls.subtitleTracks||[]);return e.concat(t).concat(n)}},{key:"_parseAudioTracks",value:function(e){for(var t=[],n=0;n<e.length;n++){var i={id:e[n].id,active:this._hls.audioTrack===e[n].id,label:e[n].name,language:e[n].lang,index:n};t.push(new h.AudioTrack(i))}return t}},{key:"_parseVideoTracks",value:function(e){for(var t=[],n=0;n<e.length;n++){var i={active:this._hls.startLevel===n,bandwidth:e[n].bitrate,width:e[n].width,height:e[n].height,language:"",index:n};t.push(new h.VideoTrack(i))}return t}},{key:"_parseTextTracks",value:function(e){for(var t=[],n=0;n<e.length;n++){var i={id:e[n].id,active:e[n].default,label:e[n].name,kind:e[n].type.toLowerCase(),language:e[n].lang,index:n};t.push(new h.TextTrack(i))}return t}},{key:"selectAudioTrack",value:function(e){e instanceof h.AudioTrack&&!e.active&&this._hls.audioTracks&&(this._hls.audioTrack=e.id)}},{key:"selectVideoTrack",value:function(e){e instanceof h.VideoTrack&&(!e.active||this.isAdaptiveBitrateEnabled())&&this._hls.levels&&(this.isAdaptiveBitrateEnabled()&&this._trigger(h.EventType.ABR_MODE_CHANGED,{mode:"manual"}),this._hls.currentLevel=e.index)}},{key:"selectTextTrack",value:function(e){e instanceof h.TextTrack&&!e.active&&this._videoElement.textTracks&&(this._disableAllTextTracks(),this._videoElement.textTracks[e.index].mode="hidden",t._logger.debug("Text track changed",e),this._onTrackChanged(e))}},{key:"hideTextTrack",value:function(){this._disableAllTextTracks()}},{key:"enableAdaptiveBitrate",value:function(){this.isAdaptiveBitrateEnabled()||(this._trigger(h.EventType.ABR_MODE_CHANGED,{mode:"auto"}),this._hls.nextLevel=-1)}},{key:"isAdaptiveBitrateEnabled",value:function(){return this._hls.autoLevelEnabled}},{key:"_getLevelDetails",value:function(){var e=this._hls.levels[this._hls.currentLevel]||this._hls.levels[this._hls.nextLevel]||this._hls.levels[this._hls.nextAutoLevel]||this._hls.levels[this._hls.nextLoadLevel];return e&&e.details?e.details:{}}},{key:"_getLiveEdge",value:function(){try{var e=void 0;return e=this._hls.liveSyncPosition?this._hls.liveSyncPosition:this._hls.config.liveSyncDuration?this._videoElement.duration-this._hls.config.liveSyncDuration:this._videoElement.duration-this._hls.config.liveSyncDurationCount*this._getLevelDetails().targetduration,e>0?e:this._videoElement.duration}catch(e){return t._logger.debug("Live edge calculation failed, fall back to duration"),this._videoElement.duration}}},{key:"seekToLiveEdge",value:function(){try{this._videoElement.currentTime=this._getLiveEdge()}catch(e){return}}},{key:"isLive",value:function(){try{return!!this._getLevelDetails().live}catch(e){return!1}}},{key:"_onManifestLoaded",value:function(){t._logger.debug("The source has been loaded successfully"),this._hls.startLoad(),this._playerTracks=this._parseTracks()}},{key:"_onLevelSwitched",value:function(e,n){var i=this._playerTracks.find(function(e){return e instanceof h.VideoTrack&&e.index===n.level});t._logger.debug("Video track changed",i),this._onTrackChanged(i)}},{key:"_onAudioTrackSwitched",value:function(e,n){var i=this._playerTracks.find(function(e){return e instanceof h.AudioTrack&&e.id===n.id});t._logger.debug("Audio track changed",i),this._onTrackChanged(i),this._handleWaitingUponAudioTrackSwitch()}},{key:"_handleWaitingUponAudioTrackSwitch",value:function(){var e=this;if(["IE","Edge"].includes(h.Env.browser.name)){var t=function t(){e._trigger(h.EventType.PLAYING),e._videoElement.removeEventListener(h.EventType.TIME_UPDATE,t)};this._videoElement.addEventListener(h.EventType.TIME_UPDATE,t)}}},{key:"_disableAllTextTracks",value:function(){for(var e=this._videoElement.textTracks,t=0;t<e.length;t++)e[t].mode="disabled"}},{key:"_onError",value:function(e){var n=e.type,i=e.details;if(e.fatal){var r=void 0;switch(n){case c.default.ErrorTypes.NETWORK_ERROR:![c.default.ErrorDetails.MANIFEST_LOAD_ERROR,c.default.ErrorDetails.MANIFEST_LOAD_TIMEOUT].includes(i)||this._triedReloadWithRedirect||this._config.forceRedirectExternalStreams?r=new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.NETWORK,h.Error.Code.HTTP_ERROR,i):this._reloadWithDirectManifest();break;case c.default.ErrorTypes.MEDIA_ERROR:r=this._handleMediaError()?new h.Error(h.Error.Severity.RECOVERABLE,h.Error.Category.MEDIA,h.Error.Code.HLS_FATAL_MEDIA_ERROR,i):new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.MEDIA,h.Error.Code.HLS_FATAL_MEDIA_ERROR,i);break;default:r=new h.Error(h.Error.Severity.CRITICAL,h.Error.Category.PLAYER,h.Error.Code.HLS_FATAL_MEDIA_ERROR,i)}this._trigger(h.EventType.ERROR,r),r&&r.severity===h.Error.Severity.CRITICAL&&this.destroy()}else{var a=p.HlsJsErrorMap[i]||{category:0,code:0},o=a.category,s=a.code;t._logger.warn(new h.Error(h.Error.Severity.RECOVERABLE,o,s,i))}}},{key:"_handleMediaError",value:function(){var e=performance.now(),n=!0;return this._checkTimeDeltaHasPassed(e,this._recoverDecodingErrorDate,this._config.recoverDecodingErrorDelay)?this._recoverDecodingError():this._checkTimeDeltaHasPassed(e,this._recoverSwapAudioCodecDate,this._config.recoverSwapAudioCodecDelay)?this._recoverSwapAudioCodec():(n=!1,t._logger.error("cannot recover, last media error recovery failed")),n}},{key:"_checkTimeDeltaHasPassed",value:function(e,t,n){return!t||e-t>n}},{key:"_recoverDecodingError",value:function(){this._recoverDecodingErrorDate=performance.now(),t._logger.warn("try to recover media Error"),this._hls.recoverMediaError()}},{key:"_recoverSwapAudioCodec",value:function(){this._recoverSwapAudioCodecDate=performance.now(),t._logger.warn("try to swap Audio Codec and recover media Error"),this._hls.swapAudioCodec(),this._hls.recoverMediaError()}},{key:"_removeBindings",value:function(){this._hls.off(c.default.Events.ERROR,this._onError),this._hls.off(c.default.Events.LEVEL_SWITCHED,this._onLevelSwitched),this._hls.off(c.default.Events.AUDIO_TRACK_SWITCHED,this._onAudioTrackSwitched),this._removeLoadedMetadataListener()}},{key:"getStartTimeOfDvrWindow",value:function(){if(!this.isLive())return 0;try{var e=this._hls.levels[this._hls.nextLoadLevel],n=e.details,i=n.fragments,r=i.length,a=i[0].start+i[0].duration,o=i[r-1].start+i[r-1].duration,s=void 0!==this._hls.config.liveMaxLatencyDuration?this._hls.config.liveMaxLatencyDuration:this._hls.config.liveMaxLatencyDurationCount*n.targetduration;return Math.max(a-this._hls.config.maxFragLookUpTolerance,o-s)}catch(e){return t._logger.debug("Unable obtain the start of DVR window"),0}}}]),t}(h.BaseMediaSourceAdapter);v.id="HlsAdapter",v._logger=h.BaseMediaSourceAdapter.getLogger(v.id),v._hlsMimeTypes=["application/x-mpegurl","application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"],t.default=v},function(e,t){e.exports={recoverDecodingErrorDelay:3e3,recoverSwapAudioCodecDelay:3e3,hlsConfig:{fragLoadingMaxRetry:4,maxMaxBufferLength:60}}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.HlsJsErrorMap=void 0;var r,a=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(0),u=(r={},i(r,o.default.ErrorDetails.MANIFEST_LOAD_ERROR,{category:s.Error.Category.MANIFEST,code:s.Error.Code.HTTP_ERROR}),i(r,o.default.ErrorDetails.MANIFEST_LOAD_TIMEOUT,{category:s.Error.Category.MANIFEST,code:s.Error.Code.TIMEOUT}),i(r,o.default.ErrorDetails.MANIFEST_PARSING_ERROR,{category:s.Error.Category.MANIFEST,code:s.Error.Code.HLSJS_CANNOT_PARSE}),i(r,o.default.ErrorDetails.LEVEL_LOAD_ERROR,{category:s.Error.Category.NETWORK,code:s.Error.Code.HTTP_ERROR}),i(r,o.default.ErrorDetails.LEVEL_LOAD_TIMEOUT,{category:s.Error.Category.NETWORK,code:s.Error.Code.TIMEOUT}),i(r,o.default.ErrorDetails.LEVEL_SWITCH_ERROR,{category:s.Error.Category.PLAYER,code:s.Error.Code.BITRATE_SWITCH_ISSUE}),i(r,o.default.ErrorDetails.FRAG_LOAD_ERROR,{category:s.Error.Category.NETWORK,code:s.Error.Code.HTTP_ERROR}),i(r,o.default.ErrorDetails.FRAG_LOOP_LOADING_ERROR,{category:s.Error.Category.NETWORK,code:s.Error.Code.HTTP_ERROR}),i(r,o.default.ErrorDetails.FRAG_LOAD_TIMEOUT,{category:s.Error.Category.NETWORK,code:s.Error.Code.TIMEOUT}),i(r,o.default.ErrorDetails.FRAG_PARSING_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_FRAG_PARSING_ERROR}),i(r,o.default.ErrorDetails.BUFFER_APPEND_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_BUFFER_APPEND_ISSUE}),i(r,o.default.ErrorDetails.BUFFER_APPENDING_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_BUFFER_APPENDING_ISSUE}),i(r,o.default.ErrorDetails.BUFFER_STALLED_ERROR,{category:s.Error.Category.MEDIA,code:s.Error.Code.HLS_BUFFER_STALLED_ERROR}),r);t.HlsJsErrorMap=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(e){i(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=n.load.bind(n),s=t.redirectExternalStreamsHandler;return n.load=function(e,n,i){var r=e.url;"manifest"===e.type?o.Utils.Http.jsonp(r,s,{timeout:t.redirectExternalStreamsTimeout}).then(function(t){e.url=t,a(e,n,i)}).catch(function(){return a(e,n,i)}):a(e,n,i)},n}return a(t,e),t}(u.default.DefaultConfig.loader);l.redirectExternalStreamsHandler=function(e){return e},t.default=l}])})},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=8)}([function(e,t,n){"use strict";function i(){}function r(e,t){return t="["+e+"] > "+t}function a(e){var t=self.console[e];return t?function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];i[0]&&(i[0]=r(e,i[0])),t.apply(self.console,i)}:i}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];n.forEach(function(t){l[t]=e[t]?e[t].bind(e):a(t)})}n.d(t,"a",function(){return c}),n.d(t,"b",function(){return f});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u={trace:i,debug:i,log:i,warn:i,info:i,error:i},l=u,c=function(e){if(!0===e||"object"===(void 0===e?"undefined":s(e))){o(e,"debug","log","info","warn","error");try{l.log()}catch(e){l=u}}else l=u},f=l},function(e,t,n){"use strict";t.a={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCH:"hlsLevelSwitch",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var i={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},r={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return a});var r=function(){function e(){i(this,e)}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,n){for(var i=n,r=0;e.isHeader(t,n);){r+=10;r+=e._readSize(t,n+6),e.isFooter(t,n+10)&&(r+=10),n+=r}if(r>0)return t.subarray(i,i+r)},e._readSize=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},e.getTimeStamp=function(t){for(var n=e.getID3Frames(t),i=0;i<n.length;i++){var r=n[i];if(e.isTimeStampFrame(r))return e._readTimeStamp(r)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var n=String.fromCharCode(t[0],t[1],t[2],t[3]),i=e._readSize(t,4);return{type:n,size:i,data:t.subarray(10,10+i)}},e.getID3Frames=function(t){for(var n=0,i=[];e.isHeader(t,n);){var r=e._readSize(t,n+6);n+=10;for(var a=n+r;n+8<a;){var o=e._getFrameData(t.subarray(n)),s=e._decodeFrame(o);s&&i.push(s),n+=o.size+10}e.isFooter(t,n)&&(n+=10)}return i},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var n=e._utf8ArrayToStr(t.data,!0),i=new Uint8Array(t.data.subarray(n.length+1));return{key:t.type,info:n,data:i.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var n=1,i=e._utf8ArrayToStr(t.data.subarray(n));n+=i.length+1;var r=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:i,data:r}}var a=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:a}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var n=1,i=e._utf8ArrayToStr(t.data.subarray(n));n+=i.length+1;var r=e._utf8ArrayToStr(t.data.subarray(n));return{key:t.type,info:i,data:r}}var a=e._utf8ArrayToStr(t.data);return{key:t.type,data:a}},e._utf8ArrayToStr=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.length,i=void 0,r=void 0,a=void 0,o="",s=0;s<n;){if(0===(i=e[s++])&&t)return o;if(0!==i&&3!==i)switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:r=e[s++],o+=String.fromCharCode((31&i)<<6|63&r);break;case 14:r=e[s++],a=e[s++],o+=String.fromCharCode((15&i)<<12|(63&r)<<6|(63&a)<<0)}}return o},e}(),a=r._utf8ArrayToStr;t.a=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(t,n){i(this,e),this.subtle=t,this.aesIV=n}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}(),u=s,l=function(){function e(t,n){r(this,e),this.subtle=t,this.key=n}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}(),c=l,f=function(){function e(){a(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),i=0;i<4;i++)n[i]=t.getUint32(4*i);return n},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,i=n[0],r=n[1],a=n[2],o=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],d=new Uint32Array(256),p=0,h=0,y=0;for(y=0;y<256;y++)d[y]=y<128?y<<1:y<<1^283;for(y=0;y<256;y++){var g=h^h<<1^h<<2^h<<3^h<<4;g=g>>>8^255&g^99,e[p]=g,t[g]=p;var v=d[p],m=d[v],b=d[m],_=257*d[g]^16843008*g;i[p]=_<<24|_>>>8,r[p]=_<<16|_>>>16,a[p]=_<<8|_>>>24,o[p]=_,_=16843009*b^65537*m^257*v^16843008*p,u[g]=_<<24|_>>>8,l[g]=_<<16|_>>>16,c[g]=_<<8|_>>>24,f[g]=_,p?(p=v^d[d[d[b^v]]],h^=d[d[h]]):p=h=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,i=0;i<t.length&&n;)n=t[i]===this.key[i],i++;if(!n){this.key=t;var r=this.keySize=t.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var a=this.ksRows=4*(r+6+1),o=void 0,s=void 0,u=this.keySchedule=new Uint32Array(a),l=this.invKeySchedule=new Uint32Array(a),c=this.sBox,f=this.rcon,d=this.invSubMix,p=d[0],h=d[1],y=d[2],g=d[3],v=void 0,m=void 0;for(o=0;o<a;o++)o<r?v=u[o]=t[o]:(m=v,o%r==0?(m=m<<8|m>>>24,m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m],m^=f[o/r|0]<<24):r>6&&o%r==4&&(m=c[m>>>24]<<24|c[m>>>16&255]<<16|c[m>>>8&255]<<8|c[255&m]),u[o]=v=(u[o-r]^m)>>>0);for(s=0;s<a;s++)o=a-s,m=3&s?u[o]:u[o-4],l[s]=s<4||o<=4?m:p[c[m>>>24]]^h[c[m>>>16&255]]^y[c[m>>>8&255]]^g[c[255&m]],l[s]=l[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,n){for(var i,r,a=this.keySize+6,o=this.invKeySchedule,s=this.invSBox,u=this.invSubMix,l=u[0],c=u[1],f=u[2],d=u[3],p=this.uint8ArrayToUint32Array_(n),h=p[0],y=p[1],g=p[2],v=p[3],m=new Int32Array(e),b=new Int32Array(m.length),_=void 0,E=void 0,A=void 0,k=void 0,T=void 0,w=void 0,S=void 0,P=void 0,O=void 0,C=void 0,L=void 0,R=void 0,I=this.networkToHostOrderSwap;t<m.length;){for(O=I(m[t]),C=I(m[t+1]),L=I(m[t+2]),R=I(m[t+3]),T=O^o[0],w=R^o[1],S=L^o[2],P=C^o[3],i=4,r=1;r<a;r++)_=l[T>>>24]^c[w>>16&255]^f[S>>8&255]^d[255&P]^o[i],E=l[w>>>24]^c[S>>16&255]^f[P>>8&255]^d[255&T]^o[i+1],A=l[S>>>24]^c[P>>16&255]^f[T>>8&255]^d[255&w]^o[i+2],k=l[P>>>24]^c[T>>16&255]^f[w>>8&255]^d[255&S]^o[i+3],T=_,w=E,S=A,P=k,i+=4;_=s[T>>>24]<<24^s[w>>16&255]<<16^s[S>>8&255]<<8^s[255&P]^o[i],E=s[w>>>24]<<24^s[S>>16&255]<<16^s[P>>8&255]<<8^s[255&T]^o[i+1],A=s[S>>>24]<<24^s[P>>16&255]<<16^s[T>>8&255]<<8^s[255&w]^o[i+2],k=s[P>>>24]<<24^s[T>>16&255]<<16^s[w>>8&255]<<8^s[255&S]^o[i+3],i+=3,b[t]=I(_^h),b[t+1]=I(k^y),b[t+2]=I(A^g),b[t+3]=I(E^v),h=O,y=C,g=L,v=R,t+=4}return b.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}(),d=f,p=n(2),h=n(0),y=function(){function e(t,n){o(this,e),this.observer=t,this.config=n,this.logEnabled=!0;try{var i=crypto||self.crypto;this.subtle=i.subtle||i.webkitSubtle}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,n,i){var r=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(h.b.log("JS AES decrypt"),this.logEnabled=!1);var a=this.decryptor;a||(this.decryptor=a=new d),a.expandKey(t),i(a.decrypt(e,0,n))}else{this.logEnabled&&(h.b.log("WebCrypto AES decrypt"),this.logEnabled=!1);var o=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new c(o,t)),this.fastAesKey.expandKey().then(function(a){new u(o,n).decrypt(e,a).catch(function(a){r.onWebCryptoError(a,e,t,n,i)}).then(function(e){i(e)})}).catch(function(a){r.onWebCryptoError(a,e,t,n,i)})}},e.prototype.onWebCryptoError=function(e,t,n,i,r){this.config.enableSoftwareAES?(h.b.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,n,i,r)):(h.b.error("decrypting error : "+e.message),this.observer.trigger(Event.ERROR,{type:p.b.MEDIA_ERROR,details:p.a.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.a=y},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(n=this._events[e],o(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),l=n.slice(),r=l.length,u=0;u<r;u++)l[u].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(r=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){!function(t){var n=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,i=/^([^\/;?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var r=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=this.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):t;var s=this.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=i.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(l.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var c=s.path,f=c.substring(0,c.lastIndexOf("/")+1)+a.path;l.path=o.normalizePath(f)}else l.path=s.path,a.params||(l.params=s.params,a.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},function(e,t,n){"use strict";function i(e,t,n,i){var r,a,o,s,u,l=navigator.userAgent.toLowerCase(),c=i,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return r=1+((192&t[n+2])>>>6),(a=(60&t[n+2])>>>2)>f.length-1?void e.trigger(Event.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+a}):(s=(1&t[n+2])<<2,s|=(192&t[n+3])>>>6,P.b.log("manifest codec:"+i+",ADTS data:type:"+r+",sampleingIndex:"+a+"["+f[a]+"Hz],channelConfig:"+s),/firefox/i.test(l)?a>=6?(r=5,u=new Array(4),o=a-3):(r=2,u=new Array(2),o=a):-1!==l.indexOf("android")?(r=2,u=new Array(2),o=a):(r=5,u=new Array(4),i&&(-1!==i.indexOf("mp4a.40.29")||-1!==i.indexOf("mp4a.40.5"))||!i&&a>=6?o=a-3:((i&&-1!==i.indexOf("mp4a.40.2")&&(a>=6&&1===s||/vivaldi/i.test(l))||!i&&1===s)&&(r=2,u=new Array(2)),o=a)),u[0]=r<<3,u[0]|=(14&a)>>1,u[1]|=(1&a)<<7,u[1]|=s<<3,5===r&&(u[1]|=(14&o)>>1,u[2]=(1&o)<<7,u[2]|=8,u[3]=0),{config:u,samplerate:f[a],channelCount:s,codec:"mp4a.40."+r,manifestCodec:c})}function r(e,t){return 255===e[t]&&240==(246&e[t+1])}function a(e,t){return 1&e[t+1]?7:9}function o(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function s(e,t){return!!(t+1<e.length&&r(e,t))}function u(e,t){if(t+1<e.length&&r(e,t)){var n=a(e,t),i=n;t+5<e.length&&(i=o(e,t));var s=t+i;if(s===e.length||s+1<e.length&&r(e,s))return!0}return!1}function l(e,t,n,r,a){if(!e.samplerate){var o=i(t,n,r,a);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,P.b.log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}}function c(e){return 9216e4/e}function f(e,t,n,i,r){var s,u,l,c=e.length;if(s=a(e,t),u=o(e,t),(u-=s)>0&&t+s+u<=c)return l=n+i*r,{headerLength:s,frameLength:u,stamp:l}}function d(e,t,n,i,r){var a=c(e.samplerate),o=f(t,n,i,r,a);if(o){var s=o.stamp,u=o.headerLength,l=o.frameLength,d={unit:t.subarray(n+u,n+u+l),pts:s,dts:s};return e.samples.push(d),e.len+=l,{sample:d,length:l+u}}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var T=n(1),w=n(2),S=n(4),P=n(0),O=n(3),C=function(){function e(t,n,i){p(this,e),this.observer=t,this.config=i,this.remuxer=n}return e.prototype.resetInitSegment=function(e,t,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){if(!e)return!1;for(var t=O.a.getID3Data(e,0)||[],n=t.length,i=e.length;n<i;n++)if(u(e,n))return P.b.log("ADTS sync word found !"),!0;return!1},e.prototype.append=function(e,t,n,i){for(var r=this._audioTrack,a=O.a.getID3Data(e,0)||[],o=O.a.getTimeStamp(a),u=o?90*o:9e4*t,c=0,f=u,p=e.length,h=a.length,y=[{pts:f,dts:f,data:a}];h<p-1;)if(s(e,h)&&h+5<p){l(r,this.observer,e,h,r.manifestCodec);var g=d(r,e,h,u,c);if(!g){P.b.log("Unable to parse AAC frame");break}h+=g.length,f=g.sample.pts,c++}else O.a.isHeader(e,h)?(a=O.a.getID3Data(e,h),y.push({pts:f,dts:f,data:a}),h+=a.length):h++;this.remuxer.remux(r,{samples:[]},{samples:y,inputTimeScale:9e4},{samples:[]},t,n,i)},e.prototype.destroy=function(){},e}(),L=C,R=Math.pow(2,32)-1,I=function(){function e(t,n){h(this,e),this.observer=t,this.remuxer=n}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,n,i,r){if(t&&t.byteLength){var a=this.initData=e.parseInitSegment(t);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var o={};a.audio&&a.video?o.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:r?t:null}:(a.audio&&(o.audio={container:"audio/mp4",codec:n,initSegment:r?t:null}),a.video&&(o.video={container:"video/mp4",codec:i,initSegment:r?t:null})),this.observer.trigger(T.a.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var n=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return n<0?4294967296+n:n},e.writeUint32=function(e,t,n){e.data&&(t+=e.start,e=e.data),e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},e.findBox=function(t,n){var i,r,a,o,s,u,l,c=[];if(t.data?(u=t.start,o=t.end,t=t.data):(u=0,o=t.byteLength),!n.length)return null;for(i=u;i<o;)r=e.readUint32(t,i),a=e.bin2str(t.subarray(i+4,i+8)),l=r>1?i+r:o,a===n[0]&&(1===n.length?c.push({data:t,start:i+8,end:l}):(s=e.findBox({data:t,start:i+8,end:l},n.slice(1)),s.length&&(c=c.concat(s)))),i=l;return c},e.parseInitSegment=function(t){var n=[];return e.findBox(t,["moov","trak"]).forEach(function(t){var i=e.findBox(t,["tkhd"])[0];if(i){var r=i.data[i.start],a=0===r?12:20,o=e.readUint32(i,a),s=e.findBox(t,["mdia","mdhd"])[0];if(s){r=s.data[s.start],a=0===r?12:20;var u=e.readUint32(s,a),l=e.findBox(t,["mdia","hdlr"])[0];if(l){var c=e.bin2str(l.data.subarray(l.start+8,l.start+12)),f={soun:"audio",vide:"video"}[c];if(f){var d=e.findBox(t,["mdia","minf","stbl","stsd"]);if(d.length){d=d[0];var p=e.bin2str(d.data.subarray(d.start+12,d.start+16));P.b.log("MP4Demuxer:"+f+":"+p+" found")}n[o]={timescale:u,type:f},n[f]={timescale:u,id:o}}}}}}),n},e.getStartDTS=function(t,n){var i,r,a;return i=e.findBox(n,["moof","traf"]),r=[].concat.apply([],i.map(function(n){return e.findBox(n,["tfhd"]).map(function(i){var r,a;return r=e.readUint32(i,4),a=t[r].timescale||9e4,e.findBox(n,["tfdt"]).map(function(t){var n,i;return n=t.data[t.start],i=e.readUint32(t,4),1===n&&(i*=Math.pow(2,32),i+=e.readUint32(t,8)),i})[0]/a})})),a=Math.min.apply(null,r),isFinite(a)?a:0},e.offsetStartDTS=function(t,n,i){e.findBox(n,["moof","traf"]).map(function(n){return e.findBox(n,["tfhd"]).map(function(r){var a=e.readUint32(r,4),o=t[a].timescale||9e4;e.findBox(n,["tfdt"]).map(function(t){var n=t.data[t.start],r=e.readUint32(t,4);if(0===n)e.writeUint32(t,4,r-i*o);else{r*=Math.pow(2,32),r+=e.readUint32(t,8),r-=i*o,r=Math.max(r,0);var a=Math.floor(r/(R+1)),s=Math.floor(r%(R+1));e.writeUint32(t,4,a),e.writeUint32(t,8,s)}})})})},e.prototype.append=function(t,n,i,r){var a=this.initData;a||(this.resetInitSegment(t,this.audioCodec,this.videoCodec),a=this.initData);var o=void 0,s=this.initPTS;if(void 0===s){var u=e.getStartDTS(a,t);this.initPTS=s=u-n,this.observer.trigger(T.a.INIT_PTS_FOUND,{initPTS:s})}e.offsetStartDTS(a,t,s),o=e.getStartDTS(a,t),this.remuxer.remux(a.audio,a.video,null,null,o,i,r,t)},e.prototype.destroy=function(){},e}(),x=I,D={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,n,i,r){if(!(n+24>t.length)){var a=this.parseHeader(t,n);if(a&&n+a.frameLength<=t.length){var o=9e4*a.samplesPerFrame/a.sampleRate,s=i+r*o,u={unit:t.subarray(n,n+a.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=a.channelCount,e.samplerate=a.sampleRate,e.samples.push(u),e.len+=a.frameLength,{sample:u,length:a.frameLength}}}},parseHeader:function(e,t){var n=e[t+1]>>3&3,i=e[t+1]>>1&3,r=e[t+2]>>4&15,a=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!==n&&0!==r&&15!==r&&3!==a){var s=3===n?3-i:3===i?3:4,u=1e3*D.BitratesMap[14*s+r-1],l=3===n?0:2===n?1:2,c=D.SamplingRateMap[3*l+a],f=e[t+3]>>6==3?1:2,d=D.SamplesCoefficients[n][i],p=D.BytesInSlot[i],h=8*d*p;return{sampleRate:c,channelCount:f,frameLength:parseInt(d*u/c+o,10)*p,samplesPerFrame:h}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var n=this.parseHeader(e,t),i=4;n&&n.frameLength&&(i=n.frameLength);var r=t+i;if(r===e.length||r+1<e.length&&this.isHeaderPattern(e,r))return!0}return!1}},M=D,N=function(){function e(t){y(this,e),this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,i=new Uint8Array(4),r=Math.min(4,t);if(0===r)throw new Error("no bytes available");i.set(e.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&P.b.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),t=e-t,t>0&&this.bitsAvailable?n<<t|this.readBits(t):n},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,n,i=8,r=8;for(t=0;t<e;t++)0!==r&&(n=this.readEG(),r=(i+n+256)%256),i=0===r?i:r},e.prototype.readSPS=function(){var e,t,n,i,r,a,o,s=0,u=0,l=0,c=0,f=this.readUByte.bind(this),d=this.readBits.bind(this),p=this.readUEG.bind(this),h=this.readBoolean.bind(this),y=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(f(),e=f(),d(5),y(3),f(),v(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var b=p();if(3===b&&y(1),v(),v(),y(1),h())for(a=3!==b?8:12,o=0;o<a;o++)h()&&m(o<6?16:64)}v();var _=p();if(0===_)p();else if(1===_)for(y(1),g(),g(),t=p(),o=0;o<t;o++)g();v(),y(1),n=p(),i=p(),r=d(1),0===r&&y(1),y(1),h()&&(s=p(),u=p(),l=p(),c=p());var E=[1,1];if(h()&&h()){switch(f()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[f()<<8|f(),f()<<8|f()]}}return{width:Math.ceil(16*(n+1)-2*s-2*u),height:(2-r)*(i+1)*16-(r?2:4)*(l+c),pixelRatio:E}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}(),U=N,B=function(){function e(t,n,i,r){g(this,e),this.decryptdata=i,this.discardEPB=r,this.decrypter=new S.a(t,n)}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,n,i){var r=e[t].unit,a=r.subarray(16,r.length-r.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,function(a){a=new Uint8Array(a),r.set(a,16),i||s.decryptAacSamples(e,t+1,n)})},e.prototype.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,i),!i)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),i=0,r=32;r<=e.length-16;r+=160,i+=16)n.set(e.subarray(r,r+16),i);return n},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var n=0,i=32;i<=e.length-16;i+=160,n+=16)e.set(t.subarray(n,n+16),i);return e},e.prototype.decryptAvcSample=function(e,t,n,i,r,a){var o=this.discardEPB(r.data),s=this.getAvcEncryptedData(o),u=this;this.decryptBuffer(s.buffer,function(s){r.data=u.getAvcDecryptedUnit(o,s),a||u.decryptAvcSamples(e,t,n+1,i)})},e.prototype.decryptAvcSamples=function(e,t,n,i){for(;;t++,n=0){if(t>=e.length)return void i();for(var r=e[t].units;!(n>=r.length);n++){var a=r[n];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,i,a,o),!o)return}}}},e}(),j=B,F={video:0,audio:1,id3:2,text:3},G=function(){function e(t,n,i,r){v(this,e),this.observer=t,this.config=i,this.typeSupported=r,this.remuxer=n,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new j(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var n=e._syncOffset(t);return!(n<0)&&(n&&P.b.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:F[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",r),this._audioTrack=e.createTrack("audio",r),this._id3Track=e.createTrack("id3",r),this._txtTrack=e.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=r},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,n,i,r){var a,o,s,u,l,c=t.length,f=!1;this.contiguous=i;var d=this.pmtParsed,p=this._avcTrack,h=this._audioTrack,y=this._id3Track,g=p.pid,v=h.pid,m=y.pid,b=this._pmtId,_=p.pesData,E=h.pesData,A=y.pesData,k=this._parsePAT,S=this._parsePMT,O=this._parsePES,C=this._parseAVCPES.bind(this),L=this._parseAACPES.bind(this),R=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),x=e._syncOffset(t);for(c-=(c+x)%188,a=x;a<c;a+=188)if(71===t[a]){if(o=!!(64&t[a+1]),s=((31&t[a+1])<<8)+t[a+2],(48&t[a+3])>>4>1){if((u=a+5+t[a+4])===a+188)continue}else u=a+4;switch(s){case g:o&&(_&&(l=O(_))&&C(l,!1),_={data:[],size:0}),_&&(_.data.push(t.subarray(u,a+188)),_.size+=a+188-u);break;case v:o&&(E&&(l=O(E))&&(h.isAAC?L(l):R(l)),E={data:[],size:0}),E&&(E.data.push(t.subarray(u,a+188)),E.size+=a+188-u);break;case m:o&&(A&&(l=O(A))&&I(l),A={data:[],size:0}),A&&(A.data.push(t.subarray(u,a+188)),A.size+=a+188-u);break;case 0:o&&(u+=t[u]+1),b=this._pmtId=k(t,u);break;case b:o&&(u+=t[u]+1);var D=S(t,u,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);g=D.avc,g>0&&(p.pid=g),v=D.audio,v>0&&(h.pid=v,h.isAAC=D.isAAC),m=D.id3,m>0&&(y.pid=m),f&&!d&&(P.b.log("reparse from beginning"),f=!1,a=x-188),d=this.pmtParsed=!0;break;case 17:case 8191:break;default:f=!0}}else this.observer.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});_&&(l=O(_))?(C(l,!0),p.pesData=null):p.pesData=_,E&&(l=O(E))?(h.isAAC?L(l):R(l),h.pesData=null):(E&&E.size&&P.b.log("last AAC PES packet truncated,might overlap between fragments"),h.pesData=E),A&&(l=O(A))?(I(l),y.pesData=null):y.pesData=A,null==this.sampleAes?this.remuxer.remux(h,p,y,this._txtTrack,n,i,r):this.decryptAndRemux(h,p,y,this._txtTrack,n,i,r)},e.prototype.decryptAndRemux=function(e,t,n,i,r,a,o){if(e.samples&&e.isAAC){var s=this;this.sampleAes.decryptAacSamples(e.samples,0,function(){s.decryptAndRemuxAvc(e,t,n,i,r,a,o)})}else this.decryptAndRemuxAvc(e,t,n,i,r,a,o)},e.prototype.decryptAndRemuxAvc=function(e,t,n,i,r,a,o){if(t.samples){var s=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,function(){s.remuxer.remux(e,t,n,i,r,a,o)})}else this.remuxer.remux(e,t,n,i,r,a,o)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,n,i){var r,a,o,s,u={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=(15&e[t+1])<<8|e[t+2],a=t+3+r-4,o=(15&e[t+10])<<8|e[t+11],t+=12+o;t<a;){switch(s=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){P.b.log("unkown stream type:"+e[t]);break}case 15:-1===u.audio&&(u.audio=s);break;case 21:-1===u.id3&&(u.id3=s);break;case 219:if(!i){P.b.log("unkown stream type:"+e[t]);break}case 27:-1===u.avc&&(u.avc=s);break;case 3:case 4:n?-1===u.audio&&(u.audio=s,u.isAAC=!1):P.b.log("MPEG audio found, not supported in this browser for now");break;case 36:P.b.warn("HEVC stream type found, not supported for now");break;default:P.b.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return u},e.prototype._parsePES=function(e){var t,n,i,r,a,o,s,u,l=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var f=new Uint8Array(c[0].length+c[1].length);f.set(c[0]),f.set(c[1],c[0].length),c[0]=f,c.splice(1,1)}if(t=c[0],1===(t[0]<<16)+(t[1]<<8)+t[2]){if((i=(t[4]<<8)+t[5])&&i>e.size-6)return null;n=t[7],192&n&&(o=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,o>4294967295&&(o-=8589934592),64&n?(s=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2,s>4294967295&&(s-=8589934592),o-s>54e5&&(P.b.warn(Math.round((o-s)/9e4)+"s delta between PTS and DTS, align them"),o=s)):s=o),r=t[8],u=r+9,e.size-=u,a=new Uint8Array(e.size);for(var d=0,p=c.length;d<p;d++){t=c[d];var h=t.byteLength;if(u){if(u>h){u-=h;continue}t=t.subarray(u),h-=u,u=0}a.set(t,l),l+=h}return i&&(i-=r+3),{data:a,pts:o,dts:s,len:i}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var n=t.samples,i=n.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(i||this.contiguous)?(e.id=i,n.push(e)):t.dropped++}e.debug.length&&P.b.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var n,i,r,a=this,o=this._avcTrack,s=this._parseAVCNALu(e.data),u=this.avcSample,l=!1,c=this.pushAccesUnit.bind(this),f=function(e,t,n,i){return{key:e,pts:t,dts:n,units:[],debug:i}};e.data=null,u&&s.length&&!o.audFound&&(c(u,o),u=this.avcSample=f(!1,e.pts,e.dts,"")),s.forEach(function(t){switch(t.type){case 1:i=!0,u||(u=a.avcSample=f(!0,e.pts,e.dts,"")),u.frame=!0;var s=t.data;if(l&&s.length>4){var d=new U(s).readSliceType();2!==d&&4!==d&&7!==d&&9!==d||(u.key=!0)}break;case 5:i=!0,u||(u=a.avcSample=f(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:i=!0,n=new U(a.discardEPB(t.data)),n.readUByte();for(var p=0,h=0,y=!1,g=0;!y&&n.bytesAvailable>1;){p=0;do{g=n.readUByte(),p+=g}while(255===g);h=0;do{g=n.readUByte(),h+=g}while(255===g);if(4===p&&0!==n.bytesAvailable){y=!0;if(181===n.readUByte()){if(49===n.readUShort()){if(1195456820===n.readUInt()){if(3===n.readUByte()){var v=n.readUByte(),m=n.readUByte(),b=31&v,_=[v,m];for(r=0;r<b;r++)_.push(n.readUByte()),_.push(n.readUByte()),_.push(n.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}}}}else if(h<n.bytesAvailable)for(r=0;r<h;r++)n.readUByte()}break;case 7:if(i=!0,l=!0,!o.sps){n=new U(t.data);var E=n.readSPS();o.width=E.width,o.height=E.height,o.pixelRatio=E.pixelRatio,o.sps=[t.data],o.duration=a._duration;var A=t.data.subarray(1,4),k="avc1.";for(r=0;r<3;r++){var T=A[r].toString(16);T.length<2&&(T="0"+T),k+=T}o.codec=k}break;case 8:i=!0,o.pps||(o.pps=[t.data]);break;case 9:i=!1,o.audFound=!0,u&&c(u,o),u=a.avcSample=f(!1,e.pts,e.dts,"");break;case 12:i=!1;break;default:i=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}if(u&&i){u.units.push(t)}}),t&&u&&(c(u,o),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var n=e.length;if(n>0){if(t.pts>=e[n-1].pts)e.push(t);else for(var i=n-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e=this.avcSample,t=void 0;if(!e||0===e.units.length){var n=this._avcTrack,i=n.samples;e=i[i.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},e.prototype._parseAVCNALu=function(e){var t,n,i,r,a,o=0,s=e.byteLength,u=this._avcTrack,l=u.naluState||0,c=l,f=[],d=-1;for(-1===l&&(d=0,a=31&e[0],l=0,o=1);o<s;)if(t=e[o++],l)if(1!==l)if(t)if(1===t){if(d>=0)i={data:e.subarray(d,o-l-1),type:a},f.push(i);else{var p=this._getLastNalUnit();if(p&&(c&&o<=4-c&&p.state&&(p.data=p.data.subarray(0,p.data.byteLength-c)),(n=o-l-1)>0)){var h=new Uint8Array(p.data.byteLength+n);h.set(p.data,0),h.set(e.subarray(0,n),p.data.byteLength),p.data=h}}o<s?(r=31&e[o],d=o,a=r,l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;if(d>=0&&l>=0&&(i={data:e.subarray(d,s),type:a,state:l},f.push(i)),0===f.length){var y=this._getLastNalUnit();if(y){var g=new Uint8Array(y.data.byteLength+e.byteLength);g.set(y.data,0),g.set(e,y.data.byteLength),y.data=g}}return u.naluState=l,f},e.prototype.discardEPB=function(e){for(var t,n,i=e.byteLength,r=[],a=1;a<i-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=i-r.length,n=new Uint8Array(t);var o=0;for(a=0;a<t;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=e[o];return n},e.prototype._parseAACPES=function(e){var t,n,i,r,a,o=this._audioTrack,u=e.data,f=e.pts,p=this.aacOverFlow,h=this.aacLastPTS;if(p){var y=new Uint8Array(p.byteLength+u.byteLength);y.set(p,0),y.set(u,p.byteLength),u=y}for(i=0,a=u.length;i<a-1&&!s(u,i);i++);if(i){var g,v;if(i<a-1?(g="AAC PES did not start with ADTS header,offset:"+i,v=!1):(g="no ADTS header found in AAC PES",v=!0),P.b.warn("parsing error:"+g),this.observer.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:v,reason:g}),v)return}if(l(o,this.observer,u,i,this.audioCodec),n=0,t=c(o.samplerate),p&&h){var m=h+t;Math.abs(m-f)>1&&(P.b.log("AAC: align PTS for overlapping frames by "+Math.round((m-f)/90)),f=m)}for(;i<a;)if(s(u,i)&&i+5<a){var b=d(o,u,i,f,n);if(!b)break;i+=b.length,r=b.sample.pts,n++}else i++;p=i<a?u.subarray(i,a):null,this.aacOverFlow=p,this.aacLastPTS=r},e.prototype._parseMPEGPES=function(e){for(var t=e.data,n=t.length,i=0,r=0,a=e.pts;r<n;)if(M.isHeader(t,r)){var o=M.appendFrame(this._audioTrack,t,r,a,i);if(!o)break;r+=o.length,i++}else r++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}(),V=G,H=function(){function e(t,n,i){m(this,e),this.observer=t,this.config=i,this.remuxer=n}return e.prototype.resetInitSegment=function(e,t,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,n,i=O.a.getID3Data(e,0);if(i&&void 0!==O.a.getTimeStamp(i))for(t=i.length,n=Math.min(e.length-1,t+100);t<n;t++)if(M.probe(e,t))return P.b.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,n,i){for(var r=O.a.getID3Data(e,0),a=O.a.getTimeStamp(r),o=a?90*a:9e4*t,s=r.length,u=e.length,l=0,c=0,f=this._audioTrack,d=[{pts:o,dts:o,data:r}];s<u;)if(M.isHeader(e,s)){var p=M.appendFrame(f,e,s,o,l);if(!p)break;s+=p.length,c=p.sample.pts,l++}else O.a.isHeader(e,s)?(r=O.a.getID3Data(e,s),d.push({pts:c,dts:c,data:r}),s+=r.length):s++;this.remuxer.remux(f,{samples:[]},{samples:d,inputTimeScale:9e4},{samples:[]},t,n,i)},e.prototype.destroy=function(){},e}(),K=H,W=function(){function e(){b(this,e)}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}(),Y=W,z=Math.pow(2,32)-1,q=function(){function e(){_(this,e)}return e.init=function(){e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var t;for(t in e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:i};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=a,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,o,u,o,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,r))},e.box=function(e){for(var t,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,a=r;r--;)i+=n[r].byteLength;for(t=new Uint8Array(i),t[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),r=0,i=8;r<a;r++)t.set(n[r],i),i+=n[r].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var i=Math.floor(n/(z+1)),r=Math.floor(n%(z+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,n))},e.moov=function(t){for(var n=t.length,i=[];n--;)i[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,i=[];n--;)i[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(i))},e.mvhd=function(t,n){n*=t;var i=Math.floor(n/(z+1)),r=Math.floor(n%(z+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,i,r=t.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return e.box(e.types.sdtp,a)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,i,r,a=[],o=[];for(n=0;n<t.sps.length;n++)i=t.sps[n],r=i.byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(i));for(n=0;n<t.pps.length;n++)i=t.pps[n],r=i.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(i));var s=e.box(e.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|t.sps.length].concat(a).concat([t.pps.length]).concat(o))),u=t.width,l=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,i=t.duration*t.timescale,r=t.width,a=t.height,o=Math.floor(i/(z+1)),s=Math.floor(i%(z+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var i=e.sdtp(t),r=t.id,a=Math.floor(n/(z+1)),o=Math.floor(n%(z+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var i,r,a,o,s,u,l=t.samples||[],c=l.length,f=12+16*c,d=new Uint8Array(f);for(n+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<c;i++)r=l[i],a=r.duration,o=r.size,s=r.flags,u=r.cts,d.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*i);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var n,i=e.moov(t);return n=new Uint8Array(e.FTYP.byteLength+i.byteLength),n.set(e.FTYP),n.set(i,e.FTYP.byteLength),n},e}(),X=q,J=function(){function e(t,n,i,r){E(this,e),this.observer=t,this.config=n,this.typeSupported=i;var a=navigator.userAgent;this.isSafari=r&&r.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,n,i,r,a,o){if(this.ISGenerated||this.generateIS(e,t,r),this.ISGenerated){var s=e.samples.length,u=t.samples.length,l=r,c=r;if(s&&u){var f=(e.samples[0].dts-t.samples[0].dts)/t.inputTimeScale;l+=Math.max(0,f),c+=Math.max(0,-f)}if(s){e.timescale||(P.b.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,r));var d=this.remuxAudio(e,l,a,o);if(u){var p=void 0;d&&(p=d.endPTS-d.startPTS),t.timescale||(P.b.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,r)),this.remuxVideo(t,c,a,p,o)}}else{var h=void 0;u&&(h=this.remuxVideo(t,c,a,o)),h&&e.codec&&this.remuxEmptyAudio(e,l,a,h)}}n.samples.length&&this.remuxID3(n,r),i.samples.length&&this.remuxText(i,r),this.observer.trigger(T.a.FRAG_PARSED)},e.prototype.generateIS=function(e,t,n){var i,r,a=this.observer,o=e.samples,s=t.samples,u=this.typeSupported,l="audio/mp4",c={},f={tracks:c},d=void 0===this._initPTS;if(d&&(i=r=1/0),e.config&&o.length&&(e.timescale=e.samplerate,P.b.log("audio sampling rate : "+e.samplerate),e.isAAC||(u.mpeg?(l="audio/mpeg",e.codec=""):u.mp3&&(e.codec="mp3")),c.audio={container:l,codec:e.codec,initSegment:!e.isAAC&&u.mpeg?new Uint8Array:X.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(i=r=o[0].pts-e.inputTimeScale*n)),t.sps&&t.pps&&s.length){var p=t.inputTimeScale;t.timescale=p,c.video={container:"video/mp4",codec:t.codec,initSegment:X.initSegment([t]),metadata:{width:t.width,height:t.height}},d&&(i=Math.min(i,s[0].pts-p*n),r=Math.min(r,s[0].dts-p*n),this.observer.trigger(T.a.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(c).length?(a.trigger(T.a.FRAG_PARSING_INIT_SEGMENT,f),this.ISGenerated=!0,d&&(this._initPTS=i,this._initDTS=r)):a.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,n,i,r){var a,o,s,u,l,c,f,d=8,p=e.timescale,h=e.samples,y=[],g=h.length,v=this._PTSNormalize,m=this._initDTS,b=this.nextAvcDts,_=this.isSafari;_&&(n|=h.length&&b&&(r&&Math.abs(t-b/p)<.1||Math.abs(h[0].pts-b-m)<p/5)),n||(b=t*p),h.forEach(function(e){e.pts=v(e.pts-m,b),e.dts=v(e.dts-m,b)}),h.sort(function(e,t){var n=e.dts-t.dts,i=e.pts-t.pts;return n||(i||e.id-t.id)});var E=h.reduce(function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)},0);if(E<0){P.b.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(E/90)+" ms to overcome this issue");for(var A=0;A<h.length;A++)h[A].dts+=E}var k=h[0];l=Math.max(k.dts,0),u=Math.max(k.pts,0);var S=Math.round((l-b)/90);n&&S&&(S>1?P.b.log("AVC:"+S+" ms hole between fragments detected,filling it"):S<-1&&P.b.log("AVC:"+-S+" ms overlapping between fragments detected"),l=b,h[0].dts=l,u=Math.max(u-S,b),h[0].pts=u,P.b.log("Video/PTS/DTS adjusted: "+Math.round(u/90)+"/"+Math.round(l/90)+",delta:"+S+" ms")),k=h[h.length-1],f=Math.max(k.dts,0),c=Math.max(k.pts,0,f),_&&(a=Math.round((f-l)/(h.length-1)));for(var O=0,C=0,L=0;L<g;L++){for(var R=h[L],I=R.units,x=I.length,D=0,M=0;M<x;M++)D+=I[M].data.length;C+=D,O+=x,R.length=D,R.dts=_?l+L*a:Math.max(R.dts,l),R.pts=Math.max(R.pts,R.dts)}var N=C+4*O+8;try{o=new Uint8Array(N)}catch(e){return void this.observer.trigger(T.a.ERROR,{type:w.b.MUX_ERROR,details:w.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:N,reason:"fail allocating video mdat "+N})}var U=new DataView(o.buffer);U.setUint32(0,N),o.set(X.types.mdat,4);for(var B=0;B<g;B++){for(var j=h[B],F=j.units,G=0,V=void 0,H=0,K=F.length;H<K;H++){var W=F[H],Y=W.data,z=W.data.byteLength;U.setUint32(d,z),d+=4,o.set(Y,d),d+=z,G+=4+z}if(_)V=Math.max(0,a*Math.round((j.pts-j.dts)/a));else{if(B<g-1)a=h[B+1].dts-j.dts;else{var q=this.config,J=j.dts-h[B>0?B-1:B].dts;if(q.stretchShortVideoTrack){var Q=q.maxBufferHole,$=q.maxSeekHole,Z=Math.floor(Math.min(Q,$)*p),ee=(i?u+i*p:this.nextAudioPts)-j.pts;ee>Z?(a=ee-J,a<0&&(a=J),P.b.log("It is approximately "+ee/90+" ms to the next segment; using duration "+a/90+" ms for the last video frame.")):a=J}else a=J}V=Math.round(j.pts-j.dts)}y.push({size:G,duration:a,cts:V,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:j.key?2:1,isNonSync:j.key?0:1}})}this.nextAvcDts=f+a;var te=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var ne=y[0].flags;ne.dependsOn=2,ne.isNonSync=0}e.samples=y,s=X.moof(e.sequenceNumber++,l,e),e.samples=[];var ie={data1:s,data2:o,startPTS:u/p,endPTS:(c+a)/p,startDTS:l/p,endDTS:this.nextAvcDts/p,type:"video",nb:y.length,dropped:te};return this.observer.trigger(T.a.FRAG_PARSING_DATA,ie),ie},e.prototype.remuxAudio=function(e,t,n,i){var r,a,o,s,u,l,c,f=e.inputTimeScale,d=e.timescale,p=f/d,h=e.isAAC?1024:1152,y=h*p,g=this._PTSNormalize,v=this._initDTS,m=!e.isAAC&&this.typeSupported.mpeg,b=e.samples,_=[],E=this.nextAudioPts;if(n|=b.length&&E&&(i&&Math.abs(t-E/f)<.1||Math.abs(b[0].pts-E-v)<20*y),b.forEach(function(e){e.pts=e.dts=g(e.pts-v,t*f)}),b=b.filter(function(e){return e.pts>=0}),0!==b.length){if(n||(E=i?t*f:b[0].pts),e.isAAC)for(var A=this.config.maxAudioFramesDrift,k=0,S=E;k<b.length;){var O,C=b[k],L=C.pts;O=L-S;var R=Math.abs(1e3*O/f);if(O<=-A*y)P.b.warn("Dropping 1 audio frame @ "+(S/f).toFixed(3)+"s due to "+Math.round(R)+" ms overlap."),b.splice(k,1),e.len-=C.unit.length;else if(O>=A*y&&R<1e4&&S){var I=Math.round(O/y);P.b.warn("Injecting "+I+" audio frame @ "+(S/f).toFixed(3)+"s due to "+Math.round(1e3*O/f)+" ms gap.");for(var x=0;x<I;x++){var D=Math.max(S,0);o=Y.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),o||(P.b.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),o=C.unit.subarray()),b.splice(k,0,{unit:o,pts:D,dts:D}),e.len+=o.length,S+=y,k++}C.pts=C.dts=S,S+=y,k++}else Math.abs(O),C.pts=C.dts=S,S+=y,k++}for(var M=0,N=b.length;M<N;M++){var U=b[M],B=U.unit,j=U.pts;if(void 0!==c)a.duration=Math.round((j-c)/p);else{var F=Math.round(1e3*(j-E)/f),G=0;if(n&&e.isAAC&&F){if(F>0&&F<1e4)G=Math.round((j-E)/y),P.b.log(F+" ms hole between AAC samples detected,filling it"),G>0&&(o=Y.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),o||(o=B.subarray()),e.len+=G*o.length);else if(F<-12){P.b.log("drop overlapping AAC sample, expected/parsed/delta:"+(E/f).toFixed(3)+"s/"+(j/f).toFixed(3)+"s/"+-F+"ms"),e.len-=B.byteLength;continue}j=E}if(l=j,!(e.len>0))return;var V=m?e.len:e.len+8;r=m?0:8;try{s=new Uint8Array(V)}catch(e){return void this.observer.trigger(T.a.ERROR,{type:w.b.MUX_ERROR,details:w.a.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V})}if(!m){new DataView(s.buffer).setUint32(0,V),s.set(X.types.mdat,4)}for(var H=0;H<G;H++)o=Y.getSilentFrame(e.manifestCodec||e.codec,e.channelCount),o||(P.b.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),o=B.subarray()),s.set(o,r),r+=o.byteLength,a={size:o.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(a)}s.set(B,r);var K=B.byteLength;r+=K,a={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},_.push(a),c=j}var W=0,z=_.length;if(z>=2&&(W=_[z-2].duration,a.duration=W),z){this.nextAudioPts=E=c+p*W,e.len=0,e.samples=_,u=m?new Uint8Array:X.moof(e.sequenceNumber++,l/p,e),e.samples=[];var q=l/f,J=E/f,Q={data1:u,data2:s,startPTS:q,endPTS:J,startDTS:q,endDTS:J,type:"audio",nb:z};return this.observer.trigger(T.a.FRAG_PARSING_DATA,Q),Q}return null}},e.prototype.remuxEmptyAudio=function(e,t,n,i){var r=e.inputTimeScale,a=e.samplerate?e.samplerate:r,o=r/a,s=this.nextAudioPts,u=(void 0!==s?s:i.startDTS*r)+this._initDTS,l=i.endDTS*r+this._initDTS,c=1024*o,f=Math.ceil((l-u)/c),d=Y.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(P.b.warn("remux empty Audio"),!d)return void P.b.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!");for(var p=[],h=0;h<f;h++){var y=u+h*c;p.push({unit:d,pts:y,dts:y}),e.len+=d.length}e.samples=p,this.remuxAudio(e,t,n)},e.prototype.remuxID3=function(e,t){var n,i=e.samples.length,r=e.inputTimeScale,a=this._initPTS,o=this._initDTS;if(i){for(var s=0;s<i;s++)n=e.samples[s],n.pts=(n.pts-a)/r,n.dts=(n.dts-o)/r;this.observer.trigger(T.a.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[],t=t},e.prototype.remuxText=function(e,t){e.samples.sort(function(e,t){return e.pts-t.pts});var n,i=e.samples.length,r=e.inputTimeScale,a=this._initPTS;if(i){for(var o=0;o<i;o++)n=e.samples[o],n.pts=(n.pts-a)/r;this.observer.trigger(T.a.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[],t=t},e.prototype._PTSNormalize=function(e,t){var n;if(void 0===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e},e}(),Q=J,$=function(){function e(t){A(this,e),this.observer=t}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,n,i,r,a,o,s){var u=this.observer,l="";e&&(l+="audio"),t&&(l+="video"),u.trigger(T.a.FRAG_PARSING_DATA,{data1:s,startPTS:r,startDTS:r,type:l,nb:1,dropped:0}),u.trigger(T.a.FRAG_PARSED)},e}(),Z=$,ee=function(){function e(t,n,i,r){k(this,e),this.observer=t,this.typeSupported=n,this.config=i,this.vendor=r}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,n,i,r,a,o,s,u,l,c,f){if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var d=this.decrypter;null==d&&(d=this.decrypter=new S.a(this.observer,this.config));var p,h=this;try{p=performance.now()}catch(e){p=Date.now()}d.decrypt(e,t.key.buffer,t.iv.buffer,function(e){var d;try{d=performance.now()}catch(e){d=Date.now()}h.observer.trigger(T.a.FRAG_DECRYPTED,{stats:{tstart:p,tdecrypt:d}}),h.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,r,a,o,s,u,l,c,f)})}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(n),i,r,a,o,s,u,l,c,f)},e.prototype.pushDecrypted=function(e,t,n,i,r,a,o,s,u,l,c,f){var d=this.demuxer;if(!d||o&&!this.probe(e)){for(var p=this.observer,h=this.typeSupported,y=this.config,g=[{demux:V,remux:Q},{demux:x,remux:Z},{demux:L,remux:Q},{demux:K,remux:Q}],v=0,m=g.length;v<m;v++){var b=g[v],_=b.demux.probe;if(_(e)){var E=this.remuxer=new b.remux(p,y,h,this.vendor);d=new b.demux(p,E,y,h),this.probe=_;break}}if(!d)return void p.trigger(T.a.ERROR,{type:w.b.MEDIA_ERROR,details:w.a.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=d}var A=this.remuxer;(o||s)&&(d.resetInitSegment(n,i,r,l),A.resetInitSegment()),o&&(d.resetTimeStamp(f),A.resetTimeStamp(f)),"function"==typeof d.setDecryptData&&d.setDecryptData(t),d.append(e,a,u,c)},e}();t.a=ee},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=Ge[t];return!!n&&!0===n[e.slice(0,4)]}function o(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)return null;for(var n=null,i=0;i<e.length;i++){var r=e[i];r.id===t&&(n=r)}return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t,n){var i=e[t],r=e[n],a=r.startPTS;isNaN(a)?r.start=n>t?i.start+i.duration:Math.max(i.start-r.duration,0):n>t?(i.duration=a-i.start,i.duration<0&&xe.b.warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(r.duration=i.start-a,r.duration<0&&xe.b.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!"))}function _(e,t,n,i,r,a){var o=n;if(!isNaN(t.startPTS)){var s=Math.abs(t.startPTS-n);isNaN(t.deltaPTS)?t.deltaPTS=s:t.deltaPTS=Math.max(s,t.deltaPTS),o=Math.max(n,t.startPTS),n=Math.min(n,t.startPTS),i=Math.max(i,t.endPTS),r=Math.min(r,t.startDTS),a=Math.max(a,t.endDTS)}var u=n-t.start;t.start=t.startPTS=n,t.maxStartPTS=o,t.endPTS=i,t.startDTS=r,t.endDTS=a,t.duration=i-n;var l=t.sn;if(!e||l<e.startSN||l>e.endSN)return 0;var c,f,d;for(c=l-e.startSN,f=e.fragments,f[c]=t,d=c;d>0;d--)b(f,d,d-1);for(d=c;d<f.length-1;d++)b(f,d,d+1);return e.PTSKnown=!0,u}function E(e,t){var n,i=Math.max(e.startSN,t.startSN)-t.startSN,r=Math.min(e.endSN,t.endSN)-t.startSN,a=t.startSN-e.startSN,o=e.fragments,s=t.fragments,u=0;if(r<i)return void(t.PTSKnown=!1);for(var l=i;l<=r;l++){var c=o[a+l],f=s[l];f&&c&&(u=c.cc-f.cc,isNaN(c.startPTS)||(f.start=f.startPTS=c.startPTS,f.endPTS=c.endPTS,f.duration=c.duration,f.backtracked=c.backtracked,f.dropped=c.dropped,n=f))}if(u)for(xe.b.log("discontinuity sliding from playlist, take drift into account"),l=0;l<s.length;l++)s[l].cc+=u;if(n)_(t,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS);else if(a>=0&&a<o.length){var d=o[a].start;for(l=0;l<s.length;l++)s[l].start+=d}t.PTSKnown=e.PTSKnown}function A(e,t){for(var n=null,i=0;i<e.length;i+=1){var r=e[i];if(r&&r.cc===t){n=r;break}}return n}function k(e,t){return nt.search(e,function(e){return e.cc<t?1:e.cc>t?-1:0})}function T(e,t,n){var i=!1;return t&&t.details&&n&&(n.endCC>n.startCC||e&&e.cc<n.startCC)&&(i=!0),i}function w(e,t){var n=e.fragments,i=t.fragments;if(!i.length||!n.length)return void xe.b.log("No fragments to align");var r=A(n,i[0].cc);return!r||r&&!r.startPTS?void xe.b.log("No frag in previous level to align on"):r}function S(e,t){t.fragments.forEach(function(t){if(t){var n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}),t.PTSKnown=!0}function P(e,t,n){if(T(e,t,n)){var i=w(t.details,n);i&&(xe.b.log("Adjusting PTS using last level due to CC increase within current level"),S(i.start,n))}if(!1===n.PTSKnown&&t&&t.details){var r=t.details.programDateTime,a=n.programDateTime,o=(a-r)/1e3+t.details.fragments[0].start;isNaN(o)||(xe.b.log("adjusting PTS using programDateTime delta, sliding:"+o.toFixed(3)),S(o,n))}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function U(){var e=v(),t=window.SourceBuffer||window.WebKitSourceBuffer,n=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!n&&!!i}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function te(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function re(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ae(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new Jt,this.regionList=[]}function oe(e){function t(e,t,n,i){return 3600*(0|e)+60*(0|t)+(0|n)+(0|i)/1e3}var n=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?t(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?t(n[1],n[2],0,n[4]):t(0,n[1],n[2],n[4]):null}function se(){this.values=Object.create(null)}function ue(e,t,n,i){var r=i?e.split(i):[e];for(var a in r)if("string"==typeof r[a]){var o=r[a].split(n);if(2===o.length){var s=o[0],u=o[1];t(s,u)}}}function le(e,t,n){function i(){var t=oe(e);if(null===t)throw new Error("Malformed timestamp: "+a);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function r(){e=e.replace(/^\s+/,"")}var a=e;if(r(),t.startTime=i(),r(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);e=e.substr(3),r(),t.endTime=i(),r(),function(e,t){var i=new se;ue(e,function(e,t){switch(e){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===t){i.set(e,n[r].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),o=a[0];i.integer(e,o),i.percent(e,o)&&i.set("snapToLines",!1),i.alt(e,o,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start",$t,"end"]);break;case"position":a=t.split(","),i.percent(e,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start",$t,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",$t,"end","left","right"])}},/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");var r=i.get("line","auto");"auto"===r&&-1===Qt.line&&(r=-1),t.line=r,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",$t);var a=i.get("position","auto");"auto"===a&&50===Qt.position&&(a="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=a}(e,t)}function ce(e){return e.replace(/<br(?: \/)?>/gi,"\n")}function fe(e,t,n,i){for(var r,a,o,s,u,l=window.VTTCue||window.TextTrackCue,c=0;c<i.rows.length;c++)if(r=i.rows[c],o=!0,s=0,u="",!r.isEmpty()){for(var f=0;f<r.chars.length;f++)r.chars[f].uchar.match(/\s/)&&o?s++:(u+=r.chars[f].uchar,o=!1);r.cueStartTime=t,t===n&&(n+=1e-4),a=new l(t,n,ce(u.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=c+1:a.line=c>7?c-2:c+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(a)}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ve(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}function me(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}function be(e,t,n,i){return Math.min(t,i)-Math.max(e,n)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Ae(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function ke(e){for(var t=[],n=0;n<e.length;n++)"subtitles"===e[n].kind&&t.push(e[n]);return t}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function we(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Se(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var Oe={};n.d(Oe,"newCue",function(){return fe});var Ce=n(6),Le=n.n(Ce),Re=n(1),Ie=n(2),xe=n(0),De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me=function(){function e(t){i(this,e),this.hls=t,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.unregisterListeners()},e.prototype.isEventHandler=function(){return"object"===De(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){if("hlsEventGeneric"===e)throw new Error("Forbidden event name: "+e);this.hls.on(e,this.onEvent)},this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(e){this.hls.off(e,this.onEvent)},this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){var n=function(e,t){var n="on"+e.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,t)};try{n.call(this,e,t).call()}catch(t){xe.b.error("internal error happened while processing "+e+":"+t.message),this.hls.trigger(Re.a.ERROR,{type:Ie.b.OTHER_ERROR,details:Ie.a.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}(),Ne=Me,Ue=/^(\d+)x(\d+)$/,Be=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,je=function(){function e(t){r(this,e),"string"==typeof t&&(t=e.parseAttrList(t));for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])}return e.prototype.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)n[i]=parseInt(t.slice(2*i,2*i+2),16);return n}return null},e.prototype.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},e.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},e.prototype.enumeratedString=function(e){return this[e]},e.prototype.decimalResolution=function(e){var t=Ue.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(Be.lastIndex=0;null!==(t=Be.exec(e));){var i=t[2];0===i.indexOf('"')&&i.lastIndexOf('"')===i.length-1&&(i=i.slice(1,-1)),n[t[1]]=i}return n},e}(),Fe=je,Ge={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}},Ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),He=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,Ke=/#EXT-X-MEDIA:(.*)/g,We=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)(\S+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Ye=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,ze=function(){function e(){l(this,e),this.method=null,this.key=null,this.iv=null,this._uri=null}return Ve(e,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Le.a.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),e}(),qe=function(){function e(){l(this,e),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return e.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},e.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var n=e;return e&&e.method&&e.uri&&!e.iv&&(n=new ze,n.method=e.method,n.baseuri=e.baseuri,n.reluri=e.reluri,n.iv=this.createInitializationVector(t)),n},e.prototype.cloneObj=function(e){return JSON.parse(JSON.stringify(e))},Ve(e,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Le.a.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var e=this._byteRange=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var n=this.lastByteRangeEndOffset;e[0]=n||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),e}(),Xe=function(e){function t(n){l(this,t);var i=s(this,e.call(this,n,Re.a.MANIFEST_LOADING,Re.a.LEVEL_LOADING,Re.a.AUDIO_TRACK_LOADING,Re.a.SUBTITLE_TRACK_LOADING));return i.loaders={},i}return u(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},Ne.prototype.destroy.call(this)},t.prototype.onManifestLoading=function(e){this.load(e.url,{type:"manifest"})},t.prototype.onLevelLoading=function(e){this.load(e.url,{type:"level",level:e.level,id:e.id})},t.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:"audioTrack",id:e.id})},t.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:"subtitleTrack",id:e.id})},t.prototype.load=function(e,t){var n=this.loaders[t.type];if(void 0!==n){var i=n.context;if(i&&i.url===e)return void xe.b.trace("playlist request ongoing");xe.b.warn("abort previous loader for type:"+t.type),n.abort()}var r=this.hls.config,a=void 0,o=void 0,s=void 0,u=void 0;"manifest"===t.type?(a=r.manifestLoadingMaxRetry,o=r.manifestLoadingTimeOut,s=r.manifestLoadingRetryDelay,u=r.manifestLoadingMaxRetryTimeout):"level"===t.type?(a=0,o=r.levelLoadingTimeOut):(a=r.levelLoadingMaxRetry,o=r.levelLoadingTimeOut,s=r.levelLoadingRetryDelay,u=r.levelLoadingMaxRetryTimeout,xe.b.log("loading playlist for "+t.type+" "+(t.level||t.id))),n=this.loaders[t.type]=t.loader=void 0!==r.pLoader?new r.pLoader(r):new r.loader(r),t.url=e,t.responseType="";var l=void 0,c=void 0;l={timeout:o,maxRetry:a,retryDelay:s,maxRetryDelay:u},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(t,l,c)},t.prototype.resolve=function(e,t){return Le.a.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.prototype.parseMasterPlaylist=function(e,t){var n=[],i=void 0;for(He.lastIndex=0;null!=(i=He.exec(e));){var r={},o=r.attrs=new Fe(i[1]);r.url=this.resolve(i[2],t);var s=o.decimalResolution("RESOLUTION");s&&(r.width=s.width,r.height=s.height),r.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),r.name=o.NAME,function(e,t){["video","audio"].forEach(function(n){var i=e.filter(function(e){return a(e,n)});if(i.length){var r=i.filter(function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)});t[n+"Codec"]=r.length>0?r[0]:i[0],e=e.filter(function(e){return-1===i.indexOf(e)})}}),t.unknownCodecs=e}([].concat((o.CODECS||"").split(/[ ,]+/)),r),r.videoCodec&&-1!==r.videoCodec.indexOf("avc1")&&(r.videoCodec=this.avc1toavcoti(r.videoCodec)),n.push(r)}return n},t.prototype.parseMasterPlaylistMedia=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=void 0,a=[],o=0;for(Ke.lastIndex=0;null!==(r=Ke.exec(e));){var s={},u=new Fe(r[1]);if(u.TYPE===n){if(s.groupId=u["GROUP-ID"],s.name=u.NAME,s.type=n,s.default="YES"===u.DEFAULT,s.autoselect="YES"===u.AUTOSELECT,s.forced="YES"===u.FORCED,u.URI&&(s.url=this.resolve(u.URI,t)),s.lang=u.LANGUAGE,s.name||(s.name=s.lang),i.length){var l=c(i,s.groupId);s.audioCodec=l?l.codec:i[0].codec}s.id=o++,a.push(s)}}return a},t.prototype.avc1toavcoti=function(e){var t,n=e.split(".");return n.length>2?(t=n.shift()+".",t+=parseInt(n.shift()).toString(16),t+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):t=e,t},t.prototype.parseLevelPlaylist=function(e,t,n,i){var r,a,o=0,s=0,u={type:null,version:null,url:t,fragments:[],live:!0,startSN:0},l=new ze,c=0,f=null,d=new qe;for(We.lastIndex=0;null!==(r=We.exec(e));){var p=r[1];if(p){d.duration=parseFloat(p);var h=(" "+r[2]).slice(1);d.title=h||null,d.tagList.push(h?["INF",p,h]:["INF",p])}else if(r[3]){if(!isNaN(d.duration)){var y=o++;d.type=i,d.start=s,d.levelkey=l,d.sn=y,d.level=n,d.cc=c,d.baseurl=t,d.relurl=(" "+r[3]).slice(1),u.fragments.push(d),f=d,s+=d.duration,d=new qe}}else if(r[4]){if(d.rawByteRange=(" "+r[4]).slice(1),f){var g=f.byteRangeEndOffset;g&&(d.lastByteRangeEndOffset=g)}}else if(r[5])d.rawProgramDateTime=(" "+r[5]).slice(1),d.tagList.push(["PROGRAM-DATE-TIME",d.rawProgramDateTime]),void 0===u.programDateTime&&(u.programDateTime=new Date(new Date(Date.parse(r[5]))-1e3*s));else{for(r=r[0].match(Ye),a=1;a<r.length&&void 0===r[a];a++);var v=(" "+r[a+1]).slice(1),m=(" "+r[a+2]).slice(1);switch(r[a]){case"#":d.tagList.push(m?[v,m]:[v]);break;case"PLAYLIST-TYPE":u.type=v.toUpperCase();break;case"MEDIA-SEQUENCE":o=u.startSN=parseInt(v);break;case"TARGETDURATION":u.targetduration=parseFloat(v);break;case"VERSION":u.version=parseInt(v);break;case"EXTM3U":break;case"ENDLIST":u.live=!1;break;case"DIS":c++,d.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":c=parseInt(v);break;case"KEY":var b=v,_=new Fe(b),E=_.enumeratedString("METHOD"),A=_.URI,k=_.hexadecimalInteger("IV");E&&(l=new ze,A&&["AES-128","SAMPLE-AES"].indexOf(E)>=0&&(l.method=E,l.baseuri=t,l.reluri=A,l.key=null,l.iv=k));break;case"START":var T=v,w=new Fe(T),S=w.decimalFloatingPoint("TIME-OFFSET");isNaN(S)||(u.startTimeOffset=S);break;case"MAP":var P=new Fe(v);d.relurl=P.URI,d.rawByteRange=P.BYTERANGE,d.baseurl=t,d.level=n,d.type=i,d.sn="initSegment",u.initSegment=d,d=new qe;break;default:xe.b.warn("line parsed but not handled: "+r)}}}return d=f,d&&!d.relurl&&(u.fragments.pop(),s-=d.duration),u.totalduration=s,u.averagetargetduration=s/u.fragments.length,u.endSN=o-1,u.startCC=u.fragments[0]?u.fragments[0].cc:0,u.endCC=c,u},t.prototype.loadsuccess=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.data,a=e.url,o=n.type,s=n.id,u=n.level,l=this.hls;if(this.loaders[o]=void 0,void 0!==a&&0!==a.indexOf("data:")||(a=n.url),t.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var c="audioTrack"!==o&&"subtitleTrack"!==o,f=isNaN(u)?isNaN(s)?0:s:u,d=this.parseLevelPlaylist(r,a,f,"audioTrack"===o?"audio":"subtitleTrack"===o?"subtitle":"main");d.tload=t.tload,"manifest"===o&&l.trigger(Re.a.MANIFEST_LOADED,{levels:[{url:a,details:d}],audioTracks:[],url:a,stats:t,networkDetails:i}),t.tparsed=performance.now(),d.targetduration?c?l.trigger(Re.a.LEVEL_LOADED,{details:d,level:u||0,id:s||0,stats:t,networkDetails:i}):"audioTrack"===o?l.trigger(Re.a.AUDIO_TRACK_LOADED,{details:d,id:s,stats:t,networkDetails:i}):"subtitleTrack"===o&&l.trigger(Re.a.SUBTITLE_TRACK_LOADED,{details:d,id:s,stats:t,networkDetails:i}):l.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:Ie.a.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"invalid targetduration",networkDetails:i})}else{var p=this.parseMasterPlaylist(r,a);if(p.length){var h=p.map(function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}}),y=this.parseMasterPlaylistMedia(r,a,"AUDIO",h),g=this.parseMasterPlaylistMedia(r,a,"SUBTITLES");if(y.length){var v=!1;y.forEach(function(e){e.url||(v=!0)}),!1===v&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(xe.b.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main"}))}l.trigger(Re.a.MANIFEST_LOADED,{levels:p,audioTracks:y,subtitles:g,url:a,stats:t,networkDetails:i})}else l.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:Ie.a.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no level found in manifest",networkDetails:i})}else l.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:Ie.a.MANIFEST_PARSING_ERROR,fatal:!0,url:a,reason:"no EXTM3U delimiter",networkDetails:i})},t.prototype.loaderror=function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.loader;switch(t.type){case"manifest":n=Ie.a.MANIFEST_LOAD_ERROR,i=!0;break;case"level":n=Ie.a.LEVEL_LOAD_ERROR,i=!1;break;case"audioTrack":n=Ie.a.AUDIO_TRACK_LOAD_ERROR,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:n,fatal:i,url:a.url,loader:a,response:e,context:t,networkDetails:r})},t.prototype.loadtimeout=function(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.loader;switch(t.type){case"manifest":n=Ie.a.MANIFEST_LOAD_TIMEOUT,i=!0;break;case"level":n=Ie.a.LEVEL_LOAD_TIMEOUT,i=!1;break;case"audioTrack":n=Ie.a.AUDIO_TRACK_LOAD_TIMEOUT,i=!1}a&&(a.abort(),this.loaders[t.type]=void 0),this.hls.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:n,fatal:i,url:a.url,loader:a,context:t,networkDetails:r})},t}(Ne),Je=Xe,Qe=function(e){function t(n){f(this,t);var i=d(this,e.call(this,n,Re.a.FRAG_LOADING));return i.loaders={},i}return p(t,e),t.prototype.destroy=function(){var e=this.loaders;for(var t in e){var n=e[t];n&&n.destroy()}this.loaders={},Ne.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag,n=t.type,i=this.loaders[n],r=this.hls.config;t.loaded=0,i&&(xe.b.warn("abort previous fragment loader for type:"+n),i.abort()),i=this.loaders[n]=t.loader=void 0!==r.fLoader?new r.fLoader(r):new r.loader(r);var a=void 0,o=void 0,s=void 0;a={url:t.url,frag:t,responseType:"arraybuffer",progressData:!1};var u=t.byteRangeStartOffset,l=t.byteRangeEndOffset;isNaN(u)||isNaN(l)||(a.rangeStart=u,a.rangeEnd=l),o={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},i.load(a,o,s)},t.prototype.loadsuccess=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=e.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(Re.a.FRAG_LOADED,{payload:r,frag:a,stats:t,networkDetails:i})},t.prototype.loaderror=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:Ie.a.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:n})},t.prototype.loadtimeout=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:Ie.a.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:n})},t.prototype.loadprogress=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.frag;r.loaded=e.loaded,this.hls.trigger(Re.a.FRAG_LOAD_PROGRESS,{frag:r,stats:e,networkDetails:i})},t}(Ne),$e=Qe,Ze=function(e){function t(n){h(this,t);var i=y(this,e.call(this,n,Re.a.KEY_LOADING));return i.loaders={},i.decryptkey=null,i.decrypturl=null,i}return g(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},Ne.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,n=t.type,i=this.loaders[n],r=t.decryptdata,a=r.uri;if(a!==this.decrypturl||null===this.decryptkey){var o=this.hls.config;i&&(xe.b.warn("abort previous key loader for type:"+n),i.abort()),t.loader=this.loaders[n]=new o.loader(o),this.decrypturl=a,this.decryptkey=null;var s=void 0,u=void 0,l=void 0;s={url:a,frag:t,responseType:"arraybuffer"},u={timeout:o.fragLoadingTimeOut,maxRetry:o.fragLoadingMaxRetry,retryDelay:o.fragLoadingRetryDelay,maxRetryDelay:o.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(s,u,l)}else this.decryptkey&&(r.key=this.decryptkey,this.hls.trigger(Re.a.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,n){var i=n.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(Re.a.KEY_LOADED,{frag:i})},t.prototype.loaderror=function(e,t){var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:Ie.a.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.prototype.loadtimeout=function(e,t){var n=t.frag,i=n.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(Re.a.ERROR,{type:Ie.b.NETWORK_ERROR,details:Ie.a.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},t}(Ne),et=Ze,tt={search:function(e,t){for(var n=0,i=e.length-1,r=null,a=null;n<=i;){r=(n+i)/2|0,a=e[r];var o=t(a);if(o>0)n=r+1;else{if(!(o<0))return a;i=r-1}}return null}},nt=tt,it={isBuffered:function(e,t){try{if(e)for(var n=e.buffered,i=0;i<n.length;i++)if(t>=n.start(i)&&t<=n.end(i))return!0}catch(e){}return!1},bufferInfo:function(e,t,n){try{if(e){var i,r=e.buffered,a=[];for(i=0;i<r.length;i++)a.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(a,t,n)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},bufferedInfo:function(e,t,n){var i,r,a,o,s,u=[];for(e.sort(function(e,t){var n=e.start-t.start;return n||t.end-e.end}),s=0;s<e.length;s++){var l=u.length;if(l){var c=u[l-1].end;e[s].start-c<n?e[s].end>c&&(u[l-1].end=e[s].end):u.push(e[s])}else u.push(e[s])}for(s=0,i=0,r=a=t;s<u.length;s++){var f=u[s].start,d=u[s].end;if(t+n>=f&&t<d)r=f,a=d,i=a-t;else if(t+n<f){o=f;break}}return{len:i,start:r,end:a,nextStart:o}}},rt=it,at=n(7),ot=n(5),st=n.n(ot),ut=n(9),lt=n.n(ut),ct=v(),ft=function(){function e(t,n){m(this,e),this.hls=t,this.id=n;var i=this.observer=new st.a,r=t.config;i.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit.apply(i,[e,e].concat(n))},i.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[e].concat(n))};var a=function(e,n){n=n||{},n.frag=this.frag,n.id=this.id,t.trigger(e,n)}.bind(this);i.on(Re.a.FRAG_DECRYPTED,a),i.on(Re.a.FRAG_PARSING_INIT_SEGMENT,a),i.on(Re.a.FRAG_PARSING_DATA,a),i.on(Re.a.FRAG_PARSED,a),i.on(Re.a.ERROR,a),i.on(Re.a.FRAG_PARSING_METADATA,a),i.on(Re.a.FRAG_PARSING_USERDATA,a),i.on(Re.a.INIT_PTS_FOUND,a);var o={mp4:ct.isTypeSupported("video/mp4"),mpeg:ct.isTypeSupported("audio/mpeg"),mp3:ct.isTypeSupported('audio/mp4; codecs="mp3"')},s=navigator.vendor;if(r.enableWorker&&"undefined"!=typeof Worker){xe.b.log("demuxing in webworker");var u=void 0;try{u=this.w=lt()(10),this.onwmsg=this.onWorkerMessage.bind(this),u.addEventListener("message",this.onwmsg),u.onerror=function(e){t.trigger(Re.a.ERROR,{type:Ie.b.OTHER_ERROR,details:Ie.a.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},u.postMessage({cmd:"init",typeSupported:o,vendor:s,id:n,config:JSON.stringify(r)})}catch(e){xe.b.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),u&&URL.revokeObjectURL(u.objectURL),this.demuxer=new at.a(i,o,r,s),this.w=void 0}}else this.demuxer=new at.a(i,o,r,s)}return e.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.prototype.push=function(e,t,n,i,r,a,o,s){var u=this.w,l=isNaN(r.startDTS)?r.start:r.startDTS,c=r.decryptdata,f=this.frag,d=!(f&&r.cc===f.cc),p=!(f&&r.level===f.level),h=f&&r.sn===f.sn+1,y=!p&&h;if(d&&xe.b.log(this.id+":discontinuity detected"),p&&xe.b.log(this.id+":switch detected"),this.frag=r,u)u.postMessage({cmd:"demux",data:e,decryptdata:c,initSegment:t,audioCodec:n,videoCodec:i,timeOffset:l,discontinuity:d,trackSwitch:p,contiguous:y,duration:a,accurateTimeOffset:o,defaultInitPTS:s},e instanceof ArrayBuffer?[e]:[]);else{var g=this.demuxer;g&&g.push(e,c,t,n,i,l,d,p,y,a,o,s)}},e.prototype.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case Re.a.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},e}(),dt=ft,pt={toString:function(e){for(var t="",n=e.length,i=0;i<n;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}},ht=pt,yt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),gt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},vt=function(e){function t(n){O(this,t);var i=C(this,e.call(this,n,Re.a.MEDIA_ATTACHED,Re.a.MEDIA_DETACHING,Re.a.MANIFEST_LOADING,Re.a.MANIFEST_PARSED,Re.a.LEVEL_LOADED,Re.a.KEY_LOADED,Re.a.FRAG_LOADED,Re.a.FRAG_LOAD_EMERGENCY_ABORTED,Re.a.FRAG_PARSING_INIT_SEGMENT,Re.a.FRAG_PARSING_DATA,Re.a.FRAG_PARSED,Re.a.ERROR,Re.a.AUDIO_TRACK_SWITCHING,Re.a.AUDIO_TRACK_SWITCHED,Re.a.BUFFER_CREATED,Re.a.BUFFER_APPENDED,Re.a.BUFFER_FLUSHED));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=gt.STOPPED,i.ontick=i.tick.bind(i),i}return L(t,e),t.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Ne.prototype.destroy.call(this),this.state=gt.STOPPED},t.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&-1===e&&(xe.b.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=gt.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=gt.STOPPED},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=gt.STOPPED,this.forceStartLoad=!1},t.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){switch(this.state){case gt.ERROR:break;case gt.BUFFER_FLUSHING:this.fragLoadError=0;break;case gt.IDLE:this._doTickIdle();break;case gt.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=gt.IDLE);break;case gt.FRAG_LOADING_WAITING_RETRY:var t=performance.now(),n=this.retryDate;(!n||t>=n||this.media&&this.media.seeking)&&(xe.b.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=gt.IDLE);break;case gt.ERROR:case gt.STOPPED:case gt.FRAG_LOADING:case gt.PARSING:case gt.PARSED:case gt.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},t.prototype._doTickIdle=function(){var e=this.hls,t=e.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&t.startFragPrefetch)){var i=void 0;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var r=e.nextLoadLevel,a=this.levels[r];if(a){var o=a.bitrate,s=void 0;s=o?Math.max(8*t.maxBufferSize/o,t.maxBufferLength):t.maxBufferLength,s=Math.min(s,t.maxMaxBufferLength);var u=rt.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,t.maxBufferHole),l=u.len;if(!(l>=s)){xe.b.trace("buffer length of "+l.toFixed(3)+" is below max of "+s.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=r;var c=a.details;if(void 0===c||!0===c.live&&this.levelLastLoaded!==r)return void(this.state=gt.WAITING_LEVEL);var f=this.fragPrevious;if(!c.live&&f&&!f.backtracked&&f.sn===c.endSN&&!u.nextStart){if(Math.min(n.duration,f.start+f.duration)-Math.max(u.end,f.start)<=Math.max(.2,f.duration)){var d={};return this.altAudio&&(d.type="video"),this.hls.trigger(Re.a.BUFFER_EOS,d),void(this.state=gt.ENDED)}}this._fetchPayloadOrEos(i,u,c)}}}},t.prototype._fetchPayloadOrEos=function(e,t,n){var i=this.fragPrevious,r=this.level,a=n.fragments,o=a.length;if(0!==o){var s=a[0].start,u=a[o-1].start+a[o-1].duration,l=t.end,c=void 0;if(n.initSegment&&!n.initSegment.data)c=n.initSegment;else if(n.live){var f=this.config.initialLiveManifestSize;if(o<f)return void xe.b.warn("Can not start playback of a level, reason: not enough fragments "+o+" < "+f);if(null===(c=this._ensureFragmentAtLivePoint(n,l,s,u,i,a,o)))return}else l<s&&(c=a[0]);c||(c=this._findFragment(s,i,o,a,l,u,n)),c&&this._loadFragmentOrKey(c,r,n,e,l)}},t.prototype._ensureFragmentAtLivePoint=function(e,t,n,i,r,a,o){var s=this.hls.config,u=this.media,l=void 0,c=void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(n-s.maxFragLookUpTolerance,i-c)){var f=this.liveSyncPosition=this.computeLivePosition(n,e);xe.b.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),t=f,u&&u.readyState&&u.duration>f&&(u.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>i&&u&&u.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(r){var d=r.sn+1;if(d>=e.startSN&&d<=e.endSN){var p=a[d-e.startSN];r.cc===p.cc&&(l=p,xe.b.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=nt.search(a,function(e){return r.cc-e.cc}))&&xe.b.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=a[Math.min(o-1,Math.round(o/2))],xe.b.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},t.prototype._findFragment=function(e,t,n,i,r,a,o){var s=this.hls.config,u=void 0,l=void 0,c=s.maxFragLookUpTolerance,f=t?i[t.sn-i[0].sn+1]:void 0,d=function(e){var t=Math.min(c,e.duration+(e.deltaPTS?e.deltaPTS:0));return e.start+e.duration-t<=r?1:e.start-t>r&&e.start?-1:0};if(r<a?(r>a-c&&(c=0),l=f&&!d(f)?f:nt.search(i,d)):l=i[n-1],l){u=l;var p=u.sn-o.startSN,h=t&&u.level===t.level,y=i[p-1],g=i[p+1];if(t&&u.sn===t.sn)if(h&&!u.backtracked)if(u.sn<o.endSN){var v=t.deltaPTS;v&&v>s.maxBufferHole&&t.dropped&&p?(u=y,xe.b.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),t.loadCounter--):(u=g,xe.b.log("SN just loaded, load next one: "+u.sn))}else u=null;else u.backtracked&&(g&&g.backtracked?(xe.b.warn("Already backtracked from fragment "+g.sn+", will not backtrack to fragment "+u.sn+". Loading fragment "+g.sn),u=g):(xe.b.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),u.dropped=0,y?(y.loadCounter&&y.loadCounter--,u=y,u.backtracked=!0):p&&(u=null)))}return u},t.prototype._loadFragmentOrKey=function(e,t,n,i,r){var a=this.hls,o=a.config;if(!e.decryptdata||null==e.decryptdata.uri||null!=e.decryptdata.key){if(xe.b.log("Loading "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t+", currentTime:"+i.toFixed(3)+",bufferEnd:"+r.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,e.loadCounter){e.loadCounter++;var s=o.fragLoadingLoopThreshold;if(e.loadCounter>s&&Math.abs(this.fragLoadIdx-e.loadIdx)<s)return void a.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:e})}else e.loadCounter=1;return e.loadIdx=this.fragLoadIdx,e.autoLevel=a.autoLevelEnabled,e.bitrateTest=this.bitrateTest,this.fragCurrent=e,this.startFragRequested=!0,isNaN(e.sn)||e.bitrateTest||(this.nextLoadPosition=e.start+e.duration),a.trigger(Re.a.FRAG_LOADING,{frag:e}),this.demuxer||(this.demuxer=new dt(a,"main")),void(this.state=gt.FRAG_LOADING)}xe.b.log("Loading key for "+e.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+t),this.state=gt.KEY_LOADING,a.trigger(Re.a.KEY_LOADING,{frag:e})},t.prototype.getBufferedFrag=function(e){return nt.search(this._bufferedFrags,function(t){return e<t.startPTS?-1:e>t.endPTS?1:0})},t.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},t.prototype._checkFragmentChanged=function(){var e,t,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(t=n.currentTime,t>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=t),rt.isBuffered(n,t)?e=this.getBufferedFrag(t):rt.isBuffered(n,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var i=e;if(i!==this.fragPlaying){this.hls.trigger(Re.a.FRAG_CHANGED,{frag:i});var r=i.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(Re.a.LEVEL_SWITCHED,{level:r}),this.fragPlaying=i}}},t.prototype.immediateLevelSwitch=function(){if(xe.b.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var e=this.media,t=void 0;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},t.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,rt.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},t.prototype.nextLevelSwitch=function(){var e=this.media;if(e&&e.readyState){var t=void 0,n=void 0,i=void 0;if(void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),n=this.getBufferedFrag(e.currentTime),n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),e.paused)t=0;else{var r=this.hls.nextLoadLevel,a=this.levels[r],o=this.fragLastKbps;t=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if((i=this.getBufferedFrag(e.currentTime+t))&&(i=this.followingBufferedFrag(i))){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},t.prototype.flushMainBuffer=function(e,t){this.state=gt.BUFFER_FLUSHING;var n={startOffset:e,endOffset:t};this.altAudio&&(n.type="video"),this.hls.trigger(Re.a.BUFFER_FLUSHING,n)},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(xe.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0,e.backtracked=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){var e=this.media,t=e?e.currentTime:void 0,n=this.config;isNaN(t)||xe.b.log("media seeking to "+t.toFixed(3));var i=this.mediaBuffer?this.mediaBuffer:e,r=rt.bufferInfo(i,t,this.config.maxBufferHole);if(this.state===gt.FRAG_LOADING){var a=this.fragCurrent;if(0===r.len&&a){var o=n.maxFragLookUpTolerance,s=a.start-o,u=a.start+a.duration+o;t<s||t>u?(a.loader&&(xe.b.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=gt.IDLE):xe.b.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===gt.ENDED&&(0===r.len&&(this.fragPrevious=0),this.state=gt.IDLE);e&&(this.lastCurrentTime=t),this.state!==gt.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=t),this.tick()},t.prototype.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:void 0;isNaN(t)||xe.b.log("media seeked to "+t.toFixed(3)),this.tick()},t.prototype.onMediaEnded=function(){xe.b.log("media ended"),this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestLoading=function(){xe.b.log("trigger BUFFER_RESET"),this.hls.trigger(Re.a.BUFFER_RESET),this._bufferedFrags=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0},t.prototype.onManifestParsed=function(e){var t,n=!1,i=!1;e.levels.forEach(function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(n=!0),-1!==t.indexOf("mp4a.40.5")&&(i=!0))}),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&xe.b.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},t.prototype.onLevelLoaded=function(e){var t=e.details,n=e.level,i=this.levels[this.levelLastLoaded],r=this.levels[n],a=t.totalduration,o=0;if(xe.b.log("level "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+a),t.live){var s=r.details;s&&t.fragments.length>0?(E(s,t),o=t.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),t.PTSKnown&&!isNaN(o)?xe.b.log("live playlist sliding:"+o.toFixed(3)):(xe.b.log("live playlist - outdated PTS, unknown sliding"),P(this.fragPrevious,i,t))):(xe.b.log("live playlist - first load, unknown sliding"),t.PTSKnown=!1,P(this.fragPrevious,i,t))}else t.PTSKnown=!1;if(r.details=t,this.levelLastLoaded=n,this.hls.trigger(Re.a.LEVEL_UPDATED,{details:t,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var u=t.startTimeOffset;isNaN(u)?t.live?(this.startPosition=this.computeLivePosition(o,t),xe.b.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(u<0&&(xe.b.log("negative start time offset "+u+", count from end of last fragment"),u=o+a+u),xe.b.log("start time offset found in playlist, adjust startPosition to "+u),this.startPosition=u),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===gt.WAITING_LEVEL&&(this.state=gt.IDLE),this.tick()},t.prototype.onKeyLoaded=function(){this.state===gt.KEY_LOADING&&(this.state=gt.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===gt.FRAG_LOADING&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var i=e.stats,r=this.levels[t.level],a=r.details;if(xe.b.log("Loaded  "+t.sn+" of ["+a.startSN+" ,"+a.endSN+"],level "+t.level),this.bitrateTest=!1,this.stats=i,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=gt.IDLE,this.startFragRequested=!1,i.tparsed=i.tbuffered=performance.now(),this.hls.trigger(Re.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=gt.IDLE,i.tparsed=i.tbuffered=performance.now(),a.initSegment.data=e.payload,this.hls.trigger(Re.a.FRAG_BUFFERED,{stats:i,frag:t,id:"main"}),this.tick();else{this.state=gt.PARSING;var o=a.totalduration,s=t.level,u=t.sn,l=this.config.defaultAudioCodec||r.audioCodec;this.audioCodecSwap&&(xe.b.log("swapping playlist audio codec"),void 0===l&&(l=this.lastAudioCodec),l&&(l=-1!==l.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,xe.b.log("Parsing "+u+" of ["+a.startSN+" ,"+a.endSN+"],level "+s+", cc "+t.cc);var c=this.demuxer;c||(c=this.demuxer=new dt(this.hls,"main"));var f=this.media,d=f&&f.seeking,p=!d&&(a.PTSKnown||!a.live),h=a.initSegment?a.initSegment.data:[];c.push(e.payload,h,l,r.videoCodec,t,o,p,void 0)}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===gt.PARSING){var i,r,a=e.tracks;if(a.audio&&this.altAudio&&delete a.audio,r=a.audio){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(xe.b.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(o="mp4a.40.2",xe.b.log("Android: force audio codec to "+o)),r.levelCodec=o,r.id=e.id}r=a.video,r&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=e.id),this.hls.trigger(Re.a.BUFFER_CODECS,a);for(i in a){r=a[i],xe.b.log("main track:"+i+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var u=r.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Re.a.BUFFER_APPENDING,{type:i,data:u,parent:"main",content:"initSegment"}))}this.tick()}},t.prototype.onFragParsingData=function(e){var t=this,n=this.fragCurrent,i=e.frag;if(n&&"main"===e.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==e.type||!this.altAudio)&&this.state===gt.PARSING){var r=this.levels[this.level],a=n;if(isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),xe.b.log("Parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb+",dropped:"+(e.dropped||0)),"video"===e.type)if(a.dropped=e.dropped,a.dropped)if(a.backtracked)xe.b.warn("Already backtracked on this fragment, appending with the gap");else{var o=r.details;if(!o||a.sn!==o.startSN)return xe.b.warn("missing video frame(s), backtracking fragment"),a.backtracked=!0,this.nextLoadPosition=e.startPTS,this.state=gt.IDLE,this.fragPrevious=a,void this.tick();xe.b.warn("missing video frame(s) on first frag, appending with gap")}else a.backtracked=!1;var s=_(r.details,a,e.startPTS,e.endPTS,e.startDTS,e.endDTS),u=this.hls;u.trigger(Re.a.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:e.type,start:e.startPTS,end:e.endPTS}),[e.data1,e.data2].forEach(function(n){n&&n.length&&t.state===gt.PARSING&&(t.appended=!0,t.pendingBuffering=!0,u.trigger(Re.a.BUFFER_APPENDING,{type:e.type,data:n,parent:"main",content:"data"}))}),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"main"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===gt.PARSING&&(this.stats.tparsed=performance.now(),this.state=gt.PARSED,this._checkAppendedParsed())},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url,n=e.id;if(!t){if(this.mediaBuffer!==this.media){xe.b.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(xe.b.log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=gt.IDLE}var r=this.hls;r.trigger(Re.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(Re.a.AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},t.prototype.onAudioTrackSwitched=function(e){var t=e.id,n=!!this.hls.audioTracks[t].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(xe.b.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},t.prototype.onBufferCreated=function(e){var t=e.tracks,n=void 0,i=void 0,r=!1;for(var a in t){var o=t[a];"main"===o.id?(i=a,n=o,"video"===a&&(this.videoBuffer=t[a].buffer)):r=!0}r&&n?(xe.b.log("alternate track found, use "+i+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},t.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==gt.PARSING&&t!==gt.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(!(this.state!==gt.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;xe.b.log("main buffered : "+ht.toString(t.buffered));var n=this._bufferedFrags.filter(function(e){return rt.isBuffered(t,(e.startPTS+e.endPTS)/2)});n.push(e),this._bufferedFrags=n.sort(function(e,t){return e.startPTS-t.startPTS}),this.fragPrevious=e;var i=this.stats;i.tbuffered=performance.now(),this.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),this.hls.trigger(Re.a.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),this.state=gt.IDLE}this.tick()}},t.prototype.onError=function(e){var t=e.frag||this.fragCurrent;if(!t||"main"===t.type){var n=!!this.media&&rt.isBuffered(this.media,this.media.currentTime)&&rt.isBuffered(this.media,this.media.currentTime+.5);switch(e.details){case Ie.a.FRAG_LOAD_ERROR:case Ie.a.FRAG_LOAD_TIMEOUT:case Ie.a.KEY_LOAD_ERROR:case Ie.a.KEY_LOAD_TIMEOUT:if(!e.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);t.loadCounter=0,xe.b.warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=gt.FRAG_LOADING_WAITING_RETRY}else xe.b.error("mediaController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=gt.ERROR;break;case Ie.a.FRAG_LOOP_LOADING_ERROR:e.fatal||(n?(this._reduceMaxBufferLength(t.duration),this.state=gt.IDLE):t.autoLevel&&0!==t.level||(e.fatal=!0,this.state=gt.ERROR));break;case Ie.a.LEVEL_LOAD_ERROR:case Ie.a.LEVEL_LOAD_TIMEOUT:this.state!==gt.ERROR&&(e.fatal?(this.state=gt.ERROR,xe.b.warn("streamController: "+e.details+",switch to "+this.state+" state ...")):e.levelRetry||this.state!==gt.WAITING_LEVEL||(this.state=gt.IDLE));break;case Ie.a.BUFFER_FULL_ERROR:"main"!==e.parent||this.state!==gt.PARSING&&this.state!==gt.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=gt.IDLE):(xe.b.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},t.prototype._reduceMaxBufferLength=function(e){var t=this.config;t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,xe.b.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*t.fragLoadingLoopThreshold))},t.prototype._checkBuffer=function(){var e=this.media,t=this.config;if(e&&e.readyState){var n=e.currentTime,i=this.mediaBuffer?this.mediaBuffer:e,r=i.buffered;if(!this.loadedmetadata&&r.length){this.loadedmetadata=!0;var a=e.seeking?n:this.startPosition,o=rt.isBuffered(i,a),s=r.start(0),u=!o&&Math.abs(a-s)<t.maxSeekHole;(n!==a||u)&&(xe.b.log("target start position:"+a),u&&(a=s,xe.b.log("target start position not buffered, seek to buffered.start(0) "+a)),xe.b.log("adjust currentTime from "+n+" to "+a),e.currentTime=a)}else if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var l=rt.bufferInfo(e,n,0),c=!(e.paused||e.ended||0===e.buffered.length),f=n!==this.lastCurrentTime;if(f)this.stallReported&&(xe.b.warn("playback not stuck anymore @"+n+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(c){var d=performance.now(),p=this.hls;if(this.stalled){var h=d-this.stalled,y=l.len,g=this.nudgeRetry||0;if(y<=.5&&h>1e3*t.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,xe.b.warn("playback stalling in low buffer @"+n),p.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:y}));var v=l.nextStart,m=v-n;if(v&&m<t.maxSeekHole&&m>0){this.nudgeRetry=++g;var b=g*t.nudgeOffset;xe.b.log("adjust currentTime from "+e.currentTime+" to next buffered @ "+v+" + nudge "+b),e.currentTime=v+b,this.stalled=void 0,p.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:v+b-n})}}else if(y>.5&&h>1e3*t.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,xe.b.warn("playback stalling in high buffer @"+n),p.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_STALLED_ERROR,fatal:!1,buffer:y})),this.stalled=void 0,this.nudgeRetry=++g,g<t.nudgeMaxRetry){var _=e.currentTime,E=_+g*t.nudgeOffset;xe.b.log("adjust currentTime from "+_+" to "+E),e.currentTime=E,p.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_NUDGE_ON_STALL,fatal:!1})}else xe.b.error("still stuck in high buffer @"+n+" after "+t.nudgeMaxRetry+", raise fatal error"),p.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=d,this.stallReported=!1}}}},t.prototype.onFragLoadEmergencyAborted=function(){this.state=gt.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},t.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;this._bufferedFrags=this._bufferedFrags.filter(function(t){return rt.isBuffered(e,(t.startPTS+t.endPTS)/2)}),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.state=gt.IDLE,this.fragPrevious=null},t.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},t.prototype.computeLivePosition=function(e,t){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-n)},yt(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,xe.b.log("main stream:"+t+"->"+e),this.hls.trigger(Re.a.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1}},{key:"nextBufferedFrag",get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null}},{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e}}]),t}(Ne),mt=vt,bt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_t=function(e){function t(n){R(this,t);var i=I(this,e.call(this,n,Re.a.MANIFEST_LOADED,Re.a.LEVEL_LOADED,Re.a.FRAG_LOADED,Re.a.ERROR));return i.canload=!1,i.currentLevelIndex=null,i.manualLevelIndex=-1,i.timer=null,i}return x(t,e),t.prototype.destroy=function(){this.cleanTimer(),this.manualLevelIndex=-1},t.prototype.cleanTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach(function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)}),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t=[],n=void 0,i={},r=null,a=!1,s=!1,u=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),l=[];if(e.levels.forEach(function(e){e.loadError=0,e.fragmentError=!1,a=a||!!e.videoCodec,s=s||!!e.audioCodec||!(!e.attrs||!e.attrs.AUDIO),!0===u&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),r=i[e.bitrate],void 0===r?(e.url=[e.url],e.urlId=0,i[e.bitrate]=e,t.push(e)):r.url.push(e.url)}),!0===a&&!0===s&&(t=t.filter(function(e){return!!e.videoCodec})),t=t.filter(function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||o(t))&&(!n||o(n))}),e.audioTracks&&(l=e.audioTracks.filter(function(e){return!e.audioCodec||o(e.audioCodec,"audio")})),t.length>0){n=t[0].bitrate,t.sort(function(e,t){return e.bitrate-t.bitrate}),this._levels=t;for(var c=0;c<t.length;c++)if(t[c].bitrate===n){this._firstLevel=c,xe.b.log("manifest loaded,"+t.length+" level(s) found, first bitrate:"+n);break}this.hls.trigger(Re.a.MANIFEST_PARSED,{levels:t,audioTracks:l,firstLevel:this._firstLevel,stats:e.stats,audio:s,video:a,altAudio:l.length>0})}else this.hls.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},t.prototype.setLevelInternal=function(e){var t=this._levels,n=this.hls;if(e>=0&&e<t.length){if(this.cleanTimer(),this.currentLevelIndex!==e){xe.b.log("switching to level "+e),this.currentLevelIndex=e;var i=t[e];i.level=e,n.trigger(Re.a.LEVEL_SWITCH,i),n.trigger(Re.a.LEVEL_SWITCHING,i)}var r=t[e],a=r.details;if(!a||!0===a.live){var o=r.urlId;n.trigger(Re.a.LEVEL_LOADING,{url:r.url[o],level:e,id:o})}}else n.trigger(Re.a.ERROR,{type:Ie.b.OTHER_ERROR,details:Ie.a.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},t.prototype.onError=function(e){if(!0===e.fatal)return void(e.type===Ie.b.NETWORK_ERROR&&this.cleanTimer());var t=!1,n=!1,i=void 0;switch(e.details){case Ie.a.FRAG_LOAD_ERROR:case Ie.a.FRAG_LOAD_TIMEOUT:case Ie.a.FRAG_LOOP_LOADING_ERROR:case Ie.a.KEY_LOAD_ERROR:case Ie.a.KEY_LOAD_TIMEOUT:i=e.frag.level,n=!0;break;case Ie.a.LEVEL_LOAD_ERROR:case Ie.a.LEVEL_LOAD_TIMEOUT:i=e.context.level,t=!0;break;case Ie.a.REMUX_ALLOC_ERROR:i=e.level,t=!0}void 0!==i&&this.recoverLevel(e,i,t,n)},t.prototype.recoverLevel=function(e,t,n,i){var r=this,a=this.hls.config,o=e.details,s=this._levels[t],u=void 0,l=void 0,c=void 0;if(s.loadError++,s.fragmentError=i,!0===n){if(!(this.levelRetryCount+1<=a.levelLoadingMaxRetry))return xe.b.error("level controller, cannot recover from "+o+" error"),this.currentLevelIndex=null,this.cleanTimer(),void(e.fatal=!0);l=Math.min(Math.pow(2,this.levelRetryCount)*a.levelLoadingRetryDelay,a.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return r.loadLevel()},l),e.levelRetry=!0,this.levelRetryCount++,xe.b.warn("level controller, "+o+", retry in "+l+" ms, current retry count is "+this.levelRetryCount)}!0!==n&&!0!==i||(u=s.url.length,u>1&&s.loadError<u?(xe.b.warn("level controller, "+o+" for level "+t+": switching to redundant stream id "+s.urlId),s.urlId=(s.urlId+1)%u,s.details=void 0):-1===this.manualLevelIndex?(c=0===t?this._levels.length-1:t-1,xe.b.warn("level controller, "+o+": switch to "+c),this.hls.nextAutoLevel=this.currentLevelIndex=c):!0===i&&(xe.b.warn("level controller, "+o+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var n=this._levels[t.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,n=e.level;if(n===this.currentLevelIndex){var i=this._levels[n];!1===i.fragmentError&&(i.loadError=0,this.levelRetryCount=0);var r=e.details;if(r.live){var a=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),o=i.details;o&&r.endSN===o.endSN&&(a/=2,xe.b.log("same live playlist, reload twice faster")),a-=performance.now()-e.stats.trequest,a=Math.max(1e3,Math.round(a)),xe.b.log("live playlist, reload in "+a+" ms"),this.timer=setTimeout(function(){return t.loadLevel()},a)}else this.cleanTimer()}},t.prototype.loadLevel=function(){var e=void 0,t=void 0;null!==this.currentLevelIndex&&!0===this.canload&&void 0!==(e=this._levels[this.currentLevelIndex])&&e.url.length>0&&(t=e.urlId,this.hls.trigger(Re.a.LEVEL_LOADING,{url:e.url[t],level:this.currentLevelIndex,id:t}))},bt(t,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&void 0!==t[e].details||this.setLevelInternal(e))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}]),t}(Ne),Et=_t,At=n(3),kt=function(e){function t(n){D(this,t);var i=M(this,e.call(this,n,Re.a.MEDIA_ATTACHED,Re.a.MEDIA_DETACHING,Re.a.FRAG_PARSING_METADATA));return i.id3Track=void 0,i.media=void 0,i}return N(t,e),t.prototype.destroy=function(){Ne.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){this.media=void 0},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,n=e.samples;this.id3Track||(this.id3Track=this.media.addTextTrack("metadata","id3"),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var a=At.a.getID3Frames(n[r].data);if(a){var o=n[r].pts,s=r<n.length-1?n[r+1].pts:t.endPTS;o===s&&(s+=1e-4);for(var u=0;u<a.length;u++){var l=a[u];if(!At.a.isTimeStampFrame(l)){var c=new i(o,s,"");c.value=l,this.id3Track.addCue(c)}}}}},t}(Ne),Tt=kt,wt=function(){function e(t){B(this,e),this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}(),St=wt,Pt=function(){function e(t,n,i,r){j(this,e),this.hls=t,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new St(n),this.fast_=new St(i)}return e.prototype.sample=function(e,t){e=Math.max(e,this.minDelayMs_);var n=8e3*t/e,i=e/1e3;this.fast_.sample(i,n),this.slow_.sample(i,n)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}(),Ot=Pt,Ct=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Lt=function(e){function t(n){F(this,t);var i=G(this,e.call(this,n,Re.a.FRAG_LOADING,Re.a.FRAG_LOADED,Re.a.FRAG_BUFFERED,Re.a.ERROR));return i.lastLoadedFragLevel=0,i._nextAutoLevel=-1,i.hls=n,i.timer=null,i._bwEstimator=null,i.onCheck=i._abandonRulesCheck.bind(i),i}return V(t,e),t.prototype.destroy=function(){this.clearTimer(),Ne.prototype.destroy.call(this)},t.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this._bwEstimator){var n=this.hls,i=e.frag.level,r=n.levels[i].details.live,a=n.config,o=void 0,s=void 0;r?(o=a.abrEwmaFastLive,s=a.abrEwmaSlowLive):(o=a.abrEwmaFastVoD,s=a.abrEwmaSlowVoD),this._bwEstimator=new Ot(n,s,o,a.abrEwmaDefaultEstimate)}this.fragCurrent=t}},t.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,n=this.fragCurrent,i=n.loader,r=e.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return xe.b.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var a=i.stats;if(t&&a&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&n.autoLevel&&n.level){var o=performance.now()-a.trequest,s=Math.abs(t.playbackRate);if(o>500*n.duration/s){var u=e.levels,l=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/o),c=u[n.level],f=c.realBitrate?Math.max(c.realBitrate,c.bitrate):c.bitrate,d=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*f/8)),p=t.currentTime,h=(d-a.loaded)/l,y=(rt.bufferInfo(t,p,e.config.maxBufferHole).end-p)/s;if(y<2*n.duration/s&&h>y){var g=void 0,v=void 0;for(v=n.level-1;v>r;v--){var m=u[v].realBitrate?Math.max(u[v].realBitrate,u[v].bitrate):u[v].bitrate;if((g=n.duration*m/(6.4*l))<y)break}g<h&&(xe.b.warn("loading too slow, abort fragment loading and switch to level "+v+":fragLoadedDelay["+v+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+g.toFixed(1)+"<"+h.toFixed(1)+":"+y.toFixed(1)),e.nextLoadLevel=v,this._bwEstimator.sample(o,a.loaded),i.abort(),this.clearTimer(),e.trigger(Re.a.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}},t.prototype.onFragLoaded=function(e){var t=e.frag;if("main"===t.type&&!isNaN(t.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=t.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[t.level],i=(n.loaded?n.loaded.bytes:0)+e.stats.loaded,r=(n.loaded?n.loaded.duration:0)+e.frag.duration;n.loaded={bytes:i,duration:r},n.realBitrate=Math.round(8*i/r)}if(e.frag.bitrateTest){var a=e.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(e)}}},t.prototype.onFragBuffered=function(e){var t=e.stats,n=e.frag;if(!(!0===t.aborted||1!==n.loadCounter||"main"!==n.type||isNaN(n.sn)||n.bitrateTest&&t.tload!==t.tbuffered)){var i=t.tparsed-t.trequest;xe.b.log("latency/loading/parsing/append/kbps:"+Math.round(t.tfirst-t.trequest)+"/"+Math.round(t.tload-t.tfirst)+"/"+Math.round(t.tparsed-t.tload)+"/"+Math.round(t.tbuffered-t.tparsed)+"/"+Math.round(8*t.loaded/(t.tbuffered-t.trequest))),this._bwEstimator.sample(i,t.loaded),t.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},t.prototype.onError=function(e){switch(e.details){case Ie.a.FRAG_LOAD_ERROR:case Ie.a.FRAG_LOAD_TIMEOUT:this.clearTimer()}},t.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},t.prototype._findBestLevel=function(e,t,n,i,r,a,o,s,u){for(var l=r;l>=i;l--){var c=u[l],f=c.details,d=f?f.totalduration/f.fragments.length:t,p=!!f&&f.live,h=void 0;h=l<=e?o*n:s*n;var y=u[l].realBitrate?Math.max(u[l].realBitrate,u[l].bitrate):u[l].bitrate,g=y*d/h;if(xe.b.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+l+"/"+Math.round(h)+"/"+y+"/"+d+"/"+a+"/"+g),h>y&&(!g||p&&!this.bitrateTestDelay||g<a))return l}return-1},Ct(t,[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var n=this._nextABRAutoLevel;return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}},{key:"_nextABRAutoLevel",get:function(){var e=this.hls,t=e.maxAutoLevel,n=e.levels,i=e.config,r=e.minAutoLevel,a=e.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,u=a?a.currentTime:0,l=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,c=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,f=(rt.bufferInfo(a,u,i.maxBufferHole).end-u)/l,d=this._findBestLevel(o,s,c,r,t,f,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(d>=0)return d;xe.b.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,h=i.abrBandWidthFactor,y=i.abrBandWidthUpFactor;if(0===f){var g=this.bitrateTestDelay;if(g){p=(s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay)-g,xe.b.trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),h=y=1}}return d=this._findBestLevel(o,s,c,r,t,f+p,h,y,n),Math.max(d,0)}}]),t}(Ne),Rt=Lt,It=v(),xt=function(e){function t(n){H(this,t);var i=K(this,e.call(this,n,Re.a.MEDIA_ATTACHING,Re.a.MEDIA_DETACHING,Re.a.MANIFEST_PARSED,Re.a.BUFFER_RESET,Re.a.BUFFER_APPENDING,Re.a.BUFFER_CODECS,Re.a.BUFFER_EOS,Re.a.BUFFER_FLUSHING,Re.a.LEVEL_PTS_UPDATED,Re.a.LEVEL_UPDATED));return i._msDuration=null,i._levelDuration=null,i._live=null,i._objectUrl=null,i.onsbue=i.onSBUpdateEnd.bind(i),i.onsbe=i.onSBUpdateError.bind(i),i.pendingTracks={},i.tracks={},i}return W(t,e),t.prototype.destroy=function(){Ne.prototype.destroy.call(this)},t.prototype.onLevelPtsUpdated=function(e){var t=e.type,n=this.tracks.audio;if("audio"===t&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-e.start)>.1){var r=i.updating;try{i.abort()}catch(e){r=!0,xe.b.warn("can not abort audio buffer: "+e)}r?this.audioTimestampOffset=e.start:(xe.b.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+e.start),i.timestampOffset=e.start)}}},t.prototype.onManifestParsed=function(e){var t=e.audio,n=e.video||e.levels.length&&e.audio,i=0;e.altAudio&&(t||n)&&(i=(t?1:0)+(n?1:0),xe.b.log(i+" sourceBuffer(s) expected")),this.sourceBufferNb=i},t.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var n=this.mediaSource=new It;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),t.src=URL.createObjectURL(n),this._objectUrl=t.src}},t.prototype.onMediaDetaching=function(){xe.b.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){xe.b.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):xe.b.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(Re.a.MEDIA_DETACHED)},t.prototype.onMediaSourceOpen=function(){xe.b.log("media source opened"),this.hls.trigger(Re.a.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},t.prototype.checkPendingTracks=function(){var e=this.pendingTracks,t=Object.keys(e).length;t&&(this.sourceBufferNb<=t||0===this.sourceBufferNb)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},t.prototype.onMediaSourceClose=function(){xe.b.log("media source closed")},t.prototype.onMediaSourceEnded=function(){xe.b.log("media source ended")},t.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;xe.b.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,n=this.segments.reduce(function(e,n){return n.parent===t?e+1:e},0);this.hls.trigger(Re.a.BUFFER_APPENDED,{parent:t,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()},t.prototype.onSBUpdateError=function(e){xe.b.error("sourceBuffer error:",e),this.hls.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var n=e[t];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},t.prototype.onBufferCodecs=function(e){if(0===Object.keys(this.sourceBuffer).length){for(var t in e)this.pendingTracks[t]=e[t];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}},t.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;for(var i in e)if(!t[i]){var r=e[i],a=r.levelCodec||r.codec,o=r.container+";codecs="+a;xe.b.log("creating sourceBuffer("+o+")");try{var s=t[i]=n.addSourceBuffer(o);s.addEventListener("updateend",this.onsbue),s.addEventListener("error",this.onsbe),this.tracks[i]={codec:a,container:r.container},r.buffer=s}catch(e){xe.b.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:o})}}this.hls.trigger(Re.a.BUFFER_CREATED,{tracks:e})},t.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},t.prototype.onBufferAppendFail=function(e){xe.b.error("sourceBuffer error:",e.event),this.hls.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.BUFFER_APPENDING_ERROR,fatal:!1})},t.prototype.onBufferEos=function(e){var t=this.sourceBuffer,n=e.type;for(var i in t)n&&i!==n||t[i].ended||(t[i].ended=!0,xe.b.log(i+" sourceBuffer now EOS"));this.checkEos()},t.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(!t||"open"!==t.readyState)return void(this._needsEos=!1);for(var n in e){var i=e[n];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}xe.b.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){xe.b.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1},t.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},t.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._live=t.live,this.updateMediaElementDuration())},t.prototype.updateMediaElementDuration=function(){var e=this.hls.config,t=void 0;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer)if(!0===this.sourceBuffer[n].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(xe.b.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||t===1/0||isNaN(t))&&(xe.b.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},t.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,n=this.sourceBuffer;try{for(var i in n)t+=n[i].buffered.length}catch(e){xe.b.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(Re.a.BUFFER_FLUSHED)}},t.prototype.doAppending=function(){var e=this.hls,t=this.sourceBuffer,n=this.segments;if(Object.keys(t).length){if(this.media.error)return this.segments=[],void xe.b.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var i=n.shift();try{var r=i.type,a=t[r];a?a.updating?n.unshift(i):(a.ended=!1,this.parent=i.parent,a.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(t){xe.b.error("error while trying to append buffer:"+t.message),n.unshift(i);var o={type:Ie.b.MEDIA_ERROR,parent:i.parent};if(22===t.code)return this.segments=[],o.details=Ie.a.BUFFER_FULL_ERROR,o.fatal=!1,void e.trigger(Re.a.ERROR,o);if(this.appendError?this.appendError++:this.appendError=1,o.details=Ie.a.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry)return xe.b.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],o.fatal=!0,void e.trigger(Re.a.ERROR,o);o.fatal=!1,e.trigger(Re.a.ERROR,o)}}}},t.prototype.flushBuffer=function(e,t,n){var i,r,a,o,s,u,l=this.sourceBuffer;if(Object.keys(l).length){if(xe.b.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var c in l)if(!n||c===n){if(i=l[c],i.ended=!1,i.updating)return xe.b.warn("cannot flush, sb updating in progress"),!1;try{for(r=0;r<i.buffered.length;r++)if(a=i.buffered.start(r),o=i.buffered.end(r),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&t===Number.POSITIVE_INFINITY?(s=e,u=t):(s=Math.max(a,e),u=Math.min(o,t)),Math.min(u,o)-s>.5)return this.flushBufferCounter++,xe.b.log("flush "+c+" ["+s+","+u+"], of ["+a+","+o+"], pos:"+this.media.currentTime),i.remove(s,u),!1}catch(e){xe.b.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else xe.b.warn("abort flushing too many retries");xe.b.log("buffer flushed")}return!0},t}(Ne),Dt=xt,Mt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Nt=function(e){function t(n){return Y(this,t),z(this,e.call(this,n,Re.a.FPS_DROP_LEVEL_CAPPING,Re.a.MEDIA_ATTACHING,Re.a.MANIFEST_PARSED))}return q(t,e),t.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))},t.prototype.onFpsDropLevelCapping=function(e){t.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},t.prototype.onMediaAttaching=function(e){this.media=e.media instanceof HTMLVideoElement?e.media:null},t.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],t.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=e.levels,t.firstLevel=this.getMaxLevel(e.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},t.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},t.prototype.getMaxLevel=function(e){var n=this;if(!this.levels)return-1;var i=this.levels.filter(function(i,r){return t.isLevelAllowed(r,n.restrictedLevels)&&r<=e});return t.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},t.isLevelAllowed=function(e){return-1===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).indexOf(e)},t.getMaxLevelByMediaSize=function(e,t,n){if(!e||e&&!e.length)return-1;for(var i=e.length-1,r=0;r<e.length;r+=1){var a=e[r];if((a.width>=t||a.height>=n)&&function(e,t){return!t||(e.width!==t.width||e.height!==t.height)}(a,e[r+1])){i=r;break}}return i},Mt(t,[{key:"mediaWidth",get:function(){var e=void 0,n=this.media;return n&&(e=n.width||n.clientWidth||n.offsetWidth,e*=t.contentScaleFactor),e}},{key:"mediaHeight",get:function(){var e=void 0,n=this.media;return n&&(e=n.height||n.clientHeight||n.offsetHeight,e*=t.contentScaleFactor),e}}],[{key:"contentScaleFactor",get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e}}]),t}(Ne),Ut=Nt,Bt=function(e){function t(n){return X(this,t),J(this,e.call(this,n,Re.a.MEDIA_ATTACHING))}return Q(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;if(t.capLevelOnFPSDrop){"function"==typeof(this.video=e.media instanceof HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod)}},t.prototype.checkFPS=function(e,t,n){var i=performance.now();if(t){if(this.lastTime){var r=i-this.lastTime,a=n-this.lastDroppedFrames,o=t-this.lastDecodedFrames,s=1e3*a/r,u=this.hls;if(u.trigger(Re.a.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),s>0&&a>u.config.fpsDroppedMonitoringThreshold*o){var l=u.currentLevel;xe.b.warn("drop FPS ratio greater than max allowed value for currentLevel: "+l),l>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=l)&&(l-=1,u.trigger(Re.a.FPS_DROP_LEVEL_CAPPING,{level:l,droppedLevel:u.currentLevel}),u.autoLevelCapping=l,u.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(Ne),jt=Bt,Ft=function(){function e(t){$(this,e),t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,n){this.context=e,this.config=t,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(e,t.url)}catch(n){e.open("GET",t.url,!0),i(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(n){return void this.callbacks.onError({code:e.status,text:n.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,n=t.readyState,i=this.stats,r=this.context,a=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(performance.now(),i.trequest)),4===n){var o=t.status;if(o>=200&&o<300){i.tload=Math.max(i.tfirst,performance.now());var s=void 0,u=void 0;"arraybuffer"===r.responseType?(s=t.response,u=s.byteLength):(s=t.responseText,u=s.length),i.loaded=i.total=u;var l={url:t.responseURL,data:s};this.callbacks.onSuccess(l,i,r,t)}else i.retry>=a.maxRetry||o>=400&&o<499?(xe.b.error(o+" while loading "+r.url),this.callbacks.onError({code:o,text:t.statusText},r,t)):(xe.b.warn(o+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.prototype.loadtimeout=function(){xe.b.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,t)},e}(),Gt=Ft,Vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ht=function(e){function t(n){Z(this,t);var i=ee(this,e.call(this,n,Re.a.MANIFEST_LOADING,Re.a.MANIFEST_PARSED,Re.a.AUDIO_TRACK_LOADED,Re.a.ERROR));return i.ticks=0,i.ontick=i.tick.bind(i),i}return te(t,e),t.prototype.destroy=function(){this.cleanTimer(),Ne.prototype.destroy.call(this)},t.prototype.cleanTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){this.updateTrack(this.trackId)},t.prototype.onError=function(e){e.fatal&&e.type===Ie.b.NETWORK_ERROR&&this.cleanTimer()},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestParsed=function(e){var t=this,n=e.audioTracks||[],i=!1;this.tracks=n,this.hls.trigger(Re.a.AUDIO_TRACKS_UPDATED,{audioTracks:n});var r=0;n.forEach(function(e){if(e.default&&!i)return t.audioTrack=r,void(i=!0);r++}),!1===i&&n.length&&(xe.b.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)},t.prototype.onAudioTrackLoaded=function(e){e.id<this.tracks.length&&(xe.b.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*e.details.targetduration)),!e.details.live&&this.timer&&this.cleanTimer())},t.prototype.setAudioTrackInternal=function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,xe.b.log("switching to audioTrack "+e);var t=this.tracks[e],n=this.hls,i=t.type,r=t.url,a={id:e,type:i,url:r};n.trigger(Re.a.AUDIO_TRACK_SWITCH,a),n.trigger(Re.a.AUDIO_TRACK_SWITCHING,a);var o=t.details;!r||void 0!==o&&!0!==o.live||(xe.b.log("(re)loading playlist for audioTrack "+e),n.trigger(Re.a.AUDIO_TRACK_LOADING,{url:r,id:e}))}},t.prototype.updateTrack=function(e){if(e>=0&&e<this.tracks.length){this.cleanTimer(),this.trackId=e,xe.b.log("updating audioTrack "+e);var t=this.tracks[e],n=t.url,i=t.details;!n||void 0!==i&&!0!==i.live||(xe.b.log("(re)loading playlist for audioTrack "+e),this.hls.trigger(Re.a.AUDIO_TRACK_LOADING,{url:n,id:e}))}},Vt(t,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.trackId===e&&void 0!==this.tracks[e].details||this.setAudioTrackInternal(e)}}]),t}(Ne),Kt=Ht,Wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Yt={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},zt=function(e){function t(n){ne(this,t);var i=ie(this,e.call(this,n,Re.a.MEDIA_ATTACHED,Re.a.MEDIA_DETACHING,Re.a.AUDIO_TRACKS_UPDATED,Re.a.AUDIO_TRACK_SWITCHING,Re.a.AUDIO_TRACK_LOADED,Re.a.KEY_LOADED,Re.a.FRAG_LOADED,Re.a.FRAG_PARSING_INIT_SEGMENT,Re.a.FRAG_PARSING_DATA,Re.a.FRAG_PARSED,Re.a.ERROR,Re.a.BUFFER_RESET,Re.a.BUFFER_CREATED,Re.a.BUFFER_APPENDED,Re.a.BUFFER_FLUSHED,Re.a.INIT_PTS_FOUND));return i.config=n.config,i.audioCodecSwap=!1,i.ticks=0,i._state=Yt.STOPPED,i.ontick=i.tick.bind(i),i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return re(t,e),t.prototype.destroy=function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),Ne.prototype.destroy.call(this),this.state=Yt.STOPPED},t.prototype.onInitPtsFound=function(e){var t=e.id,n=e.frag.cc,i=e.initPTS;"main"===t&&(this.initPTS[n]=i,this.videoTrackCC=n,xe.b.log("InitPTS for cc:"+n+" found from video track:"+i),this.state===Yt.WAITING_INIT_PTS&&this.tick())},t.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,t>0&&-1===e?(xe.b.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=Yt.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=Yt.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=Yt.STOPPED},t.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Yt.STOPPED},t.prototype.tick=function(){1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)},t.prototype.doTick=function(){var e,t,n,i=this.hls,r=i.config;switch(this.state){case Yt.ERROR:case Yt.PAUSED:case Yt.BUFFER_FLUSHING:break;case Yt.STARTING:this.state=Yt.WAITING_TRACK,this.loadedmetadata=!1;break;case Yt.IDLE:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)e=this.media.currentTime;else if(void 0===(e=this.nextLoadPosition))break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,u=rt.bufferInfo(o,e,r.maxBufferHole),l=rt.bufferInfo(s,e,r.maxBufferHole),c=u.len,f=u.end,d=this.fragPrevious,p=Math.max(r.maxBufferLength,l.len),h=this.audioSwitch,y=this.trackId;if((c<p||h)&&y<a.length){if(void 0===(n=a[y].details)){this.state=Yt.WAITING_TRACK;break}if(!h&&!n.live&&d&&d.sn===n.endSN&&!u.nextStart&&(!this.media.seeking||this.media.duration-f<d.duration/2)){this.hls.trigger(Re.a.BUFFER_EOS,{type:"audio"}),this.state=Yt.ENDED;break}var g=n.fragments,v=g.length,m=g[0].start,b=g[v-1].start+g[v-1].duration,_=void 0;if(h)if(n.live&&!n.PTSKnown)xe.b.log("switching audiotrack, live stream, unknown PTS,load first fragment"),f=0;else if(f=e,n.PTSKnown&&e<m){if(!(u.end>m||u.nextStart))return;xe.b.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=m+.05}if(n.initSegment&&!n.initSegment.data)_=n.initSegment;else if(f<=m){if(_=g[0],null!==this.videoTrackCC&&_.cc!==this.videoTrackCC&&(_=k(g,this.videoTrackCC)),n.live&&_.loadIdx&&_.loadIdx===this.fragLoadIdx){var E=u.nextStart?u.nextStart:m;return xe.b.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(E+.05)),void(this.media.currentTime=E+.05)}}else{var A=void 0,T=r.maxFragLookUpTolerance,w=d?g[d.sn-g[0].sn+1]:void 0,S=function(e){var t=Math.min(T,e.duration);return e.start+e.duration-t<=f?1:e.start-t>f&&e.start?-1:0};f<b?(f>b-T&&(T=0),A=w&&!S(w)?w:nt.search(g,S)):A=g[v-1],A&&(_=A,m=A.start,d&&_.level===d.level&&_.sn===d.sn&&(_.sn<n.endSN?(_=g[_.sn+1-n.startSN],xe.b.log("SN just loaded, load next one: "+_.sn)):_=null))}if(_)if(_.decryptdata&&null!=_.decryptdata.uri&&null==_.decryptdata.key)xe.b.log("Loading key for "+_.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+y),this.state=Yt.KEY_LOADING,i.trigger(Re.a.KEY_LOADING,{frag:_});else{if(xe.b.log("Loading "+_.sn+", cc: "+_.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+y+", currentTime:"+e+",bufferEnd:"+f.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,_.loadCounter){_.loadCounter++;var P=r.fragLoadingLoopThreshold;if(_.loadCounter>P&&Math.abs(this.fragLoadIdx-_.loadIdx)<P)return void i.trigger(Re.a.ERROR,{type:Ie.b.MEDIA_ERROR,details:Ie.a.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:_})}else _.loadCounter=1;_.loadIdx=this.fragLoadIdx,this.fragCurrent=_,this.startFragRequested=!0,isNaN(_.sn)||(this.nextLoadPosition=_.start+_.duration),i.trigger(Re.a.FRAG_LOADING,{frag:_}),this.state=Yt.FRAG_LOADING}}break;case Yt.WAITING_TRACK:t=this.tracks[this.trackId],t&&t.details&&(this.state=Yt.IDLE);break;case Yt.FRAG_LOADING_WAITING_RETRY:var O=performance.now(),C=this.retryDate;o=this.media;var L=o&&o.seeking;(!C||O>=C||L)&&(xe.b.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Yt.IDLE);break;case Yt.WAITING_INIT_PTS:var R=this.videoTrackCC;if(void 0===this.initPTS[R])break;var I=this.waitingFragment;if(I){var x=I.frag.cc;R!==x?(t=this.tracks[this.trackId],t.details&&t.details.live&&(xe.b.warn("Waiting fragment CC ("+x+") does not match video track CC ("+R+")"),this.waitingFragment=null,this.state=Yt.IDLE)):(this.state=Yt.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=Yt.IDLE;break;case Yt.STOPPED:case Yt.FRAG_LOADING:case Yt.PARSING:case Yt.PARSED:case Yt.ENDED:}},t.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},t.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(xe.b.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.tracks;t&&t.forEach(function(e){e.details&&e.details.fragments.forEach(function(e){e.loadCounter=void 0})}),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},t.prototype.onMediaSeeking=function(){this.state===Yt.ENDED&&(this.state=Yt.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()},t.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},t.prototype.onAudioTracksUpdated=function(e){xe.b.log("audio tracks updated"),this.tracks=e.audioTracks},t.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=Yt.PAUSED,this.waitingFragment=null,t?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=Yt.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()},t.prototype.onAudioTrackLoaded=function(e){var t=e.details,n=e.id,i=this.tracks[n],r=t.totalduration,a=0;if(xe.b.log("track "+n+" loaded ["+t.startSN+","+t.endSN+"],duration:"+r),t.live){var o=i.details;o&&t.fragments.length>0?(E(o,t),a=t.fragments[0].start,t.PTSKnown?xe.b.log("live audio playlist sliding:"+a.toFixed(3)):xe.b.log("live audio playlist - outdated PTS, unknown sliding")):(t.PTSKnown=!1,xe.b.log("live audio playlist - first load, unknown sliding"))}else t.PTSKnown=!1;if(i.details=t,!this.startFragRequested){if(-1===this.startPosition){var s=t.startTimeOffset;isNaN(s)?this.startPosition=0:(xe.b.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s)}this.nextLoadPosition=this.startPosition}this.state===Yt.WAITING_TRACK&&(this.state=Yt.IDLE),this.tick()},t.prototype.onKeyLoaded=function(){this.state===Yt.KEY_LOADING&&(this.state=Yt.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag;if(this.state===Yt.FRAG_LOADING&&t&&"audio"===n.type&&n.level===t.level&&n.sn===t.sn){var i=this.tracks[this.trackId],r=i.details,a=r.totalduration,o=t.level,s=t.sn,u=t.cc,l=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",c=this.stats=e.stats;if("initSegment"===s)this.state=Yt.IDLE,c.tparsed=c.tbuffered=performance.now(),r.initSegment.data=e.payload,this.hls.trigger(Re.a.FRAG_BUFFERED,{stats:c,frag:t,id:"audio"}),this.tick();else{this.state=Yt.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new dt(this.hls,"audio"));var f=this.initPTS[u],d=r.initSegment?r.initSegment.data:[];if(r.initSegment||void 0!==f){this.pendingBuffering=!0,xe.b.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o);this.demuxer.push(e.payload,d,l,null,t,a,!1,f)}else xe.b.log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=e,this.state=Yt.WAITING_INIT_PTS}}this.fragLoadError=0},t.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,n=e.frag;if(t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Yt.PARSING){var i=e.tracks,r=void 0;if(i.video&&delete i.video,r=i.audio){r.levelCodec=r.codec,r.id=e.id,this.hls.trigger(Re.a.BUFFER_CODECS,i),xe.b.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var a=r.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(Re.a.BUFFER_APPENDING,o))}this.tick()}}},t.prototype.onFragParsingData=function(e){var t=this,n=this.fragCurrent,i=e.frag;if(n&&"audio"===e.id&&"audio"===e.type&&i.sn===n.sn&&i.level===n.level&&this.state===Yt.PARSING){var r=this.trackId,a=this.tracks[r],o=this.hls;isNaN(e.endPTS)&&(e.endPTS=e.startPTS+n.duration,e.endDTS=e.startDTS+n.duration),xe.b.log("parsed "+e.type+",PTS:["+e.startPTS.toFixed(3)+","+e.endPTS.toFixed(3)+"],DTS:["+e.startDTS.toFixed(3)+"/"+e.endDTS.toFixed(3)+"],nb:"+e.nb),_(a.details,n,e.startPTS,e.endPTS);var s=this.audioSwitch,u=this.media,l=!1;if(s&&u)if(u.readyState){var c=u.currentTime;xe.b.log("switching audio track : currentTime:"+c),c>=e.startPTS&&(xe.b.log("switching audio track : flushing all audio"),this.state=Yt.BUFFER_FLUSHING,o.trigger(Re.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),l=!0,this.audioSwitch=!1,o.trigger(Re.a.AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,o.trigger(Re.a.AUDIO_TRACK_SWITCHED,{id:r});var f=this.pendingData;this.audioSwitch||([e.data1,e.data2].forEach(function(t){t&&t.length&&f.push({type:e.type,data:t,parent:"audio",content:"data"})}),!l&&f.length&&(f.forEach(function(e){t.state===Yt.PARSING&&(t.pendingBuffering=!0,t.hls.trigger(Re.a.BUFFER_APPENDING,e))}),this.pendingData=[],this.appended=!0)),this.tick()}},t.prototype.onFragParsed=function(e){var t=this.fragCurrent,n=e.frag;t&&"audio"===e.id&&n.sn===t.sn&&n.level===t.level&&this.state===Yt.PARSING&&(this.stats.tparsed=performance.now(),this.state=Yt.PARSED,this._checkAppendedParsed())},t.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},t.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},t.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==Yt.PARSING&&t!==Yt.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},t.prototype._checkAppendedParsed=function(){if(!(this.state!==Yt.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,n=this.hls;if(e){this.fragPrevious=e,t.tbuffered=performance.now(),n.trigger(Re.a.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;xe.b.log("audio buffered : "+ht.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(Re.a.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Yt.IDLE}this.tick()}},t.prototype.onError=function(e){var t=e.frag;if(!t||"audio"===t.type)switch(e.details){case Ie.a.FRAG_LOAD_ERROR:case Ie.a.FRAG_LOAD_TIMEOUT:if(!e.fatal){var n=this.fragLoadError;n?n++:n=1;var i=this.config;if(n<=i.fragLoadingMaxRetry){this.fragLoadError=n,t.loadCounter=0;var r=Math.min(Math.pow(2,n-1)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);xe.b.warn("audioStreamController: frag loading failed, retry in "+r+" ms"),this.retryDate=performance.now()+r,this.state=Yt.FRAG_LOADING_WAITING_RETRY}else xe.b.error("audioStreamController: "+e.details+" reaches max retry, redispatch as fatal ..."),e.fatal=!0,this.state=Yt.ERROR}break;case Ie.a.FRAG_LOOP_LOADING_ERROR:case Ie.a.AUDIO_TRACK_LOAD_ERROR:case Ie.a.AUDIO_TRACK_LOAD_TIMEOUT:case Ie.a.KEY_LOAD_ERROR:case Ie.a.KEY_LOAD_TIMEOUT:this.state!==Yt.ERROR&&(this.state=e.fatal?Yt.ERROR:Yt.IDLE,xe.b.warn("audioStreamController: "+e.details+" while loading frag,switch to "+this.state+" state ..."));break;case Ie.a.BUFFER_FULL_ERROR:if("audio"===e.parent&&(this.state===Yt.PARSING||this.state===Yt.PARSED)){var a=this.mediaBuffer,o=this.media.currentTime;if(a&&rt.isBuffered(a,o)&&rt.isBuffered(a,o+.5)){var s=this.config;s.maxMaxBufferLength>=s.maxBufferLength&&(s.maxMaxBufferLength/=2,xe.b.warn("audio:reduce max buffer length to "+s.maxMaxBufferLength+"s"),this.fragLoadIdx+=2*s.fragLoadingLoopThreshold),this.state=Yt.IDLE}else xe.b.warn("buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Yt.BUFFER_FLUSHING,this.hls.trigger(Re.a.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},t.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(xe.b.log("appending pending audio data on Buffer Flushed"),t.forEach(function(t){e.hls.trigger(Re.a.BUFFER_APPENDING,t)}),this.appended=!0,this.pendingData=[],this.state=Yt.PARSED):(this.state=Yt.IDLE,this.fragPrevious=null,this.tick())},Wt(t,[{key:"state",set:function(e){if(this.state!==e){var t=this.state;this._state=e,xe.b.log("audio stream:"+t+"->"+e)}},get:function(){return this._state}}]),t}(Ne),qt=zt,Xt=function(){function e(e){return"string"==typeof e&&(!!a[e.toLowerCase()]&&e.toLowerCase())}function t(e){return"string"==typeof e&&(!!o[e.toLowerCase()]&&e.toLowerCase())}function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]=n[i]}return e}function i(i,a,o){var s=this,u=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};u?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var c="",f=!1,d=i,p=a,h=o,y=null,g="",v=!0,m="auto",b="start",_=50,E="middle",A=50,k="middle";if(Object.defineProperty(s,"id",n({},l,{get:function(){return c},set:function(e){c=""+e}})),Object.defineProperty(s,"pauseOnExit",n({},l,{get:function(){return f},set:function(e){f=!!e}})),Object.defineProperty(s,"startTime",n({},l,{get:function(){return d},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",n({},l,{get:function(){return p},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",n({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",n({},l,{get:function(){return y},set:function(e){y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",n({},l,{get:function(){return g},set:function(t){var n=e(t);if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",n({},l,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",n({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&e!==r)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",n({},l,{get:function(){return b},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");b=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",n({},l,{get:function(){return _},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",n({},l,{get:function(){return E},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");E=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",n({},l,{get:function(){return A},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");A=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",n({},l,{get:function(){return k},set:function(e){var n=t(e);if(!n)throw new SyntaxError("An invalid or illegal string was specified.");k=n,this.hasBeenReset=!0}})),s.displayState=void 0,u)return s}if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var r="auto",a={"":!0,lr:!0,rl:!0},o={start:!0,middle:!0,end:!0,left:!0,right:!0};return i.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},i}(),Jt=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};se.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,n){for(var i=0;i<n.length;++i)if(t===n[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var Qt=new Xt(0,0,0),$t="middle"===Qt.align?"middle":"center";ae.prototype={parse:function(e){function t(){var e=n.buffer,t=0;for(e=ce(e);t<e.length&&"\r"!==e[t]&&"\n"!==e[t];)++t;var i=e.substr(0,t);return"\r"===e[t]&&++t,"\n"===e[t]&&++t,n.buffer=e.substr(t),i}var n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));try{var i;if("INITIAL"===n.state){if(!/\r\n|\n/.test(n.buffer))return this;i=t();var r=i.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new Error("Malformed WebVTT signature.");n.state="HEADER"}for(var a=!1;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:i=t(),n.state){case"HEADER":/:/.test(i)?function(e){ue(e,function(e,t){switch(e){case"Region":console.log("parse region",t)}},/:/)}(i):i||(n.state="ID");continue;case"NOTE":i||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){n.state="NOTE";break}if(!i)continue;if(n.cue=new Xt(0,0,""),n.state="CUE",-1===i.indexOf("--\x3e")){n.cue.id=i;continue}case"CUE":try{le(i,n.cue,n.regionList)}catch(e){n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":var o=-1!==i.indexOf("--\x3e");if(!i||o&&(a=!0)){n.oncue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}n.cue.text&&(n.cue.text+="\n"),n.cue.text+=i;continue;case"BADCUE":i||(n.state="ID");continue}}}catch(e){"CUETEXT"===n.state&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state="INITIAL"===n.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return e.onflush&&e.onflush(),this}};var Zt=ae,en={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},tn=function(e){var t=e;return en.hasOwnProperty(e)&&(t=en[e]),String.fromCharCode(t)},nn=15,rn=100,an={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},on={17:2,18:4,21:6,22:8,23:10,19:13,20:15},sn={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},un={25:2,26:4,29:6,30:8,31:10,27:13,28:15},ln=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],cn={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},fn=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},dn=function(){function e(t,n,i,r,a){de(this,e),this.foreground=t||"white",this.underline=n||!1,this.italics=i||!1,this.background=r||"black",this.flash=a||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var i=t[n];e.hasOwnProperty(i)&&(this[i]=e[i])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),pn=function(){function e(t,n,i,r,a,o){de(this,e),this.uchar=t||" ",this.penState=new dn(n,i,r,a,o)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),hn=function(){function e(){de(this,e),this.chars=[];for(var t=0;t<rn;t++)this.chars.push(new pn);this.pos=0,this.currPenState=new dn}return e.prototype.equals=function(e){for(var t=!0,n=0;n<rn;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<rn;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<rn;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(cn.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>rn&&(cn.log("ERROR","Too large cursor position "+this.pos),this.pos=rn)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=tn(e);if(this.pos>=rn)return void cn.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)},e.prototype.clearFromPos=function(e){var t;for(t=e;t<rn;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,n=0;n<rn;n++){var i=this.chars[n].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),yn=function(){function e(){de(this,e),this.rows=[];for(var t=0;t<nn;t++)this.rows.push(new hn);this.currRow=nn-1,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<nn;e++)this.rows[e].clear();this.currRow=nn-1},e.prototype.equals=function(e){for(var t=!0,n=0;n<nn;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<nn;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<nn;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){cn.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){cn.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<nn;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[i].cueStartTime;if(a&&a<cn.time)for(var o=0;o<this.nrRollUpRows;o++)this.rows[t-this.nrRollUpRows+o+1].copy(r.rows[i+o])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var u=e.indent,l=Math.max(u-1,0);s.setCursor(e.indent),e.color=s.chars[l].penState.foreground}var c={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(c)},e.prototype.setBkgData=function(e){cn.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null===this.nrRollUpRows)return void cn.log("DEBUG","roll_up but nrRollUpRows not set yet");cn.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),cn.log("INFO","Rolling up")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],n="",i=-1,r=0;r<nn;r++){var a=this.rows[r].getTextString();a&&(i=r+1,e?t.push("Row "+i+": '"+a+"'"):t.push(a.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},e.prototype.getTextAndFormat=function(){return this.rows},e}(),gn=function(){function e(t,n){de(this,e),this.chNr=t,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new yn,this.nonDisplayedMemory=new yn,this.lastOutputScreen=new yn,this.currRollUpRow=this.displayedMemory.rows[nn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[nn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,cn.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";cn.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(cn.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){cn.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){cn.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){cn.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){cn.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){cn.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){cn.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){cn.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){cn.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){cn.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){cn.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){cn.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(cn.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,cn.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){cn.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[n]}cn.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=cn.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),vn=function(){function e(t,n,i){de(this,e),this.field=t||1,this.outputs=[n,i],this.channels=[new gn(1,n),new gn(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var n,i,r,a=!1;this.lastTime=e,cn.setTime(e);for(var o=0;o<t.length;o+=2)if(i=127&t[o],r=127&t[o+1],0!==i||0!==r){if(cn.log("DATA","["+fn([t[o],t[o+1]])+"] -> ("+fn([i,r])+")"),n=this.parseCmd(i,r),n||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),!n&&(a=this.parseChars(i,r)))if(this.currChNr&&this.currChNr>=0){var s=this.channels[this.currChNr-1];s.insertChars(a)}else cn.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:a?this.dataCounters.char+=2:(this.dataCounters.other+=2,cn.log("WARNING","Couldn't parse cleaned data "+fn([i,r])+" orig: "+fn([t[o],t[o+1]])))}else this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var n=null,i=(20===e||28===e)&&32<=t&&t<=47,r=(23===e||31===e)&&33<=t&&t<=35;if(!i&&!r)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,cn.log("DEBUG","Repeated command ("+fn([e,t])+") is dropped"),!0;n=20===e||23===e?1:2;var a=this.channels[n-1];return 20===e||28===e?32===t?a.ccRCL():33===t?a.ccBS():34===t?a.ccAOF():35===t?a.ccAON():36===t?a.ccDER():37===t?a.ccRU(2):38===t?a.ccRU(3):39===t?a.ccRU(4):40===t?a.ccFON():41===t?a.ccRDC():42===t?a.ccTR():43===t?a.ccRTD():44===t?a.ccEDM():45===t?a.ccCR():46===t?a.ccENM():47===t&&a.ccEOC():a.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.parseMidrow=function(e,t){var n=null;if((17===e||25===e)&&32<=t&&t<=47){if((n=17===e?1:2)!==this.currChNr)return cn.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[n-1].ccMIDROW(t),cn.log("DEBUG","MIDROW ("+fn([e,t])+")"),!0}return!1},e.prototype.parsePAC=function(e,t){var n=null,i=null,r=(17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127,a=(16===e||24===e)&&64<=t&&t<=95;if(!r&&!a)return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=e<=23?1:2,i=64<=t&&t<=95?1===n?an[e]:sn[e]:1===n?on[e]:un[e];var o=this.interpretPAC(i,t);return this.channels[n-1].setPAC(o),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0},e.prototype.interpretPAC=function(e,t){var n=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,i.underline=1==(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},e.prototype.parseChars=function(e,t){var n=null,i=null,r=null;if(e>=25?(n=2,r=e-8):(n=1,r=e),17<=r&&r<=19){var a=t;a=17===r?t+80:18===r?t+112:t+144,cn.log("INFO","Special char '"+tn(a)+"' in channel "+n),i=[a]}else 32<=e&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=fn(i);cn.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},e.prototype.parseBackgroundAttributes=function(e,t){var n,i,r,a,o=(16===e||24===e)&&32<=t&&t<=47,s=(23===e||31===e)&&45<=t&&t<=47;return!(!o&&!s)&&(n={},16===e||24===e?(i=Math.floor((t-32)/2),n.background=ln[i],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),r=e<24?1:2,a=this.channels[r-1],a.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}(),mn=vn,bn=function(){function e(t,n){pe(this,e),this.timelineController=t,this.track=n,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues("textTrack"+this.track,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.track)},e}(),_n=bn,En=function(e,t,n){return e.substr(n||0,t.length)===t},An=function(e){var t=parseInt(e.substr(-3)),n=parseInt(e.substr(-6,2)),i=parseInt(e.substr(-9,2)),r=e.length>9?parseInt(e.substr(0,e.indexOf(":"))):0;return isNaN(t)||isNaN(n)||isNaN(i)||isNaN(r)?-1:(t+=1e3*n,t+=6e4*i,t+=36e5*r)},kn=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()},Tn=function(e,t,n){var i=e[t],r=e[i.prevCC];if(!r||!r.new&&i.new)return e.ccOffset=e.presentationOffset=i.start,void(i.new=!1);for(;r&&r.new;)e.ccOffset+=i.start-r.start,i.new=!1,i=r,r=e[i.prevCC];e.presentationOffset=n},wn={parse:function(e,t,n,i,r,a){var o=/\r\n|\n\r|\n|\r/g,s=Object(At.b)(new Uint8Array(e)).trim().replace(o,"\n").split("\n"),u="00:00.000",l=0,c=0,f=0,d=[],p=void 0,h=!0,y=new Zt;y.oncue=function(e){var t=n[i],r=n.ccOffset;t&&t.new&&(void 0!==c?r=n.ccOffset=t.start:Tn(n,i,f)),f&&(r=f+n.ccOffset-n.presentationOffset),e.startTime+=r-c,e.endTime+=r-c,e.id=kn(e.startTime.toString())+kn(e.endTime.toString())+kn(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&d.push(e)},y.onparsingerror=function(e){p=e},y.onflush=function(){if(p&&a)return void a(p);r(d)},s.forEach(function(e){if(h){if(En(e,"X-TIMESTAMP-MAP=")){h=!1,e.substr(16).split(",").forEach(function(e){En(e,"LOCAL:")?u=e.substr(6):En(e,"MPEGTS:")&&(l=parseInt(e.substr(7)))});try{t=t<0?t+8589934592:t,l-=t,c=An(u)/1e3,f=l/9e4,-1===c&&(p=new Error("Malformed X-TIMESTAMP-MAP: "+e))}catch(t){p=new Error("Malformed X-TIMESTAMP-MAP: "+e)}return}""===e&&(h=!1)}y.parse(e+"\n")}),y.flush()}},Sn=wn,Pn=function(e){function t(n){he(this,t);var i=ye(this,e.call(this,n,Re.a.MEDIA_ATTACHING,Re.a.MEDIA_DETACHING,Re.a.FRAG_PARSING_USERDATA,Re.a.FRAG_DECRYPTED,Re.a.MANIFEST_LOADING,Re.a.MANIFEST_LOADED,Re.a.FRAG_LOADED,Re.a.LEVEL_SWITCHING,Re.a.INIT_PTS_FOUND));if(i.hls=n,i.config=n.config,i.enabled=!0,i.Cues=n.config.cueHandler,i.textTracks=[],i.tracks=[],i.unparsedVttFrags=[],i.initPTS=void 0,i.cueRanges=[],i.config.enableCEA708Captions){var r=new _n(i,1),a=new _n(i,2);i.cea608Parser=new mn(0,r,a)}return i}return ge(t,e),t.prototype.addCues=function(e,t,n,i){for(var r=this.cueRanges,a=!1,o=r.length;o--;){var s=r[o],u=be(s[0],s[1],t,n);if(u>=0&&(s[0]=Math.min(s[0],t),s[1]=Math.max(s[1],n),a=!0,u/(n-t)>.5))return}a||r.push([t,n]),this.Cues.newCue(this[e],t,n,i)},t.prototype.onInitPtsFound=function(e){var t=this;void 0===this.initPTS&&(this.initPTS=e.initPTS),this.unparsedVttFrags.length&&(this.unparsedVttFrags.forEach(function(e){t.onFragLoaded(e)}),this.unparsedVttFrags=[])},t.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var i=t.textTracks[n],r="textTrack"+e;if(!0===i[r])return i}return null},t.prototype.sendAddTrackEvent=function(e,t){var n=null;try{n=new window.Event("addtrack")}catch(e){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)},t.prototype.createCaptionsTrack=function(e){var t="textTrack"+e;if(!this[t]){var n=this.getExistingTrack(e);if(n)this[t]=n,ve(this[t]),this.sendAddTrackEvent(this[t],this.media);else{var i=this.createTextTrack("captions",this.config["captionsTextTrack"+e+"Label"],this.config.captionsTextTrack1LanguageCode);i&&(i[t]=!0,this[t]=i)}}},t.prototype.createTextTrack=function(e,t,n){var i=this.media;if(i)return i.addTextTrack(e,t,n)},t.prototype.destroy=function(){Ne.prototype.destroy.call(this)},t.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},t.prototype.onMediaDetaching=function(){ve(this.textTrack1),ve(this.textTrack2)},t.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0},this._cleanTracks()},t.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)ve(t[n])}},t.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=void 0,this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var n=this.media?this.media.textTracks:[];this.tracks.forEach(function(e,i){var r=void 0;if(i<n.length){var a=n[i];me(a,e)&&(r=a)}r||(r=t.createTextTrack("subtitles",e.name,e.lang)),r.mode=e.default?"showing":"hidden",t.textTracks.push(r)})}},t.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},t.prototype.onFragLoaded=function(e){var t=e.frag,n=e.payload;if("main"===t.type){var i=t.sn;if(i!==this.lastSn+1){var r=this.cea608Parser;r&&r.reset()}this.lastSn=i}else if("subtitle"===t.type)if(n.byteLength){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);var a=t.decryptdata;null!=a&&null!=a.key&&"AES-128"===a.method||this._parseVTTs(t,n)}else this.hls.trigger(Re.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})},t.prototype._parseVTTs=function(e,t){var n=this.vttCCs;n[e.cc]||(n[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var i=this.textTracks,r=this.hls;Sn.parse(t,this.initPTS,n,e.cc,function(t){var n=i[e.trackId];t.forEach(function(e){if(!n.cues.getCueById(e.id))try{n.addCue(e)}catch(i){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,n.addCue(t)}}),r.trigger(Re.a.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},function(t){xe.b.log("Failed to parse VTT cue: "+t),r.trigger(Re.a.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})})},t.prototype.onFragDecrypted=function(e){var t=e.payload,n=e.frag;if("subtitle"===n.type){if(void 0===this.initPTS)return void this.unparsedVttFrags.push(e);this._parseVTTs(n,t)}},t.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var n=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,n)}},t.prototype.extractCea608Data=function(e){for(var t,n,i,r,a,o=31&e[0],s=2,u=[],l=0;l<o;l++)t=e[s++],n=127&e[s++],i=127&e[s++],r=0!=(4&t),a=3&t,0===n&&0===i||r&&0===a&&(u.push(n),u.push(i));return u},t}(Ne),On=Pn,Cn=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ln=function(e){function t(n){_e(this,t);var i=Ee(this,e.call(this,n,Re.a.MEDIA_ATTACHED,Re.a.MEDIA_DETACHING,Re.a.MANIFEST_LOADING,Re.a.MANIFEST_LOADED,Re.a.SUBTITLE_TRACK_LOADED));return i.tracks=[],i.trackId=-1,i.media=void 0,i.subtitleDisplay=!1,i}return Ae(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=ke(this.media.textTracks),n=0;n<t.length;n++)"showing"===t[n].mode&&(e=n);this.subtitleTrack=e}},t.prototype.destroy=function(){Ne.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(void 0!==this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){t.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=void 0)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,n=e.subtitles||[];this.tracks=n,this.trackId=-1,this.hls.trigger(Re.a.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach(function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)})},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var n=t.details;void 0!==n&&!0!==n.live||(xe.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(Re.a.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(xe.b.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval(function(){t.onTick()},1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))},t.prototype.setSubtitleTrackInternal=function(e){if(!(e<-1||e>=this.tracks.length)){this.timer&&(clearInterval(this.timer),this.timer=null);var t=ke(this.media.textTracks);if(-1!==this.trackId&&this.subtitleDisplay&&(t[this.trackId].mode="hidden"),this.trackId=e,xe.b.log("switching to subtitle track "+e),this.hls.trigger(Re.a.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e){var n=this.tracks[e];this.subtitleDisplay&&(t[e].mode="showing");var i=n.details;void 0!==i&&!0!==i.live||(xe.b.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(Re.a.SUBTITLE_TRACK_LOADING,{url:n.url,id:e}))}}},Cn(t,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.trackId!==e&&this.setSubtitleTrackInternal(e)}}]),t}(Ne),Rn=Ln,In=n(4),xn={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"},Dn=function(e){function t(n){Te(this,t);var i=we(this,e.call(this,n,Re.a.MEDIA_ATTACHED,Re.a.ERROR,Re.a.KEY_LOADED,Re.a.FRAG_LOADED,Re.a.SUBTITLE_TRACKS_UPDATED,Re.a.SUBTITLE_TRACK_SWITCH,Re.a.SUBTITLE_TRACK_LOADED,Re.a.SUBTITLE_FRAG_PROCESSED));return i.config=n.config,i.vttFragSNsProcessed={},i.vttFragQueues=void 0,i.currentlyProcessing=null,i.state=xn.STOPPED,i.currentTrackId=-1,i.ticks=0,i.decrypter=new In.a(n.observer,n.config),i}return Se(t,e),t.prototype.destroy=function(){Ne.prototype.destroy.call(this),this.state=xn.STOPPED},t.prototype.clearVttFragQueues=function(){var e=this;this.vttFragQueues={},this.tracks.forEach(function(t){e.vttFragQueues[t.id]=[]})},t.prototype.nextFrag=function(){if(null===this.currentlyProcessing&&this.currentTrackId>-1&&this.vttFragQueues[this.currentTrackId].length){var e=this.currentlyProcessing=this.vttFragQueues[this.currentTrackId].shift();this.fragCurrent=e,this.hls.trigger(Re.a.FRAG_LOADING,{frag:e}),this.state=xn.FRAG_LOADING}},t.prototype.onSubtitleFragProcessed=function(e){e.success&&this.vttFragSNsProcessed[e.frag.trackId].push(e.frag.sn),this.currentlyProcessing=null,this.state=xn.IDLE,this.nextFrag()},t.prototype.onMediaAttached=function(){this.state=xn.IDLE},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"!==t.type||this.currentlyProcessing&&(this.currentlyProcessing=null,this.nextFrag())},t.prototype.tick=function(){var e=this;1===++this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(function(){e.tick()},1),this.ticks=0)},t.prototype.doTick=function(){var e=this;switch(this.state){case xn.IDLE:var t=this.tracks,n=this.currentTrackId,i=this.vttFragSNsProcessed[n],r=this.vttFragQueues[n],a=this.currentlyProcessing?this.currentlyProcessing.sn:-1,o=function(e){return i.indexOf(e.sn)>-1},s=function(e){return r.some(function(t){return t.sn===e.sn})};if(!t)break;var u;if(n<t.length&&(u=t[n].details),void 0===u)break;u.fragments.forEach(function(t){o(t)||t.sn===a||s(t)||(t.decryptdata&&null!=t.decryptdata.uri&&null==t.decryptdata.key?(xe.b.log("Loading key for "+t.sn),e.state=xn.KEY_LOADING,e.hls.trigger(Re.a.KEY_LOADING,{frag:t})):(t.trackId=n,r.push(t),e.nextFrag()))})}},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;xe.b.log("subtitle tracks updated"),this.tracks=e.subtitleTracks,this.clearVttFragQueues(),this.vttFragSNsProcessed={},this.tracks.forEach(function(e){t.vttFragSNsProcessed[e.id]=[]})},t.prototype.onSubtitleTrackSwitch=function(e){this.currentTrackId=e.id,this.clearVttFragQueues()},t.prototype.onSubtitleTrackLoaded=function(){this.tick()},t.prototype.onKeyLoaded=function(){this.state===xn.KEY_LOADING&&(this.state=xn.IDLE,this.tick())},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,n=e.frag.decryptdata,i=e.frag,r=this.hls;if(this.state===xn.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&null!=n&&null!=n.key&&"AES-128"===n.method){var a;try{a=performance.now()}catch(e){a=Date.now()}this.decrypter.decrypt(e.payload,n.key.buffer,n.iv.buffer,function(e){var t;try{t=performance.now()}catch(e){t=Date.now()}r.trigger(Re.a.FRAG_DECRYPTED,{frag:i,payload:e,stats:{tstart:a,tdecrypt:t}})})}},t}(Ne),Mn=Dn,Nn={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Gt,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:Rt,bufferController:Dt,capLevelController:Ut,fpsController:jt,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0};Nn.subtitleStreamController=Mn,Nn.subtitleTrackController=Rn,Nn.timelineController=On,Nn.cueHandler=Oe,Nn.enableCEA708Captions=!0,Nn.enableWebVTT=!0,Nn.captionsTextTrack1Label="English",Nn.captionsTextTrack1LanguageCode="en",Nn.captionsTextTrack2Label="Spanish",Nn.captionsTextTrack2LanguageCode="es",Nn.audioStreamController=qt,Nn.audioTrackController=Kt;var Un=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Bn=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Pe(this,e);var i=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in i)r in n||(n[r]=i[r]);if(void 0!==n.liveMaxLatencyDurationCount&&n.liveMaxLatencyDurationCount<=n.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==n.liveMaxLatencyDuration&&(n.liveMaxLatencyDuration<=n.liveSyncDuration||void 0===n.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(xe.a)(n.debug),this.config=n,this._autoLevelCapping=-1;var a=this.observer=new st.a;a.trigger=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.emit.apply(a,[e,e].concat(n))},a.off=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];a.removeListener.apply(a,[e].concat(n))},this.on=a.on.bind(a),this.off=a.off.bind(a),this.trigger=a.trigger.bind(a);var o=this.abrController=new n.abrController(this),s=new n.bufferController(this),u=new n.capLevelController(this),l=new n.fpsController(this),c=new Je(this),f=new $e(this),d=new et(this),p=new Tt(this),h=this.levelController=new Et(this),y=this.streamController=new mt(this),g=[h,y],v=n.audioStreamController;v&&g.push(new v(this)),this.networkControllers=g;var m=[c,f,d,o,s,u,l,p];if(v=n.audioTrackController){var b=new v(this);this.audioTrackController=b,m.push(b)}if(v=n.subtitleTrackController){var _=new v(this);this.subtitleTrackController=_,m.push(_)}[n.subtitleStreamController,n.timelineController].forEach(function(e){e&&m.push(new e(t))}),this.coreComponents=m}return e.isSupported=function(){return U()},Un(e,null,[{key:"version",get:function(){return"0.8.9"}},{key:"Events",get:function(){return Re.a}},{key:"ErrorTypes",get:function(){return Ie.b}},{key:"ErrorDetails",get:function(){return Ie.a}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:Nn},set:function(t){e.defaultConfig=t}}]),e.prototype.destroy=function(){xe.b.log("destroy"),this.trigger(Re.a.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(e){e.destroy()}),this.url=null,this.observer.removeAllListeners(),this._autoLevelCapping=-1},e.prototype.attachMedia=function(e){xe.b.log("attachMedia"),this.media=e,this.trigger(Re.a.MEDIA_ATTACHING,{media:e})},e.prototype.detachMedia=function(){xe.b.log("detachMedia"),this.trigger(Re.a.MEDIA_DETACHING),this.media=null},e.prototype.loadSource=function(e){e=Le.a.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),xe.b.log("loadSource:"+e),this.url=e,this.trigger(Re.a.MANIFEST_LOADING,{url:e})},e.prototype.startLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;xe.b.log("startLoad("+e+")"),this.networkControllers.forEach(function(t){t.startLoad(e)})},e.prototype.stopLoad=function(){xe.b.log("stopLoad"),this.networkControllers.forEach(function(e){e.stopLoad()})},e.prototype.swapAudioCodec=function(){xe.b.log("swapAudioCodec"),this.streamController.swapAudioCodec()},e.prototype.recoverMediaError=function(){xe.b.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Un(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){xe.b.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){xe.b.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){xe.b.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){xe.b.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){xe.b.log("set startLevel:"+e);var t=this;-1!==e&&(e=Math.max(e,t.minAutoLevel)),t.levelController.startLevel=e}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){xe.b.log("set autoLevelCapping:"+e),this._autoLevelCapping=e}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var e=this,t=e.levels,n=e.config.minAutoBitrate,i=t?t.length:0,r=0;r<i;r++){if((t[r].realBitrate?Math.max(t[r].realBitrate,t[r].bitrate):t[r].bitrate)>n)return r}return 0}},{key:"maxAutoLevel",get:function(){var e=this,t=e.levels,n=e.autoLevelCapping;return-1===n&&t&&t.length?t.length-1:n}},{key:"nextAutoLevel",get:function(){var e=this;return Math.min(Math.max(e.abrController.nextAutoLevel,e.minAutoLevel),e.maxAutoLevel)},set:function(e){var t=this;t.abrController.nextAutoLevel=Math.max(t.minAutoLevel,e)}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}}]),e}();t.default=Bn},function(e,t,n){function i(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t.oe=function(e){throw console.error(e),e};var i=t(t.s=ENTRY_MODULE);return i.default||i}function r(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function a(e){var t=[],n=e.toString(),i=n.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!i)return t;for(var a,o=i[1],s=new RegExp("(\\\\n|\\W)"+r(o)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\w|/|@]+).*?\\)","g");a=s.exec(n);)t.push(a[3]);return t}function o(e,t){for(var n=[t],i=[],r={};n.length;){var o=n.pop();if(!r[o]&&e[o]){r[o]=!0,i.push(o);var s=a(e[o]);n=n.concat(s)}}return i}e.exports=function(e,t){t=t||{};var r=n.m,a=t.all?Object.keys(r):o(r,e),s="("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a.map(function(e){return JSON.stringify(e)+": "+r[e].toString()}).join(",")+"})(self);",u=new window.Blob([s],{type:"text/javascript"});if(t.bare)return u;var l=window.URL||window.webkitURL||window.mozURL||window.msURL,c=l.createObjectURL(u),f=new window.Worker(c);return f.objectURL=c,f}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),r=n(1),a=n(0),o=n(5),s=n.n(o),u=function(e){var t=new s.a;t.trigger=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.emit.apply(t,[e,e].concat(i))},t.off=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];t.removeListener.apply(t,[e].concat(i))};var n=function(t,n){e.postMessage({event:t,data:n})};e.addEventListener("message",function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);e.demuxer=new i.a(t,o.typeSupported,s,o.vendor);try{Object(a.a)(!0===s.debug)}catch(e){console.warn("demuxerWorker: unable to enable logs")}n("init",null);break;case"demux":e.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS)}}),t.on(r.a.FRAG_DECRYPTED,n),t.on(r.a.FRAG_PARSING_INIT_SEGMENT,n),t.on(r.a.FRAG_PARSED,n),t.on(r.a.ERROR,n),t.on(r.a.FRAG_PARSING_METADATA,n),t.on(r.a.FRAG_PARSING_USERDATA,n),t.on(r.a.INIT_PTS_FOUND,n),t.on(r.a.FRAG_PARSING_DATA,function(t,n){var i=[],r={event:t,data:n};n.data1&&(r.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(r.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),e.postMessage(r,i)})};t.default=u}]).default})},function(e,t,n){!function(t,i){e.exports=i(n(10),n(129))}(0,function(e,t){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var i=n(0),r=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default,t.VERSION="1.6.0",t.NAME="playkit-js-dash",a.default.isSupported()&&(0,i.registerMediaSourceAdapter)(a.default)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(1),f=i(c),d=n(0),p=n(4),h=i(p),y=n(5),g=i(y),v=n(6),m=i(v),b=n(7),_=i(b),E={ERROR:"error",ADAPTION:"adaption",BUFFERING:"buffering"},A=function(e){function t(e,n){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(this,t),t._logger.debug("Creating adapter. Shaka version: "+f.default.Player.version);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,s));return u._adapterEventsBindings=(i={},r(i,E.ERROR,function(e){return u._onError(e)}),r(i,E.ADAPTION,function(){return u._onAdaptation()}),r(i,E.BUFFERING,function(e){return u._onBuffering(e)}),r(i,d.EventType.WAITING,function(){return u._onWaiting()}),r(i,d.EventType.PLAYING,function(){return u._onPlaying()}),i),u._buffering=!1,u._waitingSent=!1,u._playingSent=!1,u.VIDEO_ERROR_CODE=3016,u._setShakaConfig(),u}return s(t,e),l(t,null,[{key:"createAdapter",value:function(e,t,n){var i={};return d.Utils.Object.hasPropertyPath(n,"playback.options.html5.dash")&&(i=n.playback.options.html5.dash),new this(e,t,i)}},{key:"canPlayType",value:function(e){var n="string"==typeof e&&e.toLowerCase()===t._dashMimeType;return t._logger.debug("canPlayType result for mimeType: "+e+" is "+n.toString()),n}},{key:"canPlayDrm",value:function(e){var n=!1,i=!0,r=!1,a=void 0;try{for(var o,s=t._drmProtocols[Symbol.iterator]();!(i=(o=s.next()).done);i=!0){var u=o.value;if(u.canPlayDrm(e)){t._drmProtocol=u,n=!0;break}}}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return t._logger.debug("canPlayDrm result is "+n.toString(),e),n}},{key:"isSupported",value:function(){var e=!1;window.VTTCue||(e=!0),f.default.polyfill.installAll();var n=f.default.Player.isBrowserSupported();return e&&(window.VTTCue=void 0),t._logger.debug("isSupported:"+n),n}}]),l(t,[{key:"_setShakaConfig",value:function(){var e={textDisplayFactory:function(e){return new _.default(e)}.bind(null,this._videoElement)};this._config=d.Utils.Object.mergeDeep(e,this._config,m.default)}},{key:"_init",value:function(){f.default.polyfill.installAll(),this._shaka=new f.default.Player(this._videoElement),this._maybeSetDrmConfig(),this._shaka.configure(this._config),this._shaka.setTextTrackVisibility(!1),this._addBindings()}},{key:"_maybeSetDrmConfig",value:function(){t._drmProtocol&&this._sourceObj&&this._sourceObj.drmData&&t._drmProtocol.setDrmPlayback(this._config,this._sourceObj.drmData)}},{key:"_addBindings",value:function(){this._shaka.addEventListener(E.ADAPTION,this._adapterEventsBindings.adaption),this._shaka.addEventListener(E.ERROR,this._adapterEventsBindings.error),this._shaka.addEventListener(E.BUFFERING,this._adapterEventsBindings.buffering),this._videoElement.addEventListener(d.EventType.WAITING,this._adapterEventsBindings.waiting),this._videoElement.addEventListener(d.EventType.PLAYING,this._adapterEventsBindings.playing)}},{key:"_removeBindings",value:function(){this._shaka.removeEventListener(E.ADAPTION,this._adapterEventsBindings.adaption),this._shaka.removeEventListener(E.ERROR,this._adapterEventsBindings.error),this._shaka.removeEventListener(E.BUFFERING,this._adapterEventsBindings.buffering),this._videoElement.removeEventListener(d.EventType.WAITING,this._adapterEventsBindings.waiting),this._videoElement.removeEventListener(d.EventType.PLAYING,this._adapterEventsBindings.playing)}},{key:"load",value:function(e){var n=this;return this._loadPromise||(this._init(),this._loadPromise=new Promise(function(i,r){n._sourceObj&&n._sourceObj.url&&(n._trigger(d.EventType.ABR_MODE_CHANGED,{mode:n.isAdaptiveBitrateEnabled()?"auto":"manual"}),n._shaka.load(n._sourceObj.url,e).then(function(){var e={tracks:n._getParsedTracks()};t._logger.debug("The source has been loaded successfully"),i(e)}).catch(function(e){r(new d.Error(e.severity,e.category,e.code,e.data))}))})),this._loadPromise}},{key:"destroy",value:function(){var e=this;return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this).then(function(){if(t._logger.debug("destroy"),e._loadPromise=null,e._buffering=!1,e._waitingSent=!1,e._playingSent=!1,e._shaka)return e._removeBindings(),e._shaka.destroy();e._adapterEventsBindings={}})}},{key:"_getVideoTracks",value:function(){var e=this._shaka.getVariantTracks(),t=e.filter(function(e){return e.active})[0];return e.filter(function(e){return e.audioId===t.audioId})}},{key:"_getAudioTracks",value:function(){var e=this._shaka.getVariantTracks(),t=e.filter(function(e){return e.active})[0];return e.filter(function(e){return e.videoId===t.videoId})}},{key:"_getParsedTracks",value:function(){if(this._shaka){var e=this._getParsedVideoTracks(),t=this._getParsedAudioTracks(),n=this._getParsedTextTracks();return e.concat(t).concat(n)}return[]}},{key:"_getParsedVideoTracks",value:function(){var e=this._getVideoTracks(),t=[];if(e)for(var n=0;n<e.length;n++){var i={id:e[n].id,bandwidth:e[n].bandwidth,width:e[n].width,height:e[n].height,active:e[n].active,index:n};t.push(new d.VideoTrack(i))}return t}},{key:"_getParsedAudioTracks",value:function(){var e=this._getAudioTracks(),t=[];if(e)for(var n=0;n<e.length;n++){var i={id:e[n].id,active:e[n].active,label:e[n].label,language:e[n].language,index:n};t.push(new d.AudioTrack(i))}return t}},{key:"_getParsedTextTracks",value:function(){var e=this._shaka.getTextTracks(),t=[];if(e)for(var n=0;n<e.length;n++){var i={kind:e[n].kind?e[n].kind+"s":"",active:!1,label:e[n].label,language:e[n].language,index:n};t.push(new d.TextTrack(i))}return t}},{key:"selectVideoTrack",value:function(e){if(this._shaka){var t=this._getVideoTracks();if(e instanceof d.VideoTrack&&t){var n=t[e.index];n&&(this.isAdaptiveBitrateEnabled()&&(this._shaka.configure({abr:{enabled:!1}}),this._trigger(d.EventType.ABR_MODE_CHANGED,{mode:"manual"})),n.active||(this._shaka.selectVariantTrack(t[e.index],!0),this._onTrackChanged(e)))}}}},{key:"selectAudioTrack",value:function(e){this._shaka&&e instanceof d.AudioTrack&&!e.active&&(this._shaka.selectAudioLanguage(e.language),this._onTrackChanged(e))}},{key:"selectTextTrack",value:function(e){this._shaka&&e instanceof d.TextTrack&&!e.active&&("subtitles"===e.kind||"captions"===e.kind)&&(this._shaka.selectTextLanguage(e.language),this._onTrackChanged(e))}},{key:"hideTextTrack",value:function(){this._shaka&&this._shaka.setTextTrackVisibility(!1)}},{key:"enableAdaptiveBitrate",value:function(){this._shaka&&!this.isAdaptiveBitrateEnabled()&&(this._trigger(d.EventType.ABR_MODE_CHANGED,{mode:"auto"}),this._shaka.configure({abr:{enabled:!0}}))}},{key:"isAdaptiveBitrateEnabled",value:function(){return!!this._shaka&&this._shaka.getConfiguration().abr.enabled}},{key:"_getLiveEdge",value:function(){return this._shaka?this._shaka.seekRange().end:NaN}},{key:"seekToLiveEdge",value:function(){this._shaka&&(this._videoElement.currentTime=this._shaka.seekRange().end)}},{key:"isLive",value:function(){return!!this._shaka&&this._shaka.isLive()}},{key:"_onAdaptation",value:function(){var e=this._getParsedVideoTracks().filter(function(e){return e.active})[0];this._onTrackChanged(e)}},{key:"_onError",value:function(e){if(e&&e.detail){var n=e.detail;if(n.code===this.VIDEO_ERROR_CODE)return;this._trigger(d.EventType.ERROR,new d.Error(n.severity,n.category,n.code,n.data)),t._logger.error(n)}}},{key:"_onBuffering",value:function(e){e.buffering?this._waitingSent||(this._videoElement.dispatchEvent(new window.Event(d.EventType.WAITING)),this._buffering=!0):(this._buffering=!1,this._videoElement.paused||this._playingSent||this._videoElement.dispatchEvent(new window.Event(d.EventType.PLAYING)))}},{key:"_onWaiting",value:function(){this._waitingSent=!0,this._playingSent=!1}},{key:"_onPlaying",value:function(){this._playingSent=!0,this._waitingSent=!1,this._buffering&&this._videoElement.dispatchEvent(new window.Event(d.EventType.WAITING))}},{key:"getStartTimeOfDvrWindow",value:function(){return this.isLive()&&this._shaka?this._shaka.seekRange().start:0}}]),t}(d.BaseMediaSourceAdapter);A.id="DashAdapter",A._logger=d.BaseMediaSourceAdapter.getLogger(A.id),A._dashMimeType="application/dash+xml",A._drmProtocols=[h.default,g.default],A._drmProtocol=null,t.default=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),l=u.BaseDrmProtocol.DrmSupport,c=u.BaseDrmProtocol.DrmScheme,f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"canPlayDrm",value:function(e){return t._logger.debug("Can play DRM scheme of: "+c.WIDEVINE),l.isProtocolSupported(c.WIDEVINE,e)}},{key:"setDrmPlayback",value:function(e,n){t._logger.debug("Sets drm playback");var r=u.Env.browser.name,a=n.find(function(e){return e.scheme===c.WIDEVINE});a&&(e.drm={servers:i({},c.WIDEVINE,a.licenseUrl),advanced:{}},"Chrome"===r&&(e.drm.advanced=i({},c.WIDEVINE,{videoRobustness:"SW_SECURE_CRYPTO",audioRobustness:"SW_SECURE_CRYPTO"})))}}]),t}(u.BaseDrmProtocol);f._logger=u.BaseDrmProtocol.getLogger("Widevine"),t.default=f},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),l=u.BaseDrmProtocol.DrmSupport,c=u.BaseDrmProtocol.DrmScheme,f=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"canPlayDrm",value:function(e){return t._logger.debug("Can play DRM scheme of: "+c.PLAYREADY),l.isProtocolSupported(c.PLAYREADY,e)}},{key:"setDrmPlayback",value:function(e,n){t._logger.debug("Sets drm playback");var r=n.find(function(e){return e.scheme===c.PLAYREADY});r&&(e.drm={servers:i({},c.PLAYREADY,r.licenseUrl)})}}]),t}(u.BaseDrmProtocol);f._logger=u.BaseDrmProtocol.getLogger("PlayReady"),t.default=f},function(e,t){e.exports={streaming:{ignoreTextStreamFailures:!0}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(s),l=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"isTextVisible",value:function(){return!0}}]),t}(u.default.text.SimpleTextDisplayer);t.default=l}])})},function(e,t,n){!function(t,i){e.exports=i(n(10))}(0,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var i=n(0),r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default,t.VERSION="0.3.3",t.NAME="playkit-js-youbora",(0,i.registerPlugin)("youbora",a.default)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,i)}if("value"in r)return r.value;var o=r.get;return void 0!==o?o.call(i):void 0},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),l=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f=function(e){function t(e,n,a){i(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a));return o._youbora=new c.default(o.player,o.config),o._addBindings(),o._setup(),o}return a(t,e),s(t,null,[{key:"isValid",value:function(){return!0}}]),s(t,[{key:"updateConfig",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateConfig",this).call(this,e),this._youbora.setOptions(e.options),this._addPlayerMetadata()}},{key:"reset",value:function(){this._youbora&&this._youbora.reset()}},{key:"_addPlayerMetadata",value:function(){this._youbora.setOptions({properties:{kalturaInfo:{entryId:this.config.entryId,sessionId:this.config.sessionId,uiConfId:this.config.uiConfId}}})}},{key:"_addBindings",value:function(){c.default.bindLogger(this.logger)}},{key:"_setup",value:function(){this._youbora.registerListeners()}},{key:"destroy",value:function(){this._youbora&&this._youbora.endedHandler()}}]),t}(u.BasePlugin);f.defaultConfig={options:{haltOnError:!1}},t.default=f},function(e,t,n){"use strict";var i=n(4),r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=n(5),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a);/**
 * @license
 * Youbora Plugin JS Kaltura player
 * Copyright NicePopleAtWork & Kaltura
 * @author Jordi Aguilar & Dan Ziv
 */
r.default.plugins.KalturaV3=function(e,t){try{this.config=t,this.pluginName=this.config.playerName,this.pluginVersion=r.default.version+"-"+o.version+"-"+this.pluginName,this.startMonitoring(e,this.config.options)}catch(e){r.default.error(e)}},r.default.plugins.KalturaV3.prototype=new r.default.plugins.Generic,r.default.plugins.KalturaV3.bindLogger=function(e){r.default.error=e.error.bind(e),r.default.notice=e.info.bind(e),r.default.noticeRequest=e.info.bind(e),r.default.warn=e.warn.bind(e),r.default.debug=e.debug.bind(e),r.default.verbose=function(){}},r.default.plugins.KalturaV3.prototype.reset=function(){this.endedHandler(),this.viewManager.comm.view++},r.default.plugins.KalturaV3.prototype.getPlayhead=function(){return this.player.currentTime},r.default.plugins.KalturaV3.prototype.getMediaDuration=function(){return this.player.duration},r.default.plugins.KalturaV3.prototype.getResource=function(){return this.player.src},r.default.plugins.KalturaV3.prototype.getPlayerVersion=function(){return this.config.playerName+"-"+this.config.playerVersion},r.default.plugins.KalturaV3.prototype.getBitrate=function(){var e=this.player.getActiveTracks().video;return e&&e.bandwidth?e.bandwidth:-1},r.default.plugins.KalturaV3.prototype.getTitle=function(){return this.config.entryName},r.default.plugins.KalturaV3.prototype.getRendition=function(){var e=this.player.getActiveTracks().video;if(e)return r.default.utils.buildRenditionString(e.width,e.height,e.bandwidth)},r.default.plugins.KalturaV3.prototype.getIsLive=function(){return"Live"===this.config.entryType},r.default.plugins.KalturaV3.prototype.registerListeners=function(){var e=this,t=this.player.Event,n=this.player.State;this.player.addEventListener(t.PLAY,function(){e.playHandler()}),this.player.addEventListener(t.ENDED,function(){e.endedHandler()}),this.player.addEventListener(t.PLAYING,function(){e.playingHandler()}),this.player.addEventListener(t.PAUSE,function(){e.pauseHandler()}),this.player.addEventListener(t.ERROR,function(){e.errorHandler("PLAY_FAILURE")}),this.player.addEventListener(t.SEEKING,function(){e.viewManager.isBuffering||e.seekingHandler()}),this.player.addEventListener(t.SEEKED,function(){e.seekedHandler()}),this.player.addEventListener(t.PLAYER_STATE_CHANGED,function(t){var i=t.payload.newState.type,r=t.payload.oldState.type;i===n.BUFFERING&&e.bufferingHandler(),r===n.BUFFERING&&e.bufferedHandler()})},e.exports=r.default.plugins.KalturaV3},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=r||{version:"5.4.6",plugins:{},adnalyzers:{},utils:{},managers:{},comm:{},data:{}};r.comm.Communication=function(e,t){try{this.host=e,this.httpSecure=t,this.pingTime=5,this.prefix="U",this.code="",this.view=-1,this.preloaders=[],this._requests={},this.addPreloader("FastData")}catch(e){r.error(e)}},r.comm.Communication.prototype.extraOperationsCallback=null,r.comm.Communication.prototype.getViewCode=function(){return this.code?this.prefix+this.code+"_"+this.view:"nocode"},r.comm.Communication.prototype.nextView=function(e){return this.view++,this.prefix=!0===e?"L":!1===e?"V":"U",this.getViewCode()},r.comm.Communication.prototype.requestData=function(e,t){try{e=e||{},e.outputformat="jsonp",delete e.code;var n=this,i=new r.comm.AjaxRequest(this._parseServiceHost(this.host),"/data",e);i.load(function(){n.receiveData(i)}),i.load(t),i.send(),r.noticeRequest("Request: NQS /data "+e.system)}catch(e){r.error(e)}},r.comm.Communication.prototype.receiveData=function(e){try{var t=e.getXHR(),n=t.response||t.responseText,i=JSON.parse(n.slice(n.indexOf("(")+1,n.lastIndexOf(")"))),a=i.q.h,o=i.q.c,s=i.q.pt,u=i.q.b;a.length>0&&o.length>0&&s.length>0&&u.length>0?(this.prefix=o.slice(0,1),this.code=o.slice(1),this.host=a,this.pingTime=s,this.balancerEnabled=u,r.noticeRequest("FastData '"+o+"' is ready."),this._requests.nocode&&this._requests.nocode.length>0&&(this._requests[this.getViewCode()]=this._requests.nocode,delete this._requests.nocode),this.removePreloader("FastData")):r.error("Error: FastData response is wrong.")}catch(e){r.error(e)}},r.comm.Communication.prototype.sendRequest=function(e,t,n){try{t=t||{},delete t.code;var i=new r.comm.AjaxRequest("",e,t);i.load(n),this._registerRequest(i)}catch(e){r.error(e)}},r.comm.Communication.prototype.sendService=function(e,t,n){try{var i=new r.comm.AjaxRequest(this._parseServiceHost(e),"",t);i.load(n),this._registerRequest(i)}catch(e){r.error(e)}},r.comm.Communication.prototype.addPreloader=function(e){try{this.preloaders.push(e)}catch(e){r.error(e)}},r.comm.Communication.prototype.removePreloader=function(e){try{var t=this.preloaders.indexOf(e);if(-1!==t){if(this.preloaders.splice(t,1),0===this.preloaders.length){var n;for(var i in this._requests)for(;n=this._requests[i].shift();)n.setParam("code",i),n.host||(n.host=this._parseServiceHost(this.host)),"function"==typeof this.extraOperationsCallback&&this.extraOperationsCallback(n.params),n.send()}}else r.warn("Warning: trying to remove unexisting preloader '"+e+"'.")}catch(e){r.error(e)}},r.comm.Communication.prototype._registerRequest=function(e){try{return void 0===this._requests[this.getViewCode()]&&(this._requests[this.getViewCode()]=[]),e.setParam("timemark",(new Date).getTime()),this._requests[this.getViewCode()].push(e),this._sendRequests(),e}catch(e){r.error(e)}},r.comm.Communication.prototype._sendRequests=function(){try{if(0===this.preloaders.length){var e;for(var t in this._requests)for(;e=this._requests[t].shift();)e.setParam("code",t),e.host||(e.host=this._parseServiceHost(this.host)),e.send()}}catch(e){r.error(e)}},r.comm.Communication.prototype._parseServiceHost=function(e){try{return 0===e.indexOf("//")?e=e.slice(2):0===e.indexOf("http://")?e=e.slice(7):0===e.indexOf("https://")&&(e=e.slice(8)),e=!0===this.httpSecure?"https://"+e:0===window.location.protocol.indexOf("http")?"//"+e:"http://"+e}catch(e){return r.error(e),"http://localhost"}},r.comm.AjaxRequest=function(e,t,n,i){try{this.xhr=this.createXHR(),this.host=e,this.service=t||"",this.params=n,this.options=i||{},this.options.method=this.options.method||r.comm.AjaxRequest.options.method,this.options.maxRetries=this.options.maxRetries||r.comm.AjaxRequest.options.maxRetries,void 0===this.options.retryAfter&&(this.options.retryAfter=r.comm.AjaxRequest.options.retryAfter),this.hasError=!1,this.retries=1}catch(e){r.error(e)}},r.comm.AjaxRequest.onEverySuccess=null,r.comm.AjaxRequest.options={method:"GET",requestHeaders:{},maxRetries:3,retryAfter:5e3},r.comm.AjaxRequest.prototype.getUrl=function(){try{return this.host+this.service+this.getParams()}catch(e){r.error(e)}},r.comm.AjaxRequest.prototype.getParams=function(){try{switch(i(this.params)){case"object":return"?"+this._parseParams(this.params);case"string":return this.params?"?"+this.params:"";default:return""}}catch(e){r.error(e)}},r.comm.AjaxRequest.prototype.setParam=function(e,t){try{switch(i(this.params)){case"string":this.params.length>0&&(this.params+="&"),this.params+=e+"="+t;break;case"object":default:this.params[e]=t}return this}catch(e){return r.error(e),this}},r.comm.AjaxRequest.prototype.on=function(e,t){try{"error"==e&&(this.hasError=!0),"function"==typeof t?this.xhr.addEventListener(e,t,!1):void 0!==t&&r.warn("Warning: Request '"+this.getUrl()+"' has a callback that is not a function.")}catch(e){r.error(e)}finally{return this}},r.comm.AjaxRequest.prototype.load=function(e){return this.on("load",e)},r.comm.AjaxRequest.prototype.error=function(e){return this.on("error",e)},r.comm.AjaxRequest.prototype.send=function(){try{if(this.xhr.open(this.options.method,this.getUrl(),!0),this.options.requestHeaders)for(var e in this.options.requestHeaders)this.options.requestHeaders.hasOwnProperty(e)&&this.xhr.setRequestHeader(e,this.options.requestHeaders[e]);if(!this.hasError&&this.options.retryAfter>0&&this.options.maxRetries>0){var t=this;this.error(function(){if(t.retries>t.options.maxRetries)r.error("Error: Aborting failed request. Max retries reached.");else{r.warn("Error: Request "+t.service+" failed. Retry "+t.retries+" of "+t.options.maxRetries+" in "+t.options.retryAfter+"ms.");var e=t;setTimeout(function(){e.retries+=1,e.send()},t.options.retryAfter)}})}r.debugLevel>=5&&r.verbose("XHR Req: "+this.getUrl()),"function"==typeof r.comm.AjaxRequest.onEverySuccess&&this.load(r.comm.AjaxRequest.onEverySuccess),this.xhr.send()}catch(e){r.error(e)}},r.comm.AjaxRequest.prototype.createXHR=function(){try{return window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return r.error(e),{}}},r.comm.AjaxRequest.prototype.getXHR=function(){return this.xhr},r.comm.AjaxRequest.prototype._parseParams=function(e){try{if("string"==typeof e)return e;if(null!==e&&"object"==(void 0===e?"undefined":i(e))){var t="";for(var n in e)null!==e[n]&&"object"==i(e[n])?t+=encodeURIComponent(n)+"="+encodeURIComponent(JSON.stringify(e[n]))+"&":null!==e[n]&&void 0!==e[n]&&""!==e[n]&&(t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n])+"&");return t.slice(0,-1)}return""}catch(e){return r.error(e),""}},r.data.Options=function(e){try{this.setOptions(e)}catch(e){r.error(e)}},r.data.Options.prototype={enableAnalytics:!0,disabledRequests:[],parseHLS:!1,parseCDNNodeHost:!1,useCDNFromParser:!1,parseCDNNameFrom:"x-cdn-forward",haltOnError:!0,hashTitle:!0,httpSecure:void 0,enableNiceBuffer:!0,enableNiceSeek:!0,accountCode:"nicetest",service:"nqs.nice264.com",username:void 0,transactionCode:void 0,network:{ip:void 0,isp:void 0},device:{id:void 0},media:{isLive:void 0,resource:void 0,title:void 0,duration:void 0,cdn:void 0,isBalanced:0,isResumed:0},ads:{expected:!1,resource:void 0,campaign:void 0,title:void 0,position:void 0,duration:void 0},properties:{contentId:void 0,type:void 0,transaction_type:void 0,genre:void 0,language:void 0,year:void 0,cast:void 0,director:void 0,owner:void 0,parental:void 0,price:void 0,rating:void 0,audioType:void 0,audioChannels:void 0,device:void 0,quality:void 0},extraParams:{param1:void 0,param2:void 0,param3:void 0,param4:void 0,param5:void 0,param6:void 0,param7:void 0,param8:void 0,param9:void 0,param10:void 0,param11:void 0,param12:void 0,param13:void 0,param14:void 0,param15:void 0,param16:void 0,param17:void 0,param18:void 0,param19:void 0,param20:void 0},setOptions:function(e,t){try{if(t=t||this,void 0!==e)for(var n in e)"object"==i(t[n])&&null!==t[n]?this.setOptions(e[n],t[n]):t[n]=e[n]}catch(e){r.error(e)}}},r.adnalyzers.Generic=function(){},r.adnalyzers.Generic.prototype={adnalyzerVersion:"5.3.0-GENERIC",ads:void 0,plugin:void 0},r.adnalyzers.Generic.prototype.startMonitoring=function(e,t){try{r.notice("Adnalyzer "+this.adnalyzerVersion+" is ready."),this.plugin=e,this.ads=t}catch(e){return r.error(e),null}},r.adnalyzers.Generic.prototype.stopMonitoring=function(){this.ads=null,this.plugin.viewManager.timer.adPlayheadMonitor.stop()},r.adnalyzers.Generic.prototype.enableAdBufferMonitor=function(){this.plugin.infoManager.options.enableNiceBuffer&&(this.plugin.viewManager.enableAdBufferMonitor=!0)},r.adnalyzers.Generic.prototype.enableAdSeekMonitor=function(){this.plugin.infoManager.options.enableNiceSeek&&(this.plugin.viewManager.enableAdSeekMonitor=!0)},r.adnalyzers.Generic.prototype.initAdHandler=function(){try{this.plugin.viewManager.isAdStartSent||this.plugin.viewManager.isAdInitSent||this.plugin.viewManager.sendAdInit()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.playAdHandler=function(){try{this.plugin.viewManager.isAdStartSent||this.plugin.viewManager.sendAdStart()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.startJoinAdHandler=function(){try{this.plugin.viewManager.isAdStartSent||(this.plugin.viewManager.sendAdStart(),this.plugin.viewManager.isBuffering&&(this.plugin.viewManager.chrono.joinTime.startTime=this.plugin.viewManager.chrono.buffer.startTime,this.plugin.viewManager.isBuffering=!1),this.plugin.viewManager.sendAdJoin())}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.joinAdHandler=function(){try{this.plugin.viewManager.sendAdJoin()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.pauseAdHandler=function(){try{this.plugin.viewManager.sendAdPause()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.pauseToggleAdHandler=function(){try{this.plugin.viewManager.isAdPaused?this.plugin.viewManager.sendAdResume():this.plugin.viewManager.sendAdPause()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.resumeAdHandler=function(){try{this.plugin.viewManager.sendAdResume()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.endedAdHandler=function(){try{this.plugin.viewManager.sendAdStop()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.skipAdHandler=function(){try{this.plugin.viewManager.sendAdStop({skipped:!0})}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.bufferingAdHandler=function(){try{this.plugin.viewManager.sendAdBufferStart()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.bufferedAdHandler=function(){try{this.plugin.viewManager.isAdStartSent&&(this.plugin.viewManager.isAdJoinSent?this.plugin.viewManager.isAdBuffering&&this.plugin.viewManager.sendAdBufferEnd():this.plugin.viewManager.sendAdJoin())}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.errorAdHandler=function(e,t){try{void 0===e&&(e=0),t=t||e||"Unknown error",this.plugin.viewManager.sendAdError({errorCode:e,msg:t})}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.noServedAdHandler=function(e,t){try{void 0===e&&(e=0),t=t||e||"Unknown error",this.plugin.viewManager.sendAdError({errorCode:e,msg:t,errorSeverity:"AdsNotServed"}),this.plugin.viewManager.sendAdStop()}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.clickAdHandler=function(e){try{this.plugin.viewManager.sendAdClick({adUrl:e})}catch(e){r.error(e)}},r.adnalyzers.Generic.prototype.getAdResource=function(){return"unknown"},r.adnalyzers.Generic.prototype.getMediaPlayhead=function(){return null},r.adnalyzers.Generic.prototype.getAdPlayhead=function(){return 0},r.adnalyzers.Generic.prototype.getAdPosition=function(){return this.plugin.viewManager.isJoinSent?"mid":"pre"},r.adnalyzers.Generic.prototype.getAdTitle=function(){return null},r.adnalyzers.Generic.prototype.getAdDuration=function(){return 0},r.adnalyzers.Generic.prototype.getAdBitrate=function(){return-1},r.adnalyzers.Generic.prototype.getAdPlayerVersion=function(){return null},r.plugins.Generic=function(){},r.plugins.Generic.prototype={pluginName:"GENERIC",pluginVersion:"5.1.0-GENERIC",playerId:"generic",player:null,tag:null,infoManager:void 0,viewManager:void 0,adnalyzer:null},r.plugins.Generic.prototype.startMonitoring=function(e,t){try{r.notice("Plugin "+this.pluginVersion+" (with YouboraJS "+r.version+") is ready."),"string"==typeof e?(this.playerId=e,this.player=document.getElementById(e)):(this.player=e,e&&e.id&&(this.playerId=e.id)),this.tag=this.player,void 0===this.infoManager?this.infoManager=new r.managers.Info(this,t):this.infoManager.setOptions(t),this.viewManager=new r.managers.View(this.infoManager)}catch(e){return r.error(e),null}},r.plugins.Generic.prototype.stopMonitoring=function(){this.player=null,this.tag=null,this.viewManager.stopTimers()},r.plugins.Generic.prototype.enableBufferMonitor=function(){this.infoManager.options.enableNiceBuffer&&(this.viewManager.enableBufferMonitor=!0)},r.plugins.Generic.prototype.enableSeekMonitor=function(){this.infoManager.options.enableNiceSeek&&(this.viewManager.enableSeekMonitor=!0)},r.plugins.Generic.prototype.setOptions=function(e){try{this.infoManager.options.setOptions(e)}catch(e){r.error(e)}},r.plugins.Generic.prototype.getOptions=function(){try{return this.infoManager.options||{}}catch(e){return r.error(e),{}}},r.plugins.Generic.prototype.playHandler=function(){try{this.viewManager.sendStart()}catch(e){r.error(e)}},r.plugins.Generic.prototype.joinHandler=function(){try{this.viewManager.sendJoin()}catch(e){r.error(e)}},r.plugins.Generic.prototype.playingHandler=function(){try{this.viewManager.isStartSent&&(this.viewManager.isJoinSent?this.viewManager.isSeeking&&this.viewManager.isPaused?(this.viewManager.sendSeekEnd(),this.viewManager.sendResume()):this.viewManager.isSeeking?this.viewManager.sendSeekEnd():this.viewManager.isBuffering?this.viewManager.sendBufferEnd():this.viewManager.isPaused&&this.viewManager.sendResume():this.viewManager.sendJoin())}catch(e){r.error(e)}},r.plugins.Generic.prototype.pauseHandler=function(){try{this.viewManager.sendPause()}catch(e){r.error(e)}},r.plugins.Generic.prototype.pauseToggleHandler=function(){try{this.viewManager.isPaused?this.viewManager.sendResume():this.viewManager.sendPause()}catch(e){r.error(e)}},r.plugins.Generic.prototype.resumeHandler=function(){try{this.viewManager.sendResume()}catch(e){r.error(e)}},r.plugins.Generic.prototype.endedHandler=function(){try{this.viewManager.sendStop()}catch(e){r.error(e)}},r.plugins.Generic.prototype.errorHandler=function(e,t){try{void 0===e&&(e=0),t=t||e||"Unknown error",this.viewManager.sendError({errorCode:e,msg:t})}catch(e){r.error(e)}},r.plugins.Generic.prototype.seekingHandler=function(){try{this.viewManager.isBuffering?this.viewManager.convertBufferToSeek():this.viewManager.sendSeekStart()}catch(e){r.error(e)}},r.plugins.Generic.prototype.seekedHandler=function(){try{this.viewManager.sendSeekEnd()}catch(e){r.error(e)}},r.plugins.Generic.prototype.bufferingHandler=function(){try{this.viewManager.isSeeking||this.viewManager.sendBufferStart()}catch(e){r.error(e)}},r.plugins.Generic.prototype.bufferedHandler=function(){try{this.viewManager.isStartSent&&(this.viewManager.isJoinSent?this.viewManager.isSeeking?this.viewManager.sendSeekEnd():this.viewManager.isBuffering&&this.viewManager.sendBufferEnd():this.viewManager.sendJoin())}catch(e){r.error(e)}},r.plugins.Generic.prototype.ignoringAdHandler=function(){try{this.viewManager.sendIgnoreAdStart()}catch(e){r.error(e)}},r.plugins.Generic.prototype.ignoredAdHandler=function(){try{this.viewManager.sendIgnoreAdEnd()}catch(e){r.error(e)}},r.plugins.Generic.prototype.getResource=function(){return"unknown"},r.plugins.Generic.prototype.getPlayhead=function(){return 0},r.plugins.Generic.prototype.getMediaDuration=function(){return 0},r.plugins.Generic.prototype.getIsLive=function(){return!1},r.plugins.Generic.prototype.getRendition=function(){return null},r.plugins.Generic.prototype.getBitrate=function(){return-1},r.plugins.Generic.prototype.getThroughput=function(){return-1},r.plugins.Generic.prototype.getPlayerVersion=function(){return null},r.plugins.Generic.prototype.getTotalBytes=function(){return null},r.plugins.Generic.prototype.getTitle=function(){return null},r.managers.Info=function(e,t){this.plugin=e,this.options=new r.data.Options(t),this.lastBitrate=0,this.lastAdBitrate=0},r.managers.Info.prototype.getDataParams=function(e){try{return e=e||{},e.system=e.hasOwnProperty("system")?e.system:this.options.accountCode,e.pluginName=e.hasOwnProperty("pluginName")?e.pluginName:this.plugin.pluginName,e.pluginVersion=e.hasOwnProperty("pluginVersion")?e.pluginVersion:this.plugin.pluginVersion,e.live=e.hasOwnProperty("live")?e.live:this.options.media.isLive,e}catch(t){return r.error(t),e}},r.managers.Info.prototype.setOptions=function(e){this.options.setOptions(e)},r.managers.Info.prototype.getOptions=function(e){return this.options},r.managers.Info.prototype.getAdPlayhead=function(){try{return this.plugin.adnalyzer?r.utils.parseNumber(this.plugin.adnalyzer.getAdPlayhead(),0):0}catch(e){return r.warn(e),0}},r.managers.Info.prototype.getAdBitrate=function(){try{if(this.plugin.adnalyzer){var e=Math.round(this.plugin.adnalyzer.getAdBitrate());if(-1==e&&this.plugin.adnalyzer.tag&&void 0!==this.plugin.adnalyzer.tag.webkitVideoDecodedByteCount){var t=this.plugin.adnalyzer.tag.webkitVideoDecodedByteCount;this.lastAdBitrate&&(t=Math.round((this.plugin.adnalyzer.tag.webkitVideoDecodedByteCount-this.lastAdBitrate)/5*8)),this.lastAdBitrate=this.plugin.adnalyzer.tag.webkitVideoDecodedByteCount,e=t}return r.utils.parseNumber(e,-1)}return-1}catch(e){return r.warn(e),-1}},r.managers.Info.prototype.getAdResource=function(){try{return void 0!==this.options.ads.resource?this.options.ads.resource:this.plugin.adnalyzer.getAdResource()}catch(e){return r.warn(e),""}},r.managers.Info.prototype.getAdPosition=function(){try{return void 0!==this.options.ads.position?this.options.ads.position:this.plugin.adnalyzer.getAdPosition()}catch(e){return r.warn(e),"mid"}},r.managers.Info.prototype.getAdTitle=function(){try{return void 0!==this.options.ads.title?this.options.ads.title:this.plugin.adnalyzer.getAdTitle()}catch(e){return r.warn(e),""}},r.managers.Info.prototype.getAdDuration=function(){try{var e=0;return e=void 0!==this.options.ads.duration?this.options.ads.duration:Math.round(this.plugin.adnalyzer.getAdDuration()),r.utils.parseNumber(e,0)}catch(e){return r.warn(e),0}},r.managers.Info.prototype.getAdPlayerVersion=function(){try{return this.plugin.adnalyzer.getAdPlayerVersion()}catch(e){return r.warn(e),null}},r.managers.Info.prototype.getAdStartParams=function(e,t){try{return e=e||{},e.position=void 0!==e.position?e.position:this.getAdPosition(),e.resource=void 0!==e.resource?e.resource:this.getAdResource(),e.campaign=void 0!==e.campaign?e.campaign:this.options.ads.campaign,e.title=void 0!==e.title?e.title:this.getAdTitle(),e.adDuration=void 0!==e.adDuration?e.adDuration:this.getAdDuration(),e.playhead=void 0!==e.playhead?e.playhead:Math.round(this.getPlayhead()),e.adnalyzerVersion=void 0!==e.adnalyzerVersion?e.adnalyzerVersion:this.plugin.adnalyzer.adnalyzerVersion,e.adPlayerVersion=void 0!==e.adPlayerVersion?e.adPlayerVersion:this.getAdPlayerVersion(),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getAdJoinParams=function(e,t){try{return e=e||{},e.adPlayhead=void 0!==e.adPlayhead?e.adPlayhead:this.getAdPlayhead(),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getAdStopParams=function(e,t){try{return e=e||{},e.adPlayhead=void 0!==e.adPlayhead?e.adPlayhead:Math.round(this.getAdPlayhead()),e.adBitrate=void 0!==e.adBitrate?e.adBitrate:this.getAdBitrate(),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getAdPauseParams=function(e,t){return e||{}},r.managers.Info.prototype.getAdResumeParams=function(e,t){return e||{}},r.managers.Info.prototype.getAdBufferEndParams=function(e,t){try{return e=e||{},e.adPlayhead=void 0!==e.adPlayhead?e.adPlayhead:Math.round(this.getAdPlayhead()),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getAdPingParams=function(e,t){try{return e=e||{},e.adBitrate=void 0!==e.adBitrate?e.adBitrate:this.getAdBitrate(),e.adPlayhead=void 0!==e.adPlayhead?e.adPlayhead:Math.round(this.getAdPlayhead()),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getAdErrorParams=function(e,t){try{return e=e||{},e.errorCode=e.hasOwnProperty("errorCode")?e.errorCode:"9000",e.msg=e.hasOwnProperty("msg")?e.msg:"Unknown Error",e.adPlayhead=void 0!==e.adPlayhead?e.adPlayhead:Math.round(this.getAdPlayhead()),e.player=e.hasOwnProperty("player")?e.player:this.plugin.pluginName,e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getAdClickParams=function(e,t){try{return e=e||{},e.adPlayhead=void 0!==e.adPlayhead?e.adPlayhead:Math.round(this.getAdPlayhead()),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getResource=function(){try{return this.plugin.viewManager.resourceParser&&this.plugin.viewManager.resourceParser.realResource?this.plugin.viewManager.resourceParser.realResource:void 0!==this.options.media.resource?this.options.media.resource:this.plugin.getResource()}catch(e){return r.warn(e),"unknown"}},r.managers.Info.prototype.getCDN=function(){try{return this.plugin.viewManager.resourceParser&&this.plugin.viewManager.resourceParser.cdn&&this.options.useCDNFromParser?this.plugin.viewManager.resourceParser.cdn:void 0!==this.options.media.cdn?this.options.media.cdn:null}catch(e){return r.warn(e),null}},r.managers.Info.prototype.getMediaDuration=function(){try{var e=0;return e=void 0!==this.options.media.duration?this.options.media.duration:this.plugin.getMediaDuration(),Math.round(r.utils.parseNumber(e,0))}catch(e){return r.warn(e),0}},r.managers.Info.prototype.getIsLive=function(){try{return void 0!==this.options.media.isLive?this.options.media.isLive:this.plugin.getIsLive()}catch(e){return r.warn(e),!1}},r.managers.Info.prototype.getPlayerVersion=function(){try{return this.plugin.getPlayerVersion()}catch(e){return r.warn(e),""}},r.managers.Info.prototype.getTitle=function(){try{return void 0!==this.options.media.title?this.options.media.title:this.plugin.getTitle()}catch(e){return r.warn(e),""}},r.managers.Info.prototype.getRendition=function(){try{return void 0!==this.options.media.rendition?this.options.media.rendition:this.plugin.getRendition()}catch(e){return r.warn(e),""}},r.managers.Info.prototype.getBitrate=function(){try{var e=Math.round(this.plugin.getBitrate());if(-1==e&&this.plugin.tag&&void 0!==this.plugin.tag.webkitVideoDecodedByteCount){var t=this.plugin.tag.webkitVideoDecodedByteCount;this.lastBitrate&&(t=Math.round((this.plugin.tag.webkitVideoDecodedByteCount-this.lastBitrate)/5*8)),this.lastBitrate=this.plugin.tag.webkitVideoDecodedByteCount,e=0!=t?t:-1}return r.utils.parseNumber(e,-1)}catch(e){return r.warn(e),-1}},r.managers.Info.prototype.getThroughput=function(){try{return r.utils.parseNumber(Math.round(this.plugin.getThroughput()),-1)}catch(e){return r.warn(e),-1}},r.managers.Info.prototype.getTotalBytes=function(){try{return r.utils.parseNumber(this.plugin.getTotalBytes(),null)}catch(e){return r.warn(e),null}},r.managers.Info.prototype.getPlayhead=function(){try{var e=this.plugin.getPlayhead();return this.plugin.adnalyzer&&null!==this.plugin.adnalyzer.getMediaPlayhead()&&(e=this.plugin.adnalyzer.getMediaPlayhead()),r.utils.parseNumber(e,0)}catch(e){return r.warn(e),0}},r.managers.Info.prototype.getStartParams=function(e){try{if(e=e||{},e.system=e.hasOwnProperty("system")?e.system:this.options.accountCode,e.player=e.hasOwnProperty("player")?e.player:this.plugin.pluginName,e.user=e.hasOwnProperty("user")?e.user:this.options.username,e.transcode=e.hasOwnProperty("transcode")?e.transcode:this.options.transactionCode,e.hashTitle=e.hasOwnProperty("hashTitle")?e.hashTitle:this.options.hashTitle,!e.hasOwnProperty("referer")){e.referer="";try{e.referer=top.window.location.href}catch(t){e.referer=window.location.href}}return e.deviceId=e.hasOwnProperty("deviceId")?e.deviceid:this.options.device.id,e.pluginVersion=e.hasOwnProperty("pluginVersion")?e.pluginVersion:this.plugin.pluginVersion,e.playerVersion=e.hasOwnProperty("playerVersion")?e.playerVersion:this.getPlayerVersion(),e.resource=e.hasOwnProperty("resource")?e.resource:this.getResource(),e.duration=e.hasOwnProperty("duration")?e.duration:this.getMediaDuration(),e.live=e.hasOwnProperty("live")?e.live:this.getIsLive(),e.rendition=e.hasOwnProperty("rendition")?e.rendition:this.getRendition(),e.title=e.hasOwnProperty("title")?e.title:this.getTitle(),e.properties=e.hasOwnProperty("properties")?e.properties:this.options.properties,e.cdn=e.hasOwnProperty("cdn")?e.cdn:this.getCDN(),e.isp=e.hasOwnProperty("isp")?e.isp:this.options.network.isp,e.ip=e.hasOwnProperty("ip")?e.ip:this.options.network.ip,e.param1=e.hasOwnProperty("param1")?e.param1:this.options.extraParams.param1,e.param2=e.hasOwnProperty("param2")?e.param2:this.options.extraParams.param2,e.param3=e.hasOwnProperty("param3")?e.param3:this.options.extraParams.param3,e.param4=e.hasOwnProperty("param4")?e.param4:this.options.extraParams.param4,e.param5=e.hasOwnProperty("param5")?e.param5:this.options.extraParams.param5,e.param6=e.hasOwnProperty("param6")?e.param6:this.options.extraParams.param6,e.param7=e.hasOwnProperty("param7")?e.param7:this.options.extraParams.param7,e.param8=e.hasOwnProperty("param8")?e.param8:this.options.extraParams.param8,e.param9=e.hasOwnProperty("param9")?e.param9:this.options.extraParams.param9,e.param10=e.hasOwnProperty("param10")?e.param10:this.options.extraParams.param10,e.param11=e.hasOwnProperty("param11")?e.param11:this.options.extraParams.param11,e.param12=e.hasOwnProperty("param12")?e.param12:this.options.extraParams.param12,e.param13=e.hasOwnProperty("param13")?e.param13:this.options.extraParams.param13,e.param14=e.hasOwnProperty("param14")?e.param14:this.options.extraParams.param14,e.param15=e.hasOwnProperty("param15")?e.param15:this.options.extraParams.param15,e.param16=e.hasOwnProperty("param16")?e.param16:this.options.extraParams.param16,e.param17=e.hasOwnProperty("param17")?e.param17:this.options.extraParams.param17,e.param18=e.hasOwnProperty("param18")?e.param18:this.options.extraParams.param18,e.param19=e.hasOwnProperty("param19")?e.param19:this.options.extraParams.param19,e.param20=e.hasOwnProperty("param20")?e.param20:this.options.extraParams.param20,e.totalBytes=e.hasOwnProperty("totalBytes")?e.totalBytes:this.getTotalBytes(),e.adsExpected=e.hasOwnProperty("adsExpected")?e.adsExpected:this.options.ads.expected,1==this.options.isResumed&&(e.isResumed=1),1==this.options.isBalanced&&(e.isBalanced=1),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getJoinParams=function(e){try{return e=e||{},e.eventTime=e.hasOwnProperty("eventTime")?e.eventTime:this.getPlayhead(),e.mediaDuration=e.hasOwnProperty("mediaDuration")?e.mediaDuration:this.getMediaDuration(),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getStopParams=function(e){return e||{}},r.managers.Info.prototype.getPauseParams=function(e){return e||{}},r.managers.Info.prototype.getResumeParams=function(e){return e||{}},r.managers.Info.prototype.getBufferEndParams=function(e){try{return e=e||{},e.time=e.hasOwnProperty("time")?e.time:this.getPlayhead(),e}catch(t){return r.error(t),e}},r.managers.Info.prototype.getErrorParams=function(e){try{return e=e||{},e.errorCode=e.hasOwnProperty("errorCode")?e.errorCode:"9000",e.msg=e.hasOwnProperty("msg")?e.msg:"Unknown Error",e=this.getStartParams(e)}catch(t){return r.error(t),e}},r.managers.Info.prototype.getSeekEndParams=function(e){return this.getBufferEndParams(e)},r.managers.Info.prototype.getPingParams=function(e,t){try{return e=e||{},e.time=void 0!==e.time?e.time:this.getPlayhead(),e.bitrate=void 0!==e.bitrate?e.bitrate:this.getBitrate(),e.throughput=void 0!==e.throughput?e.throughput:this.getThroughput(),e.totalBytes=void 0!==e.totalBytes?e.totalBytes:this.getTotalBytes(),e}catch(t){return r.error(t),e}},r.managers.View=function(e){this.infoManager=e,this.isStartSent=!1,this.isJoinSent=!1,this.isPaused=!1,this.isSeeking=!1,this.isBuffering=!1,this.isErrorSent=!1,this.isShowingAds=!1,this.isAdStartSent=!1,this.isAdJoinSent=!1,this.isAdPaused=!1,this.isAdBuffering=!1,this.chrono={joinTime:new r.utils.Chrono,seek:new r.utils.Chrono,pause:new r.utils.Chrono,buffer:new r.utils.Chrono,adIgnore:new r.utils.Chrono,adTotal:new r.utils.Chrono,adJoinTime:new r.utils.Chrono,adPause:new r.utils.Chrono,adBuffer:new r.utils.Chrono},this.adCounter={pre:0,mid:0,post:0,unknown:0};var t=this;this.timer={pinger:new r.utils.Timer(function(e){t.sendPing({diffTime:e})}),playheadMonitor:new r.utils.Timer(function(e){t.checkPlayhead()},r.managers.View.monitoringInterval),adPlayheadMonitor:new r.utils.Timer(function(e){t.checkAdPlayhead()},r.managers.View.monitoringInterval)},this.enableBufferMonitor=!1,this.enableSeekMonitor=!1,this.enableAdBufferMonitor=!1,this.enableAdSeekMonitor=!1,this.lastDuration=0,this.lastPlayhead=0,this.lastAdPosition="",this.lastRendition="",this.lastResume=0,this.changedEntities=[],this.resourceParser=new r.utils.ResourceParser(this),this.comm=new r.comm.Communication(this.infoManager.options.service,this.infoManager.options.httpSecure),this.comm.requestData(this.infoManager.getDataParams(),function(){t.timer.pinger.interval=Math.max(1e3,1e3*t.comm.pingTime)})},r.managers.View.prototype.sendRequest=function(e,t,n){try{this.isAllowed(e)&&this.comm.sendRequest(e,t,n)}catch(e){r.error(e)}},r.managers.View.prototype.isAllowed=function(e){return this.infoManager.options.enableAnalytics&&!(e in this.infoManager.options.disabledRequests)},r.managers.View.prototype.isHalted=function(){return this.infoManager.options.haltOnError&&this.isErrorSent},r.managers.View.prototype.sendAdInit=function(e,t){try{this.isHalted()||this.isAdStartSent||this.isAdInitSent||(this.isShowingAds=!0,this.isAdInitSent=!0,this.chrono.adTotal.start(),this.chrono.adJoinTime.start(),this.sendSeekEnd(),this.sendBufferEnd(),e=this.infoManager.getAdStartParams(e),e.number=void 0!==e.number?e.number:this.getAdNumber(e.position,!0),this.lastAdPosition=e.position,this.sendRequest("/adInit",e,t),r.noticeRequest("Request: NQS /adInit "+e.position+e.number))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdStart=function(e,t){try{this.isHalted()||this.isAdStartSent||(this.isShowingAds=!0,this.isAdStartSent=!0,this.isAdInitSent||(this.chrono.adTotal.start(),this.chrono.adJoinTime.start()),this.sendSeekEnd(),this.sendBufferEnd(),e=this.infoManager.getAdStartParams(e),e.number=void 0!==e.number?e.number:this.getAdNumber(e.position,!this.isAdInitSent),this.lastAdPosition=e.position,this.sendRequest("/adStart",e,t),r.noticeRequest("Request: NQS /adStart "+e.position+e.number),this.isAdInitSent&&(this.sendAdJoin(),this.isAdInitSent=!1))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdJoin=function(e,t){try{this.isHalted()||this.isAdStartSent&&!this.isAdJoinSent&&(this.isAdJoinSent=!0,(this.enableAdBufferMonitor||this.enableAdSeekMonitor)&&(this.timer.adPlayheadMonitor.start(),this.lastPlayhead=0),e=this.infoManager.getAdJoinParams(e),e.duration=void 0!==e.duration?e.duration:this.chrono.adJoinTime.getDeltaTime(),e.position=void 0!==e.position?e.position:this.lastAdPosition,e.number=void 0!==e.number?e.number:this.getAdNumber(e.position),this.sendRequest("/adJoinTime",e,t),r.noticeRequest("Request: NQS /adJoinTime "+e.duration+"ms"))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdStop=function(e,t){try{this.isHalted()||(this.isAdStartSent||this.isAdInitSent)&&(this.isAdStartSent=!1,this.isAdJoinSent=!1,this.isAdPaused=!1,this.isAdBuffering=!1,this.isShowingAds=!1,this.isAdInitSent=!1,this.timer.adPlayheadMonitor.stop(),e=this.infoManager.getAdStopParams(e),e.totalDuration=void 0!==e.totalDuration?e.totalDuration:this.chrono.adTotal.getDeltaTime(),e.position=void 0!==e.position?e.position:this.lastAdPosition,e.number=void 0!==e.number?e.number:this.getAdNumber(e.position),e.adPlayhead||delete e.adPlayhead,this.isJoinSent||(this.chrono.joinTime.startTime+=this.chrono.adTotal.getDeltaTime(),this.chrono.joinTime.startTime=Math.min(this.chrono.joinTime.startTime,(new Date).getTime())),this.sendRequest("/adStop",e,t),r.noticeRequest("Request: NQS /adStop "+e.totalDuration+"ms"))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdPause=function(e,t){try{this.isHalted()||this.isAdJoinSent&&!this.isAdPaused&&(this.isAdPaused=!0,this.chrono.adPause.start(),e=this.infoManager.getAdPauseParams(e),e.position=void 0!==e.position?e.position:this.lastAdPosition,e.number=void 0!==e.number?e.number:this.getAdNumber(e.position),this.sendRequest("/adPause",e,t),r.noticeRequest("Request: NQS /adPause"))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdResume=function(e,t){try{this.isHalted()||this.isAdJoinSent&&this.isAdPaused&&(this.isAdPaused=!1,this.chrono.adPause.stop(),e=this.infoManager.getAdResumeParams(e),e.position=void 0!==e.position?e.position:this.lastAdPosition,e.number=void 0!==e.number?e.number:this.getAdNumber(e.position),this.sendRequest("/adResume",e,t),r.noticeRequest("Request: NQS /adResume"))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdBufferStart=function(){try{this.isHalted()||this.isAdJoinSent&&!this.isAdBuffering&&(this.isAdBuffering=!0,this.chrono.adBuffer.start(),r.noticeRequest("Method: /adBufferStart"))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdBufferEnd=function(e,t){try{this.isHalted()||this.isAdJoinSent&&this.isAdBuffering&&(this.isAdBuffering=!1,e=this.infoManager.getAdBufferEndParams(e),e.duration=void 0!==e.duration?e.duration:this.chrono.adBuffer.getDeltaTime(),e.position=void 0!==e.position?e.position:this.lastAdPosition,e.number=void 0!==e.number?e.number:this.getAdNumber(e.position),this.sendRequest("/adBufferUnderrun",e,t),r.noticeRequest("Request: NQS /adBufferUnderrun "+e.duration+"ms"))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdError=function(e,t){try{this.isHalted()||(e=this.infoManager.getAdErrorParams(e),void 0===e.position&&(this.isAdStartSent?e.position=this.lastAdPosition:e.position=this.infoManager.getAdPosition(),e.number=this.getAdNumber(e.position)),this.sendRequest("/adError",e,t),r.noticeRequest("Request: NQS /adError"))}catch(e){r.error(e)}},r.managers.View.prototype.sendAdClick=function(e,t){try{this.isHalted()||(e=this.infoManager.getAdClickParams(e),e.position=void 0!==e.position?e.position:this.lastAdPosition,e.number=void 0!==e.number?e.number:this.getAdNumber(e.position),this.sendRequest("/adClick",e,t),r.noticeRequest("Request: NQS /adClick"))}catch(e){r.error(e)}},r.managers.View.prototype.getAdNumber=function(e,t){var n=0;switch(e){case"pre":n=t?++this.adCounter.pre:this.adCounter.pre;break;case"mid":n=t?++this.adCounter.mid:this.adCounter.mid;break;case"post":n=t?++this.adCounter.post:this.adCounter.post;break;default:n=t?++this.adCounter.unknown:this.adCounter.unknown}return n>0?n:1},r.managers.View.prototype.resetAdNumbers=function(){this.adCounter={pre:0,mid:0,post:0,unknown:0}},r.managers.View.prototype.sendIgnoreAdStart=function(){try{this.isHalted()||this.isStartSent&&!this.isShowingAds&&(this.isShowingAds=!0,this.chrono.adIgnore.start(),this.sendBufferEnd(),this.sendSeekEnd(),r.noticeRequest("Method: /genericAdStart"))}catch(e){r.error(e)}},r.managers.View.prototype.sendIgnoreAdEnd=function(){try{this.isHalted()||this.isStartSent&&this.isShowingAds&&(this.isShowingAds=!1,this.chrono.adIgnore.stop(),this.isJoinSent||(this.chrono.joinTime.startTime+=this.chrono.adIgnore.getDeltaTime(),this.chrono.joinTime.startTime=Math.min(this.chrono.joinTime.startTime,(new Date).getTime())),r.noticeRequest("Method: /genericAdEnd "+this.chrono.adIgnore.getDeltaTime()+"ms"))}catch(e){r.error(e)}},r.managers.View.prototype.sendStart=function(e,t){try{this.isHalted()||this.isStartSent||((this.infoManager.options.parseCDNNodeHost||this.infoManager.options.parseHLS)&&this.resourceParser.init(),this.isStartSent=!0,this.chrono.joinTime.start(),r.noticeRequest("Sending pings every "+this.comm.pingTime+"s."),this.timer.pinger.interval=Math.max(1e3,1e3*this.comm.pingTime),this.timer.pinger.start(),e=this.infoManager.getStartParams(e),e.pingTime=void 0!==e.pingTime?e.pingTime:this.comm.pingTime,this.infoManager.options.parseCDNNodeHost&&(e.nodeHost=void 0!==e.nodeHost?e.nodeHost:void 0!==this.resourceParser.nodeHost?this.resourceParser.nodeHost:"",e.nodeType=void 0!==e.nodeType?e.nodeType:void 0!==this.resourceParser.nodeType?this.resourceParser.nodeType:""),this.comm.nextView(e.live),this.sendRequest("/start",e,t),r.noticeRequest("Request: NQS /start "+e.resource),this.lastDuration=e.duration,this.lastRendition=e.rendition)}catch(e){r.error(e)}},r.managers.View.prototype.sendJoin=function(e,t){try{this.isHalted()||!this.isStartSent||this.isJoinSent||this.isShowingAds||(this.isJoinSent=!0,(this.enableBufferMonitor||this.enableSeekMonitor)&&(this.timer.playheadMonitor.start(),this.lastPlayhead=0),e=this.infoManager.getJoinParams(e),e.time=void 0!==e.time?e.time:this.chrono.joinTime.getDeltaTime(),e.mediaDuration===this.lastDuration&&delete e.mediaDuration,this.sendRequest("/joinTime",e,t),r.noticeRequest("Request: NQS /joinTime "+e.time+"ms"))}catch(e){r.error(e)}},r.managers.View.prototype.sendStop=function(e,t){try{this.isHalted()||this.isStartSent&&(this.isStartSent=!1,this.isPaused=!1,this.isJoinSent=!1,this.isSeeking=!1,this.isBuffering=!1,this.isErrorSent=!1,this.resourceParser.clear(),this.resetAdNumbers(),this.stopTimers(),e=this.infoManager.getStopParams(e),e.diffTime=void 0!==e.diffTime?e.diffTime:this.timer.pinger.chrono.getDeltaTime(),this.sendRequest("/stop",e,t),r.noticeRequest("Request: NQS /stop"))}catch(e){r.error(e)}},r.managers.View.prototype.sendPause=function(e,t){try{this.isHalted()||this.isJoinSent&&!this.isPaused&&(this.isPaused=!0,this.chrono.pause.start(),e=this.infoManager.getPauseParams(e),this.sendRequest("/pause",e,t),r.noticeRequest("Request: NQS /pause"))}catch(e){r.error(e)}},r.managers.View.prototype.sendResume=function(e,t){try{this.isHalted()||this.isJoinSent&&this.isPaused&&(this.isPaused=!1,this.chrono.pause.stop(),this.lastResume=(new Date).getTime(),e=this.infoManager.getResumeParams(e),this.sendRequest("/resume",e,t),r.noticeRequest("Request: NQS /resume"))}catch(e){r.error(e)}},r.managers.View.prototype.sendBufferStart=function(){try{this.isHalted()||this.isJoinSent&&!this.isBuffering&&(this.isBuffering=!0,this.chrono.buffer.start(),r.noticeRequest("Method: /bufferStart"))}catch(e){r.error(e)}},r.managers.View.prototype.sendBufferEnd=function(e,t){try{this.isHalted()||this.isJoinSent&&this.isBuffering&&(this.isBuffering=!1,this.lastResume=(new Date).getTime(),e=this.infoManager.getBufferEndParams(e),e.duration=void 0!==e.duration?e.duration:this.chrono.buffer.getDeltaTime(),this.sendRequest("/bufferUnderrun",e,t),r.noticeRequest("Request: NQS /bufferUnderrun "+e.duration+"ms"))}catch(e){r.error(e)}},r.managers.View.prototype.sendSeekStart=function(){try{this.isHalted()||this.isJoinSent&&!this.isSeeking&&(this.isSeeking=!0,this.chrono.seek.start(),r.noticeRequest("Method: /seekStart"))}catch(e){r.error(e)}},r.managers.View.prototype.sendSeekEnd=function(e,t){try{this.isHalted()||this.isJoinSent&&this.isSeeking&&(this.isSeeking=!1,this.lastResume=(new Date).getTime(),e=this.infoManager.getSeekEndParams(e),e.duration=void 0!==e.duration?e.duration:this.chrono.seek.getDeltaTime(),this.sendRequest("/seek",e,t),r.noticeRequest("Request: NQS /seek "+e.duration+"ms"))}catch(e){r.error(e)}},r.managers.View.prototype.sendError=function(e,t){try{this.isErrorSent=!0,!this.infoManager.options.parseCDNNodeHost&&!this.infoManager.options.parseHLS||this.resourceParser.realResource||this.resourceParser.init(),this.infoManager.options.haltOnError&&this.stopTimers(),e=this.infoManager.getErrorParams(e),e.pingTime=void 0!==e.pingTime?e.pingTime:this.comm.pingTime,this.infoManager.options.parseCDNNodeHost&&(e.nodeHost=void 0!==e.nodeHost?e.nodeHost:void 0!==this.resourceParser.nodeHost?this.resourceParser.nodeHost:"",e.nodeType=void 0!==e.nodeType?e.nodeType:void 0!==this.resourceParser.nodeType?this.resourceParser.nodeType:""),this.sendRequest("/error",e,t),r.noticeRequest("Request: NQS /error "+e.msg)}catch(e){r.error(e)}},r.managers.View.prototype.convertBufferToSeek=function(){try{r.noticeRequest("Converting buffer to seek"),this.chrono.seek.startTime=this.chrono.buffer.startTime,this.chrono.seek.lastTime=0,this.chrono.buffer.stop(),this.isBuffering=!1,this.isSeeking=!0}catch(e){r.error(e)}},r.managers.View.monitoringInterval=800,r.managers.View.prototype.jumpNextTick=!1,r.managers.View.prototype.checkPlayhead=function(){if(this.isJoinSent&&!this.isShowingAds){var e=2*r.managers.View.monitoringInterval,t=r.managers.View.monitoringInterval/2,n=1.1*r.managers.View.monitoringInterval,i=this.infoManager.getPlayhead(),a=1e3*Math.abs(this.lastPlayhead-i);if(a<t){var o=this.lastResume?Math.abs((new Date).getTime()-this.lastResume):0;this.enableBufferMonitor&&(0==o||o>r.managers.View.monitoringInterval)&&this.lastPlayhead>0&&!this.isBuffering&&!this.isPaused&&!this.isSeeking&&this.sendBufferStart()}else a>e?this.enableSeekMonitor&&this.lastPlayhead>0&&!this.isSeeking&&(this.isBuffering?this.convertBufferToSeek():this.sendSeekStart()):this.isSeeking&&this.enableSeekMonitor?this.sendSeekEnd():this.isBuffering&&this.enableBufferMonitor&&this.chrono.buffer.getDeltaTime(!1)>n&&this.sendBufferEnd();this.lastPlayhead=i}},r.managers.View.prototype.checkAdPlayhead=function(){if(this.isAdJoinSent){var e=r.managers.View.monitoringInterval/2,t=1.1*r.managers.View.monitoringInterval,n=this.infoManager.getAdPlayhead();1e3*Math.abs(this.lastPlayhead-n)<e?this.enableAdBufferMonitor&&this.lastPlayhead>0&&!this.isAdBuffering&&!this.isAdPaused&&this.sendAdBufferStart():this.isAdBuffering&&this.chrono.adBuffer.getDeltaTime(!1)>t&&this.sendAdBufferEnd(),this.lastPlayhead=n}},r.managers.View.prototype.stopTimers=function(){this.timer.pinger.stop(),this.timer.playheadMonitor.stop(),this.timer.adPlayheadMonitor.stop()},r.managers.View.prototype.sendPing=function(e,t){try{e=this.infoManager.getPingParams(e),this.isShowingAds&&(e=this.infoManager.getAdPingParams(e)),e.pingTime=void 0!==e.pingTime?e.pingTime:this.comm.pingTime,this.isSeeking&&(e.seekDuration=void 0!==e.seekDuration?e.seekDuration:this.chrono.seek.getDeltaTime(!1)),this.isBuffering&&(e.bufferDuration=void 0!==e.bufferDuration?e.bufferDuration:this.chrono.buffer.getDeltaTime(!1)),this.isAdBuffering&&(e.adBufferDuration=void 0!==e.adBufferDuration?e.adBufferDuration:this.chrono.adBuffer.getDeltaTime(!1));var n=this.infoManager.getRendition();if(n&&this.lastRendition!=n&&(this.sendChangedEntity("rendition",n),this.lastRendition=n),1==this.changedEntities.length){var i=this.changedEntities.shift();e.entityType=i.key,e.entityValue=i.value}else if(this.changedEntities.length>1){e.entityType=null,e.entityValue=null,e.entities={};for(var a=0;a<this.changedEntities.length;a++)e.entities[this.changedEntities[a].key]=this.changedEntities[a].value;this.changedEntities=[]}this.sendRequest("/ping",e,t)}catch(e){r.error(e)}},r.managers.View.prototype.sendChangedEntity=function(e,t){try{this.changedEntities.push({key:e,value:t})}catch(e){r.error(e)}},r.utils.Chrono=function(){try{this.startTime=0,this.lastTime=0}catch(e){r.error(e)}},r.utils.Chrono.prototype.getDeltaTime=function(e){try{return this.startTime?0===this.lastTime?!1!==e?this.stop():(new Date).getTime()-this.startTime:this.lastTime-this.startTime:-1}catch(e){r.error(e)}},r.utils.Chrono.prototype.start=function(){try{this.startTime=(new Date).getTime(),this.lastTime=0}catch(e){r.error(e)}},r.utils.Chrono.prototype.stop=function(){try{return this.lastTime=(new Date).getTime(),this.getDeltaTime()}catch(e){r.error(e)}},r.utils.parseNumber=function(e,t){return!isNaN(e)&&e>=0&&e!=1/0&&null!==e&&void 0!==e?e:t},r.utils.listenAllEvents=function(e,t,n){try{if(r.debugLevel>=4){n=n||function(e){var t="";void 0!==e.target&&void 0!==e.target.id&&(t=e.target.id),r.debug("Event: "+t+" > "+e.type)};var i=["canplay","buffering","waiting","ended","play","playing","pause","resume","error","abort","seek","seeking","seeked","stalled","dispose","loadeddata","loadstart"];t&&(null===t[0]?(t.shift(),i=t):i=i.concat(t));for(var a=0;a<i.length;a++)"function"==typeof e?e.call(window,i[a],n):e.on?e.on(i[a],n):e.addEventListener&&e.addEventListener(i[a],n)}}catch(e){r.error(e)}},r.utils.buildRenditionString=function(e,t,n){1==arguments.length&&(n=e,e=null,t=null);var i="";return e&&t&&(i=e+"x"+t,n>0&&(i+="@")),n<1?i:(n<1e3?i+=Math.round(n)+"bps":n<1e6?(n=Math.round(n/1e3),i+=n+"Kbps"):(n=Math.round(n/1e4)/100,i+=n+"Mbps"),i)},r.debugLevel=2,r.messageLevels={1:"e",2:"w",3:"n",4:"d",5:"v"},r.plainConsole=!1,r.report=function(e,t,n){if(console&&console.log){t=t||4,n=n||"darkcyan";var i=r.messageLevels[t],a=r.getCurrentTime()+"[Youbora] "+i+":";if(void 0!==r.remoteLog&&!0===r.remoteLog.enabled&&r.remoteLog(a+e),r.debugLevel>=t)if(r.plainConsole||document.documentMode)r.plainReport(e,a);else{var o=console.log;1==t&&console.error?o=console.error:2==t&&console.warn?o=console.warn:t>=4&&console.debug&&(o=console.debug),a="%c"+a,e instanceof Array?(e.splice(0,0,a,"color: "+n),o.apply(console,e)):o.call(console,a,"color: "+n,e)}}},r.getCurrentTime=function(e){var t=new Date;return"["+("0"+t.getDate()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)+":"+("0"+t.getSeconds()).slice(-2)+"."+("00"+t.getMilliseconds()).slice(-3)+"]"},r.plainReport=function(e,t){if(e instanceof Array)for(var n in e)r.plainReport(e[n],t);else"string"==typeof e?console.log(t+" "+e):(console.log(t+" <next line>"),console.log(e))},r.error=function(){r.report([].slice.call(arguments),1,"darkred")},r.warn=function(){r.report([].slice.call(arguments),2,"darkorange")},r.notice=function(){r.report([].slice.call(arguments),3,"darkcyan")},r.noticeRequest=function(){r.report([].slice.call(arguments),3,"darkgreen")},r.debug=function(){r.report([].slice.call(arguments),4,"indigo")},r.verbose=function(){r.report([].slice.call(arguments),5,"navy")},function(){function e(e){switch(e){case"plain":r.plainConsole=!0;break;case"remote":r.remoteLog.forced=!0;break;case"plain+remote":case"remote+plain":r.remoteLog.forced=!0,r.plainConsole=!0}}try{if("undefined"!=typeof window){var t=document.getElementsByTagName("script");for(var n in t)if(t[n].getAttribute){var i=t[n].getAttribute("youbora-debug");i&&(r.debugLevel=i),(i=t[n].getAttribute("youbora-console"))&&e(i)}var a=/\?.*\&*youbora-debug=(.+)/i.exec(window.location.search);null!==a&&(r.debugLevel=a[1]),null!==(a=/\?.*\&*youbora-console=(.+)/i.exec(window.location.search))&&e(a[1])}}catch(e){r.error(e)}}(),r.utils.ResourceParser=function(e){try{this.viewManager=e,this.parseTimeout=null,this.realResource="",this.nodeHost=void 0,this.nodeType=void 0,this.cdn,this.cdnRequests={},this.cdns=r.utils.ResourceParser.cdnsEnabled.slice()}catch(e){r.error(e)}},r.utils.ResourceParser.prototype.init=function(){try{this.realResource&&this.clear(),this.viewManager.comm.addPreloader("ResourceParser");var e=this;this.viewManager.comm.extraOperationsCallback=function(t){void 0!==t.resource&&e.realResource&&(t.resource=e.realResource),void 0!==t.nodeHost&&e.nodeHost&&(t.nodeHost=e.nodeHost,t.nodeType=e.nodeType),!t.cdn&&e.viewManager.infoManager.options.useCDNFromParser&&(t.cdn=e.cdn)},this.parseTimeout=setTimeout(function(){"ResourceParser"in e.viewManager.comm.preloaders&&(e.realResource=e.viewManager.infoManager.getResource(),e.viewManager.comm.removePreloader("ResourceParser"),r.warn("ResourceParser has exceded the maximum execution time (3s) and will be aborted."))},3e3),this.realResource=this.viewManager.infoManager.getResource(),this.viewManager.infoManager.options.parseHLS?this._parseRealResourceAsync(this.realResource):this._parseCDNAsync()}catch(e){r.error(e)}},r.utils.ResourceParser.prototype.clear=function(){this.realResource="",this.nodeHost=void 0,this.nodeType=void 0,this.cdnRequests={},this.cdns=r.utils.ResourceParser.cdnsEnabled.slice()},r.utils.ResourceParser.prototype._parseRealResourceAsync=function(e,t){try{var n=/(\S*?(\.m3u8|\.m3u|\.ts|\.mp4)(\?\S*|\n|\r|$))/i.exec(e);if(null!==n){var i=n[1].trim();if(0!==i.indexOf("http")&&0!==i.indexOf("//")&&(i=t.slice(0,t.lastIndexOf("/"))+"/"+i),".m3u8"==n[2]||".m3u"==n[2]){var a=this;new r.comm.AjaxRequest(i).load(function(){a._parseRealResourceAsync(this.responseText,i)}).error(function(){a._parseCDNAsync()}).send()}else this.realResource=i,this._parseCDNAsync()}else this._parseCDNAsync()}catch(e){r.error(e),this._parseCDNAsync()}},r.utils.ResourceParser.cdnsEnabled=["Level3","Akamai","Highwinds","Fastly"],r.utils.ResourceParser.cdnsAvailable={Level3:{code:"LEVEL3",parsers:[{type:"host+type",name:"X-WR-DIAG",regex:/Host:(.+)\sType:(.+)/}],headers:{"X-WR-DIAG":"host"}},Akamai:{code:"AKAMAI",parsers:[{type:"host+type",name:"X-Cache",regex:/(.+)\sfrom\s.+\(.+\/(.+)\).+/}]},Highwinds:{code:"HIGHNEGR",parsers:[{type:"host+type",name:"X-HW",regex:/.+,[0-9]+\.(.+)\.(.+)/}]},Fastly:{code:"FASTLY",parsers:[{type:"host",name:"X-Served-By",regex:/([^,\s]+)$/},{type:"type",name:"X-Cache",regex:/([^,\s]+)$/}]},Telefonica:{code:"TELEFO",parsers:[{type:"host+type",name:"X-TCDN",regex:/Host:(.+)\sType:(.+)/}]},CustomCDN:{code:null,parsers:[{type:"name",regex:/(.+)/}]}},r.utils.ResourceParser.prototype._parseCDNAsync=function(){try{if(this.viewManager.infoManager.options.parseCDNNodeHost)if(this.cdns.length>0&&!this.nodeHost){var e=this.cdns.shift();if(void 0!==r.utils.ResourceParser.cdnsAvailable[e]){var t=r.utils.ResourceParser.cdnsAvailable[e],n=JSON.stringify(t.headers);if(this.cdnRequests.hasOwnProperty(n))this._parseNode(t,this.cdnRequests[n]);else{var i=this,a=new r.comm.AjaxRequest(this.realResource,"","",{method:"HEAD",maxRetries:0,requestHeaders:t.headers});a.load(function(){i.cdnRequests[n]=a.getXHR(),i._parseNode(t,a.getXHR())}),a.error(function(){i._parseCDNAsync()}),a.send()}}else this._parseCDNAsync()}else this.viewManager.comm.removePreloader("ResourceParser");else this.viewManager.comm.removePreloader("ResourceParser")}catch(e){r.error(e)}},r.utils.ResourceParser.prototype._parseNode=function(e,t){try{var n=e.parsers;for(var i in n){"name"==n[i].type&&(n[i].name=this.viewManager.infoManager.options.parseCDNNameFrom);var a=t.getResponseHeader(n[i].name);if(null===a)return void this._parseCDNAsync();var o=n[i].regex.exec(a);if(null===o)return void this._parseCDNAsync();switch(n[i].type){case"host":this.nodeHost=o[1];break;case"type":this.nodeType=this._parseNodeType(o[1]);break;case"host+type":this.nodeHost=o[1],this.nodeType=this._parseNodeType(o[2]);break;case"type+host":this.nodeType=this._parseNodeType(o[1]),this.nodeHost=o[2];break;case"name":this.cdn=o[1].toUpperCase()}e.code&&(this.cdn=e.code)}this._parseCDNAsync()}catch(e){r.error(e),this._parseCDNAsync()}},r.utils.ResourceParser.prototype._parseNodeType=function(e){try{switch(e){case"TCP_HIT":case"HIT":case"c":return 1;case"TCP_MISS":case"MISS":case"p":case"i":case"m":return 2;case"TCP_MEM_HIT":return 3;case"TCP_IMS_HIT":return 4;default:return 0}}catch(e){return r.error(e),0}},r.utils.Timer=function(e,t){try{this.callback=e,this.interval=t||5e3,this.isRunning=!1,this.timer=null,this.chrono=new r.utils.Chrono}catch(e){r.error(e)}},r.utils.Timer.prototype.start=function(){try{this.isRunning=!0,this._setPing()}catch(e){r.error(e)}},r.utils.Timer.prototype.stop=function(){try{this.isRunning=!1,clearTimeout(this.timer)}catch(e){r.error(e)}},r.utils.Timer.prototype._setPing=function(){try{if(this.isRunning){this.chrono.start();var e=this;this.timer=setTimeout(function(){e.callback(e.chrono.stop()),e._setPing()},this.interval)}}catch(e){r.error(e)}},void 0!==e&&e.exports?e.exports=r:window.$YB=r},function(e,t){e.exports={name:"playkit-js-youbora",version:"0.3.3",main:"dist/playkit-youbora.js",scripts:{clean:"rm -rf ./dist",prebuild:"npm run clean",build:"NODE_ENV=production webpack",dev:"webpack-dev-server",watch:"webpack --progress --colors --watch",test:"NODE_ENV=test karma start --color",release:"standard-version",publish:"git push --follow-tags --no-verify origin master",eslint:"eslint . --color",flow:"flow check","commit:dist":"git add --force --all dist && (git commit -m 'chore: update dist' || exit 0)"},"standard-version":{scripts:{postbump:"yarn run build && npm run commit:dist"}},devDependencies:{"babel-cli":"^6.18.0","babel-core":"^6.18.2","babel-eslint":"^7.1.1","babel-loader":"^6.2.7","babel-plugin-istanbul":"^4.0.0","babel-plugin-transform-class-properties":"^6.22.0","babel-plugin-transform-flow-strip-types":"^6.22.0","babel-preset-es2015":"^6.18.0","babel-register":"^6.23.0",chai:"^3.5.0","cross-env":"^3.1.4","css-loader":"^0.28.4",eslint:"^3.10.0","eslint-loader":"^1.6.1","eslint-plugin-flowtype":"^2.30.0","eslint-plugin-import":"^2.2.0","eslint-plugin-mocha-no-only":"^0.0.5","flow-bin":"latest",istanbul:"^0.4.5",karma:"^1.5.0","karma-chai":"^0.1.0","karma-chrome-launcher":"^2.0.0","karma-cli":"^1.0.1","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.0.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-safari-launcher":"^1.0.0","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^2.0.2",mocha:"^3.2.0","mocha-cli":"^1.0.1","playkit-js":"https://github.com/kaltura/playkit-js.git#v0.20.1","pre-push":"^0.1.1",sinon:"^2.0.0","sinon-chai":"^2.8.0","standard-version":"^4.2.0","style-loader":"^0.18.2","uglifyjs-webpack-plugin":"^0.4.3",webpack:"latest","webpack-dev-server":"latest"},peerDependencies:{"playkit-js":"https://github.com/kaltura/playkit-js.git#v0.20.1"},keywords:[],license:"AGPL-3.0",repository:{type:"git",url:"git+https://github.com/kaltura/playkit-js-youbora.git"},bugs:{url:"https://github.com/kaltura/playkit-js-youbora/issues"},homepage:"https://github.com/kaltura/playkit-js-youbora#readme"}}])})},function(e,t,n){!function(t,i){e.exports=i(n(10))}(0,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={LOADING:"loading",LOADED:"loaded",PLAYING:"playing",PAUSED:"paused",IDLE:"idle",DONE:"done"};t.default=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(4),l=i(u),c=n(5),f=i(c),d=n(1),p=i(d),h=n(0);n(9);var y=["fullscreenchange","mozfullscreenchange","webkitfullscreenchange"],g=function(e){function t(e,n,i){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o._stateMachine=new f.default(o),o._initMembers(),o._addBindings(),o._init(),o}return o(t,e),s(t,null,[{key:"isValid",value:function(){return!0}}]),s(t,[{key:"playAdNow",value:function(e){this.logger.warn("playAdNow API is not implemented yet",e)}},{key:"skipAd",value:function(){this.logger.debug("Skip ad"),this._adsManager&&(this._adsManager.getAdSkippableState()?this._adsManager.skip():this.config.skipSupport&&this._adsManager.stop())}},{key:"resumeAd",value:function(){return this.logger.debug("Resume ad"),this._nextPromise=h.Utils.Object.defer(),this._adsManager.resume(),this._nextPromise}},{key:"pauseAd",value:function(){this.logger.debug("Pause ad"),this._adsManager.pause()}},{key:"getStateMachine",value:function(){return this._stateMachine}},{key:"getMiddlewareImpl",value:function(){return new l.default(this)}},{key:"reset",value:function(){this.logger.debug("reset"),this.eventManager.removeAll(),this._stopAdInterval(),this._hideAdsContainer(),this._isImaSDKLibLoaded()&&(this._adsManager&&this._adsManager.destroy(),this._adsLoader&&!this._contentComplete&&this._adsLoader.contentComplete(),this._initMembers(),this._addBindings(),this._adsLoader||this._initAdsLoader(),this._requestAds(),this.config.adTagUrl?this._stateMachine.loaded():this._stateMachine.goto(p.default.DONE))}},{key:"destroy",value:function(){this.logger.debug("destroy"),this.eventManager.destroy(),this._stopAdInterval(),this._hideAdsContainer(),this._adsManager&&this._adsManager.destroy(),this._adsLoader&&!this._contentComplete&&this._adsLoader.contentComplete(),this._adsLoader=null,this._initMembers()}},{key:"initialUserAction",value:function(){try{this.logger.debug("Initial user action"),this._nextPromise=h.Utils.Object.defer(),this._adDisplayContainer.initialize(),this._hasUserAction=!0,this.config.adTagUrl||this._resolveNextPromise(),this._isAdsManagerLoaded&&(this.logger.debug("User action occurred after ads manager loaded"),this._startAdsManager())}catch(e){this.logger.error(e),this.destroy()}return this._nextPromise}},{key:"_startAdsManager",value:function(){var e=this;this.logger.debug("Start ads manager"),(this._adsManager.isCustomPlaybackUsed()&&!this.config.disableMediaPreload?this.player.ready():Promise.resolve()).then(function(){e._adsManager.init(e.player.dimensions.width,e.player.dimensions.height,e._sdk.ViewMode.NORMAL),e._adsManager.start()})}},{key:"_addBindings",value:function(){var e=this;y.forEach(function(t){return e.eventManager.listen(document,t,function(){return e._resizeAd()})}),this.eventManager.listen(window,"resize",function(){return e._resizeAd()}),this.eventManager.listen(this.player,this.player.Event.MUTE_CHANGE,function(){return e._syncPlayerVolume()}),this.eventManager.listen(this.player,this.player.Event.VOLUME_CHANGE,function(){return e._syncPlayerVolume()}),this.eventManager.listen(this.player,this.player.Event.SOURCE_SELECTED,function(t){var n=t.payload.selectedSource;n&&n.length>0&&(e._contentSrc=n[0].url)})}},{key:"_initMembers",value:function(){this._setTogglePlayPauseOnAdsContainerEnabled(!1),this._setContentPlayheadTrackerEventsEnabled(!1),this._setVideoEndedCallbackEnabled(!1),this._nextPromise=null,this._currentAd=null,this._adsManager=null,this._contentComplete=!1,this._isAdsManagerLoaded=!1,this._intervalTimer=null,this._videoLastCurrentTime=null,this._contentPlayheadTracker={currentTime:0,previousTime:0,seeking:!1,duration:0},this._hasUserAction=!1,this._togglePlayPauseOnAdsContainerCallback=null}},{key:"_init",value:function(){var e=this;this.loadPromise=h.Utils.Object.defer(),(this._isImaSDKLibLoaded()?Promise.resolve():h.Utils.Dom.loadScriptAsync(this.config.debug?t.IMA_SDK_DEBUG_LIB_URL:t.IMA_SDK_LIB_URL)).then(function(){e._sdk=window.google.ima,e.logger.debug("IMA SDK version: "+e._sdk.VERSION),e._initImaSettings(),e._initAdsContainer(),e._initAdsLoader(),e._requestAds(),e._stateMachine.loaded(),e.loadPromise.resolve()}).catch(function(t){e.loadPromise.reject(t)})}},{key:"_isImaSDKLibLoaded",value:function(){return window.google&&window.google.ima&&window.google.ima.VERSION}},{key:"_initImaSettings",value:function(){this._sdk.settings.setPlayerType(this.config.playerName),this._sdk.settings.setPlayerVersion(this.config.playerVersion),this._sdk.settings.setVpaidAllowed(!0),this._sdk.settings.setVpaidMode(this._sdk.ImaSdkSettings.VpaidMode.ENABLED),"boolean"==typeof this.config.setDisableCustomPlaybackForIOS10Plus?this._sdk.settings.setDisableCustomPlaybackForIOS10Plus(this.config.setDisableCustomPlaybackForIOS10Plus):this._sdk.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playback.playsinline)}},{key:"_initAdsContainer",value:function(){var e=this;this.logger.debug("Init ads container");var t=this.player.getView();this._adsContainerDiv=h.Utils.Dom.createElement("div"),this._adsContainerDiv.id="playkit-ads-container"+t.id,this._adsContainerDiv.className="playkit-ads-container",this._adsCoverDiv=h.Utils.Dom.createElement("div"),this._adsCoverDiv.id="playkit-ads-cover"+t.id,this._adsCoverDiv.className="playkit-ads-cover",this._adsCoverDiv.onclick=function(){return e._onAdsCoverClicked()},h.Utils.Dom.appendChild(t,this._adsContainerDiv),this._adDisplayContainer=new this._sdk.AdDisplayContainer(this._adsContainerDiv,this.player.getVideoElement())}},{key:"_initAdsLoader",value:function(){var e=this;this.logger.debug("Init ads loader"),this._adsLoader=new this._sdk.AdsLoader(this._adDisplayContainer),this._adsLoader.addEventListener(this._sdk.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(t){return e._onAdsManagerLoaded(t)}),this._adsLoader.addEventListener(this._sdk.AdErrorEvent.Type.AD_ERROR,function(t){return e._stateMachine.aderror(t)})}},{key:"_requestAds",value:function(){var e=this;if(this.config.adTagUrl||this.config.adsResponse){this.logger.debug("Request ads");var t=new this._sdk.AdsRequest;this.config.adTagUrl?t.adTagUrl=this.config.adTagUrl:t.adsResponse=this.config.adsResponse,t.linearAdSlotWidth=this.player.dimensions.width,t.linearAdSlotHeight=this.player.dimensions.height,t.nonLinearAdSlotWidth=this.player.dimensions.width,t.nonLinearAdSlotHeight=this.player.dimensions.height/3;var n=this.player.muted||0===this.player.volume;t.setAdWillPlayMuted(n);var i=this.config.adWillAutoPlay,r=this.player.config.playback.autoplay,a=this.player.config.playback.allowMutedAutoPlay;"boolean"==typeof i?(t.setAdWillAutoPlay(i),this._adsLoader.requestAds(t)):r?(0,h.getCapabilities)(h.EngineType.HTML5).then(function(n){n.autoplay?t.setAdWillAutoPlay(!0):a&&n.mutedAutoPlay?(t.setAdWillAutoPlay(!0),t.setAdWillPlayMuted(!0)):t.setAdWillAutoPlay(!1),e._adsLoader.requestAds(t)}):(t.setAdWillAutoPlay(!1),this._adsLoader.requestAds(t))}else this.logger.warn("Missing ad tag url: create plugin without requesting ads")}},{key:"_resizeAd",value:function(){if(this._sdk&&this._adsManager){var e=this.player.isFullscreen()?this._sdk.ViewMode.FULLSCREEN:this._sdk.ViewMode.NORMAL;this._adsManager.resize(this.player.dimensions.width,this.player.dimensions.height,e)}}},{key:"_onLoadedMetadata",value:function(){this._contentPlayheadTracker.duration=this.player.duration}},{key:"_onMediaTimeUpdate",value:function(){this._contentPlayheadTracker.seeking||(this._contentPlayheadTracker.previousTime=this._contentPlayheadTracker.currentTime,this._contentPlayheadTracker.currentTime=this.player.currentTime)}},{key:"_setContentPlayheadTrackerEventsEnabled",value:function(e){var t=this;e?(this.eventManager.listen(this.player,this.player.Event.LOADED_METADATA,function(){return t._onLoadedMetadata()}),this.eventManager.listen(this.player,this.player.Event.TIME_UPDATE,function(){return t._onMediaTimeUpdate()}),this.eventManager.listen(this.player,this.player.Event.SEEKING,function(){return t._onMediaSeeking()}),this.eventManager.listen(this.player,this.player.Event.SEEKED,function(){return t._onMediaSeeked()})):(this.eventManager.unlisten(this.player,this.player.Event.LOADED_METADATA),this.eventManager.unlisten(this.player,this.player.Event.TIME_UPDATE),this.eventManager.unlisten(this.player,this.player.Event.SEEKING),this.eventManager.unlisten(this.player,this.player.Event.SEEKED))}},{key:"_onMediaSeeking",value:function(){this._contentPlayheadTracker.seeking=!0}},{key:"_onMediaSeeked",value:function(){this._contentPlayheadTracker.seeking=!1}},{key:"_setVideoEndedCallbackEnabled",value:function(e){var t=this;e?this.eventManager.listen(this.player,this.player.Event.ENDED,function(){return t._onMediaEnded()}):this.eventManager.unlisten(this.player,this.player.Event.ENDED)}},{key:"_maybeSaveVideoCurrentTime",value:function(){this._adsManager.isCustomPlaybackUsed()&&this.player.currentTime&&this.player.currentTime>0&&(this.logger.debug("Custom playback used: save current time before ads",this.player.currentTime),this._videoLastCurrentTime=this.player.currentTime)}},{key:"_maybeSetVideoCurrentTime",value:function(){this._videoLastCurrentTime&&(this.logger.debug("Custom playback used: set current time after ads",this._videoLastCurrentTime),this.player.currentTime=this._videoLastCurrentTime,this._videoLastCurrentTime=null)}},{key:"_onMediaEnded",value:function(){this.logger.debug("Media ended"),this._adsLoader.contentComplete(),this._contentComplete=!0,this._currentAd.isLinear()||this.destroy()}},{key:"_showAdsContainer",value:function(){this._adsContainerDiv&&(this._adsContainerDiv.style.display="")}},{key:"_hideAdsContainer",value:function(){this._adsContainerDiv&&(this._adsContainerDiv.style.display="none")}},{key:"_onAdsManagerLoaded",value:function(e){this.logger.debug("Ads manager loaded");var t=this._getAdsRenderingSetting();this._adsManager=e.getAdsManager(this._contentPlayheadTracker,t),this._isAdsManagerLoaded=!0,this._attachAdsManagerListeners(),this._syncPlayerVolume(),this._hasUserAction&&(this.logger.debug("User action occurred before ads manager loaded"),this._startAdsManager())}},{key:"_getAdsRenderingSetting",value:function(){var e=this,t=new this._sdk.AdsRenderingSettings;return Object.keys(this.config.adsRenderingSettings).forEach(function(n){void 0!==t[n]?t[n]=e.config.adsRenderingSettings[n]:e.logger.warn("unsupported adsRenderingSettings was set:",n)}),this.config.disableMediaPreload&&(t.restoreCustomPlaybackStateOnAdBreakComplete=!1),t}},{key:"_attachAdsManagerListeners",value:function(){var e=this;this._adsManager.addEventListener(this._sdk.AdEvent.Type.CONTENT_PAUSE_REQUESTED,function(t){return e._stateMachine.adbreakstart(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.LOADED,function(t){return e._stateMachine.adloaded(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.STARTED,function(t){return e._stateMachine.adstarted(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.PAUSED,function(t){return e._stateMachine.adpaused(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.RESUMED,function(t){return e._stateMachine.adresumed(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.FIRST_QUARTILE,function(t){return e._stateMachine.adfirstquartile(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.MIDPOINT,function(t){return e._stateMachine.admidpoint(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.THIRD_QUARTILE,function(t){return e._stateMachine.adthirdquartile(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.CLICK,function(t){return e._stateMachine.adclicked(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.SKIPPED,function(t){return e._stateMachine.adskipped(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.COMPLETE,function(t){return e._stateMachine.adcompleted(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.CONTENT_RESUME_REQUESTED,function(t){return e._stateMachine.adbreakend(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.ALL_ADS_COMPLETED,function(t){return e._stateMachine.alladscompleted(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.USER_CLOSE,function(t){return e._stateMachine.userclosedad(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.VOLUME_CHANGED,function(t){return e._stateMachine.advolumechanged(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.VOLUME_MUTED,function(t){return e._stateMachine.admuted(t)}),this._adsManager.addEventListener(this._sdk.AdEvent.Type.LOG,function(t){return e._stateMachine.aderror(t)}),this._adsManager.addEventListener(this._sdk.AdErrorEvent.Type.AD_ERROR,function(t){return e._stateMachine.aderror(t)})}},{key:"_syncPlayerVolume",value:function(){this._adsManager&&(this.player.muted?this._adsManager.setVolume(0):this._adsManager&&"number"==typeof this.player.volume&&this.player.volume!==this._adsManager.getVolume()&&this._adsManager.setVolume(this.player.volume))}},{key:"_startAdInterval",value:function(){var e=this;this._stopAdInterval(),this._intervalTimer=setInterval(function(){if(e._stateMachine.is(p.default.PLAYING)){var t=e._adsManager.getRemainingTime(),n=e._adsManager.getCurrentAd().getDuration(),i=n-t;h.Utils.Number.isNumber(n)&&h.Utils.Number.isNumber(i)&&e.dispatchEvent(e.player.Event.AD_PROGRESS,{adProgress:{currentTime:i,duration:n}})}},300)}},{key:"_stopAdInterval",value:function(){this._intervalTimer&&(clearInterval(this._intervalTimer),this._intervalTimer=null)}},{key:"_resolveNextPromise",value:function(){this._nextPromise&&(this._nextPromise.resolve(),this._nextPromise=null)}},{key:"_setToggleAdsCover",value:function(e){e?this._adsManager.isCustomPlaybackUsed()||(this._adsContainerDiv.appendChild(this._adsCoverDiv),this._isAdsCoverActive=!0):this._isAdsCoverActive&&(this._adsContainerDiv.removeChild(this._adsCoverDiv),this._isAdsCoverActive=!1)}},{key:"_setTogglePlayPauseOnAdsContainerEnabled",value:function(e){this._adsContainerDiv&&this._togglePlayPauseOnAdsContainerCallback&&(e?this._adsContainerDiv.addEventListener("click",this._togglePlayPauseOnAdsContainerCallback):this._adsContainerDiv.removeEventListener("click",this._togglePlayPauseOnAdsContainerCallback))}},{key:"_onAdsContainerClicked",value:function(){this.player.paused?this.player.play():this.player.pause()}},{key:"_onAdsCoverClicked",value:function(){if(this._adsManager)switch(this._stateMachine.state){case p.default.PAUSED:this._adsManager.resume();break;case p.default.PLAYING:this._adsManager.pause()}}},{key:"_maybeDisplayCompanionAds",value:function(){if(this.config.companions&&this.config.companions.ads&&!window.googletag){var e=new this._sdk.CompanionAdSelectionSettings;e.resourceType=this._sdk.CompanionAdSelectionSettings.ResourceType.ALL,e.creativeType=this._sdk.CompanionAdSelectionSettings.CreativeType.ALL;var t=this.config.companions.sizeCriteria;e.sizeCriteria=this._sdk.CompanionAdSelectionSettings.SizeCriteria[t]||this._sdk.CompanionAdSelectionSettings.SizeCriteria.SELECT_EXACT_MATCH;for(var n=Object.keys(this.config.companions.ads),i=0;i<n.length;i++){var r=n[i],a=this.config.companions.ads[r],o=a.width,s=a.height,u=this._currentAd.getCompanionAds(o,s,e);if(u.length>0){var l=u[0],c=l.getContent(),f=h.Utils.Dom.getElementById(r);f&&(f.innerHTML=c)}}}}},{key:"_maybeIgnoreClickOnAd",value:function(){var e=this;(function(){return"Android"===e.player.env.os.name})()&&function(){return"Chrome"===e.player.env.browser.name}()&&this.eventManager.listenOnce(this.player.getView(),"click",function(e){return e.stopPropagation()})}},{key:"_maybeForceExitFullScreen",value:function(){var e=this;(function(){return"iOS"===e.player.env.os.name})()&&!this._adsManager.isCustomPlaybackUsed()&&this.player.isFullscreen()&&this.player.exitFullscreen()}}]),t}(h.BasePlugin);g.defaultConfig={debug:!1,disableMediaPreload:!1,adsRenderingSettings:{restoreCustomPlaybackStateOnAdBreakComplete:!0,enablePreloading:!1,useStyledLinearAds:!1,useStyledNonLinearAds:!0,bitrate:-1,autoAlign:!0},companions:{ads:null,sizeCriteria:"SELECT_EXACT_MATCH"}},g.IMA_SDK_LIB_URL="//imasdk.googleapis.com/js/sdkloader/ima3.js",g.IMA_SDK_DEBUG_LIB_URL="//imasdk.googleapis.com/js/sdkloader/ima3_debug.js",t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var i=n(0),r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default,t.VERSION="0.5.1",t.NAME="playkit-js-ima",(0,i.registerPlugin)("ima",a.default)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),l=n(2),c=(i(l),n(1)),f=i(c),d=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.id="ImaMiddleware",n._context=e,e.player.addEventListener(e.player.Event.CHANGE_SOURCE_STARTED,function(){return n._isPlayerLoaded=!1}),n}return o(t,e),s(t,[{key:"play",value:function(e){var t=this;this._isPlayerLoaded||this._context.config.disableMediaPreload||this._loadPlayer(),this._context.loadPromise.then(function(){switch(t._context.getStateMachine().state){case f.default.PLAYING:break;case f.default.LOADED:var n=t._context.initialUserAction();if(n)return n.then(function(){t.callNext(e)});t.callNext(e);break;case f.default.PAUSED:var i=t._context.resumeAd();if(i)return i.then(function(){t.callNext(e)});t.callNext(e);break;default:t.callNext(e)}}).catch(function(n){t._context.destroy(),t._context.logger.error(n),t.callNext(e)})}},{key:"pause",value:function(e){switch(this._context.getStateMachine().state){case f.default.PAUSED:break;case f.default.PLAYING:this._context.pauseAd();break;default:this.callNext(e)}}},{key:"_loadPlayer",value:function(){var e=this,t=function(){e._context.logger.debug("Load player by ima middleware"),e._context.player.load(),e._isPlayerLoaded=!0};this._context.player.engineType?t():this._context.player.addEventListener(this._context.player.Event.SOURCE_SELECTED,function(){return t()})}}]),t}(u.BaseMiddleware);t.default=d},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){this.logger.debug(t.type.toUpperCase()),this._adsManager.isCustomPlaybackUsed()&&this.player.hideTextTrack(),this.dispatchEvent(e.transition,m(t))}function o(e,t){this.logger.debug(t.type.toUpperCase()),this._currentAd=t.getAd(),this._resizeAd(),this._showAdsContainer(),this._maybeDisplayCompanionAds(),this._currentAd.isLinear()?(this._setContentPlayheadTrackerEventsEnabled(!1),this._startAdInterval()):(this._setContentPlayheadTrackerEventsEnabled(!0),this._setVideoEndedCallbackEnabled(!0),this._togglePlayPauseOnAdsContainerCallback=this._onAdsContainerClicked.bind(this),this._setTogglePlayPauseOnAdsContainerEnabled(!0),this._nextPromise?this._resolveNextPromise():this.player.play()),this.dispatchEvent(e.transition)}function s(e,t){this.logger.debug(t.type.toUpperCase()),this._currentAd.isLinear()?(this._maybeIgnoreClickOnAd(),this._stateMachine.is(w.default.PLAYING)&&this._adsManager.pause(),this._setToggleAdsCover(!0)):this.player.paused||this.player.pause(),this.dispatchEvent(e.transition)}function u(e,t){this.logger.debug(t.type.toUpperCase()),this._setToggleAdsCover(!1),this.dispatchEvent(e.transition)}function l(e,t){this.logger.debug(t.type.toUpperCase()),this._currentAd.isLinear()&&this._stopAdInterval(),this._currentAd=null,this.dispatchEvent(e.transition)}function c(e,t){this.logger.debug(t.type.toUpperCase()),d.call(this,e,t),this._adsManager.isCustomPlaybackUsed()&&this._contentComplete&&(this.player.getVideoElement().src=this._contentSrc),this.destroy()}function f(e,t){this.logger.debug(t.type.toUpperCase()),this.player.pause(),this._setVideoEndedCallbackEnabled(!1),this._maybeForceExitFullScreen(),this._maybeSaveVideoCurrentTime(),this.dispatchEvent(e.transition)}function d(e,t){this.logger.debug(t.type.toUpperCase()),this._setVideoEndedCallbackEnabled(!0),this._setContentPlayheadTrackerEventsEnabled(!0),this._contentComplete||(this._hideAdsContainer(),this._maybeSetVideoCurrentTime(),this._nextPromise?this._resolveNextPromise():this.player.play()),this.dispatchEvent(e.transition)}function p(e,t){if("adError"===t.type){this.logger.debug(t.type.toUpperCase());var n=t.getError();this.loadPromise&&this.loadPromise.reject(n),this._nextPromise&&this._nextPromise.reject(n),this.dispatchEvent(e.transition,v(n,!0))}else{this.logger.debug(t.type.toUpperCase());var i=t.getAdData(),r=i.adError;i.adError&&(this.logger.error("Non-fatal error occurred: "+r.getMessage()),this.dispatchEvent(this.player.Event.AD_ERROR,v(r,!1)))}}function h(e,t){this.logger.debug(t.type.toUpperCase()),this._stopAdInterval(),this.dispatchEvent(e.transition)}function y(e,t){this.logger.debug(t.type.toUpperCase()),this.dispatchEvent(e.transition)}function g(e){e.from!==e.to&&this.logger.debug("Change state: "+e.from+" => "+e.to)}function v(e,t){return{fatal:t,error:{code:e.getErrorCode(),message:e.getMessage()}}}function m(e){return{ad:e.getAd(),adType:b(e),extraAdData:e.getAdData()}}function b(e){var t=e.getAd(),n=t.getAdPodInfo(),i=n.getPodIndex();if(!t.isLinear())return P.default.OVERLAY;switch(i){case 0:return P.default.PRE_ROLL;case-1:return P.default.POST_ROLL;default:return P.default.MID_ROLL}}Object.defineProperty(t,"__esModule",{value:!0});var _=n(6),E=i(_),A=n(7),k=i(A),T=n(1),w=i(T),S=n(8),P=i(S),O=function e(t){return r(this,e),new E.default({init:w.default.LOADING,transitions:[{name:"loaded",from:[w.default.LOADING,w.default.LOADED,w.default.IDLE,w.default.PAUSED,w.default.PLAYING,w.default.DONE],to:w.default.LOADED},{name:t.player.Event.AD_STARTED,from:[w.default.LOADED,w.default.IDLE,w.default.PAUSED],to:function(e){return e.getAd().isLinear()?w.default.PLAYING:w.default.IDLE}},{name:t.player.Event.AD_RESUMED,from:w.default.PAUSED,to:w.default.PLAYING},{name:t.player.Event.AD_PAUSED,from:w.default.PLAYING,to:w.default.PAUSED},{name:t.player.Event.AD_SKIPPED,from:[w.default.PLAYING,w.default.PAUSED],to:w.default.IDLE},{name:t.player.Event.AD_COMPLETED,from:w.default.PLAYING,to:w.default.IDLE},{name:t.player.Event.ALL_ADS_COMPLETED,from:w.default.IDLE,to:w.default.DONE},{name:t.player.Event.AD_BREAK_END,from:[w.default.IDLE,w.default.LOADED],to:w.default.IDLE},{name:t.player.Event.AD_ERROR,from:[w.default.IDLE,w.default.LOADED,w.default.PLAYING,w.default.PAUSED,w.default.LOADING],to:w.default.IDLE},{name:t.player.Event.AD_LOADED,from:[w.default.IDLE,w.default.LOADED]},{name:t.player.Event.AD_FIRST_QUARTILE,from:w.default.PLAYING},{name:t.player.Event.AD_BREAK_START,from:[w.default.IDLE,w.default.LOADED]},{name:t.player.Event.AD_MIDPOINT,from:w.default.PLAYING},{name:t.player.Event.AD_THIRD_QUARTILE,from:w.default.PLAYING},{name:t.player.Event.USER_CLOSED_AD,from:[w.default.IDLE,w.default.PLAYING,w.default.PAUSED]},{name:t.player.Event.AD_VOLUME_CHANGED,from:[w.default.PLAYING,w.default.PAUSED,w.default.LOADED]},{name:t.player.Event.AD_MUTED,from:[w.default.PLAYING,w.default.PAUSED,w.default.LOADED]},{name:t.player.Event.AD_CLICKED,from:[w.default.PLAYING,w.default.PAUSED,w.default.IDLE]},{name:"goto",from:"*",to:function(e){return e}}],methods:{onAdloaded:a.bind(t),onAdstarted:o.bind(t),onAdpaused:y.bind(t),onAdresumed:u.bind(t),onAdclicked:s.bind(t),onAdskipped:h.bind(t),onAdcompleted:l.bind(t),onAlladscompleted:c.bind(t),onAdbreakstart:f.bind(t),onAdbreakend:d.bind(t),onAdfirstquartile:y.bind(t),onAdmidpoint:y.bind(t),onAdthirdquartile:y.bind(t),onAderror:p.bind(t),onUserclosedad:y.bind(t),onAdvolumechanged:y.bind(t),onAdmuted:y.bind(t),onEnterState:g.bind(t)},plugins:[new k.default]})};t.default=O},function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r;for(n=1;n<arguments.length;n++){i=arguments[n];for(r in i)i.hasOwnProperty(r)&&(e[r]=i[r])}return e}},function(e,t,n){"use strict";var i=n(0);e.exports={build:function(e,t){var n,r,a,o=t.plugins;for(n=0,r=o.length;n<r;n++)a=o[n],a.methods&&i(e,a.methods),a.properties&&Object.defineProperties(e,a.properties)},hook:function(e,t,n){var i,r,a,o,s=e.config.plugins,u=[e.context];for(n&&(u=u.concat(n)),i=0,r=s.length;i<r;i++)o=s[i],(a=s[i][t])&&a.apply(o,u)}}},function(e,t,n){"use strict";function i(e){if(0===e.length)return e;var t,n,i=e.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return e;for(n=i[0].toLowerCase(),t=1;t<i.length;t++)n=n+i[t].charAt(0).toUpperCase()+i[t].substring(1).toLowerCase();return n}i.prepended=function(e,t){return t=i(t),e+t[0].toUpperCase()+t.substring(1)},e.exports=i},function(e,t,n){"use strict";function i(e,t){e=e||{},this.options=e,this.defaults=t.defaults,this.states=[],this.transitions=[],this.map={},this.lifecycle=this.configureLifecycle(),this.init=this.configureInitTransition(e.init),this.data=this.configureData(e.data),this.methods=this.configureMethods(e.methods),this.map[this.defaults.wildcard]={},this.configureTransitions(e.transitions||[]),this.plugins=this.configurePlugins(e.plugins,t.plugin)}var r=n(0),a=n(2);r(i.prototype,{addState:function(e){this.map[e]||(this.states.push(e),this.addStateLifecycleNames(e),this.map[e]={})},addStateLifecycleNames:function(e){this.lifecycle.onEnter[e]=a.prepended("onEnter",e),this.lifecycle.onLeave[e]=a.prepended("onLeave",e),this.lifecycle.on[e]=a.prepended("on",e)},addTransition:function(e){this.transitions.indexOf(e)<0&&(this.transitions.push(e),this.addTransitionLifecycleNames(e))},addTransitionLifecycleNames:function(e){this.lifecycle.onBefore[e]=a.prepended("onBefore",e),this.lifecycle.onAfter[e]=a.prepended("onAfter",e),this.lifecycle.on[e]=a.prepended("on",e)},mapTransition:function(e){var t=e.name,n=e.from,i=e.to;return this.addState(n),"function"!=typeof i&&this.addState(i),this.addTransition(t),this.map[n][t]=e,e},configureLifecycle:function(){return{onBefore:{transition:"onBeforeTransition"},onAfter:{transition:"onAfterTransition"},onEnter:{state:"onEnterState"},onLeave:{state:"onLeaveState"},on:{transition:"onTransition"}}},configureInitTransition:function(e){return"string"==typeof e?this.mapTransition(r({},this.defaults.init,{to:e,active:!0})):"object"==typeof e?this.mapTransition(r({},this.defaults.init,e,{active:!0})):(this.addState(this.defaults.init.from),this.defaults.init)},configureData:function(e){return"function"==typeof e?e:"object"==typeof e?function(){return e}:function(){return{}}},configureMethods:function(e){return e||{}},configurePlugins:function(e,t){e=e||[];var n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],"function"==typeof r&&(e[n]=r=r()),r.configure&&r.configure(this);return e},configureTransitions:function(e){var t,n,i,r,a,o=this.defaults.wildcard;for(n=0;n<e.length;n++)for(i=e[n],r=Array.isArray(i.from)?i.from:[i.from||o],a=i.to||o,t=0;t<r.length;t++)this.mapTransition({name:i.name,from:r[t],to:a})},transitionFor:function(e,t){var n=this.defaults.wildcard;return this.map[e][t]||this.map[n][t]},transitionsFor:function(e){var t=this.defaults.wildcard;return Object.keys(this.map[e]).concat(Object.keys(this.map[t]))},allStates:function(){return this.states},allTransitions:function(){return this.transitions}}),e.exports=i},function(e,t,n){function i(e,t){this.context=e,this.config=t,this.state=t.init.from,this.observers=[e]}var r=n(0),a=n(6),o=n(1),s=[null,[]];r(i.prototype,{init:function(e){if(r(this.context,this.config.data.apply(this.context,e)),o.hook(this,"init"),this.config.init.active)return this.fire(this.config.init.name,[])},is:function(e){return Array.isArray(e)?e.indexOf(this.state)>=0:this.state===e},isPending:function(){return this.pending},can:function(e){return!this.isPending()&&!!this.seek(e)},cannot:function(e){return!this.can(e)},allStates:function(){return this.config.allStates()},allTransitions:function(){return this.config.allTransitions()},transitions:function(){return this.config.transitionsFor(this.state)},seek:function(e,t){var n=this.config.defaults.wildcard,i=this.config.transitionFor(this.state,e),r=i&&i.to;return"function"==typeof r?r.apply(this.context,t):r===n?this.state:r},fire:function(e,t){return this.transit(e,this.state,this.seek(e,t),t)},transit:function(e,t,n,i){var r=this.config.lifecycle,a=this.config.options.observeUnchangedState||t!==n;return n?this.isPending()?this.context.onPendingTransition(e,t,n):(this.config.addState(n),this.beginTransit(),i.unshift({transition:e,from:t,to:n,fsm:this.context}),this.observeEvents([this.observersForEvent(r.onBefore.transition),this.observersForEvent(r.onBefore[e]),a?this.observersForEvent(r.onLeave.state):s,a?this.observersForEvent(r.onLeave[t]):s,this.observersForEvent(r.on.transition),a?["doTransit",[this]]:s,a?this.observersForEvent(r.onEnter.state):s,a?this.observersForEvent(r.onEnter[n]):s,a?this.observersForEvent(r.on[n]):s,this.observersForEvent(r.onAfter.transition),this.observersForEvent(r.onAfter[e]),this.observersForEvent(r.on[e])],i)):this.context.onInvalidTransition(e,t,n)},beginTransit:function(){this.pending=!0},endTransit:function(e){return this.pending=!1,e},failTransit:function(e){throw this.pending=!1,e},doTransit:function(e){this.state=e.to},observe:function(e){if(2===e.length){var t={};t[e[0]]=e[1],this.observers.push(t)}else this.observers.push(e[0])},observersForEvent:function(e){for(var t,n=0,i=this.observers.length,r=[];n<i;n++)t=this.observers[n],t[e]&&r.push(t);return[e,r,!0]},observeEvents:function(e,t,n,i){if(0===e.length)return this.endTransit(void 0===i||i);var r=e[0][0],a=e[0][1],s=e[0][2];if(t[0].event=r,r&&s&&r!==n&&o.hook(this,"lifecycle",t),0===a.length)return e.shift(),this.observeEvents(e,t,r,i);var u=a.shift(),l=u[r].apply(u,t);return l&&"function"==typeof l.then?l.then(this.observeEvents.bind(this,e,t,r)).catch(this.failTransit.bind(this)):!1===l?this.endTransit(!1):this.observeEvents(e,t,r,l)},onInvalidTransition:function(e,t,n){throw new a("transition is invalid in current state",e,t,n,this.state)},onPendingTransition:function(e,t,n){throw new a("transition is invalid while previous transition is still in progress",e,t,n,this.state)}}),e.exports=i},function(e,t,n){"use strict";function i(e){return a(this||{},e)}function r(){var e,t;"function"==typeof arguments[0]?(e=arguments[0],t=arguments[1]||{}):(e=function(){this._fsm.apply(this,arguments)},t=arguments[0]||{});var n=new c(t,i);return o(e.prototype,n),e.prototype._fsm.config=n,e}function a(e,t){return o(e,new c(t,i)),e._fsm(),e}function o(e,t){if("object"!=typeof e||Array.isArray(e))throw Error("StateMachine can only be applied to objects");l.build(e,t),Object.defineProperties(e,p),s(e,d),s(e,t.methods),t.allTransitions().forEach(function(t){e[u(t)]=function(){return this._fsm.fire(t,[].slice.call(arguments))}}),e._fsm=function(){this._fsm=new f(this,t),this._fsm.init(arguments)}}var s=n(0),u=n(2),l=n(1),c=n(3),f=n(4),d={is:function(e){return this._fsm.is(e)},can:function(e){return this._fsm.can(e)},cannot:function(e){return this._fsm.cannot(e)},observe:function(){return this._fsm.observe(arguments)},transitions:function(){return this._fsm.transitions()},allTransitions:function(){return this._fsm.allTransitions()},allStates:function(){return this._fsm.allStates()},onInvalidTransition:function(e,t,n){return this._fsm.onInvalidTransition(e,t,n)},onPendingTransition:function(e,t,n){return this._fsm.onPendingTransition(e,t,n)}},p={state:{configurable:!1,enumerable:!0,get:function(){return this._fsm.state},set:function(e){throw Error("use transitions to change state")}}};i.version="3.0.1",i.factory=r,i.apply=a,i.defaults={wildcard:"*",init:{name:"init",from:"none"}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){this.message=e,this.transition=t,this.from=n,this.to=i,this.current=r}}])}()}()},function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,n){"use strict";function i(e){if(0===e.length)return e;var t,n,i=e.split(/[_-]/);if(1===i.length&&i[0][0].toLowerCase()===i[0][0])return e;for(n=i[0].toLowerCase(),t=1;t<i.length;t++)n=n+i[t].charAt(0).toUpperCase()+i[t].substring(1).toLowerCase();return n}i.prepended=function(e,t){return t=i(t),e+t[0].toUpperCase()+t.substring(1)},e.exports=i},function(e,t,n){"use strict";var i=n(0);e.exports=function(e){e=e||{};var t=i(e.name||e.past||"history"),n=i(e.future||"future"),r=i.prepended("clear",t),a=i.prepended(t,"back"),o=i.prepended(t,"forward"),s=i.prepended("can",a),u=i.prepended("can",o),l=e.max,c={configure:function(e){e.addTransitionLifecycleNames(a),e.addTransitionLifecycleNames(o)},init:function(e){e[t]=[],e[n]=[]},lifecycle:function(e,i){"onEnterState"===i.event&&(e[t].push(i.to),l&&e[t].length>l&&e[t].shift(),i.transition!==a&&i.transition!==o&&(e[n].length=0))},methods:{},properties:{}};return c.methods[r]=function(){this[t].length=0,this[n].length=0},c.properties[s]={get:function(){return this[t].length>1}},c.properties[u]={get:function(){return this[n].length>0}},c.methods[a]=function(){if(!this[s])throw Error("no history");var e=this[t].pop(),i=this[t].pop();this[n].push(e),this._fsm.transit(a,e,i,[])},c.methods[o]=function(){if(!this[u])throw Error("no history");var e=this.state,t=this[n].pop();this._fsm.transit(o,e,t,[])},c}}])}()}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={PRE_ROLL:"preroll",MID_ROLL:"midroll",POST_ROLL:"postroll",OVERLAY:"overlay"};t.default=i},function(e,t,n){var i=n(10);"string"==typeof i&&(i=[[e.i,i,""]]);var r={};r.transform=void 0,n(12)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(11)(void 0),t.push([e.i,".playkit-ads-cover {\n  position: fixed;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0);\n}\n\n.playkit-ads-container {\n  position: absolute;\n  top: 0;\n}\n",""])},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=i(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(c(i.parts[a],t))}else{for(var o=[],a=0;a<i.parts.length;a++)o.push(c(i.parts[a],t));h[i.id]={id:i.id,refs:1,parts:o}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s=a[1],u=a[2],l=a[3],c={css:s,media:u,sourceMap:l};i[o]?i[o].parts.push(c):n.push(i[o]={id:o,parts:[c]})}return n}function a(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var l=m++;n=v||(v=s(t)),i=f.bind(null,n,l,!1),r=f.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=p.bind(null,n,t),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=d.bind(null,n),r=function(){o(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function f(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var i=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(i=_(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,m=0,b=[],_=n(13);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],u=h[s.id];u.refs--,a.push(u)}e&&i(r(e,t),t);for(var o=0;o<a.length;o++){var u=a[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var a;return a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}}])})},function(e,t,n){!function(t,i){e.exports=i(n(10))}(0,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var i=n(0),r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default,t.VERSION="0.8.2",t.NAME="playkit-js-kanalytics",(0,i.registerPlugin)("kanalytics",a.default)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(0),l=n(3),c=n(4),f=i(c),d=n(5),p=i(d),h=function(e){function t(e,n,i){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o._lastSeekEvent=0,o._hasSeeked=!1,o._ended=!1,o._ks="",o._timePercentEvent={},o._widgetLoadedEventSent=!1,o._registerListeners(),o}return o(t,e),s(t,null,[{key:"isValid",value:function(){return!0}}]),s(t,[{key:"reset",value:function(){this._hasSeeked=!1,this._ended=!1,this._ks="",this._timePercentEvent={}}},{key:"destroy",value:function(){this.eventManager.destroy()}},{key:"_registerListeners",value:function(){var e=this.player.Event;this.eventManager.listen(this.player,e.SOURCE_SELECTED,this._onSourceSelected.bind(this)),this.eventManager.listen(this.player,e.FIRST_PLAY,this._sendAnalytics.bind(this,f.default.PLAY)),this.eventManager.listen(this.player,e.PLAY,this._onPlay.bind(this)),this.eventManager.listen(this.player,e.ENDED,this._onEnded.bind(this)),this.eventManager.listen(this.player,e.SEEKED,this._sendSeekAnalytic.bind(this)),this.eventManager.listen(this.player,e.TIME_UPDATE,this._sendTimePercentAnalytic.bind(this)),this.eventManager.listen(this.player,e.PLAYER_STATE_CHANGED,this._onPlayerStateChanged.bind(this))}},{key:"_onSourceSelected",value:function(){var e=this;this._widgetLoadedEventSent||(this._sendAnalytics(f.default.WIDGET_LOADED),this._widgetLoadedEventSent=!0),this.player.ready().then(function(){e._sendAnalytics(f.default.MEDIA_LOADED)})}},{key:"_onPlay",value:function(){this._ended&&(this._ended=!1,this._sendAnalytics(f.default.REPLAY))}},{key:"_onEnded",value:function(){this._ended=!0}},{key:"_onPlayerStateChanged",value:function(e){e.payload.newState.type===this.player.State.BUFFERING&&this._sendAnalytics(f.default.BUFFER_START),e.payload.oldState.type===this.player.State.BUFFERING&&this._sendAnalytics(f.default.BUFFER_END)}},{key:"_sendSeekAnalytic",value:function(){var e=(new Date).getTime();this._lastSeekEvent+2e3<e&&("Live"!==this.player.config.type||this.player.config.dvr)&&(this._sendAnalytics(f.default.SEEK),this._hasSeeked=!0),this._lastSeekEvent=e}},{key:"_sendTimePercentAnalytic",value:function(){if("Live"!==this.player.config.type){var e=this.player.currentTime/this.player.duration;!this._timePercentEvent.PLAY_REACHED_25&&e>=.25&&(this._timePercentEvent.PLAY_REACHED_25=!0,this._sendAnalytics(f.default.PLAY_REACHED_25)),!this._timePercentEvent.PLAY_REACHED_50&&e>=.5&&(this._timePercentEvent.PLAY_REACHED_50=!0,this._sendAnalytics(f.default.PLAY_REACHED_50)),!this._timePercentEvent.PLAY_REACHED_75&&e>=.75&&(this._timePercentEvent.PLAY_REACHED_75=!0,this._sendAnalytics(f.default.PLAY_REACHED_75)),!this._timePercentEvent.PLAY_REACHED_100&&e>=.98&&(this._timePercentEvent.PLAY_REACHED_100=!0,this._sendAnalytics(f.default.PLAY_REACHED_100))}}},{key:"_sendAnalytics",value:function(e){var t=this,n=new p.default(e);n.currentPoint=this.player.currentTime,n.duration=this.player.duration,n.seek=this._hasSeeked,n.hasKanalony=this.config.hasKanalony,Object.assign(n,this._playerParams),l.OVPStatsService.collect(this.config.serviceUrl,this._ks,this.config.playerVersion,{event:n}).doHttpRequest().then(function(){t.logger.debug("Analytics event sent ",n)},function(e){t.logger.error("Failed to send analytics event ",n,e)})}},{key:"_playerParams",get:function(){return this._ks=this.config.ks,{clientVer:this.config.playerVersion,entryId:this.config.entryId,sessionId:this.config.sessionId,uiConfId:this.config.uiConfId||0,partnerId:this.config.partnerId,widgetId:this.config.partnerId?"_"+this.config.partnerId:"",referrer:document.referrer||document.URL}}}]),t}(u.BasePlugin);h.defaultConfig={serviceUrl:"//stats.kaltura.com/api_v3/index.php",hasKanalony:!1},t.default=h},function(e,t,n){!function(t,n){e.exports=function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=13)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;i(this,e),this.headers=t}return a(e,[{key:"getUrl",value:function(e){return e+"/service/"+this.service+(this.action?"/action/"+this.action:"")}},{key:"doHttpRequest",value:function(){var e=this;if(!this.url)throw new Error("serviceUrl is mandatory for request builder");var t=new XMLHttpRequest;return new Promise(function(n,i){t.onreadystatechange=function(){if(4===t.readyState)if(200===t.status){var e=JSON.parse(t.responseText);e&&"object"===(void 0===e?"undefined":r(e))&&e.code&&e.message?i(e):n(e)}else i(t.responseText)},t.open(e.method,e.url),e.headers.forEach(function(e,n){t.setRequestHeader(n,e)}),t.send(e.params)})}}]),e}();t.default=o},,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.OVPConfiguration=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(5),o={serviceUrl:"//www.kaltura.com/api_v3",cdnUrl:"//cdnapisec.kaltura.com",serviceParams:{apiVersion:"3.3.0",format:1}},s=function(){function e(){i(this,e)}return r(e,null,[{key:"set",value:function(e){e&&Object.assign(o,e)}},{key:"get",value:function(){return(0,a.clone)(o)}}]),e}();t.default=s,t.OVPConfiguration=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.hasError=!1,"KalturaAPIException"===t.objectType?(this.hasError=!0,this.error=new a(t.code,t.message)):this.data=t};t.default=r;var a=function e(t,n){i(this,e),this.code=t,this.message=n}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MultiRequestResult=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(0),c=i(l),f=n(6),d=i(f),p=n(3),h=i(p),y=function(e){function t(){var e,n,i,r;a(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=i=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.requests=[],r=n,o(i,r)}return s(t,e),u(t,[{key:"add",value:function(e){this.requests.push(e);var t={},n={service:e.service,action:e.action};return Object.assign(t,r({},this.requests.length,Object.assign(n,e.params))),Object.assign(t,this.params),this.params=t,this}},{key:"execute",value:function(){var e=this;try{this.params=JSON.stringify(this.params)}catch(e){t._logger.error(""+e.message)}return new Promise(function(t,n){e.doHttpRequest().then(function(e){t(new g(e))},function(e){n("Error on multiRequest execution, error <"+e+">.")})})}}]),t}(c.default);y._logger=(0,d.default)("MultiRequestBuilder"),t.default=y;var g=t.MultiRequestResult=function e(t){var n=this;a(this,e),this.results=[],this.success=!0,(t.result?t.result:t).forEach(function(t){var i=new h.default(t);if(n.results.push(i),i.hasError)return e._logger.error("Service returned an error with error code: "+i.error.code+" and message: "+i.error.message+"."),void(n.success=!1)})};g._logger=(0,d.default)("MultiRequestResult")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function e(t){var n=void 0;return Array.isArray(t)?(n=t.length>0?t.slice(0):[],n.forEach(function(t,r){("object"===(void 0===t?"undefined":i(t))&&t!=={}||Array.isArray(t)&&t.length>0)&&(n[r]=e(t))})):"object"===(void 0===t?"undefined":i(t))?(n=Object.assign({},t),Object.keys(n).forEach(function(t){("object"===i(n[t])&&n[t]!=={}||Array.isArray(n[t])&&n[t].length>0)&&(n[t]=e(n[t]))})):n=t,n};t.clone=r},function(e,t,n){"use strict";function i(e){return e?s.get(e):s}function r(e){return i(e).getLevel()}function a(e,t){i(t).setLevel(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.getLogLevel=t.LogLevel=void 0;var o=n(7),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),u={DEBUG:s.DEBUG,INFO:s.INFO,TIME:s.TIME,WARN:s.WARN,ERROR:s.ERROR,OFF:s.OFF};s.useDefaults({defaultLevel:s.ERROR}),t.default=i,t.LogLevel=u,t.getLogLevel=r,t.setLogLevel=a},function(e,t,n){var i,r;/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */
!function(a){"use strict";var o={};o.VERSION="1.4.1";var s,u={},l=function(e,t){return function(){return t.apply(e,arguments)}},c=function(){var e,t,n=arguments,i=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in i||!n[t].hasOwnProperty(e)||(i[e]=n[t][e]);return i},f=function(e,t){return{value:e,name:t}};o.DEBUG=f(1,"DEBUG"),o.INFO=f(2,"INFO"),o.TIME=f(3,"TIME"),o.WARN=f(4,"WARN"),o.ERROR=f(8,"ERROR"),o.OFF=f(99,"OFF");var d=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};d.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(o.DEBUG,arguments)},info:function(){this.invoke(o.INFO,arguments)},warn:function(){this.invoke(o.WARN,arguments)},error:function(){this.invoke(o.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(o.TIME,[e,"end"])},invoke:function(e,t){s&&this.enabledFor(e)&&s(t,c({level:e},this.context))}};var p=new d({filterLevel:o.OFF});!function(){var e=o;e.enabledFor=l(p,p.enabledFor),e.debug=l(p,p.debug),e.time=l(p,p.time),e.timeEnd=l(p,p.timeEnd),e.info=l(p,p.info),e.warn=l(p,p.warn),e.error=l(p,p.error),e.log=e.info}(),o.setHandler=function(e){s=e},o.setLevel=function(e){p.setLevel(e);for(var t in u)u.hasOwnProperty(t)&&u[t].setLevel(e)},o.getLevel=function(){return p.getLevel()},o.get=function(e){return u[e]||(u[e]=new d(c({name:e},p.context)))},o.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(i,r){i=Array.prototype.slice.call(i);var a,s=console.log;r.level===o.TIME?(a=(r.name?"["+r.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(a):t[a]=(new Date).getTime():console.timeEnd?console.timeEnd(a):n(s,[a+": "+((new Date).getTime()-t[a])+"ms"])):(r.level===o.WARN&&console.warn?s=console.warn:r.level===o.ERROR&&console.error?s=console.error:r.level===o.INFO&&console.info?s=console.info:r.level===o.DEBUG&&console.debug&&(s=console.debug),e.formatter(i,r),n(s,i))}},o.useDefaults=function(e){o.setLevel(e&&e.defaultLevel||o.DEBUG),o.setHandler(o.createDefaultHandler(e))},i=o,void 0!==(r="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=r)}()},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(12),l=i(u),c=n(0),f=i(c),d=n(2),p=i(d),h=n(14),y=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,null,[{key:"collect",value:function(e,t,n,i){var r=p.default.get(),a={};Object.assign(a,r.serviceParams,{ks:t,clientTag:"html5:v"+n},i);var o=new f.default;return o.service="stats",o.action="collect",o.method="GET",o.tag="stats-collect",o.params=a,o.url=e+"?service="+o.service+"&action="+o.action+"&"+(0,h.param)(o.params),o}}]),t}(l.default);t.default=y},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),s=i(o),u=n(2),l=i(u),c=function(){function e(){r(this,e)}return a(e,null,[{key:"getMultiRequest",value:function(e,t,n){var i=l.default.get(),r=i.serviceParams;Object.assign(r,{ks:t,clientTag:"html5:v"+e}),n&&Object.assign(r,{partnerId:n});var a=new Map;a.set("Content-Type","application/json");var o=new s.default(a);return o.method="POST",o.service="multirequest",o.url=o.getUrl(i.serviceUrl),o.params=r,o}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=t.NAME=t.RequestBuilder=t.OVPConfiguration=t.OVPStatsService=void 0;var r=n(0),a=i(r),o=n(2),s=i(o),u=n(9),l=i(u);t.OVPStatsService=l.default,t.OVPConfiguration=s.default,t.RequestBuilder=a.default,t.NAME="playkit-js-providers-stats-service",t.VERSION="2.0.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){var t=[],n=/\[\]$/,r=function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=function(e,n){n="function"==typeof n?n():null===n?"":void 0===n?"":n,t[t.length]=encodeURIComponent(e)+"="+encodeURIComponent(n)};return function e(o,s){var u=void 0,l=void 0,c=void 0;if(o)if(r(s))for(u=0,l=s.length;u<l;u++)n.test(o)?a(o,s[u]):e(o+":"+("object"===i(s[u])?u:""),s[u]);else if(s&&"[object Object]"===String(s))for(c in s)e(o+":"+c,s[c]);else a(o,s);else if(r(s))for(u=0,l=s.length;u<l;u++)a(s[u].name,s[u].value);else for(c in s)e(c,s[c]);return t}("",e).join("&").replace(/%20/g,"+")};t.param=r}])}()}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={WIDGET_LOADED:1,MEDIA_LOADED:2,PLAY:3,PLAY_REACHED_25:4,PLAY_REACHED_50:5,PLAY_REACHED_75:6,PLAY_REACHED_100:7,OPEN_EDIT:8,OPEN_VIRAL:9,OPEN_DOWNLOAD:10,OPEN_REPORT:11,BUFFER_START:12,BUFFER_END:13,OPEN_FULL_SCREEN:14,CLOSE_FULL_SCREEN:15,REPLAY:16,SEEK:17,OPEN_UPLOAD:18,SAVE_PUBLISH:19,CLOSE_EDITOR:20,PRE_BUMPER_PLAYED:21,POST_BUMPER_PLAYED:22,BUMPER_CLICKED:23,PREROLL_STARTED:24,MIDROLL_STARTED:25,POSTROLL_STARTED:26,OVERLAY_STARTED:27,PREROLL_CLICKED:28,MIDROLL_CLICKED:29,POSTROLL_CLICKED:30,OVERLAY_CLICKED:31,PREROLL_25:32,PREROLL_50:33,PREROLL_75:34,MIDROLL_25:35,MIDROLL_50:36,MIDROLL_75:37,POSTROLL_25:38,POSTROLL_50:39,POSTROLL_75:40};t.default=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){i(this,e),this.eventType=t,this.isFirstInSession=!1,this.eventTimestamp=(new Date).getTime()};t.default=r}])})},function(e,t,n){"use strict";(function(e){var i,r,a,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s,u){"object"==o(t)&&"object"==o(e)?e.exports=u(n(10)):(r=[n(10)],i=u,void 0!==(a="function"==typeof i?i.apply(t,r):i)&&(e.exports=a))}(0,function(e){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(t,n){t.exports=e},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.NAME=t.VERSION=void 0;var i=n(0),r=n(2),a=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=a.default,t.VERSION="1.0.0",t.NAME="playkit-js-comscore",(0,i.registerPlugin)("comscore",a.default)},function(e,t,n){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=(void 0===t?"undefined":o(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":o(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],i=!0,r=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(e){r=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),c=n(0),f=n(3),d=function(e){return e&&e.__esModule?e:{default:e}}(f),p=function(e){function t(e,n,i){r(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i));return o._isAd=!1,o._isLive=!1,o._trackEventMonitorCallbackName=i.trackEventMonitor,o._init(),o._assetPartNumber=1,o}return s(t,e),l(t,null,[{key:"isValid",value:function(){return!0}}]),l(t,[{key:"_init",value:function(){var e=this;this._gPluginPromise=c.Utils.Object.defer(),this.player.ready().then(function(){e.logger.debug("The comScore onReady event was triggered.");var n=e._parsePluginConfig(e.config);e._trackEventMonitor("Configured publisherId",n.publisherId),e._gPlugin=new d.default.StreamingAnalytics.Plugin(n,t.PLUGIN_PLATFORM_NAME,t.PLUGIN_VERSION,window.KalturaPlayer.VERSION,{position:e._getCurrentPosition.bind(e)}),e._gPluginPromise.resolve()}),this._addBindings()}},{key:"_getCurrentPosition",value:function(){if(this._isAd)return this._lastKnownAdPosition;if(this._isLive)return NaN;var e=this.player.currentTime;return Math.floor(1e3*e)}},{key:"_addBindings",value:function(){var e,t=this,n=(e={},i(e,this.player.Event.SOURCE_SELECTED,this._onSourceSelected),i(e,this.player.Event.ERROR,this._onError),i(e,this.player.Event.FIRST_PLAY,this._onFirstPlay),i(e,this.player.Event.PLAYING,this._onPlaying),i(e,this.player.Event.SEEKING,this._onSeeking),i(e,this.player.Event.PAUSE,this._onPause),i(e,this.player.Event.ENDED,this._onEnded),i(e,this.player.Event.TIME_UPDATE,this._onTimeUpdate),i(e,this.player.Event.RATE_CHANGE,this._onRateChange),i(e,this.player.Event.PLAYER_STATE_CHANGED,this._onPlayerStateChanged),i(e,this.player.Event.AUDIO_TRACK_CHANGED,this._onAudioTrackChanged),i(e,this.player.Event.TEXT_TRACK_CHANGED,this._onTextTrackChanged),i(e,this.player.Event.ENTER_FULLSCREEN,this._onEnterFullscreen),i(e,this.player.Event.EXIT_FULLSCREEN,this._onExitFullScreen),i(e,this.player.Event.VOLUME_CHANGE,this._onVolumeChange),i(e,this.player.Event.AD_LOADED,this._onAdLoaded),i(e,this.player.Event.AD_STARTED,this._onAdStarted),i(e,this.player.Event.AD_RESUMED,this._onAdResumed),i(e,this.player.Event.AD_PAUSED,this._onAdPaused),i(e,this.player.Event.AD_CLICKED,this._onAdClicked),i(e,this.player.Event.AD_SKIPPED,this._onAdSkipped),i(e,this.player.Event.AD_COMPLETED,this._onAdCompleted),i(e,this.player.Event.AD_ERROR,this._onAdError),i(e,this.player.Event.ALL_ADS_COMPLETED,this._onAllAdsCompleted),i(e,this.player.Event.AD_BREAK_START,this._onAdBreakStart),i(e,this.player.Event.AD_BREAK_END,this._onAdBreakEnd),i(e,this.player.Event.AD_PROGRESS,this._onAdProgress),e),r=!0,a=!1,o=void 0;try{for(var s,l=Object.entries(n)[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)!function(){var e=u(s.value,2),n=e[0],i=e[1];t.eventManager.listen(t.player,n,function(e){t._gPluginPromise.then(function(){t._log("Event:",n,e),i.call(t,e)})})}()}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}}},{key:"_onError",value:function(e){}},{key:"_onAdLoaded",value:function(e){this._adCachedAdvertisementMetadataObject=e.payload}},{key:"_onAdBreakStart",value:function(e){this._isAd=!0}},{key:"_onAdStarted",value:function(e){this._gPlugin.setAsset(this._getAdvertisementMetadataLabels(this._adCachedAdvertisementMetadataObject,this.player.config),!1,this._getContentMetadataObjects()),this._sendCommand("notifyPlay",0)}},{key:"_onAdResumed",value:function(e){this._sendCommand("notifyPlay")}},{key:"_onAdPaused",value:function(e){this._sendCommand("notifyPause")}},{key:"_onAdClicked",value:function(e){}},{key:"_onAdSkipped",value:function(e){this._sendCommand("notifySkipAd")}},{key:"_onAdCompleted",value:function(e){if(this._adCachedAdvertisementMetadataObject.extraAdData&&this._adCachedAdvertisementMetadataObject.extraAdData.duration){var t=Math.floor(1e3*this._adCachedAdvertisementMetadataObject.extraAdData.duration);this._sendCommand("notifyEnd",t)}else this._sendCommand("notifyEnd");this._lastKnownAdPosition=NaN}},{key:"_onAdError",value:function(e){}},{key:"_onAllAdsCompleted",value:function(){this._isAd=!1}},{key:"_onAdBreakEnd",value:function(){this._isAd=!1,this._gPlugin.setAsset(this._getContentMetadataLabels(this.player.config),!1,this._getContentMetadataObjects())}},{key:"_onAdProgress",value:function(e){this._lastKnownAdPosition=Math.floor(e.payload.adProgress.currentTime)}},{key:"_onPlayerStateChanged",value:function(e){var t=e.payload.oldState,n=e.payload.newState;t.type===this.player.State.BUFFERING&&this._sendCommand("notifyBufferStop"),n.type===this.player.State.BUFFERING&&this._sendCommand("notifyBufferStart")}},{key:"_onSeeking",value:function(){if(this._isLive){this._sendCommand("notifySeekStart");var e=Math.floor(1e3*this.player.duration),t=Math.floor(e-Math.floor(1e3*this.player.currentTime),0);this._gPlugin.setDvrWindowOffset(t),this._gPlugin.setDvrWindowLength(e)}else this._sendCommand("notifySeekStart",this._lastKnownPosition)}},{key:"_onPlaying",value:function(){this._sendCommand("notifyPlay")}},{key:"_onFirstPlay",value:function(){this._sendCommand("notifyPlay")}},{key:"_onEnded",value:function(){this._sendCommand("notifyEnd")}},{key:"_onPause",value:function(){this._isAd||Math.ceil(this.player.currentTime)<this.player.duration&&this._sendCommand("notifyPause")}},{key:"_onTimeUpdate",value:function(){if(this._isLive){var e=Math.floor(1e3*this.player.duration),t=Math.max(e-Math.floor(1e3*this.player.currentTime),0);return this._gPlugin.setDvrWindowOffset(t),void this._gPlugin.setDvrWindowLength(e)}this._lastKnownPosition=this._getCurrentPosition()}},{key:"_onRateChange",value:function(){var e=this.player.playbackRate;this._gPlugin.notifyChangePlaybackRate(e)}},{key:"_onAudioTrackChanged",value:function(){}},{key:"_onTextTrackChanged",value:function(){}},{key:"_onEnterFullscreen",value:function(){}},{key:"_onExitFullScreen",value:function(){}},{key:"_onVolumeChange",value:function(){}},{key:"_onSourceSelected",value:function(){this._isLive=this.player.isLive(),this._gPlugin.createPlaybackSession(),this._gPlugin.setAsset(this._getContentMetadataLabels(this.player.config),!1,this._getContentMetadataObjects()),this._isLive&&this._gPlugin.setDvrWindowLength(Math.floor(1e3*this.player.duration))}},{key:"_sendCommand",value:function(e,t){this.logger.debug("comScore notification:"+e+"  with position:"+t),this._trackEventMonitor(e+(null==t?"":" with Position:"+t));try{this._gPlugin[e](t)}catch(t){this.logger.error("Error occur while trying to send:"+e+" to comscore",t)}}},{key:"destroy",value:function(){this.eventManager.destroy(),this._gPlugin&&this._gPlugin.release()}},{key:"reset",value:function(){}},{key:"_getAdvertisementMetadataLabels",value:function(e,t){var n={},i=this._getContentMetadataLabels(t);return i.ns_st_pl&&(n.ns_st_pl=i.ns_st_pl),i.ns_st_pr&&(n.ns_st_pr=i.ns_st_pr),i.ns_st_ep&&(n.ns_st_ep=i.ns_st_ep),this.player.isLive()&&(n.ns_st_li="1"),e.extraAdData&&e.extraAdData.adId&&(n.ns_st_ci=e.extraAdData.adId+""),n.ns_st_pn="1",n.ns_st_tp="1",e.extraAdData&&e.extraAdData.duration&&(n.ns_st_cl=Math.floor(1e3*e.extraAdData.duration)),"preroll"==e.adType?(n.ns_st_ad="pre-roll",n.ns_st_ct="va11"):"postroll"==e.adType?(n.ns_st_ad="post-roll",n.ns_st_ct="va13"):"midroll"==e.adType?(n.ns_st_ad="mid-roll",n.ns_st_ct="va12"):n.ns_st_ad=1,e.extraAdData&&e.extraAdData.adSystem&&(n.ns_st_ams=e.extraAdData.adSystem.toLowerCase()),e.extraAdData&&e.extraAdData.adTitle&&(n.ns_st_amt=e.extraAdData.adTitle),n}},{key:"_getContentMetadataLabels",value:function(e){var t={};return this.player.isLive()&&(t.ns_st_li="1"),this.player.config.type==c.MediaType.AUDIO?(t.ns_st_ct="ac00",t.ns_st_ty="audio"):(t.ns_st_ct="vc00",t.ns_st_ty="video"),t.ns_st_pl=e.name,t.ns_st_pr=e.name,t.ns_st_ep=e.name,t.ns_st_cl=Math.floor(1e3*e.duration),t.ns_st_ci=e.id,t.ns_st_pn=this._assetPartNumber+"",t.ns_st_tp="0",t.ns_st_cs="0x0",this.player.src&&(t.ns_st_cu=this.player.src),t}},{key:"_getContentMetadataObjects",value:function(){return[{prefix:"",map:this.player.config.metadata},{prefix:"clip",map:this.player.config},{prefix:"clip.session",map:this.player.config.session},{prefix:"clip.playback",map:this.player.config.playback}]}},{key:"_parsePluginConfig",value:function(e){e=e||{};var t={publisherId:this.player.config.session&&this.player.config.session.partnerId};return"debug"in e&&(t.debug=e.debug),t}},{key:"_log",value:function(){var e=Array.from(arguments);e.unshift("comScore plugin:"),this.logger.debug.apply(this.logger,e)}},{key:"_trackEventMonitor",value:function(){if("function"==typeof window[this._trackEventMonitorCallbackName]){var e=Array.from(arguments);e.unshift("comScore"),window[this._trackEventMonitorCallbackName](e)}}}]),t}(c.BasePlugin);p.PLUGIN_VERSION="2.0",p.PLUGIN_PLATFORM_NAME="kaltura",t.default=p},function(e,t,n){(function(t,n){var i,i;!function(t){e.exports=function(){return function(){function e(t,n,r){function a(s,u){if(!n[s]){if(!t[s]){var l="function"==typeof i&&i;if(!u&&l)return i(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){return a(t[s][1][e]||e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof i&&i,s=0;s<r.length;s++)a(r[s]);return a}return e}()({1:[function(e,t,n){function i(e){function t(t){f=t,e.getStorage().set("plannedFlushTime",t+"")}function n(){e.getStorage().has("plannedFlushTime")&&(f=a.parseLong(e.getStorage().get("plannedFlushTime"),-1))}function i(){e.flush(),t(-1),l.scheduleFlush()}function s(){t(e.getCacheFlushingInterval()>0?+new Date+1e3*e.getCacheFlushingInterval():-1),d&&(o.clearTimeout(d),l.scheduleFlush())}function u(){d&&(o.clearTimeout(d),d=null)}var l=this,c=!1,f=-1,d=null;r.extend(l,{start:function(){c=!0,!d&&e.getCacheFlushingInterval()>0&&null!=e.getCustomerC2()&&(n(),l.scheduleFlush())},stop:function(){c=!1,u()},update:function(){e.getCacheFlushingInterval()>0&&null!=e.getCustomerC2()?!d&&c?(t(-1),l.start()):null!=d&&s():(t(-1),u())},scheduleFlush:function(){f<0&&t(+new Date+1e3*e.getCacheFlushingInterval()),d=o.setTimeout(i,f-+new Date)}})}var r=e(24),a=e(26),o=e(36);t.exports=i},{24:24,26:26,36:36}],2:[function(e,t,n){var i=e(5),r=e(8).TransmissionMode,a=e(8).EventType,o=new i,s={TransmissionMode:r,getCore:function(){return o},setAppContext:function(e){o.setAppContext(e)},setEnabled:function(e){o.setEnabled(e)},getEnabled:function(){return o.getEnabled()},onUxActive:function(){o.onUxActive()},onUxInactive:function(){o.onUxInactive()},onEnterForeground:function(){o.onEnterForeground()},onExitForeground:function(){o.onExitForeground()},onUserInteraction:function(){o.onUserInteraction()},update:function(){o.update()},enableAutoUpdate:function(e,t){o.enableAutoUpdate(e,void 0===t||t)},disableAutoUpdate:function(){o.disableAutoUpdate()},isAutoUpdateEnabled:function(){return o.isAutoUpdateEnabled()},start:function(e){o.notify(a.START,e||{})},view:function(e){o.notify(a.VIEW,e||{})},hidden:function(e){o.notify(a.HIDDEN,e||{})},close:function(e){o.notify(a.CLOSE,e)},aggregate:function(e){o.notify(a.AGGREGATE,e)},getPixelURL:function(){return o.getPixelURL()},setPixelURL:function(e){o.setPixelURL(e)},getCustomerC2:function(){return o.getCustomerC2()},setCustomerC2:function(e){o.setCustomerC2(e)},getAppName:function(){return o.getAppName()},setAppName:function(e){o.setAppName(e)},getAppVersion:function(){return o.getAppVersion()},setAppVersion:function(e){o.setAppVersion(e)},getGenesis:function(){return o.getGenesis()},getVisitorID:function(){return o.getVisitorId()},setVisitorId:function(e,t){o.setVisitorId(e,t)},getCrossPublisherId:function(){return o.getCrossPublisherId()},getOfflineTransmissionMode:function(){return o.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){o.allowOfflineTransmission(e)},getLiveTransmissionMode:function(){return o.getLiveTransmissionMode()},allowLiveTransmission:function(e){o.allowLiveTransmission(e)},getPublisherSecret:function(){return o.getSalt()},setPublisherSecret:function(e){o.setSalt(e)},flushCache:function(){o.flush()},clearOfflineCache:function(){o.getOfflineCache().clear()},setLabel:function(e,t){o.setLabel(e,t)},getLabel:function(e){return o.getLabel(e)},setLabels:function(e){o.setLabels(e)},getLabels:function(){return o.getLabels()},setAutoStartLabels:function(e){o.setAutoStartLabels(e)},getAutoStartLabel:function(e){return o.getAutoStartLabel(e)},getAutoStartLabels:function(){return o.getAutoStartLabels()},setAutoStartLabel:function(e,t){o.setAutoStartLabel(e,t)},isKeepAliveEnabled:function(){return o.getKeepAlive().isEnabled()},setKeepAliveEnabled:function(e){o.setKeepAliveEnabled(!!e)},setCacheMaxMeasurements:function(e){o.setCacheMaxMeasurements(e)},getCacheMaxMeasurements:function(){return o.getCacheMaxMeasurements()},setCacheMaxBatchFiles:function(e){o.setCacheMaxBatchFiles(e)},getCacheMaxBatchFiles:function(){return o.getCacheMaxBatchFiles()},setCacheMaxFlushesInARow:function(e){o.setCacheMaxFlushesInARow(e)},getCacheMaxFlushesInARow:function(){return o.getCacheMaxFlushesInARow()},setCacheMinutesToRetry:function(e){o.setCacheMinutesToRetry(e)},getCacheMinutesToRetry:function(){return o.getCacheMinutesToRetry()},setCacheMeasurementExpiry:function(e){o.setCacheMeasurementExpiry(e)},getCacheMeasurementExpiry:function(){return o.getCacheMeasurementExpiry()},getCacheFlushingInterval:function(){return o.getCacheFlushingInterval()},setCacheFlushingInterval:function(e){o.setCacheFlushingInterval(e)},setSecure:function(e){o.setSecure(e)},isSecure:function(){return o.isSecure()},getMeasurementLabelOrder:function(){return o.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){o.setMeasurementLabelOrder(e)},setAutoStartEnabled:function(e){o.setAutoStartEnabled(e)},isAutoStartEnabled:function(){return o.isAutoStartEnabled()},getVersion:function(){return o.getVersion()},getPlatformAPI:function(){return o.getPlatformAPI()},setPlatformAPI:function(e){o.setPlatformAPI(e)},setOfflineURL:function(e){o.setOfflineURL(e)},clearInternalData:function(){o.clearInternalData()},cacheHttpRedirects:function(){o.cacheHttpRedirects()}};t.exports=s},{5:5,8:8}],3:[function(e,t,n){function i(e){function t(){u(),v=-1}function n(){e.getOfflineTransmissionMode()!=o.NEVER&&e.getOfflineTransmissionMode()!=o.DISABLED&&l(!1)}function i(){e.flush(),v=-1,y=null}function u(){y&&(a.clearTimeout(y),y=null)}function l(e){var t=+new Date;h?(u(),(v<t||v<0||!e)&&(v=t+1e3*s),y=a.setTimeout(i,v-t)):v<0&&(v=t+1e3*s)}function c(){var e=a.isConnectionAvailable();e!=f&&(f=e,f?n():t()),h&&(g=a.setTimeout(c,p))}var f,d=this,p=1e3,h=!1,y=null,g=null,v=-1;r.extend(d,{start:function(){h=!0,f&&v>0&&l(!0),g=a.setTimeout(c,p)},stop:function(){a.clearTimeout(g),g=null,h=!1,u()}})}var r=e(24),a=e(36),o=e(8).TransmissionMode,s=30;t.exports=i},{24:24,36:36,8:8}],4:[function(e,t,n){var i={PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,PREVIOUS_VERSION_KEY:"previousVersion",LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_bv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","cs_impid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_ap_ie","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_psq","ns_st_asq","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_atpc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_ap","ns_st_dap","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_st_ldw","ns_st_ldo","ns_st_ie","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_ap_cfg","ns_ap_env","ns_ap_ais","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_tpr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_tep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_stc","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_ft","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_st_amg","ns_st_ami","ns_st_amp","ns_st_amt","ns_st_ams","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er","ns_st_amc"]};t.exports=i},{}],5:[function(e,t,n){function i(){function e(){kt.initializeStorage(),Pe=new m(kt),we=new b(kt),kt.initializeOfflineCache(),kt.initializeCacheFlusher(),kt.initializeConnectivityChangeReceiver(),Re=new v(kt),Ce=new g,t()}function t(){$e=u.parseLong(Te.get(I),-1),ct=u.parseLong(Te.get(x),-1),at=u.parseLong(Te.get(D),-1),ot=u.parseLong(Te.get(M),-1),st=u.parseLong(Te.get(N),-1),He=u.parseInteger(Te.get(U)),qe=u.parseLong(Te.get(B)),ze=u.parseLong(Te.get(j)),Xe=u.parseLong(Te.get(F)),Ke=u.parseLong(Te.get(G)),We=u.parseLong(Te.get(V)),Ye=u.parseLong(Te.get(H)),Ze=u.parseLong(Te.get(K)),tt=u.parseLong(Te.get(W)),et=u.parseLong(Te.get(Y)),rt=u.parseInteger(Te.get(z),-1),it=u.parseInteger(Te.get(q),-1),lt=u.parseLong(Te.get(X),-1),ut=u.parseInteger(Te.get(J),0),nt=u.parseInteger(Te.get(Q),0),mt=Te.get(R)?parseInt(Te.get(R)):0,Be=f.getAppVersion(),Qe=u.parseLong(Te.get(Z),0),Je=u.parseLong(Te.get($),-1),Je<0?(Je=+new Date,Qe=0,at=Je,nt++):(de()||(Ze+=+new Date-ct,Te.set(K,Ze+"")),at=Je),Ue=u.parseLong(Te.get(te),-1),Ue<0?(Ue=Je,Ne=Je,Be&&Be!=T&&Te.set(ne,Be+""),Te.set(te,Ue+""),Te.set(ee,Ne+"")):kt.setAppVersion(Be),Te.set($,Je+""),Te.set(Z,Qe+""),kt.setExitCode(Je);var e=+new Date;if($e>=0){var t=e-$e;Xe+=t,Te.set(F,Xe+""),Ye+=t,Te.set(H,Ye+"")}ct=$e=e,Te.set(I,$e+""),Te.set(x,ct+""),Te.set(D,at+""),Te.has(ie)||Te.set(ie,"0"),xe=u.parseInteger(Te.get(ie)),Me=u.parseInteger(Te.get(re))}function n(e){return Te.has(e)?Te.get(e)+"":null}function i(e,t){Et&&t!=r.INACTIVE&&kt.isAutoStartEnabled()&&!wt&&kt.notify(c.START,_t)}function l(e){if(Et)switch(e){case r.INACTIVE:Pe.dispatchToCache(!1),we.checkDelayedKeepAlive(),we.restart(),Oe.start(),Se.start();break;case r.BACKGROUND_UX_ACTIVE:Ee();break;case r.FOREGROUND:kt.setCurrentActivityName(null),Ee()}}function ue(e){if(Et)switch(e){case r.INACTIVE:Oe.stop(),we.pause(),Se.stop(),Ee(),Pe.dispatchToCache(!0);break;case r.BACKGROUND_UX_ACTIVE:Tt||_e();break;case r.FOREGROUND:_e(),He++}}function le(e,t){}function ce(e){if(Et){var t=+new Date;switch(e){case a.ACTIVE_USER:null!=ft&&(f.clearTimeout(ft),ft=null),st=t;case a.USER:ot=t;case a.APPLICATION:at=t;break;case a.INACTIVE:de()||(Ze+=t-ct)}}}function fe(e){if(Et)switch(e){case a.ACTIVE_USER:pe(),kt.scheduleUserInteractionTask();case a.USER:he();case a.APPLICATION:de();break;case a.INACTIVE:}}function de(){var e=+new Date,t=!1;return e-at>O&&(Qe=Je,Je=e,nt++,t=!0),at=e,t}function pe(){var e=+new Date;e-st>=C&&rt++,st=e}function he(){var e=+new Date;e-ot>=C&&it++,ot=e}function ye(e){if(Et){e=(void 0===e?"undefined":o(e))===k||e;var t=+new Date,n=t-$e;switch(Pt){case r.FOREGROUND:qe+=n,Ke+=n;break;case r.BACKGROUND_UX_ACTIVE:ze+=n,We+=n;break;case r.INACTIVE:Xe+=n,Ye+=n}$e=t,e&&(Te.set(I,$e+""),Te.set(U,He+""),Te.set(B,qe+""),Te.set(j,ze+""),Te.set(F,Xe+""),Te.set(G,Ke+""),Te.set(V,We+""),Te.set(H,Ye+""))}}function ge(e){if(Et){e=(void 0===e?"undefined":o(e))===k||e;var t=+new Date,n=t-ct;switch(Ot){case a.ACTIVE_USER:tt+=n,st=t;case a.USER:et+=n,ot=t;case a.APPLICATION:Ze+=n,at=t;break;case a.INACTIVE:}ct=t,e&&(Te.set(x,ct+""),Te.set(D,at+""),Te.set(M,ot+""),Te.set(N,st+""),Te.set(K,Ze+""),Te.set(W,tt+""),Te.set(Y,et+""),Te.set(z,rt+""),Te.set(q,it+""),Te.set(X,lt+""),Te.set(J,ut+""),Te.set(Z,Qe+""),Te.set($,Je+""),Te.set(Q,nt+""))}}function ve(){if(Et){var e,t=+new Date;e=Ge>0?r.FOREGROUND:Ve>0?r.BACKGROUND_UX_ACTIVE:r.INACTIVE;var n;n=t-lt<C?a.ACTIVE_USER:Ve>0?a.USER:Ge>0?a.APPLICATION:a.INACTIVE;var o=Pt,s=Ot;if(e!=o||n!=s){var u=!1,c=!1;o!=e&&(l(Pt),ue(e),ye(),Pt=e,u=!0),s!=n&&(ce(Ot),fe(n),ge(),Ot=n,c=!0),u&&i(o,Pt),c&&le(s,Ot)}}}function me(e,t){Et&&(d.exists(e)?(t=d.exists(t)?"-cs"+t:"",pt=e+t):null==pt&&xt&&(pt=h(f.getVisitorId()+kt.getSalt()),"function"==typeof f.getVisitorIdSuffix&&null!=f.getVisitorIdSuffix()&&(pt=pt+"-cs"+f.getVisitorIdSuffix())),Te.set(ae,pt+""))}function be(){var e=(f.getCrossPublisherId()||"null").split(" "),t=e[0]&&"null"!=e[0]?e[0]:null,n="true"==e[1];if(null==t)return yt=null,void(ht=null);ht||(yt=Te.get(oe),ht=Te.get(se));var i=null;ht?"none"==t&&"none"==ht||!It&&"none"==ht||"none"!=t&&(i=h(t))==yt||(n?("none"==t?(yt=null,ht="none"):(yt=i,ht=y(t)),Te.set(se,ht),null==yt?Te.remove(oe):Te.set(oe,yt)):(Rt=!0,It&&"none"!=t?(yt=h(t),ht=y(t)):(yt=null,ht="none"),Te.set(se,ht),null==yt?Te.remove(oe):Te.set(oe,yt))):("none"==t?(yt=null,ht="none"):(yt=h(t),ht=y(t)),Te.set(se,ht),null==yt?Te.remove(oe):Te.set(oe,yt)),It=!1}function _e(){if(Et){Ee();var e=function e(){kt.update(),null!=Le&&f.setTimeout(e,Ie)};Le=f.setTimeout(e,Ie)}}function Ee(){Et&&null!=Le&&(f.clearTimeout(Ie),Le=null)}function Ae(){return!xt||null==gt||0===gt.length||null==dt||0===dt.length}var ke,Te,we,Se,Pe,Oe,Ce,Le,Re,Ie,xe,De,Me,Ne,Ue,Be,je,Fe,Ge,Ve,He,Ke,We,Ye,ze,qe,Xe,Je,Qe,$e,Ze,et,tt,nt,it,rt,at,ot,st,ut,lt,ct,ft,dt,pt,ht,yt,gt,vt,mt,bt,_t,Et,At,kt=this,Tt=!0,wt=!1,St=!0,Pt=r.INACTIVE,Ot=a.INACTIVE,Ct=!1,Lt=!1,Rt=!1,It=!0,xt=!1,Dt=0;p.extend(kt,{isProperlyInitialized:function(){return!Ae()},reset:function(){Et&&(Ce.reset(),Pt=r.INACTIVE,Ot=a.INACTIVE,wt=!1,xe=0,De=-1,Me=0,Ue=-1,Ne=-1,Be=null,je=null,Ge=0,Ve=0,Ke=0,We=0,Ye=0,ze=0,qe=0,Xe=0,Ze=0,tt=0,et=0,Je=-1,Qe=0,rt=-1,it=-1,ut=0,lt=-1,$e=-1,ct=-1,at=-1,ot=-1,st=-1,Ne=-1,Ue=-1,mt=0,Ct=!1,Lt=!1,kt.disableAutoUpdate(),null!=ft&&(f.clearTimeout(ft),ft=null),null!=we&&we.cancel(),null!=Se&&Se.stop(),null!=Pe&&(Pe.clean(),Pe=new m(kt)))},initializeStorage:function(e){Te=e||new f.Storage},initializeOfflineCache:function(e){ke=e||new _(kt)},initializeCacheFlusher:function(e){Se=e||new E(kt)},initializeConnectivityChangeReceiver:function(e){Oe=new A(kt)},loadInitialSettings:function(){var e=n("AppName");null!=e&&kt.setAppName(e);var t=n("AppVersion");null!=t&&kt.setAppVersion(t)},restoreVisitorId:function(){Et&&Te.has(ae)&&(pt=Te.get(ae))},incrementRunsCount:function(){Et&&(xe++,Te.set(ie,xe+""))},handleColdStart:function(){return!wt&&(wt=!0,Me++,Te.set(re,Me+""),De=+new Date,!0)},scheduleUserInteractionTask:function(){Et&&(null!=ft&&(f.clearTimeout(ft),ft=null),ft=f.setTimeout(function(){null!=ft&&(f.clearTimeout(ft),ft=null),ve()},C))},getOfflineCache:function(){return ke},getConnectivityReceiver:function(){return Oe},getStorage:function(){return Te},getQueue:function(){return Pe},getKeepAlive:function(){return we},getCacheFlusher:function(){return Se},getDispatchProperties:function(){return Ce},onUxActive:function(){Et&&(Ae()||(it<0&&(it=0),Ve++,ve()))},onUxInactive:function(){Et&&(Ae()||Ve>0&&(Ve--,ve()))},onEnterForeground:function(){Et&&(Ae()||(Ge++,ve()))},onExitForeground:function(){Et&&(Ae()||Ge>0&&(Ge--,ve()))},onUserInteraction:function(){Et&&(Ae()||(it<0&&(it=0),rt<0&&(rt=0),lt=+new Date,ut++,Ot!=a.ACTIVE_USER?ve():kt.scheduleUserInteractionTask()))},getApplicationState:function(){return Pt},getSessionState:function(){return Ot},getRunsCount:function(){return xe},getInstallId:function(){return Ne},getFirstInstallId:function(){return Ue},getColdStartId:function(){return De},getColdStartCount:function(){return Me},getPreviousVersion:function(){return je},setPreviousVersion:function(e){je=e},getForegroundTransitionsCountDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=He;return e&&(He=0,Te.set(U,He+"")),t},getForegroundTotalTime:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=Ke;return e&&(Ke=0,Te.set(G,Ke+"")),t},getForegroundTimeDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=qe;return e&&(qe=0,Te.set(B,qe+"")),t},getBackgroundTotalTime:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=We;return e&&(We=0,Te.set(V,We+"")),t},getBackgroundTimeDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=ze;return e&&(ze=0,Te.set(j,ze+"")),t},getInactiveTotalTime:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=Ye;return e&&(Ye=0,Te.set(H,Ye+"")),t},getInactiveTimeDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=Xe;return e&&(Xe=0,Te.set(F,Xe+"")),t},getApplicationSessionTimeDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=Ze;return e&&(Ze=0,Te.set(K,Ze+"")),t},getActiveUserSessionTimeDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=tt;return e&&(tt=0,Te.set(W,tt+"")),t},getUserSessionTimeDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=et;return e&&(et=0,Te.set(Y,et+"")),t},getAutoUpdateInterval:function(){return Ie},getApplicationSessionCountDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=nt;return e&&(nt=0,Te.set(Q,nt+"")),t},getActiveUserSessionCountDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=-1;return rt>=0&&(t=rt,e&&(rt=0,Te.set(z,rt+""))),t},getUserSessionCountDelta:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=-1;return it>=0&&(t=it,e&&(it=0,Te.set(q,it+""))),t},getUserInteractionCount:function(e){e=(void 0===e?"undefined":o(e))===k||e;var t=ut;return e&&(ut=0,Te.set(J,ut+"")),t},setAppContext:function(){xt||(f.autoDetect(),e(),kt.loadInitialSettings(),kt.restoreVisitorId(),xt=!0)},setEnabled:function(e){Et&&null!=e&&!e&&(Et=!1,Se.stop(),Oe.stop(),we.pause())},getEnabled:function(){return Et},getAppContext:function(){return{}},getCurrentActivityName:function(){return Fe},setCurrentActivityName:function(e){Fe=e},setPixelURL:function(e){if(Et){if(null==e||0===e.length)return null;Ct=!0;var t=e.indexOf("?");if(t>=0){if(t<e.length-1){for(var n=e.substring(t+1).split("&"),i=0,r=n.length;i<r;i++){var a=n[i].split("=");2==a.length?kt.setLabel(a[0],a[1]):1==a.length&&kt.setLabel(s.PAGE_NAME_LABEL,a[0])}e=e.substring(0,t+1)}}else e+="?";return dt=e}},setKeepAliveEnabled:function(e){Et&&we.setEnable(e)},getPixelURL:function(){return dt},getCrossPublisherId:function(){return ht},isCrossPublisherIdChanged:function(){return f.isCrossPublisherIdChanged()||Rt},getVisitorId:function(){return null==pt&&me(),pt},setVisitorId:me,generateCrossPublisherId:be,setSalt:function(e){return null==e||0===e.length?kt:(gt=e,kt)},getSalt:function(){return null==gt&&(gt=""),gt},setAppName:function(e){Et&&(vt=e)},getAppName:function(){return null!=vt&&0!==vt.length||kt.setAppName(f.getAppName()),vt},setAppVersion:function(e){if(Te)if(e&&e!=T){Te.has(s.PREVIOUS_VERSION_KEY)&&(je=Te.get(s.PREVIOUS_VERSION_KEY)+"");var t;Te.has(ne)&&(t=Te.get(ne)+""),t&&t!==e?(je=t,Te.set(s.PREVIOUS_VERSION_KEY,je+""),Ne=Je,Te.set(ee,Ne+"")):Ne=u.parseLong(Te.get(ee),-1),Te.set(ne,e+"")}else Ne=u.parseLong(Te.get(ee),-1);Be=e},getAppVersion:function(){return Be},getVersion:function(){return w},getGenesis:function(){return Je},getPreviousGenesis:function(){return Qe},setExitCode:function(e){Te.set(R,e.toString(10))},getExitCode:function(){return mt},getLabels:function(){return bt},setLabels:function(e){if(Et)for(var t in e)e.hasOwnProperty(t)&&kt.setLabel(t,e[t])},getLabel:function(e){return bt[e]},setLabel:function(e,t){if(Et)return e&&!t?void delete bt[e]:void(bt[e]=t)},setAutoStartLabels:function(e){Et&&null!=e&&p.extend(_t,e)},getAutoStartLabel:function(e){return _t[e]},getAutoStartLabels:function(){return _t},setAutoStartLabel:function(e,t){Et&&(_t[e]=t)},getCustomerC2:function(){return bt.c2},setCustomerC2:function(e){if(Et&&null!=e&&0!==e.length){var t=Ce.isSecure()?P:S;kt.setPixelURL(t),Ct=!1,kt.setLabel("c2",e)}},getLiveTransmissionMode:function(){return Ce.getLiveTransmissionMode()},allowLiveTransmission:function(e){Et&&Ce.getLiveTransmissionMode()!=e&&Ce.allowLiveTransmission(e)},getOfflineTransmissionMode:function(){return Ce.getOfflineTransmissionMode()},allowOfflineTransmission:function(e){Et&&Ce.getOfflineTransmissionMode()!=e&&Ce.allowOfflineTransmission(e)},setSecure:function(e){Et&&(this.getCustomerC2()||(Lt=!0,Ce.isSecure()!=e&&Ce.setSecure(e)))},setSecureInternal:function(e){if(!Lt&&(Ce.setSecure(!!e),null!=Pe&&Pe.enqueueSettingChange(g.SECURE_MODE,!!e),kt.getCustomerC2()&&!Ct)){var t=Ce.isSecure()?P:S;kt.setPixelURL(t),Ct=!1}},setAutoStartEnabled:function(e){Et&&(St=e)},isAutoStartEnabled:function(){return St},isSecure:function(){return Ce.isSecure()},setCacheMaxMeasurements:function(e){null!=ke&&ke.setCacheMaxMeasurements(e)},getCacheMaxMeasurements:function(){return null!=ke?ke.getCacheMaxMeasurements():_.CACHE_MAX_SIZE},setCacheMaxBatchFiles:function(e){null!=ke&&ke.setCacheMaxBatchFiles(e)},getCacheMaxBatchFiles:function(){return null!=ke?ke.getCacheMaxBatchFiles():_.CACHE_MAX_BATCH_SIZE},setCacheMaxFlushesInARow:function(e){null!=ke&&ke.setCacheMaxPosts(e)},getCacheMaxFlushesInARow:function(){return null!=ke?ke.getCacheMaxPosts():_.CACHE_MAX_FLUSHES_INAROW},setCacheMinutesToRetry:function(e){null!=ke&&ke.setCacheWaitMinutes(e)},getCacheMinutesToRetry:function(){return null!=ke?ke.getCacheWaitMinutes():_.CACHE_WAIT_MINUTES},setCacheMeasurementExpiry:function(e){null!=ke&&ke.setCacheMeasurementExpiry(e)},getCacheMeasurementExpiry:function(){return null!=ke?ke.getCacheMeasurementExpiry():_.CACHE_EXPIRY_DAYS},getCacheFlushingInterval:function(){return Dt},setCacheFlushingInterval:function(e){Et&&Dt!=e&&(Dt=e,null!=Se&&Se.update())},getMeasurementLabelOrder:function(){return Ce.getMeasurementLabelOrder()},setMeasurementLabelOrder:function(e){Et&&e!=Ce.getMeasurementLabelOrder()&&Ce.setMeasurementLabelOrder(e)},flush:function(){ke.flush(Ce,function(){})},update:function(e){Et&&(e=(void 0===e?"undefined":o(e))===k||e,ye(e),ge(e))},enableAutoUpdate:function(e,t){Et&&(e=e||L,Ee(),e<L&&(e=L),Tt=t,Ie=1e3*e,Pt==r.FOREGROUND?_e():Pt!=r.BACKGROUND_UX_ACTIVE||Tt||_e())},disableAutoUpdate:function(){Et&&(Ee(),Tt=!0,Ie=-1)},isAutoUpdateEnabled:function(){return Ie>0},notify:function(e,t){Et&&(Ae()||(wt||e==c.START||Re.send(c.START,{},Ct?dt:null),e==c.CLOSE?(kt.setExitCode(0),kt.update(!0)):Re.send(e,t,Ct?dt:null)))},internalHidden:function(e,t){Re.send(c.HIDDEN,e,t)},setOfflineURL:function(e){Et&&ke.setUrl(e)},getPlatformAPI:function(){return f},setPlatformAPI:function(e){f.setPlatformAPI(e)},getMeasurementDispatcher:function(){return Re},clearInternalData:function(){Te&&Te.clear()},cacheHttpRedirects:function(e){At=e},isHttpRedirectCaching:function(){return At}}),Ce=new g,bt={},_t={},Et=!0,At=!0,kt.reset()}var r=e(8).ApplicationState,a=e(8).SessionState,s=e(4),u=e(26),l=e(17),c=e(8).EventType,f=e(36),d=e(21),p=e(24),h=e(22),y=e(25),g=e(6),v=e(11),m=e(7),b=e(9),_=e(12).OfflineMeasurementsCache,E=e(1),A=e(3),k="undefined",T=l.UNKNOWN_VALUE,w="6.2.1.180301",S="http://b.scorecardresearch.com/p2?",P="https://sb.scorecardresearch.com/p2?",O=18e5,C=3e5,L=60,R="exitCode",I="lastApplicationAccumulationTimestamp",x="lastSessionAccumulationTimestamp",D="lastApplicationSessionTimestamp",M="lastUserSessionTimestamp",N="lastActiveUserSessionTimestamp",U="foregroundTransitionsCount",B="accumulatedForegroundTime",j="accumulatedBackgroundTime",F="accumulatedInactiveTime",G="totalForegroundTime",V="totalBackgroundTime",H="totalInactiveTime",K="accumulatedApplicationSessionTime",W="accumulatedActiveUserSessionTime",Y="accumulatedUserSessionTime",z="activeUserSessionCount",q="userSessionCount",X="lastUserInteractionTimestamp",J="userInteractionCount",Q="applicationSessionCountKey",$="genesis",Z="previousGenesis",ee="installId",te="firstInstallId",ne="currentVersion",ie="runs",re="coldStartCount",ae="vid",oe="crossPublisherIdHashed",se="crossPublisherId";t.exports=i},{1:1,11:11,12:12,17:17,21:21,22:22,24:24,25:25,26:26,3:3,36:36,4:4,6:6,7:7,8:8,9:9}],6:[function(e,t,n){function i(){var e,t,n,i;r.extend(this,{reset:function(){e=a.DEFAULT,t=a.DEFAULT,n=o.isConnectionSecure(),i=s.LABELS_ORDER},copyFrom:function(r){e=r.getLiveTransmissionMode(),t=r.getOfflineTransmissionMode(),i=r.getMeasurementLabelOrder(),n=r.isSecure()},updateSetting:function(e,t){switch(e){case u:this.allowLiveTransmission(t);break;case l:this.allowOfflineTransmission(t);break;case c:this.setSecure(t);break;case f:this.setMeasurementLabelOrder(t)}},getLiveTransmissionMode:function(){return e},allowLiveTransmission:function(t){null!=t&&(e=t)},getOfflineTransmissionMode:function(){return t},allowOfflineTransmission:function(e){null!=e&&(t=e)},isSecure:function(){return n},setSecure:function(e){n=e},getMeasurementLabelOrder:function(){return i},setMeasurementLabelOrder:function(e){null!=e&&e.length>0&&(i=e)}}),this.reset()}var r=e(24),a=e(8).TransmissionMode,o=e(36),s=e(4),u=0,l=1,c=2,f=3;i.LIVE_TRANSMISSION_MODE=u,i.OFFLINE_TRANSMISSION_MODE=l,i.SECURE_MODE=c,i.MEASUREMENT_LABEL_ORDER=f,t.exports=i},{24:24,36:36,4:4,8:8}],7:[function(e,t,n){function i(e){function t(t){new a(e,e.getDispatchProperties(),t).send()}function n(t){e.getOfflineCache().saveEvent(t)}function i(e){return d(e)||p(e)}function d(e){return e-m<o&&v>=c}function p(e){return e-_<s&&b>=f}function h(t){t-_>s&&(b=0,_=t),t-m>o&&(v=0,m=t),b++,v++;var n=e.getStorage();n.set(l,b+""),n.set(u,_+"")}function y(){var e=+new Date;if(T)for(;k.length;){var r=k.shift();n(r)}else{for(;k.length&&!i(e);)h(e),r=k.shift(),t(r);g(e)}}function g(t){k.length&&(E||(d(t)?E=e.getPlatformAPI().setTimeout(function(){E=null,y()},m+o-t):p(t)&&(E=e.getPlatformAPI().setTimeout(function(){E=null,y()},_+s-t))))}var v,m,b,_,E,A=this,k=[],T=!1;r.extend(A,{offer:function(t){e.getEnabled()&&(k.push(t),y())},clean:function(){e.getPlatformAPI().clearTimeout(E),k.length=0},dispatchToCache:function(t){T=t,e.getPlatformAPI().clearTimeout(E),y()}}),function(){var t=e.getStorage();t.has(l)&&t.has(u)?(b=parseInt(t.get(l)),_=parseInt(t.get(u))):(b=0,_=+new Date),v=0,m=+new Date}()}var r=e(24),a=e(13),o=1e3,s=864e5,u="q_dcf",l="q_dcc",c=20,f=6e3;t.exports=i},{13:13,24:24}],8:[function(e,t,n){var i={START:"start",VIEW:"view",CLOSE:"close",AGGREGATE:"aggregate",HIDDEN:"hidden",KEEPALIVE:"keep-alive"},r={INACTIVE:0,BACKGROUND_UX_ACTIVE:1,FOREGROUND:2},a={INACTIVE:0,APPLICATION:1,USER:2,ACTIVE_USER:3},o={DEFAULT:0,NEVER:1,WIFIONLY:2,PIGGYBACK:3,DISABLED:4,valueOf:function(e){return null==e||"DEFAULT"==e?o.DEFAULT:"NEVER"==e?o.NEVER:"WIFIONLY"==e?o.WIFIONLY:"PIGGYBACK"==e?o.PIGGYBACK:"DISABLED"==e?o.DISABLED:void 0}};n.TransmissionMode=o,n.SessionState=a,n.ApplicationState=r,n.EventType=i},{}],9:[function(e,t,n){function i(e){function t(){u=+new Date+c,n()}function n(){e.getMeasurementDispatcher().send(a.KEEPALIVE)}var i=this,s=null,u=NaN,l=!0,c=864e5;o.extend(i,{setEnable:function(e){l=e,e?(i.checkDelayedKeepAlive(),i.restart()):i.cancel()},isEnabled:function(){return l},restart:function(){l&&(i.cancel(),u=+new Date+c,s=r.setInterval(t,c))},checkDelayedKeepAlive:function(){if(l){var e=+new Date;u&&e>=u&&n()}},pause:function(){i.cancel()},cancel:function(){s&&(r.clearInterval(s),s=null)}})}var r=e(36),a=e(8).EventType,o=e(24);t.exports=i},{24:24,36:36,8:8}],10:[function(e,t,n){function i(e){var t,n={};o.extend(this,{removeLabel:function(e){delete n[e]},addLabels:function(e){if(null!=e)for(var t in e)e.hasOwnProperty(t)&&this.setLabel(t,e[t])},setLabel:function(e,t){n[e]=t},getLabel:function(e){return n[e]},getLabels:function(){return n},hasLabel:function(e){return n.hasOwnProperty(e)},retrieveLabelsAsString:function(e){for(var t=[],i=o.extend({},n),r=0,a=e.length;r<a;r++){var s=e[r],u=i[s];null!=u&&""!==u&&(t.push("&",p(s),"=",p(u)),delete i[s])}for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];null!=c&&""!==c&&t.push("&",p(l),"=",p(i[l]))}return t=t.join(""),t.length>0&&"&"==t.charAt(0)?t.substring(1):t},setPixelURL:function(e){t=e},getPixelURL:function(){return t}}),e&&this.setPixelURL(e.getPixelURL())}function r(e,t,n,r){if(i.call(this,e),e){null!=n&&this.setPixelURL(n),this.setLabel("c1","19"),this.setLabel("ns_ap_an",h(e.getAppName())),this.setLabel("ns_ap_pn",h(c.getPlatformName())),this.setLabel("ns_ap_pv",h(c.getRuntimeVersion())),this.setLabel("c12",e.getVisitorId()),e.generateCrossPublisherId();var a=e.getCrossPublisherId();a&&(this.setLabel("ns_ak",a),e.isCrossPublisherIdChanged()&&this.setLabel("ns_ap_ni","1")),this.setLabel("ns_ap_device",h(c.getDeviceModel())),this.setLabel("ns_ap_ar",h(c.getDeviceArchitecture())),this.setLabel("ns_radio",h(c.getConnectionType())),this.setLabel("ns_type",y(t)),this.setLabel("ns_nc","1"),this.setLabel("ns_ap_pfv",h(c.getPlatformVersion())),this.setLabel("ns_ap_pfm",h(c.getRuntimeName())),this.setLabel("ns_ap_ev",t),this.setLabel("ns_ap_ver",h(e.getAppVersion())),this.setLabel("ns_ap_sd",c.getDisplayResolution()),this.setLabel("ns_ap_res",c.getApplicationResolution()),this.setLabel("ns_ap_lang",c.getLanguage()),this.setLabel("ns_ap_sv",e.getVersion()),t==u.KEEPALIVE&&this.setLabel("ns_ap_oc",e.getOfflineCache().getEventCount()+"");var o=e.getColdStartId(),s=e.getColdStartCount();this.setLabel("ns_ap_id",o+""),this.setLabel("ns_ap_cs",s+""),this.setLabel("ns_ap_bi",c.getPackageName()),this.setLabel("ns_ap_jb",h(c.getDeviceJailBrokenFlag()))}}function a(e,t,n,i){r.call(this,e,t,n,i),this.setLabel("ns_ap_gs",e.getFirstInstallId()+""),this.setLabel("ns_ap_install",e.getInstallId()+""),this.setLabel("ns_ap_runs",e.getRunsCount()+""),i&&this.setLabel("ns_ap_csf","1"),this.setLabel("ns_ap_lastrun",e.getPreviousGenesis()+"");var a=e.getExitCode();a>0&&this.setLabel("ns_ap_miss",a.toString());var o=e.getPreviousVersion();o&&(this.setLabel("ns_ap_updated",o+""),e.getStorage().remove(f.PREVIOUS_VERSION_KEY),e.setPreviousVersion(null)),this.setLabel("ns_ap_jb",h(c.getDeviceJailBrokenFlag()))}var o=e(24),s=e(21),u=e(8).EventType,l=e(17),c=e(36),f=e(4),d=l.UNKNOWN_VALUE,p="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,h=function(e){return s.isNotEmpty(e)?e:d},y=function(e){return e==u.START||e==u.CLOSE||e==u.VIEW?u.VIEW:u.HIDDEN};r.processTimingLabels=function(e,t){var n=t.coldBoot,i=t.resetTimings,r=t.includeTimings;if(i=void 0===i||i,r=void 0===r||r,e.update(r),r){var a=e.getForegroundTransitionsCountDelta(),o=e.getForegroundTotalTime(n),s=e.getForegroundTimeDelta(i),u=e.getBackgroundTotalTime(n),l=e.getBackgroundTimeDelta(i),c=e.getInactiveTotalTime(n),f=e.getInactiveTimeDelta(i),d=e.getApplicationSessionTimeDelta(i),p=e.getActiveUserSessionTimeDelta(i),h=e.getUserSessionTimeDelta(i),y=e.getAutoUpdateInterval(),g=e.getApplicationSessionCountDelta(i),v=e.getActiveUserSessionCountDelta(i),m=e.getUserSessionCountDelta(i),b=e.getUserInteractionCount(i);t.labels.ns_ap_fg=a+"",t.labels.ns_ap_ft=o+"",t.labels.ns_ap_dft=s+"",t.labels.ns_ap_bt=u+"",t.labels.ns_ap_dbt=l+"",t.labels.ns_ap_it=c+"",t.labels.ns_ap_dit=f+"",t.labels.ns_ap_ut=y+"",t.labels.ns_ap_as=g+"",t.labels.ns_ap_das=d+"",v>=0&&(t.labels.ns_ap_aus=v+"",t.labels.ns_ap_daus=p+"",t.labels.ns_ap_uc=b+""),m>=0&&(t.labels.ns_ap_us=m+"",t.labels.ns_ap_dus=h+""),t.labels.ns_ap_usage=t.created-e.getGenesis()+""}t.labels.ns_ts=t.created+""},r.prototype=new i,r.newApplicationMeasurement=function(e,t,n,i){var r=e.getMeasurementDispatcher(),a=r.initMeasurementData(t,n,i);return r.finishMeasurement(a)},a.prototype=new r,t.exports.Measurement=i,t.exports.ApplicationMeasurement=r,t.exports.AppStartMeasurement=a},{17:17,21:21,24:24,36:36,4:4,8:8}],11:[function(e,t,n){function i(e){function t(e){v++,e.labels.ns_ap_ec=v+""}function n(e){e.addLabels(m),m={}}var i=this,h=0,y=[],g=!1,v=0,m={};i.createInitializationWindow=function(){h++;var e=!1;return function(t){e||(e=!0,h--,t&&i.checkDispatch())}},i.preDispatch=function(){if(!g){var e=i.createInitializationWindow(),t=function(){g=!1,e(!0)},n=function(){g=!1,e(!1)};g=!0,o.onDataFetch(t,n)}},i.checkDispatch=function(){if(!(h>0)){for(var e=0;e<y.length;++e){var t=y[e],n=i.finishMeasurement(t);i.dispatch(t,n)}y.length=0}},i.queue=function(e){y.push(e),i.preDispatch()},i.dispatch=function(t,n){e.getQueue().offer(n),e.getKeepAlive().restart()},i.send=function(e,t,n){if(e==s.AGGREGATE)return void i.addAggregateLabels(t);var r=i.initMeasurementData(e,t,n);i.queue(r)},i.initMeasurementData=function(n,i,a){var o={created:+new Date,eventType:n,pixelURL:a,coldBoot:!1,resetTimings:void 0,includeTimings:void 0,labels:{}};return t(o),n==s.START?(e.incrementRunsCount(),o.coldBoot=e.handleColdStart(),o.persistentLabels=e.getLabels(),o.eventLabels=i):(o.resetTimings=!(null!=i&&i.hasOwnProperty("ns_st_ev")&&"hb"==i.ns_st_ev),o.includeTimings=!(null!=i&&i.hasOwnProperty("ns_st_ev")),o.persistentLabels=e.getLabels(),o.eventLabels=i),null!=e.getCurrentActivityName()?o.pageNameLabel=e.getCurrentActivityName():n==s.START?o.pageNameLabel=f:e.getApplicationState()==u.FOREGROUND?o.pageNameLabel=d:o.pageNameLabel=p,r.processTimingLabels(e,o),o},i.finishMeasurement=function(t){var i=null,u=t.eventType,c=t.pixelURL,f=t.coldBoot;return i=u===s.START?new a(e,u,c,f):new r(e,u,c,f),i.addLabels(t.labels),i.addLabels(t.persistentLabels),i.addLabels(t.eventLabels),i.hasLabel(l.PAGE_NAME_LABEL)||i.setLabel(l.PAGE_NAME_LABEL,t.pageNameLabel),o.processMeasurementLabels(i),n(i),i},i.addAggregateLabels=function(e){c(m,e)}}var r=e(10).ApplicationMeasurement,a=e(10).AppStartMeasurement,o=e(36),s=e(8).EventType,u=e(8).ApplicationState,l=e(4),c=e(14).aggregateLabels,f="start",d="foreground",p="background";t.exports=i},{10:10,14:14,36:36,4:4,8:8}],12:[function(e,t,n){function i(e,t){function n(t){var n;n=o.exists(W)&&o.isNotEmpty(W)?W:t.isSecure()?_:b;var i=!0;-1==n.indexOf("?")&&(n+="?",i=!1);var r=e.getCustomerC2();o.isNotEmpty(r)&&(i&&(n+="&"),n+="c2="+r,i=!0);var a="JetportGotAMaskOfThe"+e.getSalt()+"S.D_K-";return a=u(a),o.isNotEmpty(a)&&(i&&(n+="&"),n+="s="+a),n.toLowerCase()}function i(){if(A()&&!Y.isEmpty()&&null!=e.getCustomerC2()){if(!(H>=B))return!0;if(1e3*j*60-(+new Date-K)<=0)return H=0,K=0,!0}return!1}function E(){z=0,null!=V&&(V=null)}function A(){return!!e.getEnabled()&&r.isConnectionAvailable()}function k(){for(var e=S(),t=!1,n=e.length;n>0;n--){var i=x(e[n-1]);t?O(e[n-1],!0):t=D(i)}}function T(t){var n=e.getStorage(),i=0;n.has(t)&&(i=Number(n.get(t)),w(i))}function w(t){if(e.getEnabled()){var n=e.getStorage();n.has(p)&&(t+=Number(n.get(p))),n.set(p,t+"")}}function S(){return null==G&&(G=f.getFileList()),G}function P(n){var i=t+c.getLabelFromEvent(n,"ns_ts");f.writeEvent(e,i,n),null==G&&(G=[]),G.push(i),E()}function O(t,n){if(null!=t){n&&T(t),f.deleteFile(e,t);var i=s.indexOf(t,G);i>=0&&G.splice(i,1)}}function C(){return null!=G&&G.length>0?G[0]:null}function L(){return null!=G&&G.length>0?G[G.length-1]:null}function R(t){var n=e.getStorage(),i=0;return null!=t&&(i=n.has(t)?Number(n.get(t)):f.readCachedEvents(e,t).length),i}function I(t){for(var n=0,i=f.readCachedEvents(e,t),r=!1;n<i.length&&!(r=!D(Number(c.getLabelFromEvent(i[n],"ns_ts"))));n++);return r?(w(n),i=i.slice(n,i.length)):(O(t,!0),i=null),i}function x(e){return Number(e.substring(t.length))}function D(e){var t=+new Date;return 24*F*60*60*1e3-(t-e)<=0}function M(t,a){var o=e.getStorage();if(i()){var s=null,u=null;if(null==V&&(u=L(),null!=(s=I(u))&&s.length>0)){var l=o.has(p)?o.get(p):"0";V=c.generateXMLRequestString(s,l)}if(null!=V&&V.length>0)return void r.httpPost(n(t),V,function(e){if(200==e)return H++,O(u,!1),E(),K=+new Date,o.remove(p),void r.setTimeout(function(){M(t,a)},0);a()})}a()}var N,U,B,j,F,G,V,H,K,W,Y=this,z=0;t=t||d,a.extend(this,{flush:function(t,n){e.getEnabled()&&(k(),1e3*j*60-(+new Date-z)<=0?(z=0,M(t,n)):n())},setCacheMaxMeasurements:function(e){N=e},getCacheMaxMeasurements:function(){return N},setCacheMaxBatchFiles:function(e){e<=0||(U=e)},getCacheMaxBatchFiles:function(){return U},setCacheMaxPosts:function(e){B=e},getCacheMaxPosts:function(){return B},setCacheWaitMinutes:function(e){j=e},getCacheWaitMinutes:function(){return j},setCacheMeasurementExpiry:function(e){F=e},getCacheMeasurementExpiry:function(){return F},saveEvent:function(t){if(e.getEnabled()){var n=e.getDispatchProperties();if("string"!=typeof t&&(t=t.retrieveLabelsAsString(n.getMeasurementLabelOrder())),n.getOfflineTransmissionMode()!=l.DISABLED&&null!=e.getCustomerC2()&&o.isNotEmpty(c.getLabelFromEvent(t,"ns_ts"))){var i=L();null!=i?R(i)<this.getCacheMaxBatchFiles()?(t="\n"+t,f.writeEvent(e,i,t),E()):(S().length>=this.getCacheMaxMeasurements()/this.getCacheMaxBatchFiles()&&O(C(),!0),P(t)):P(t)}}},getEventCount:function(){var e=R(L());return S().length>0&&(e+=(S().length-1)*this.getCacheMaxBatchFiles()),e},isEmpty:function(){return 0==this.getEventCount()},clear:function(){for(var t=S(),n=t.length;n>0;n--)O(t[n-1],!0);e.getStorage().remove(p)},setUrl:function(e){W=e}}),this.setCacheMaxMeasurements(h),this.setCacheMaxBatchFiles(y),this.setCacheMaxPosts(g),this.setCacheWaitMinutes(v),this.setCacheMeasurementExpiry(m),k()}var r=e(36),a=e(24),o=e(21),s=e(19),u=e(22),l=e(8).TransmissionMode,c=e(15),f=e(14).FileUtils,d="cs_cache_",p="CACHE_DROPPED_MEASUREMENTS",h=2e3,y=100,g=10,v=30,m=31,b="http://udm.scorecardresearch.com/offline",_="https://udm.scorecardresearch.com/offline";i.CACHE_MAX_SIZE=h,i.CACHE_MAX_BATCH_SIZE=y,i.CACHE_MAX_FLUSHES_INAROW=g,i.CACHE_WAIT_MINUTES=v,i.CACHE_EXPIRY_DAYS=m,n.OfflineMeasurementsCache=i},{14:14,15:15,19:19,21:21,22:22,24:24,36:36,8:8}],13:[function(e,t,n){function i(e,t,n,i){function l(t){200!=t&&(302!=t&&301!=t||e.isHttpRedirectCaching())&&e.getOfflineCache().saveEvent(p.retrieveLabelsAsString(d.getMeasurementLabelOrder()),d),i&&i()}function c(){var e=f.process(p.getPixelURL());o.httpGet(e,l)}var f=this,d=t,p=n;r.extend(f,{process:function(e){e+=p.retrieveLabelsAsString(d.getMeasurementLabelOrder());var t=a.browserAcceptsLargeURLs()?s.URL_LENGTH_LIMIT:s.RESTRICTED_URL_LENGTH_LIMIT;if(e.length>t&&e.indexOf("&")>0){var n=e.substring(0,t-8).lastIndexOf("&"),i=encodeURIComponent(e.substring(n+1));e=e.substring(0,n)+"&ns_cut="+i}return e.length>t&&(e=e.substring(0,t)),e},send:function(){var t=d.getLiveTransmissionMode();if(t==u.NEVER||t==u.DISABLED)e.getOfflineCache().saveEvent(p.retrieveLabelsAsString(d.getMeasurementLabelOrder()),d),i&&i();else if(d.getOfflineTransmissionMode()!=u.NEVER&&e.getOfflineCache().getEventCount()>0){var n=e.getOfflineCache();n.flush(d,c)}else c();return!0}})}var r=e(24),a=e(20),o=e(36),s=e(4),u=e(8).TransmissionMode;t.exports=i},{20:20,24:24,36:36,4:4,8:8}],14:[function(e,t,n){function i(e,t){return e.indexOf(t)>=0}function r(e){return e+="",!(e.indexOf(",")<0)&&e.indexOf(" ")<0}function a(e){return e.split(",")}function o(e){return!isNaN(parseInt(e))&&isFinite(e)}function s(e,t){for(var n=t,i=a(e),r=0,o=i.length;r<o;r++){var s=i[r];if(s.length>0)if(n.indexOf(s)<0)0==n.length?n+=s+":1":n+=";"+s+":1";else for(var u=n.split(";"),l=0,c=u.length;l<c;l++)if(u[l].indexOf(s)>=0){var f=u[l].split(":"),d=Number(f[1]);d++;var p=f[0]+":"+d,h=n.indexOf(u[l]);n=n.substring(0,h)+p+n.substring(h+u[l].length)}}return n}var u=e(36),l="cache_dir",c={getFileList:function(){return u.IO.dir(l)||[]},writeEvent:function(e,t,n){var i=e.getStorage(),r=Number(i.get(t))||0;u.IO.append(l,t,n),r++,i.set(t,r+"")},deleteFile:function(e,t){u.IO.deleteFile(l,t),e.getStorage().remove(t)},readCachedEvents:function(e,t){var n=u.IO.read(l,t);return n?n.split("\n"):[]}},f=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var a=e[n],u=t[n];null==a?r(u)?e[n]=s(u,""):e[n]=u:o(a)&&o(u)?e[n]=parseInt(a)+parseInt(u)+"":r(u)?e[n]=s(u,a):i(a,u)||(e[n]=a+","+u)}};n.aggregateLabels=f,n.FileUtils=c},{36:36}],15:[function(e,t,n){function i(e){var t=l(f.join("")).toLowerCase();e.splice(v,0,t)}function r(e,t,n){a(t,n),-1!=d&&p>d&&e.push(n,'="',t.substring(d,p),'" ')}function a(e,t){d=p=-1;var n=0;do{if((n=e.indexOf(t,n))>=0){var i=n+t.length;if((0==n||"&"==e.charAt(n-1))&&i<e.length&&"="==e.charAt(i))return d=i+1,void(-1==(p=e.indexOf("&",d))&&(p=e.length));n=i+1}}while(n>=0&&n<e.length)}function o(e,t){f=[];for(var n=0,i=e.length;n<i;n++)c.isNotEmpty(e[n])&&s(e[n],t)}function s(e,t){var n=0;if(a(e,"ns_ts"),-1!=d&&p>d){t.push('<event t="',e.substring(d,p),'">');for(var i,r,o=0,s=0;o<e.length;){if(i=e.indexOf("&",o),-1==i&&(i=e.length),i>o&&(r=e.indexOf("=",o))>o){var u=!0;if(n!=g)for(var l=0,h=y.length;l<h;l++){var v=1<<l;if(0==(n&v)&&y[l].length==r-o&&c.regionMatches(y[l],0,e,o,y[l].length)){u=!1,n|=v;break}}u&&(s>0&&(f.push("&"),t.push("&")),f.push(e.substring(o,i)),t.push(e.substring(o,i)),s++)}o=i+1}t.push("</event>")}}function u(e,t,n){var i=+new Date+"";e.push('<events t="',i,'" ');for(var a=0,o=h.length;a<o;a++)r(e,t,h[a]);e.push('dropped="',n,'" md5="','">'),v=e.length-1}var l=e(22),c=e(21),f=[],d=-1,p=-1,h=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ak"],y=["c12","c1","ns_ap_an","ns_ap_pn","ns_ap_pv","ns_ap_device","ns_ts","ns_ak"],g=(1<<y.length)-1,v=-1,m={generateXMLRequestString:function(e,t){var n=['<?xml version="1.0" encoding="UTF-8" ?>'];return u(n,e[0],t),o(e,n),i(n),n.push("</events>"),n.join("")},getLabelFromEvent:function(e,t){return a(e,t),-1!=d&&p>d?e.substring(d,p):null}};t.exports=m},{21:21,22:22}],16:[function(e,n,i){(function(t){var i=e(24),r=n.exports=t.ns_||{};"undefined"!=typeof window&&(window.ns_=r),r.comScore=e(2),r.loadModule=r.loadModule||function(e){for(var t in e)"ns_"!==t&&i.extend(r,e);return e.ns_=r,r},r.PlatformAPIs=e(32),e(39),r.StreamingAnalytics=e(67),r.ReducedRequirementsStreamingAnalytics=e(64)}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2,24:24,32:32,39:39,64:64,67:67}],17:[function(e,t,n){var i={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0",RSA_PUBLIC_KEY:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQD0+fCVxGq3Bk24jUKO1PzsiUs3\nvqww6zR4n2e3AweVLUAgsrDRbAWJ/EjZm1WBLBVNMiTLpSAkV6sjOIrUs03xdUEj\nQZJHwOGK+MfzFaZukoo0qAsEMPwQ5posv0JdkBdUGhKchPk6+NYmD6Hb44Lkp7/a\nQnVeWzvfAPQyTJR5wQIDAQAB\n-----END PUBLIC KEY-----"};t.exports=i},{}],18:[function(e,t,n){function i(e,t){function n(t){t=t||[];var n=[c,+new Date];return e&&n.push(e),t=Array.prototype.slice.call(t),n=n.concat(t)}function i(e){var n,i,r;if("boolean"==typeof t||!t)return!!t;if(r=e.join(" "),t instanceof Array&&t.length>0){for(n=0;n<t.length;++n)if((i=t[n])instanceof RegExp&&i.test(r))return!0;return!1}if("object"==(void 0===t?"undefined":o(t))){var a=!1;if(t.hide instanceof Array)for(n=0;n<t.hide.length;++n)if((i=t.hide[n])instanceof RegExp&&i.test(r)){a=!0;break}if(t.show instanceof Array)for(n=0;n<t.show.length;++n)if((i=t.show[n])instanceof RegExp&&i.test(r))return!0;return!a&&!t.show}return!0}function u(e){var n=f.length;if(n>r||"object"==(void 0===t?"undefined":o(t))&&t.max&&n>t.max){var i="object"==(void 0===t?"undefined":o(t))&&t.max||r;f.splice(0,f.length-i+1)}f.push(e)}var l=this,c="comScore",f=[];l.log=function(){var e=n(arguments);u(e),("undefined"==typeof console?"undefined":o(console))!=a&&o(console.log)==s&&i(e)&&console.log.apply(console,e)},l.warn=function(){var e=n(arguments);u(e),("undefined"==typeof console?"undefined":o(console))!=a&&o(console.warn)==s&&i(e)&&console.warn.apply(console,e)},l.error=function(){var e=n(arguments);u(e),("undefined"==typeof console?"undefined":o(console))!=a&&o(console.error)==s&&i(e)&&console.error.apply(console,e)},l.apiCall=function(e){for(var t=["API call to:",e],n=1;n<arguments.length;++n)t.push("arg"+n+":",arguments[n]);this.log.apply(this,t)},l.infoLog=function(){var e=["Trace log:"];e.push.apply(e,Array.prototype.slice.call(arguments)),this.log.apply(this,e)},l.deprecation=function(e,t){var n=["Deprecated API:",e,"is deprecated and will be eventually removed."];t&&n.push("Use",t,"instead."),this.warn.apply(this,n)},l.getLogHistory=function(){return f}}var r=1e4,a="undefined",s="function";t.exports=i},{}],19:[function(e,t,n){var i={};i.indexOf=function(e,t){var n=-1;return i.forEach(t,function(t,i){t==e&&(n=i)}),n},i.forEach=function(e,t,n){try{if("function"==typeof t)if(n=void 0!==n?n:null,"number"!=typeof e.length||void 0===e[0]){var i=void 0!==e.__proto__;for(var r in e)e.hasOwnProperty(r)&&(!i||i&&void 0===e.__proto__[r])&&"function"!=typeof e[r]&&t.call(n,e[r],r)}else for(var a=0,o=e.length;a<o;a++)t.call(n,e[a],a)}catch(e){}},n.indexOf=i.indexOf,n.forEach=i.forEach},{}],20:[function(e,t,n){var i={},r="undefined"!=typeof document&&document||void 0;i.hasPageVisibilityAPISupport=function(){if(!r)return!1;var e=!1;return void 0!==r.hidden?e=!0:void 0!==r.mozHidden?e=!0:void 0!==r.msHidden?e=!0:void 0!==r.webkitHidden&&(e=!0),function(){return e}}(),i.getPageVisibilityAPI=function(){if(!r)return null;var e,t,n;void 0!==r.hidden?(e="hidden",t="visibilitychange",n="visibilityState"):void 0!==r.mozHidden?(e="mozHidden",t="mozvisibilitychange",n="mozVisibilityState"):void 0!==r.msHidden?(e="msHidden",t="msvisibilitychange",n="msVisibilityState"):void 0!==r.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange",n="webkitVisibilityState");var i={hidden:e,visibilityChange:t,state:n};return function(){return i}}(),i.isTabInBackground=function(){if(!r)return null;var e=i.getPageVisibilityAPI();return function(){return r[e.hidden]}}(),i.getBrowserName=function(){if(!navigator)return"";var e,t,n=navigator.userAgent||"",i=navigator.appName||"";return-1!=(t=n.indexOf("Opera"))||-1!=(t=n.indexOf("OPR/"))?i="Opera":-1!=(t=n.indexOf("Android"))?i="Android":-1!=(t=n.indexOf("Chrome"))?i="Chrome":-1!=(t=n.indexOf("Safari"))?i="Safari":-1!=(t=n.indexOf("Firefox"))?i="Firefox":-1!=(t=n.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=n.lastIndexOf(" ")+1)<(t=n.lastIndexOf("/"))?(i=n.substring(e,t),i.toLowerCase()==i.toUpperCase()&&(i=navigator.appName)):i="unknown",i},i.getBrowserFullVersion=function(){if(!navigator)return"";var e,t,n,i,r=navigator.userAgent||"",a=navigator.appName||"",o=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(t=r.indexOf("Opera"))?(o=r.substring(t+6),-1!=(t=r.indexOf("Version"))&&(o=r.substring(t+8))):-1!=(t=r.indexOf("OPR/"))?o=r.substring(t+4):-1!=(t=r.indexOf("Android"))?o=r.substring(t+11):-1!=(t=r.indexOf("Chrome"))?o=r.substring(t+7):-1!=(t=r.indexOf("Safari"))?(o=r.substring(t+7),-1!=(t=r.indexOf("Version"))&&(o=r.substring(t+8))):-1!=(t=r.indexOf("Firefox"))?o=r.substring(t+8):"Microsoft Internet Explorer"==a?(i=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),null!=i.exec(r)&&(o=parseFloat(RegExp.$1))):"Netscape"==a?(i=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),null!=i.exec(r)&&(o=parseFloat(RegExp.$1))):o=r.lastIndexOf(" ")+1<(t=r.lastIndexOf("/"))?r.substring(t+1):"unknown",o=o.toString(),-1!=(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(" "))&&(o=o.substring(0,n)),-1!=(n=o.indexOf(")"))&&(o=o.substring(0,n)),e=parseInt(""+o,10),isNaN(e)&&(o=""+parseFloat(navigator.appVersion)),o},i.browserAcceptsLargeURLs=function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},i.isBrowser=function(){return"undefined"!=typeof window&&r},i.isWebSecure=function(){return!!r&&"s"===r.location.href.charAt(4)},t.exports.hasPageVisibilityAPISupport=i.hasPageVisibilityAPISupport,t.exports.getPageVisibilityAPI=i.getPageVisibilityAPI,t.exports.isTabInBackground=i.isTabInBackground,t.exports.getBrowserName=i.getBrowserName,t.exports.getBrowserFullVersion=i.getBrowserFullVersion,t.exports.browserAcceptsLargeURLs=i.browserAcceptsLargeURLs,t.exports.isBrowser=i.isBrowser,t.exports.isWebSecure=i.isWebSecure},{}],21:[function(e,t,n){var i=i||{};i.uid=function(){var e=1;return function(){return+new Date+"_"+e++}}(),i.isEmpty=function(e){return void 0===e||null===e||""===e||e instanceof Array&&0===e.length},i.isNotEmpty=function(e){return!this.isEmpty(e)},i.safeGet=function(e,t){return t=this.exists(t)?t:"",this.exists(e)?e:t},i.isTrue=function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},i.regionMatches=function(e,t,n,i,r){if(t<0||i<0||t+r>e.length||i+r>n.length)return!1;for(;--r>=0;)if(e.charAt(t++)!=n.charAt(i++))return!1;return!0},i.exists=function(e){return void 0!==e&&null!=e},t.exports.exists=i.exists,t.exports.regionMatches=i.regionMatches,t.exports.isTrue=i.isTrue,t.exports.safeGet=i.safeGet,t.exports.isNotEmpty=i.isNotEmpty,t.exports.isEmpty=i.isEmpty,t.exports.uid=i.uid},{}],22:[function(e,t,n){var i={};i.md5=function(){function e(e,t){var o=e[0],s=e[1],u=e[2],l=e[3];o=n(o,s,u,l,t[0],7,-680876936),l=n(l,o,s,u,t[1],12,-389564586),u=n(u,l,o,s,t[2],17,606105819),s=n(s,u,l,o,t[3],22,-1044525330),o=n(o,s,u,l,t[4],7,-176418897),l=n(l,o,s,u,t[5],12,1200080426),u=n(u,l,o,s,t[6],17,-1473231341),s=n(s,u,l,o,t[7],22,-45705983),o=n(o,s,u,l,t[8],7,1770035416),l=n(l,o,s,u,t[9],12,-1958414417),u=n(u,l,o,s,t[10],17,-42063),s=n(s,u,l,o,t[11],22,-1990404162),o=n(o,s,u,l,t[12],7,1804603682),l=n(l,o,s,u,t[13],12,-40341101),u=n(u,l,o,s,t[14],17,-1502002290),s=n(s,u,l,o,t[15],22,1236535329),o=i(o,s,u,l,t[1],5,-165796510),l=i(l,o,s,u,t[6],9,-1069501632),u=i(u,l,o,s,t[11],14,643717713),s=i(s,u,l,o,t[0],20,-373897302),o=i(o,s,u,l,t[5],5,-701558691),l=i(l,o,s,u,t[10],9,38016083),u=i(u,l,o,s,t[15],14,-660478335),s=i(s,u,l,o,t[4],20,-405537848),o=i(o,s,u,l,t[9],5,568446438),l=i(l,o,s,u,t[14],9,-1019803690),u=i(u,l,o,s,t[3],14,-187363961),s=i(s,u,l,o,t[8],20,1163531501),o=i(o,s,u,l,t[13],5,-1444681467),l=i(l,o,s,u,t[2],9,-51403784),u=i(u,l,o,s,t[7],14,1735328473),s=i(s,u,l,o,t[12],20,-1926607734),o=r(o,s,u,l,t[5],4,-378558),l=r(l,o,s,u,t[8],11,-2022574463),u=r(u,l,o,s,t[11],16,1839030562),s=r(s,u,l,o,t[14],23,-35309556),o=r(o,s,u,l,t[1],4,-1530992060),l=r(l,o,s,u,t[4],11,1272893353),u=r(u,l,o,s,t[7],16,-155497632),s=r(s,u,l,o,t[10],23,-1094730640),o=r(o,s,u,l,t[13],4,681279174),l=r(l,o,s,u,t[0],11,-358537222),u=r(u,l,o,s,t[3],16,-722521979),s=r(s,u,l,o,t[6],23,76029189),o=r(o,s,u,l,t[9],4,-640364487),l=r(l,o,s,u,t[12],11,-421815835),u=r(u,l,o,s,t[15],16,530742520),s=r(s,u,l,o,t[2],23,-995338651),o=a(o,s,u,l,t[0],6,-198630844),l=a(l,o,s,u,t[7],10,1126891415),u=a(u,l,o,s,t[14],15,-1416354905),s=a(s,u,l,o,t[5],21,-57434055),o=a(o,s,u,l,t[12],6,1700485571),l=a(l,o,s,u,t[3],10,-1894986606),u=a(u,l,o,s,t[10],15,-1051523),s=a(s,u,l,o,t[1],21,-2054922799),o=a(o,s,u,l,t[8],6,1873313359),l=a(l,o,s,u,t[15],10,-30611744),u=a(u,l,o,s,t[6],15,-1560198380),s=a(s,u,l,o,t[13],21,1309151649),o=a(o,s,u,l,t[4],6,-145523070),l=a(l,o,s,u,t[11],10,-1120210379),u=a(u,l,o,s,t[2],15,718787259),s=a(s,u,l,o,t[9],21,-343485551),e[0]=f(o,e[0]),e[1]=f(s,e[1]),e[2]=f(u,e[2]),e[3]=f(l,e[3])}function t(e,t,n,i,r,a){return t=f(f(t,e),f(i,a)),f(t<<r|t>>>32-r,n)}function n(e,n,i,r,a,o,s){return t(n&i|~n&r,e,n,a,o,s)}function i(e,n,i,r,a,o,s){return t(n&r|i&~r,e,n,a,o,s)}function r(e,n,i,r,a,o,s){return t(n^i^r,e,n,a,o,s)}function a(e,n,i,r,a,o,s){return t(i^(n|~r),e,n,a,o,s)}function o(t){var n,i=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=t.length;n+=64)e(r,s(t.substring(n-64,n)));t=t.substring(n-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<t.length;n++)a[n>>2]|=t.charCodeAt(n)<<(n%4<<3);if(a[n>>2]|=128<<(n%4<<3),n>55)for(e(r,a),n=0;n<16;n++)a[n]=0;return a[14]=8*i,e(r,a),r}function s(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function u(e){for(var t="",n=0;n<4;n++)t+=d[e>>8*n+4&15]+d[e>>8*n&15];return t}function l(e){for(var t=0;t<e.length;t++)e[t]=u(e[t]);return e.join("")}function c(e){return l(o(e))}function f(e,t){return e+t&4294967295}function f(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}var d="0123456789abcdef".split("");return c("hello"),c}(),t.exports=i.md5},{}],23:[function(e,t,n){var i=function e(t){if("object"!=(void 0===t?"undefined":o(t)))return t;var n;if(t instanceof Array){n=[];for(var i=0,r=t.length;i<r;i++)n[i]=e(t[i]);return n}n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);return n};t.exports=i},{}],24:[function(e,t,n){var i=i||{};i.filter=function(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&e(t[i])&&(n[i]=t[i]);return n},i.extend=function(e){var t,n=arguments.length;e=e||{};for(var i=1;i<n;i++)if(t=arguments[i])for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},t.exports.filter=i.filter,t.exports.extend=i.extend},{}],25:[function(e,t,n){var i=e(17),r={};r.encrypt=function(){function e(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function t(){return new e(null)}function n(e){return St.charAt(e)}function r(e,t){var n=Pt[e.charCodeAt(t)];return null==n?-1:n}function a(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function o(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+DV:this.t=0}function s(e){var n=t();return n.fromInt(e),n}function u(t,n){var i;if(16==n)i=4;else if(8==n)i=3;else if(256==n)i=8;else if(2==n)i=1;else if(32==n)i=5;else{if(4!=n)return void this.fromRadix(t,n);i=2}this.t=0,this.s=0;for(var a=t.length,o=!1,s=0;--a>=0;){var u=8==i?255&t[a]:r(t,a);u<0?"-"==t.charAt(a)&&(o=!0):(o=!1,0==s?this[this.t++]=u:s+i>this.DB?(this[this.t-1]|=(u&(1<<this.DB-s)-1)<<s,this[this.t++]=u>>this.DB-s):this[this.t-1]|=u<<s,(s+=i)>=this.DB&&(s-=this.DB))}8==i&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&e.ZERO.subTo(this,this)}function l(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function c(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,r=(1<<t)-1,a=!1,o="",s=this.t,u=this.DB-s*this.DB%t;if(s-- >0)for(u<this.DB&&(i=this[s]>>u)>0&&(a=!0,o=n(i));s>=0;)u<t?(i=(this[s]&(1<<u)-1)<<t-u,i|=this[--s]>>(u+=this.DB-t)):(i=this[s]>>(u-=t)&r,u<=0&&(u+=this.DB,--s)),i>0&&(a=!0),a&&(o+=n(i));return a?o:"0"}function f(){var n=t();return e.ZERO.subTo(this,n),n}function d(){return this.s<0?this.negate():this}function p(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0}function h(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function y(){return this.t<=0?0:this.DB*(this.t-1)+h(this[this.t-1]^this.s&this.DM)}function g(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function v(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function m(e,t){var n,i=e%this.DB,r=this.DB-i,a=(1<<r)-1,o=Math.floor(e/this.DB),s=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>r|s,s=(this[n]&a)<<i;for(n=o-1;n>=0;--n)t[n]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function b(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)return void(t.t=0);var i=e%this.DB,r=this.DB-i,a=(1<<i)-1;t[0]=this[n]>>i;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<r,t[o-n]=this[o]>>i;i>0&&(t[this.t-n-1]|=(this.s&a)<<r),t.t=this.t-n,t.clamp()}function _(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()}function E(t,n){var i=this.abs(),r=t.abs(),a=i.t;for(n.t=a+r.t;--a>=0;)n[a]=0;for(a=0;a<r.t;++a)n[a+i.t]=i.am(0,r[a],n,a,0,i.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)}function A(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function k(n,i,r){var a=n.abs();if(!(a.t<=0)){var o=this.abs();if(o.t<a.t)return null!=i&&i.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=t());var s=t(),u=this.s,l=n.s,c=this.DB-h(a[a.t-1]);c>0?(a.lShiftTo(c,s),o.lShiftTo(c,r)):(a.copyTo(s),o.copyTo(r));var f=s.t,d=s[f-1];if(0!=d){var p=d*(1<<this.F1)+(f>1?s[f-2]>>this.F2:0),y=this.FV/p,g=(1<<this.F1)/p,v=1<<this.F2,m=r.t,b=m-f,_=null==i?t():i;for(s.dlShiftTo(b,_),r.compareTo(_)>=0&&(r[r.t++]=1,r.subTo(_,r)),e.ONE.dlShiftTo(f,_),_.subTo(s,s);s.t<f;)s[s.t++]=0;for(;--b>=0;){var E=r[--m]==d?this.DM:Math.floor(r[m]*y+(r[m-1]+v)*g);if((r[m]+=s.am(0,E,r,b,0,f))<E)for(s.dlShiftTo(b,_),r.subTo(_,r);r[m]<--E;)r.subTo(_,r)}null!=i&&(r.drShiftTo(f,i),u!=l&&e.ZERO.subTo(i,i)),r.t=f,r.clamp(),c>0&&r.rShiftTo(c,r),u<0&&e.ZERO.subTo(r,r)}}}function T(n){var i=t();return this.abs().divRemTo(n,null,i),this.s<0&&i.compareTo(e.ZERO)>0&&n.subTo(i,i),i}function w(e){this.m=e}function S(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function P(e){return e}function O(e){e.divRemTo(this.m,null,e)}function C(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function L(e,t){e.squareTo(t),this.reduce(t)}function R(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function I(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function x(n){var i=t();return n.abs().dlShiftTo(this.m.t,i),i.divRemTo(this.m,null,i),n.s<0&&i.compareTo(e.ZERO)>0&&this.m.subTo(i,i),i}function D(e){var n=t();return e.copyTo(n),this.reduce(n),n}function M(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function N(e,t){e.squareTo(t),this.reduce(t)}function U(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function B(){return 0==(this.t>0?1&this[0]:this.s)}function j(n,i){if(n>4294967295||n<1)return e.ONE;var r=t(),a=t(),o=i.convert(this),s=h(n)-1;for(o.copyTo(r);--s>=0;)if(i.sqrTo(r,a),(n&1<<s)>0)i.mulTo(a,o,r);else{var u=r;r=a,a=u}return i.revert(r)}function F(e,t){var n;return n=e<256||t.isEven()?new w(t):new I(t),this.exp(e,n)}function G(){var e=t();return this.copyTo(e),e}function V(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function H(){return 0==this.t?this.s:this[0]<<24>>24}function K(){return 0==this.t?this.s:this[0]<<16>>16}function W(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function Y(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function z(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var n=this.chunkSize(e),i=Math.pow(e,n),r=s(i),a=t(),o=t(),u="";for(this.divRemTo(r,a,o);a.signum()>0;)u=(i+o.intValue()).toString(e).substr(1)+u,a.divRemTo(r,a,o);return o.intValue().toString(e)+u}function q(t,n){this.fromInt(0),null==n&&(n=10);for(var i=this.chunkSize(n),a=Math.pow(n,i),o=!1,s=0,u=0,l=0;l<t.length;++l){var c=r(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(o=!0):(u=n*u+c,++s>=i&&(this.dMultiply(a),this.dAddOffset(u,0),s=0,u=0))}s>0&&(this.dMultiply(Math.pow(n,s)),this.dAddOffset(u,0)),o&&e.ZERO.subTo(this,this)}function X(t,n,i){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),ie,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var r=[],a=7&t;r.length=1+(t>>3),n.nextBytes(r),a>0?r[0]&=(1<<a)-1:r[0]=0,this.fromString(r,256)}}function J(){var e=this.t,t=[];t[0]=this.s;var n,i=this.DB-e*this.DB%8,r=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[r++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(t[r++]=n);return t}function Q(e){return 0==this.compareTo(e)}function $(e){return this.compareTo(e)<0?this:e}function Z(e){return this.compareTo(e)>0?this:e}function ee(e,t,n){var i,r,a=Math.min(e.t,this.t);for(i=0;i<a;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(r=e.s&this.DM,i=a;i<this.t;++i)n[i]=t(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=a;i<e.t;++i)n[i]=t(r,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function te(e,t){return e&t}function ne(e){var n=t();return this.bitwiseTo(e,te,n),n}function ie(e,t){return e|t}function re(e){var n=t();return this.bitwiseTo(e,ie,n),n}function ae(e,t){return e^t}function oe(e){var n=t();return this.bitwiseTo(e,ae,n),n}function se(e,t){return e&~t}function ue(e){var n=t();return this.bitwiseTo(e,se,n),n}function le(){for(var e=t(),n=0;n<this.t;++n)e[n]=this.DM&~this[n];return e.t=this.t,e.s=~this.s,e}function ce(e){var n=t();return e<0?this.rShiftTo(-e,n):this.lShiftTo(e,n),n}function fe(e){var n=t();return e<0?this.lShiftTo(-e,n):this.rShiftTo(e,n),n}function de(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function pe(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+de(this[e]);return this.s<0?this.t*this.DB:-1}function he(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function ye(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=he(this[n]^t);return e}function ge(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function ve(t,n){var i=e.ONE.shiftLeft(t);return this.bitwiseTo(i,n,i),i}function me(e){return this.changeBit(e,ie)}function be(e){return this.changeBit(e,se)}function _e(e){return this.changeBit(e,ae)}function Ee(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()}function Ae(e){var n=t();return this.addTo(e,n),n}function ke(e){var n=t();return this.subTo(e,n),n}function Te(e){var n=t();return this.multiplyTo(e,n),n}function we(){var e=t();return this.squareTo(e),e}function Se(e){var n=t();return this.divRemTo(e,n,null),n}function Pe(e){var n=t();return this.divRemTo(e,null,n),n}function Oe(e){var n=t(),i=t();return this.divRemTo(e,n,i),[n,i]}function Ce(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function Le(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function Re(){}function Ie(e){return e}function xe(e,t,n){e.multiplyTo(t,n)}function De(e,t){e.squareTo(t)}function Me(e){return this.exp(e,new Re)}function Ne(e,t,n){var i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;var r;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()}function Ue(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)}function Be(n){this.r2=t(),this.q3=t(),e.ONE.dlShiftTo(2*n.t,this.r2),this.mu=this.r2.divide(n),this.m=n}function je(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var n=t();return e.copyTo(n),this.reduce(n),n}function Fe(e){return e}function Ge(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function Ve(e,t){e.squareTo(t),this.reduce(t)}function He(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function Ke(e,n){var i,r,a=e.bitLength(),o=s(1);if(a<=0)return o;i=a<18?1:a<48?3:a<144?4:a<768?5:6,r=a<8?new w(n):n.isEven()?new Be(n):new I(n);var u=[],l=3,c=i-1,f=(1<<i)-1;if(u[1]=r.convert(this),i>1){var d=t();for(r.sqrTo(u[1],d);l<=f;)u[l]=t(),r.mulTo(d,u[l-2],u[l]),l+=2}var p,y,g=e.t-1,v=!0,m=t();for(a=h(e[g])-1;g>=0;){for(a>=c?p=e[g]>>a-c&f:(p=(e[g]&(1<<a+1)-1)<<c-a,g>0&&(p|=e[g-1]>>this.DB+a-c)),l=i;0==(1&p);)p>>=1,--l;if((a-=l)<0&&(a+=this.DB,--g),v)u[p].copyTo(o),v=!1;else{for(;l>1;)r.sqrTo(o,m),r.sqrTo(m,o),l-=2;l>0?r.sqrTo(o,m):(y=o,o=m,m=y),r.mulTo(m,u[p],o)}for(;g>=0&&0==(e[g]&1<<a);)r.sqrTo(o,m),y=o,o=m,m=y,--a<0&&(a=this.DB-1,--g)}return r.revert(o)}function We(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var r=t.getLowestSetBit(),a=n.getLowestSetBit();if(a<0)return t;for(r<a&&(a=r),a>0&&(t.rShiftTo(a,t),n.rShiftTo(a,n));t.signum()>0;)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return a>0&&n.lShiftTo(a,n),n}function Ye(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n}function ze(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var i=t.clone(),r=this.clone(),a=s(1),o=s(0),u=s(0),l=s(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),n?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(t,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(t,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),n?(u.isEven()&&l.isEven()||(u.addTo(this,u),l.subTo(t,l)),u.rShiftTo(1,u)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);i.compareTo(r)>=0?(i.subTo(r,i),n&&a.subTo(u,a),o.subTo(l,o)):(r.subTo(i,r),n&&u.subTo(a,u),l.subTo(o,l))}return 0!=r.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l}function qe(e){var t,n=this.abs();if(1==n.t&&n[0]<=Ot[Ot.length-1]){for(t=0;t<Ot.length;++t)if(n[0]==Ot[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<Ot.length;){for(var i=Ot[t],r=t+1;r<Ot.length&&i<Ct;)i*=Ot[r++];for(i=n.modInt(i);t<r;)if(i%Ot[t++]==0)return!1}return n.millerRabin(e)}function Xe(n){var i=this.subtract(e.ONE),r=i.getLowestSetBit();if(r<=0)return!1;var a=i.shiftRight(r);(n=n+1>>1)>Ot.length&&(n=Ot.length);for(var o=t(),s=0;s<n;++s){o.fromInt(Ot[Math.floor(Math.random()*Ot.length)]);var u=o.modPow(a,this);if(0!=u.compareTo(e.ONE)&&0!=u.compareTo(i)){for(var l=1;l++<r&&0!=u.compareTo(i);)if(u=u.modPowInt(2,this),0==u.compareTo(e.ONE))return!1;if(0!=u.compareTo(i))return!1}}return!0}function Je(){this.i=0,this.j=0,this.S=[]}function Qe(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,i=this.S[t],this.S[t]=this.S[n],this.S[n]=i;this.i=0,this.j=0}function $e(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]}function Ze(){return new Je}function et(e){Rt[It++]^=255&e,Rt[It++]^=e>>8&255,Rt[It++]^=e>>16&255,Rt[It++]^=e>>24&255,It>=xt&&(It-=xt)}function tt(){et((new Date).getTime())}function nt(){if(null==Lt){for(tt(),Lt=Ze(),Lt.init(Rt),It=0;It<Rt.length;++It)Rt[It]=0;It=0}return Lt.next()}function it(e){var t;for(t=0;t<e.length;++t)e[t]=nt()}function rt(){}function at(t,n){return new e(t,n)}function ot(t,n){if(n<t.length+11)return alert("Message too long for RSA"),null;for(var i=[],r=t.length-1;r>=0&&n>0;){var a=t.charCodeAt(r--);a<128?i[--n]=a:a>127&&a<2048?(i[--n]=63&a|128,i[--n]=a>>6|192):(i[--n]=63&a|128,i[--n]=a>>6&63|128,i[--n]=a>>12|224)}i[--n]=0;for(var o=new rt,s=[];n>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);i[--n]=s[0]}return i[--n]=2,i[--n]=0,new e(i)}function st(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ut(e,t){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=at(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function lt(e){return e.modPowInt(this.e,this.n)}function ct(e){var t=ot(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function ft(e,t){for(var n=e.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var a=255&n[i];a<128?r+=String.fromCharCode(a):a>191&&a<224?(r+=String.fromCharCode((31&a)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&a)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}function dt(e,t,n){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=at(e,16),this.e=parseInt(t,16),this.d=at(n,16)):alert("Invalid RSA private key")}function pt(e,t,n,i,r,a,o,s){null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=at(e,16),this.e=parseInt(t,16),this.d=at(n,16),this.p=at(i,16),this.q=at(r,16),this.dmp1=at(a,16),this.dmq1=at(o,16),this.coeff=at(s,16)):alert("Invalid RSA private key")}function ht(t,n){var i=new rt,r=t>>1;this.e=parseInt(n,16);for(var a=new e(n,16);;){for(;this.p=new e(t-r,1,i),0!=this.p.subtract(e.ONE).gcd(a).compareTo(e.ONE)||!this.p.isProbablePrime(10););for(;this.q=new e(r,1,i),0!=this.q.subtract(e.ONE).gcd(a).compareTo(e.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var o=this.p;this.p=this.q,this.q=o}var s=this.p.subtract(e.ONE),u=this.q.subtract(e.ONE),l=s.multiply(u);if(0==l.gcd(a).compareTo(e.ONE)){this.n=this.p.multiply(this.q),this.d=a.modInverse(l),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(u),this.coeff=this.q.modInverse(this.p);break}}}function yt(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function gt(e){var t=at(e,16),n=this.doPrivate(t);return null==n?null:ft(n,this.n.bitLength()+7>>3)}function vt(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=Mt.charAt(n>>6)+Mt.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=Mt.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=Mt.charAt(n>>2)+Mt.charAt((3&n)<<4));(3&i.length)>0;)i+=Nt;return i}function mt(e){var t,i,r="",a=0;for(t=0;t<e.length&&e.charAt(t)!=Nt;++t){var o=Mt.indexOf(e.charAt(t));o<0||(0==a?(r+=n(o>>2),i=3&o,a=1):1==a?(r+=n(i<<2|o>>4),i=15&o,a=2):2==a?(r+=n(i),r+=n(o>>2),i=3&o,a=3):(r+=n(i<<2|o>>4),r+=n(15&o),a=0))}return 1==a&&(r+=n(i<<2)),r}var bt,_t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Et=function(e,t){var n=_t.indexOf(e.charAt(t));if(-1===n)throw new Error;return n},At=function(e){e=""+e;var t,n,i,r=e.length;if(0===r)return e;if(r%4!=0)throw new Error;t=0,"="===e.charAt(r-1)&&(t=1,"="===e.charAt(r-2)&&(t=2),r-=4);var a=[];for(n=0;n<r;n+=4)i=Et(e,n)<<18|Et(e,n+1)<<12|Et(e,n+2)<<6|Et(e,n+3),a.push(String.fromCharCode(i>>16,i>>8&255,255&i));switch(t){case 1:i=Et(e,n)<<18|Et(e,n+1)<<12|Et(e,n+2)<<6,a.push(String.fromCharCode(i>>16,i>>8&255));break;case 2:i=Et(e,n)<<18|Et(e,n+1)<<12,a.push(String.fromCharCode(i>>16))}return a.join("")},kt=At;e.prototype.am=function(e,t,n,i,r,a){for(var o=16383&t,s=t>>14;--a>=0;){var u=16383&this[e],l=this[e++]>>14,c=s*u+l*o;u=o*u+((16383&c)<<14)+n[i]+r,r=(u>>28)+(c>>14)+s*l,n[i++]=268435455&u}return r},bt=28,e.prototype.DB=bt,e.prototype.DM=(1<<bt)-1,e.prototype.DV=1<<bt,e.prototype.FV=Math.pow(2,52),e.prototype.F1=52-bt,e.prototype.F2=2*bt-52;var Tt,wt,St="0123456789abcdefghijklmnopqrstuvwxyz",Pt=[];for(Tt="0".charCodeAt(0),wt=0;wt<=9;++wt)Pt[Tt++]=wt;for(Tt="a".charCodeAt(0),wt=10;wt<36;++wt)Pt[Tt++]=wt;for(Tt="A".charCodeAt(0),wt=10;wt<36;++wt)Pt[Tt++]=wt;w.prototype.convert=S,w.prototype.revert=P,w.prototype.reduce=O,w.prototype.mulTo=C,w.prototype.sqrTo=L,I.prototype.convert=x,I.prototype.revert=D,I.prototype.reduce=M,I.prototype.mulTo=U,I.prototype.sqrTo=N,e.prototype.copyTo=a,e.prototype.fromInt=o,e.prototype.fromString=u,e.prototype.clamp=l,e.prototype.dlShiftTo=g,e.prototype.drShiftTo=v,e.prototype.lShiftTo=m,e.prototype.rShiftTo=b,e.prototype.subTo=_,e.prototype.multiplyTo=E,e.prototype.squareTo=A,e.prototype.divRemTo=k,e.prototype.invDigit=R,e.prototype.isEven=B,e.prototype.exp=j,e.prototype.toString=c,e.prototype.negate=f,e.prototype.abs=d,e.prototype.compareTo=p,e.prototype.bitLength=y,e.prototype.mod=T,e.prototype.modPowInt=F,e.ZERO=s(0),e.ONE=s(1),Re.prototype.convert=Ie,Re.prototype.revert=Ie,Re.prototype.mulTo=xe,Re.prototype.sqrTo=De,Be.prototype.convert=je,Be.prototype.revert=Fe,Be.prototype.reduce=Ge,Be.prototype.mulTo=He,Be.prototype.sqrTo=Ve;var Ot=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ct=(1<<26)/Ot[Ot.length-1];e.prototype.chunkSize=W,e.prototype.toRadix=z,e.prototype.fromRadix=q,e.prototype.fromNumber=X,e.prototype.bitwiseTo=ee,e.prototype.changeBit=ve,e.prototype.addTo=Ee,e.prototype.dMultiply=Ce,e.prototype.dAddOffset=Le,e.prototype.multiplyLowerTo=Ne,e.prototype.multiplyUpperTo=Ue,e.prototype.modInt=Ye,e.prototype.millerRabin=Xe,e.prototype.clone=G,e.prototype.intValue=V,e.prototype.byteValue=H,e.prototype.shortValue=K,e.prototype.signum=Y,e.prototype.toByteArray=J,e.prototype.equals=Q,e.prototype.min=$,e.prototype.max=Z,e.prototype.and=ne,e.prototype.or=re,e.prototype.xor=oe,e.prototype.andNot=ue,e.prototype.not=le,e.prototype.shiftLeft=ce,e.prototype.shiftRight=fe,e.prototype.getLowestSetBit=pe,e.prototype.bitCount=ye,e.prototype.testBit=ge,e.prototype.setBit=me,e.prototype.clearBit=be,e.prototype.flipBit=_e,e.prototype.add=Ae,e.prototype.subtract=ke,e.prototype.multiply=Te,e.prototype.divide=Se,e.prototype.remainder=Pe,e.prototype.divideAndRemainder=Oe,e.prototype.modPow=Ke,e.prototype.modInverse=ze,e.prototype.pow=Me,e.prototype.gcd=We,e.prototype.isProbablePrime=qe,e.prototype.square=we,Je.prototype.init=Qe,Je.prototype.next=$e;var Lt,Rt,It,xt=256;if(null==Rt){Rt=[],It=0;for(var Dt;It<xt;)Dt=Math.floor(65536*Math.random()),Rt[It++]=Dt>>>8,Rt[It++]=255&Dt;It=0,tt()}rt.prototype.nextBytes=it,st.prototype.doPublic=lt,st.prototype.setPublic=ut,st.prototype.encrypt=ct,st.prototype.doPrivate=yt,st.prototype.setPrivate=dt,st.prototype.setPrivateEx=pt,st.prototype.generate=ht,st.prototype.decrypt=gt;var Mt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt="=";st.prototype.parseKey=function(e){e=this.prepareKey(e);var t=this.structure(),n=0,i=null,r=null,a=0;for(var o in t)t.hasOwnProperty(o)&&(i=t[o],i.hasOwnProperty("offset")&&(n+=2*i.offset),a="string"==typeof i.length?this[i.length]:i.length,a*=2,r=e.substr(n,a),i.hasOwnProperty("type")&&("int"==i.type?r=parseInt(r,16):"bigint"==i.type&&(r=at(r,16))),n+=a,this[o]=r)},st.prototype.char64ToHex=function(e){var t="";e=kt(e);for(var n=0;n<e.length;++n){var i=e.charCodeAt(n).toString(16);1===i.length&&(i="0"+i),t+=i}return t},st.prototype.prepareKey=function(e){e=e.replace(/^\s+|\s+$/g,"");var t=e.split(/\r?\n/);return"-----BEGIN"==t[0].substring(0,10)&&(t=t.slice(1,t.length-1)),e=t.join(""),this.char64ToHex(e)},st.prototype.getBaseKey=function(){var e="",t=this.structure(),n=null,i=null,r=0;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],n.variable&&(i=this[a].toString(16),i.length%2&&(i="0"+i),n.hasOwnProperty("padded")&&n.padded&&(i="00"+i),r=i.length/2,r=r.toString(16),r.length%2&&(r="0"+r),n.hasOwnProperty("extraspace")&&(e+=r),e+=r,e+=i,e+="02"));return e.slice(0,-2)},st.prototype.wordwrap=function(e,t){if(t=t||64,!e)return e;var n="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return e.match(new RegExp(n,"g")).join("\n")},st.prototype.getPrivateKey=function(){var e="-----BEGIN RSA PRIVATE KEY-----\n",t="3082025e02010002";return t+=this.getBaseKey(),e+=this.wordwrap(vt(t))+"\n",e+="-----END RSA PRIVATE KEY-----"},st.prototype.getPublicKey=function(){var e="-----BEGIN PUBLIC KEY-----\n",t="30819f300d06092a864886f70d010101050003818d0030818902";return t+=this.getBaseKey(),e+=this.wordwrap(vt(t))+"\n",e+="-----END PUBLIC KEY-----"};var Ut=function(e){st.call(this),e&&this.parseKey(e)};Ut.prototype=new st,Ut.prototype.constructor=Ut,Ut.prototype.structure=function(){return{header:{length:4},versionlength:{length:1,offset:1,type:"int"},version:{length:"versionlength",type:"int"},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0},d_length:{length:1,offset:2,type:"int"},d:{length:"d_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},p_length:{length:1,offset:1,type:"int"},p:{length:"p_length",type:"bigint",variable:!0,padded:!0},q_length:{length:1,offset:1,type:"int"},q:{length:"q_length",type:"bigint",variable:!0,padded:!0},dmp1_length:{length:1,offset:1,type:"int"},dmp1:{length:"dmp1_length",type:"bigint",variable:!0},dmq1_length:{length:1,offset:1,type:"int"},dmq1:{length:"dmq1_length",type:"bigint",variable:!0,padded:!0},coeff_length:{length:1,offset:1,type:"int"},coeff:{length:"coeff_length",type:"bigint",variable:!0,padded:!0}}};var Bt=function(e){st.call(this),e&&("string"==typeof e?this.parseKey(e):e.hasOwnProperty("n")&&e.hasOwnProperty("e")&&(this.n=e.n,this.e=e.e))};Bt.prototype=new st,Bt.prototype.constructor=Bt,Bt.prototype.structure=function(){return{header:{length:25},n_length:{length:1,offset:2,type:"int"},n:{length:"n_length",type:"bigint",variable:!0,padded:!0,extraspace:!0},e_length:{length:1,offset:1,type:"int"},e:{length:"e_length",type:"int",variable:!0}}};var jt=function(){this.privkey=null,this.pubkey=null};return jt.prototype.setPrivateKey=function(e){this.privkey=new Ut(e),this.pubkey=new Bt(this.privkey)},jt.prototype.setPublicKey=function(e){this.pubkey=new Bt(e)},jt.prototype.decrypt=function(e){return!!this.privkey&&this.privkey.decrypt(mt(e))},jt.prototype.encrypt=function(e){var t=this.pubkey||this.privkey;return!!t&&vt(t.encrypt(e))},jt.prototype.getPrivateKey=function(){return this.privkey||(this.privkey=new Ut,this.privkey.generate(1024,"010001"),this.pubkey=new Bt(this.privkey)),this.privkey.getPrivateKey()},jt.prototype.getPublicKey=function(){return this.pubkey||(this.pubkey=new Bt,this.pubkey.generate(1024,"010001")),this.pubkey.getPublicKey()},function(e){var t=new jt;return t.setPublicKey(i.RSA_PUBLIC_KEY),t.encrypt(e)}}(),t.exports=r.encrypt},{17:17}],26:[function(e,t,n){var i=i||{};i.parseBoolean=function(e,t){return t=t||!1,e?"0"!=e:t},i.parseInteger=function(e,t){return null==e||isNaN(e)?t||0:parseInt(e)},i.parseLong=function(e,t){var n=Number(e);return null==e||isNaN(n)?t||0:n},i.toString=function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if(e instanceof Array)return e.join(",");var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t||e.toString()},t.exports.parseBoolean=i.parseBoolean,t.exports.parseInteger=i.parseInteger,t.exports.parseLong=i.parseLong,t.exports.toString=i.toString},{}],27:[function(e,t,n){function i(e){var t=f+e;p.setItem(t,""),h[t]=[]}function r(e,t){var n=f+e;p.setItem(n,p.getItem(n)+y+l(t)),h[n].push(t)}function a(e,t){var n=f+e,i=h[n];i.splice(u.indexOf(t,i),1);for(var r=[],a=0,o=i.length;a<o;a++)r.push(l(i[a]));p.setItem(n,r.join(y)),p.removeItem(d+e+t)}function o(e,t,n){p.setItem(d+e+t,n)}function s(e,t){return p.getItem(d+e+t)}var u=e(19),l="undefined"!=typeof encodeURIComponent?encodeURIComponent:escape,c="undefined"!=typeof decodeURIComponent?decodeURIComponent:unescape,f="cs_dir_",d="cs_file_",p="undefined"!=typeof localStorage?localStorage:null,h={},y="|",g=p&&l&&c,v={dir:function(e){if(!g)return null;var t=f+e,n=h[t];if(n)return n.slice();var i=p.getItem(t);if(i){i=i.split(y),n=[];for(var r=0,a=i.length;r<a;r++)i[r].length>0&&n.push(c(i[r]));return h[t]=n,n.slice()}return null},append:function(e,t,n){if(g){var i=v.read(e,t);i?i+=n:i=n,v.write(e,t,i)}},write:function(e,t,n){if(g){var a=v.dir(e);a||(i(e),a=[]),-1==u.indexOf(t,a)&&r(e,t),o(e,t,n)}},deleteFile:function(e,t){if(!g)return!1;var n=v.dir(e);return!!n&&-1!=u.indexOf(t,n)&&(a(e,t),!0)},read:function(e,t){if(!g)return null;var n=v.dir(e);return n?-1==u.indexOf(t,n)?null:s(e,t):null}};t.exports=v},{19:19}],28:[function(e,t,n){function i(){d=("undefined"==typeof FileSystem?"undefined":o(FileSystem))!=f?new FileSystem:null,p=("undefined"==typeof curWidget?"undefined":o(curWidget))!=f?curWidget.id:null,("undefined"==typeof sf?"undefined":o(sf))!==f&&(l=u=function(e,t){sf.core.localData(e,t)}),null==d||o(d.isValidCommonPath)==f||d.isValidCommonPath(p)||d.createCommonDir(p),v=!0}function r(e){return e.replace(/^\s+|\s+$/g,"")}function a(e,t){var n=g[e];n?n.push(t):n=g[e]=[t],l(h+e,n.join(y))}function s(e,t){var n=g[e],i=c.indexOf(t,n);i>=0&&(n.splice(i,1),l(h+e,0===n.length?null:n.join(y)))}var u,l,c=e(19),f="undefined",d=null,p=null,h="cs_dir_",y="|",g={},v=!1,m={dir:function(e){if(v||i(),d.isValidCommonPath(p+"/"+e)){var t=g[e];if(!t){if(!(t=u(h+e)))return null;t=g[e]=t.split(y)}for(var n=t.slice(),r=0,a=n.length;r<a;r++){var o=t[r];d.isValidCommonPath(p+"/"+e+"/"+o)||s(e,o)}return n}return null},append:function(e,t,n){v||i();var o=p+"/"+e;d.isValidCommonPath(o)||d.createCommonDir(o),d.isValidCommonPath(o+"/"+t)||a(e,t);var s=d.openCommonFile(o+"/"+t,"a");s.writeLine(r(n)),d.closeCommonFile(s)},write:function(e,t,n){v||i();var o=p+"/"+e;d.isValidCommonPath(o)||d.createCommonDir(o),d.isValidCommonPath(o+"/"+t)||a(e,t);var s=d.openCommonFile(o+"/"+t,"w");s.writeLine(r(n)),d.closeCommonFile(s)},deleteFile:function(e,t){v||i();var n=p+"/"+e;return!!d.isValidCommonPath(n)&&(s(e,t),d.deleteCommonFile(n+"/"+t))},read:function(e,t){v||i();var n=p+"/"+e;if(!d.isValidCommonPath(n))return null;var r=d.openCommonFile(n+"/"+t,"r");if(r){for(var a,o=[];a=r.readLine();)o.push(a);return d.closeCommonFile(r),o.join("\n")}return s(e,t),""}};t.exports=m},{19:19}],29:[function(e,t,n){var i={dir:function(){return null},append:function(e,t,n){},write:function(e,t,n){},deleteFile:function(){return!1},read:function(){return null}};t.exports=i},{}],30:[function(e,t,n){function i(){return("undefined"==typeof window?"undefined":o(window))==d&&("undefined"==typeof atv?"undefined":o(atv))!=d}function r(){null==y&&(("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.device)!=d&&atv.device.idForVendor?(y=a.safeGet(atv.device.idForVendor,""),g="62"):(y=+new Date+~~(1e3*Math.random()),g="72"),v=null)}var a=e(21),s=e(17),u=e(49).atvHttpGet,l=e(49).atvHttpPost(),c=e(45),f=e(29),d="undefined",p=s.UNKNOWN_VALUE,h=s.UNKNOWN_RESOLUTION,y=null,g=null,v=null,m={PLATFORM:"atv",httpGet:u,httpPost:l,Storage:c,IO:f,getCrossPublisherId:function(){return r(),v},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return r(),y},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return"Apple TV"},getPlatformVersion:function(){return("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.device)!=d&&a.safeGet(atv.device.softwareVersion,p)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"atv"},getRuntimeVersion:function(){return("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.device)!=d&&a.safeGet(atv.device.softwareVersion,p)},getDisplayResolution:function(){return o(atv.device)!=d&&o(atv.device.screenFrame)!=d&&o(atv.device.screenFrame.height)!=d&&o(atv.device.screenFrame.width)!=d?atv.device.screenFrame.height+"x"+atv.device.screenFrame.width:h},getLanguage:function(){return("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.device)!=d&&a.safeGet(atv.device.language,"")},getPackageName:function(){return""},isConnectionAvailable:function(){return!0},setTimeout:function(e,t){return("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.setTimeout)!=d&&atv.setTimeout(e,t)},setInterval:function(e,t){return("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.setInterval)!=d&&atv.setInterval(e,t)},clearTimeout:function(e){return("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.clearTimeout)!=d&&atv.clearTimeout(e)},clearInterval:function(e){return("undefined"==typeof atv?"undefined":o(atv))!=d&&o(atv.clearInterval)!=d&&atv.clearInterval(e)},isCompatible:i,isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=d&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,29:29,45:45,49:49}],31:[function(e,t,n){function i(){return("undefined"==typeof window?"undefined":o(window))!==d&&!r.isEmpty(window.cast)&&!r.isEmpty(cast.receiver)}var r=e(21),a=e(20),s=e(17),u=e(50),l=e(48).ajaxHttpPost,c=e(46),f=e(27),d="undefined",p=s.UNKNOWN_VALUE,h=s.UNKNOWN_RESOLUTION,y={PLATFORM:"chromecast",httpGet:u,httpPost:l,Storage:c,IO:f,getCrossPublisherId:function(){return null},getAppName:function(){return o(ns_.crm)===d?p:ns_.crm.getApplicationData().name},getAppVersion:function(){return p},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"chromecast"},getPlatformVersion:function(){return cast.receiver.VERSION+"-"+r.safeGet(a.getBrowserName()+" "+a.getBrowserFullVersion(),p)},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e=("undefined"==typeof window?"undefined":o(window))!=d&&r.exists(window.screen)&&r.exists(window.screen.availWidth)?window.screen.availWidth:0,t=("undefined"==typeof window?"undefined":o(window))!=d&&r.exists(window.screen)&&r.exists(window.screen.availHeight)?window.screen.availHeight:0;return e>0&&t>0?e+"x"+t:h},getLanguage:function(){return("undefined"==typeof window?"undefined":o(window))!=d&&r.exists(window.navigator)&&r.safeGet(window.navigator.language,"")||p},getPackageName:function(){return p},isConnectionAvailable:function(){return!0},isCompatible:i,isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=d&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=y},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],32:[function(e,t,n){var i={SmartTV:0,Netcast:1,Cordova:2,Trilithium:3,AppleTV:4,Chromecast:5,Xbox:6,webOS:7,tvOS:8,nodejs:9,html5:10,JSMAF:11,Skeleton:12};t.exports=i},{}],33:[function(e,t,n){function i(){return("undefined"==typeof device?"undefined":o(device))!=h&&o(device.available)!=h&&device.available&&("undefined"==typeof window?"undefined":o(window))!=h&&o(window.navigator)!=h}function r(){return i()&&("undefined"==typeof device?"undefined":o(device))!=h&&s.exists(device.uuid)&&device.uuid.length>0?device.uuid:null}function a(){if(null==v){var e=r();null!=e?(v=e,m="31",b=e):(v=+new Date+~~(1e3*Math.random()),m="72",b=null)}}var s=e(21),u=e(17),l=e(50),c=e(48).ajaxHttpGet,f=e(48).ajaxHttpPost,d=e(46),p=e(27),h="undefined",y=u.UNKNOWN_VALUE,g=u.UNKNOWN_RESOLUTION,v=null,m=null,b=null,_={PLATFORM:"cordova",httpGet:function(){return("undefined"==typeof Image?"undefined":o(Image))!=h?l.apply(this,arguments):c.apply(this,arguments)},httpPost:f,Storage:d,IO:p,getCrossPublisherId:function(){return a(),b},getAppName:function(){return y},getAppVersion:function(){return y},getVisitorId:function(){return a(),v},getVisitorIdSuffix:function(){return m},getDeviceModel:function(){return("undefined"==typeof device?"undefined":o(device))!=h&&s.exists(device.model)||y},getPlatformVersion:function(){return("undefined"==typeof device?"undefined":o(device))!=h&&s.exists(device.cordova)&&device.cordova||y},getPlatformName:function(){return"js"},getRuntimeName:function(){return("undefined"==typeof device?"undefined":o(device))!=h&&s.exists(device.platform)&&"cordova"+device.platform||"cordova"},getRuntimeVersion:function(){return("undefined"==typeof device?"undefined":o(device))!=h&&s.exists(device.version)||y},getDisplayResolution:function(){var e=("undefined"==typeof window?"undefined":o(window))!=h&&s.exists(window.screen)&&s.exists(window.screen.availWidth)&&window.screen.availWidth||0,t=("undefined"==typeof window?"undefined":o(window))!=h&&s.exists(window.screen)&&s.exists(window.screen.availHeight)&&window.screen.availHeight||0;return e>0&&t>0?e+"x"+t:g},getLanguage:function(){return("undefined"==typeof window?"undefined":o(window))!=h&&s.exists(window.navigator)&&s.exists(window.navigator.language)&&window.navigator.language||y},getPackageName:function(){return""},isConnectionAvailable:function(){return("undefined"==typeof window?"undefined":o(window))==h||!s.exists(window.navigator)||!s.exists(window.navigator.onLine)||window.navigator.onLine},isCompatible:i,isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=h&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,27:27,46:46,48:48,50:50}],34:[function(e,t,n){var i=e(21),r=e(20),a=e(17),o=e(50),s=e(48).ajaxHttpGet,u=e(48).ajaxHttpPost,l=e(46),c=e(27),f="undefined"!=typeof document&&document||void 0,d=a.UNKNOWN_VALUE,p=a.UNKNOWN_RESOLUTION,h={PLATFORM:"html5",httpGet:function(){return"undefined"!=typeof Image?o.apply(this,arguments):s.apply(this,arguments)},httpPost:u,Storage:l,IO:c,getCrossPublisherId:function(){return null},getAppName:function(){return f&&i.exists(f.title)&&f.title||d},getAppVersion:function(){return d},getVisitorId:function(){return this.getDeviceModel()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return"undefined"!=typeof window&&i.exists(window.navigator)&&i.safeGet(window.navigator.platform,"")||""},getPlatformVersion:function(){return i.safeGet(r.getBrowserName()+" "+r.getBrowserFullVersion(),"")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"html"},getRuntimeVersion:function(){return"5"},getDisplayResolution:function(){var e,t;"undefined"!=typeof window&&window.screen&&window.screen.width&&(e=window.screen.width),"undefined"!=typeof window&&window.screen&&window.screen.width&&(t=window.screen.height);var n=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(n=window.devicePixelRatio),e>0&&t>0?(e*=n,t*=n,e+"x"+t):p},getApplicationResolution:function(){var e,t;"undefined"!=typeof window&&window.innerWidth&&(e=window.innerWidth),"undefined"!=typeof window&&window.innerHeight&&(t=window.innerHeight);var n=1;return"undefined"!=typeof window&&window.devicePixelRatio&&(n=window.devicePixelRatio),e>0&&t>0?(e*=n,t*=n,e+"x"+t):p},getLanguage:function(){return"undefined"!=typeof window&&i.exists(window.navigator)&&i.safeGet(window.navigator.language,"")||d},getPackageName:function(){return""},isConnectionAvailable:function(){return"undefined"==typeof window||!i.exists(window.navigator)||!i.exists(window.navigator.onLine)||window.navigator.onLine},isCompatible:function(){return"undefined"!=typeof window&&i.exists(window.navigator)&&i.exists(window.localStorage)&&i.exists(f)&&!!f.createElement("canvas").getContext},isConnectionSecure:function(){return!!f&&"s"===f.location.href.charAt(4)}};t.exports=h},{17:17,20:20,21:21,27:27,46:46,48:48,50:50}],35:[function(e,t,n){function i(){if(null==y)if(("undefined"==typeof jsmaf?"undefined":o(jsmaf))!=d&&a.exists(jsmaf.hardwareId)){var e=jsmaf.hardwareId;y=e,g="31",v=e}else y=+new Date+~~(1e3*Math.random()),g="72",v=null}function r(){return("undefined"==typeof jsmaf?"undefined":o(jsmaf))==d||!a.exists(jsmaf.networkStatus)||"connected"==jsmaf.networkStatus}var a=e(21),s=e(17),u=e(48).ajaxHttpGet,l=e(48).ajaxHttpPost,c=e(46),f=e(27),d="undefined",p=s.UNKNOWN_VALUE,h=s.UNKNOWN_RESOLUTION,y=null,g=null,v=null,m={PLATFORM:"jsmaf",httpGet:u,httpPost:l,Storage:c,IO:f,getCrossPublisherId:function(){return i(),v},getAppName:function(){return p},getAppVersion:function(){return p},getVisitorId:function(){return i(),y},getVisitorIdSuffix:function(){return i(),g},getDeviceModel:function(){return("undefined"==typeof jsmaf?"undefined":o(jsmaf))!=d&&a.exists(jsmaf.platform)?jsmaf.platform:p},getPlatformName:function(){return"js"},getPlatformVersion:function(){return p},getRuntimeName:function(){return"jsmaf"},getRuntimeVersion:function(){return("undefined"==typeof jsmaf?"undefined":o(jsmaf))!=d&&a.exists(jsmaf.version)?jsmaf.version:p},getDisplayResolution:function(){return("undefined"==typeof jsmaf?"undefined":o(jsmaf))!=d&&a.exists(jsmaf.screenWidth)&&a.exists(jsmaf.screenHeight)?jsmaf.screenWidth+"x"+jsmaf.screenHeight:h},getLanguage:function(){return("undefined"==typeof jsmaf?"undefined":o(jsmaf))!=d&&a.exists(jsmaf.locale)?jsmaf.locale:p},getPackageName:function(){return null},isConnectionAvailable:r,isCompatible:function(){return("undefined"==typeof jsmaf?"undefined":o(jsmaf))!=d},setTimeout:function(e,t){return jsmaf.setTimeout(e,t)},setInterval:function(e,t){return jsmaf.setInterval(e,t)},clearTimeout:function(e){return jsmaf.clearTimeout(e)},clearInterval:function(e){return jsmaf.clearInterval(e)},getDeviceArchitecture:function(){if(("undefined"==typeof jsmaf?"undefined":o(jsmaf))==d||!a.exists(jsmaf.platform))var e=p;return"ps3"==jsmaf.platform?e="cell":"ps4"==jsmaf.platform?e="ps4":"vita"==jsmaf.platform&&(e="vita"),e},getConnectionType:function(){return r()&&("undefined"==typeof jsmaf?"undefined":o(jsmaf))!=d&&a.exists(jsmaf.connectionType)?"wired"==jsmaf.connectionType?"eth":"wireless"==jsmaf.connectionType?"wifi":"phone"==jsmaf.connectionType?"wwan":p:p},getDeviceJailBrokenFlag:function(){return p},isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=d&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=m},{17:17,21:21,27:27,46:46,48:48}],36:[function(e,t,n){var i=e(50),r=e(52).voidHttpPost,a=e(46),o=e(29),s=e(17),u=s.UNKNOWN_VALUE,l=s.UNKNOWN_RESOLUTION,c={PLATFORM:"generic",httpGet:i,httpPost:r,Storage:a,IO:o,onDataFetch:function(e){e()},getCrossPublisherId:function(){return null},getAppName:function(){return u},getAppVersion:function(){return u},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u},getPlatformVersion:function(){return u},getPlatformName:function(){return"js"},getRuntimeName:function(){return u},getRuntimeVersion:function(){return u},getDisplayResolution:function(){return l},getApplicationResolution:function(){return l},getLanguage:function(){return u},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},autoDetect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setTimeout(e,t)}),setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){return setInterval(e,t)}),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearTimeout(e)}),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return clearInterval(e)}),getDeviceArchitecture:function(){return u},getConnectionType:function(){return u},getDeviceJailBrokenFlag:function(){return u},isConnectionSecure:function(){return!1},processMeasurementLabels:function(){}};t.exports=c},{17:17,29:29,46:46,50:50,52:52}],37:[function(e,t,n){function i(){return("undefined"==typeof ns_?"undefined":o(ns_))!=h&&o(ns_.netcastDevice)!=h&&o(ns_.netcastDevice.version)!=h&&("undefined"==typeof window?"undefined":o(window))!=h&&o(window.navigator)!=h}function r(){if(("undefined"==typeof ns_?"undefined":o(ns_))!=h&&s.exists(ns_.netcastDevice)){if(s.exists(ns_.netcastDevice.net_macAddress)&&s.isNotEmpty(ns_.netcastDevice.net_macAddress))return ns_.netcastDevice.net_macAddress;if(s.exists(ns_.netcastDevice.serialNumber)&&s.isNotEmpty(ns_.netcastDevice.serialNumber))return ns_.netcastDevice.serialNumber}return null}function a(){if(null==v){var e=r();null!=e?(v=e,m="31",b=e):(v=+new Date+~~(1e3*Math.random()),m="72",b=null)}}var s=e(21),u=e(17),l=e(50),c=e(48).ajaxHttpGet,f=e(52).voidHttpPost,d=e(46),p=e(29),h="undefined",y=u.UNKNOWN_VALUE,g=u.UNKNOWN_RESOLUTION,v=null,m=null,b=null,_={PLATFORM:"netcast",httpGet:function(){return("undefined"==typeof Image?"undefined":o(Image))!=h?l.apply(this,arguments):c.apply(this,arguments)},httpPost:f,Storage:d,IO:p,getCrossPublisherId:function(){return a(),b},getAppName:function(){return y},getAppVersion:function(){return y},getVisitorId:function(){return a(),v},getVisitorIdSuffix:function(){return m},getDeviceModel:function(){return("undefined"==typeof ns_?"undefined":o(ns_))!=h&&s.exists(ns_.netcastDevice)&&s.exists(ns_.netcastDevice.modelName)&&ns_.netcastDevice.modelName||y},getPlatformVersion:function(){return("undefined"==typeof ns_?"undefined":o(ns_))!=h&&s.exists(ns_.netcastDevice)&&s.safeGet(ns_.netcastDevice.version,y)||y},getPlatformName:function(){return"js"},getRuntimeName:function(){return("undefined"==typeof ns_?"undefined":o(ns_))!=h&&s.exists(ns_.netcastDevice)?"lg-ott"+s.safeGet(ns_.netcastDevice.platform,y):y},getRuntimeVersion:function(){if(("undefined"==typeof ns_?"undefined":o(ns_))!=h&&s.exists(ns_.netcastDevice)){if(s.exists(ns_.netcastDevice.version))return ns_.netcastDevice.version;if(s.exists(ns_.netcastDevice.hwVersion))return ns_.netcastDevice.hwVersion;if(s.exists(ns_.netcastDevice.swVersion))return ns_.netcastDevice.swVersion}return y},getDisplayResolution:function(){if(("undefined"==typeof ns_?"undefined":o(ns_))!=h&&s.exists(ns_.netcastDevice)&&s.exists(ns_.netcastDevice.osdResolution))switch(ns_.netcastDevice.osdResolution){case 0:return"640x480";case 1:return"720x576";case 2:return"1280x720";case 3:return"1920x1080";case 4:return"1366x768"}return g},getLanguage:function(){return("undefined"==typeof ns_?"undefined":o(ns_))!=h&&s.exists(ns_.netcastDevice)&&s.safeGet(ns_.netcastDevice.tvLanguage2,s.safeGet(window.navigator.language))||y},getPackageName:function(){return null},isConnectionAvailable:function(){return o(ns_.netcastDevice)===h||!!ns_.netcastDevice.net_isConnected},getConnectionType:function(){if(o(ns_.netcastDevice)!==h){if(0===ns_.netcastDevice.networkType)return"eth";if(1===ns_.netcastDevice.networkType)return"wifi"}return y},isCompatible:i,isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=h&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,29:29,46:46,48:48,50:50,52:52}],38:[function(e,i,r){(function(t){function a(){null==h&&(h=+new Date+~~(1e3*Math.random()),y="72",g=null)}function o(t){var n=this,i=0;n.send=function(r){e("http").get(r,function(e){var r=e.statusCode;if((302==r||301==r)&&i<20&&e.headers&&e.headers.location)return i++,void n.send(e.headers.location);t(r)}).on("error",function(){t()})}}var s=e(21),u=e(17),l=e(52).voidHttpPost,c=e(46),f=e(29),d=u.UNKNOWN_VALUE,p=u.UNKNOWN_RESOLUTION,h=null,y=null,g=null,v={PLATFORM:"nodejs",httpGet:function(e,t){new o(t).send(e)},httpPost:l,Storage:c,IO:f,getCrossPublisherId:function(){return a(),g},getVisitorId:function(){return a(),h},getVisitorIdSuffix:function(){return y},getPlatformVersion:function(){var t=e("os");return[t.type(),t.platform(),t.release()].join(";")},getPlatformName:function(){return"js"},getRuntimeName:function(){return"nodejs"},getRuntimeVersion:function(){return void 0===n||s.isEmpty(n.version)?d:n.version},getDisplayResolution:function(){return p},isCompatible:function(){return"undefined"==typeof window&&void 0!==i&&void 0!==r&&void 0!==t&&void 0!==n&&s.exists(n.version)},isConnectionSecure:function(){return!1}};i.exports=v}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{17:17,21:21,29:29,46:46,52:52,undefined:void 0}],39:[function(e,t,n){var i=e(24),r=e(32),a=e(36),o=e(40),s=e(37),u=e(43),l=e(33),c=e(41),f=e(30),d=e(44),p=e(31),h=e(42),y=e(35),g=e(38),v=e(34),m=!1;a.autoDetect=function(){m||(m=!0,o.isCompatible()?i.extend(a,o):s.isCompatible()?i.extend(a,s):u.isCompatible()?i.extend(a,u):l.isCompatible()?i.extend(a,l):c.isCompatible()?i.extend(a,c):f.isCompatible()?i.extend(a,f):d.isCompatible()?i.extend(a,d):p.isCompatible()?i.extend(a,p):h.isCompatible()?i.extend(a,h):y.isCompatible()?i.extend(a,y):g.isCompatible()?i.extend(a,g):v.isCompatible()&&i.extend(a,v))},a.autoSelect=a.autoDetect,a.setPlatformAPI=function(e){switch(m=!0,e){case r.SmartTV:i.extend(a,o);break;case r.Netcast:i.extend(a,s);break;case r.Cordova:i.extend(a,l);break;case r.Trilithium:i.extend(a,c);break;case r.AppleTV:i.extend(a,f);break;case r.Chromecast:i.extend(a,p);break;case r.Xbox:i.extend(a,d);break;case r.webOS:i.extend(a,u);break;case r.tvOS:i.extend(a,h);break;case r.JSMAF:i.extend(a,y);break;case r.nodejs:i.extend(a,g);break;case r.html5:i.extend(a,v);break;case r.Skeleton:break;default:m=!1}}},{24:24,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,40:40,41:41,42:42,43:43,44:44}],40:[function(e,t,n){function i(){if("object"!=("undefined"==typeof sf?"undefined":o(sf))||"object"!=o(sf.core)||"function"!=typeof sf.core.sefplugin)return null;var e=sf.core.sefplugin("NNAVI");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return null;e.Open("Network","1.001","Network");var t=e.Execute("GetMAC","0");if(!a.isEmpty(t))return t;if(t=e.Execute("GetMAC","1"),!a.isEmpty(t))return t;var n=e.Execute("GetDeviceID");return a.isEmpty(n)?null:n}function r(){if(null==h){var e=i();null!=e?(h=e,y="31",g=e):(h=+new Date+~~(1e3*Math.random()),y="72",g=null)}}var a=e(21),s=e(17),u=e(48).ajaxHttpGet,l=e(52).voidHttpPost,c=e(47),f=e(28),d=s.UNKNOWN_VALUE,p=s.UNKNOWN_RESOLUTION,h=null,y=null,g=null,v={PLATFORM:"smarttv",httpGet:u,httpPost:l,Storage:c,IO:f,getCrossPublisherId:function(){return r(),g},getAppName:function(){return d},getAppVersion:function(){return"undefined"!=typeof sf&&a.exists(sf.env)&&a.exists(sf.env.getAppVersion)&&sf.env.getAppVersion()||d},getVisitorId:function(){return r(),h},getVisitorIdSuffix:function(){return y},getDeviceModel:function(){return"undefined"!=typeof sf&&a.exists(sf.core)&&a.exists(sf.core.getEnvValue)&&sf.core.getEnvValue("modelid")||d},getPlatformVersion:function(){return"2.0.0"},getPlatformName:function(){return"js"},getRuntimeName:function(){if("undefined"!=typeof sf&&a.exists(sf.env)&&a.exists(sf.env.getProductType)&&a.exists(sf.env.PRODUCTTYPE_TV)&&a.exists(sf.env.PRODUCTTYPE_MONITOR)&&a.exists(sf.env.PRODUCTTYPE_BD)){var e=[];return e[sf.env.PRODUCTTYPE_TV]="samsung-smarttv-tv",e[sf.env.PRODUCTTYPE_MONITOR]="samsung-smarttv-monitor",e[sf.env.PRODUCTTYPE_BD]="samsung-smarttv-bd",e[sf.env.getProductType()]}},getRuntimeVersion:function(){return"undefined"!=typeof sf&&a.exists(sf.env)&&a.exists(sf.env.getFirmwareVer)&&sf.env.getFirmwareVer().version},getDisplayResolution:function(){if("undefined"==typeof sf||!a.exists(sf.env)||!a.exists(sf.env.getScreenSize))return p;var e=sf.env.getScreenSize();return e.width+"x"+e.height},getLanguage:function(){if("undefined"!=typeof sf&&a.exists(sf.env)&&a.exists(sf.env.getLanguageCode))return sf.env.getLanguageCode()},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return"undefined"!=typeof window&&void 0!==window.navigator&&"undefined"!=typeof sf&&void 0!==sf.env},getConnectionType:function(){if("object"!=("undefined"==typeof sf?"undefined":o(sf))||"object"!=o(sf.core)||"function"!=typeof sf.core.sefplugin)return d;var e=sf.core.sefplugin("NETWORK");if("function"!=typeof e.Open||"function"!=typeof e.Execute)return d;e.Open("Network","1.001","Network");var t=e.Execute("GetActiveType");return 0===t?"wired":1===t?"wireless":d},isConnectionSecure:function(){return"undefined"!=typeof document&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=v},{17:17,21:21,28:28,47:47,48:48,52:52}],41:[function(e,t,n){function i(){return("undefined"==typeof engine?"undefined":o(engine))!=p&&o(engine.stats)!=p}function r(){return s.isNotEmpty(engine.stats.device.id)?engine.stats.device.id:s.isNotEmpty(engine.stats.network.mac)?engine.stats.network.mac:null}function a(){if(null==g){var e=r();null!=e?(g=e,v="31",m=e):(g=+new Date+~~(1e3*Math.random()),v="72",m=null)}}var s=e(21),u=e(17),l=e(51),c=e(52),f=e(46),d=e(29),p="undefined",h=u.UNKNOWN_VALUE,y=u.UNKNOWN_RESOLUTION,g=null,v=null,m=null,b={PLATFORM:"trilithium",httpGet:l,httpPost:c,Storage:f,IO:d,getCrossPublisherId:function(){return a(),m},getAppName:function(){return s.isNotEmpty(engine.stats.application.name)?engine.stats.application.name:h},getAppVersion:function(){return s.isNotEmpty(engine.stats.application.version)?engine.stats.application.version:h},getVisitorId:function(){return a(),g},getVisitorIdSuffix:function(){return v},getDeviceModel:function(){return s.safeGet(engine.stats.device.platform,h)},getPlatformVersion:function(){return""},getPlatformName:function(){return"js"},getRuntimeName:function(){return"trilithium"},getRuntimeVersion:function(){return s.safeGet(engine.stats.device.version,h)},getDisplayResolution:function(){return("undefined"==typeof screen?"undefined":o(screen))!=p&&o(screen.height)!=p&&o(screen.width)!=p?screen.height+"x"+screen.width:y},getLanguage:function(){return h},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:i,isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=p&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=b},{17:17,21:21,29:29,46:46,51:51,52:52}],42:[function(e,t,n){function i(){return("undefined"==typeof window?"undefined":o(window))===d&&("undefined"==typeof Device?"undefined":o(Device))!==d&&"Apple TV"===Device.model}function r(){null==y&&(a.isEmpty(Device.vendorIdentifier)?(y=+new Date+~~(1e3*Math.random()),g="72"):(y=Device.vendorIdentifier,g="62"),v=y)}var a=e(21),s=e(17),u=e(48).ajaxHttpGet,l=e(48).ajaxHttpPost,c=e(46),f=e(27),d="undefined",p=s.UNKNOWN_VALUE,h=s.UNKNOWN_RESOLUTION,y=null,g=null,v=null,m={PLATFORM:"tvos",httpGet:u,httpPost:l,Storage:c,IO:f,getCrossPublisherId:function(){return r(),v},getAppName:function(){return Device.appIdentifier},getAppVersion:function(){return Device.appVersion},getVisitorId:function(){return r(),y},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return Device.productType},getPlatformVersion:function(){return Device.systemVersion},getPlatformName:function(){return"js"},getRuntimeName:function(){return"tvos"},getRuntimeVersion:function(){return Device.systemVersion},getDisplayResolution:function(){return h},getLanguage:function(){return Settings.language},getPackageName:function(){return p},isConnectionAvailable:function(){return!0},isCompatible:i,isConnectionSecure:function(){return!0}};t.exports=m},{17:17,21:21,27:27,46:46,48:48}],43:[function(e,t,n){function i(e,t){webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","firmwareVersion","UHD","sdkVersion"]},onSuccess:function(t){t.returnValue&&(u=t),e()},onFailure:function(){e()}})}function r(e,t){webOS.service.request("luna://com.webos.settingsservice",{method:"getSystemSettings",parameters:{category:"option"},onSuccess:function(t){t.returnValue&&(l=t),e()},onFailure:function(){e()}})}function a(e,t){webOS.service.request("luna://com.webos.service.connectionmanager",{method:"getStatus",onSuccess:function(t){t.returnValue&&(c=t),e()},onFailure:function(){e()}})}function s(){return("undefined"==typeof window?"undefined":o(window))!==v&&!f.isEmpty(window.webOS)&&!f.isEmpty(webOS.service)&&!f.isEmpty(webOS.service.request)}var u,l,c,f=e(21),d=e(17),p=e(50),h=e(48).ajaxHttpPost,y=e(46),g=e(27),v="undefined",m=d.UNKNOWN_VALUE,b=d.UNKNOWN_RESOLUTION,_={PLATFORM:"webos",httpGet:p,httpPost:h,Storage:y,IO:g,onDataFetch:function(e,t){var n=3,o=function(){0==--n&&e()};i(o,t),r(o,t),a(o,t)},getCrossPublisherId:function(){return("undefined"==typeof webOS?"undefined":o(webOS))!==v&&webOS.device&&webOS.device.serialNumber&&"Unknown"!=webOS.device.serialNumber?webOS.device.serialNumber:null},getAppName:function(){return m},getAppVersion:function(){return m},getVisitorId:function(){return+new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceModel:function(){return u&&u.modelName?u.modelName:m},getPlatformVersion:function(){return u&&u.sdkVersion?u.sdkVersion:m},getPlatformName:function(){return"js"},getRuntimeName:function(){return"webOS"},getRuntimeVersion:function(){return("undefined"==typeof webOS?"undefined":o(webOS))!==v&&webOS.device?webOS.device.platformVersion:m},getDisplayResolution:function(){var e=0;("undefined"==typeof webOS?"undefined":o(webOS))!==v&&webOS.device?e=webOS.device.screenWidth:("undefined"==typeof window?"undefined":o(window))!=v&&window.screen&&(e=window.screen.availWidth);var t=0;return("undefined"==typeof webOS?"undefined":o(webOS))!==v&&o(webOS.device)!==v?t=webOS.device.screenHeight:("undefined"==typeof window?"undefined":o(window))!=v&&window.screen&&(t=window.screen.availHeight),e>0&&t>0?e+"x"+t:b},getLanguage:function(){return l&&l.locales?l.locales.UI||l.locales.TV||m:m},getPackageName:function(){return m},isConnectionAvailable:function(){return!c||!c.isInternetConnectionAvailable||c.isInternetConnectionAvailable},isCompatible:s,getConnectionType:function(){if(c&&(c.wired||c.wifi)){if("connected"===c.wired.state&&"yes"===c.wired.onInternet)return"eth";if("connected"===c.wifi.state&&"yes"===c.wifi.onInternet)return"wifi"}return m},isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=v&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=_},{17:17,21:21,27:27,46:46,48:48,50:50}],44:[function(e,t,n){function i(){("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.Xbox&&Windows.Xbox.System&&Windows.Xbox.System.Console&&Windows.Xbox.System.Console.applicationSpecificDeviceId?(y=Windows.Xbox.System.Console.applicationSpecificDeviceId,g="72"):(y=this.getDeviceModel()+ +new Date+~~(1e3*Math.random()),g="72"),m=!0}function r(){("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.addEventListener("currentuserchanged",function(){b=!0}),a(),_=!0}function a(){var e=null;if(("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.Xbox&&Windows.Xbox.ApplicationModel&&Windows.Xbox.ApplicationModel.Core&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext&&Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser){var t=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser;null!=t&&!t.isGuest&&t.isSignedIn&&(e=Windows.Xbox.ApplicationModel.Core.CoreApplicationContext.currentUser.xboxUserId)}v=e}var s=e(17),u=e(53).xboxHttpGet,l=e(53).xboxHttpPost,c=e(46),f=e(27),d="undefined",p=s.UNKNOWN_VALUE,h=s.UNKNOWN_RESOLUTION,y=null,g=null,v=null,m=!1,b=!1,_=!1,E={PLATFORM:"xbox",httpGet:u,httpPost:l,Storage:c,IO:f,getCrossPublisherId:function(){return _||r(),b&&a(),v},getAppName:function(){var e=p;return("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},getAppVersion:function(){var e=p;if(("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.version){var t=Windows.ApplicationModel.Package.current.id.version;e=t.major+"."+t.minor+"."+t.build+"."+t.revision}return e},getVisitorId:function(){return m||i(),y},getVisitorIdSuffix:function(){return g},getDeviceModel:function(){return"xbox one"},getPlatformVersion:function(){var e=p;return("undefined"==typeof navigator?"undefined":o(navigator))!=d&&navigator&&navigator.userAgent&&navigator.userAgent.split(";").filter(function(e){return-1!=e.indexOf("Windows NT")}).forEach(function(t){e=t.substr(t.indexOf("Windows NT")+11,t.length-1)}),e},getPlatformName:function(){return"xbox"},getRuntimeName:function(){return"winjs"},getRuntimeVersion:function(){var e=p;return("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.dependencies&&Windows.ApplicationModel.Package.current.dependencies.filter(function(e){return e&&e.id&&e.id.name&&-1!=e.id.name.indexOf("WinJS")&&e.id.version}).forEach(function(t){e=t.id.version.major+"."+t.id.version.minor+"."+t.id.version.build+"."+t.id.version.revision}),e},getDisplayResolution:function(){var e=h;if(("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.Xbox&&Windows.Xbox.Graphics&&Windows.Xbox.Graphics.Display&&Windows.Xbox.Graphics.Display.DisplayConfiguration&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView()&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawWidth&&Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode.rawHeight){var t=Windows.Xbox.Graphics.Display.DisplayConfiguration.getForCurrentView().currentDisplayMode;e=t.rawWidth+"x"+t.rawHeight}return e},getApplicationResolution:function(){var e=h;return("undefined"==typeof window?"undefined":o(window))!=d&&window.innerWidth&&window.innerHeight&&(e=window.innerWidth+"x"+window.innerHeight),e},getLanguage:function(){var e=p;return("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.System&&Windows.System.UserProfile&&Windows.System.UserProfile.GlobalizationPreferences&&Windows.System.UserProfile.GlobalizationPreferences.languages&&(e=Windows.System.UserProfile.GlobalizationPreferences.languages.getAt(0)),e},getPackageName:function(){var e=p;return("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.name&&(e=Windows.ApplicationModel.Package.current.id.name),e},isConnectionAvailable:function(){return!(("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel())||4==Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().getNetworkConnectivityLevel()},isCompatible:function(){return("undefined"==typeof WinJS?"undefined":o(WinJS))!=d&&WinJS&&("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.Xbox},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return _||r(),b},getDeviceArchitecture:function(){var e="unknown";if(("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.ApplicationModel&&Windows.ApplicationModel.Package&&Windows.ApplicationModel.Package.current&&Windows.ApplicationModel.Package.current.id&&Windows.ApplicationModel.Package.current.id.architecture)switch(Windows.ApplicationModel.Package.current.id.architecture){case 5:e="arm";break;case 11:e="neutral";break;case 9:e="x64";break;case 0:e="x86"}return e},getConnectionType:function(){var e=p;if(("undefined"==typeof Windows?"undefined":o(Windows))!=d&&Windows&&Windows.Networking&&Windows.Networking.Connectivity&&Windows.Networking.Connectivity.NetworkInformation&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile()&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter&&Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType)switch(Windows.Networking.Connectivity.NetworkInformation.getInternetConnectionProfile().networkAdapter.ianaInterfaceType){case 6:e="eth";break;case 71:e="wifi"}return e},getDeviceJailBrokenFlag:function(){return p},isConnectionSecure:function(){return("undefined"==typeof document?"undefined":o(document))!=d&&null!=document&&"s"===document.location.href.charAt(4)}};t.exports=E},{17:17,27:27,46:46,53:53}],45:[function(e,t,n){var i=e(24),r=function(){var e="undefined"!=typeof atv&&void 0!==atv.localStorage&&atv.localStorage||null;i.extend(this,{get:function(t){return e&&t&&e.getItem("cs_"+t)||null},set:function(t,n){e&&t&&(e["cs_"+t]=n)},has:function(t){return e&&t&&null!=e.getItem("cs_"+t)||!1},remove:function(t){e&&t&&e.removeItem("cs_"+t)},clear:function(){}})};t.exports=r},{24:24}],46:[function(e,t,n){var i=e(24),r=function(){var e="undefined"!=typeof localStorage?localStorage:null;i.extend(this,{get:function(t){return e&&e.getItem("cs_"+t)},set:function(t,n){e&&e.setItem("cs_"+t,n)},has:function(t){return e&&e.getItem("cs_"+t)},remove:function(t){e&&e.removeItem("cs_"+t)},clear:function(){for(var t=0;e&&t<e.length;++t){var n=e.key(t);"cs_"===n.substr(0,"cs_".length)&&e.removeItem(n)}}})};t.exports=r},{24:24}],47:[function(e,t,n){var i,r,a=e(24);"undefined"!=typeof sf?r=i=function(e,t){sf.core.localData(e,t)}:(r=function(e,t){$.sf.setData(e,void 0===t?null:t)},i=function(e){return $.sf.getData(e)});var o=function(){a.extend(this,{get:function(e){return i("cs_"+e)},set:function(e,t){r("cs_"+e,t)},has:function(e){return void 0!==i("cs_"+e)},remove:function(e){r("cs_"+e,null)}})};t.exports=o},{24:24}],48:[function(e,t,n){var i=function(e,t){if("undefined"==typeof XMLHttpRequest)return void("function"==typeof setTimeout?t&&setTimeout(t,0):t&&t());var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&(t&&t(n.status),n=null)},n.send()},r=function(e,t,n){if("undefined"==typeof XMLHttpRequest)return void("function"==typeof setTimeout?n&&setTimeout(n,0):n&&n());var i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(t)};n.ajaxHttpGet=i,n.ajaxHttpPost=r},{}],49:[function(e,t,n){var i=function(e,t){if("undefined"==typeof atv||"undefined"==typeof XMLHttpRequest)return void("undefined"!=typeof atv&&"function"==typeof atv.setTimeout?t&&atv.setTimeout(t,0):t&&t());var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4==n.readyState&&(t&&t(n.status),n=null)},n.send()},r=function(e,t,n){if("undefined"==typeof atv||"undefined"==typeof XMLHttpRequest)return void("undefined"!=typeof atv&&"function"==typeof atv.setTimeout?n&&atv.setTimeout(n,0):n&&n());var i=new XMLHttpRequest;i.open("POST",e,!0),i.onreadystatechange=function(){4===i.readyState&&(n&&n(i.status),i=null)},i.send(t)};n.atvHttpGet=i,n.atvHttpPost=r},{}],50:[function(e,t,n){var i=function(e,t){if("undefined"==typeof Image)return void("function"==typeof setTimeout?t&&setTimeout(t,0):t&&t());var n=new Image;n.onload=function(){t&&t(200),n=null},n.onerror=function(){t&&t(),n=null},n.src=e};t.exports=i},{}],51:[function(e,t,n){var i=function(e,t){if("undefined"==typeof engine)return void("function"==typeof setTimeout?t&&setTimeout(t,0):t&&t());engine.createHttpClient().createRequest("GET",e,null).start(),t&&setTimeout(t,0)};t.exports=i},{}],52:[function(e,t,n){var i=function(e,t){"function"==typeof setTimeout?t&&setTimeout(function(){t(200)},0):t&&t(200)},r=function(e,t,n){"function"==typeof setTimeout?n&&setTimeout(function(){n(200)},0):n&&n(200)};t.exports.voidHttpGet=i,t.exports.voidHttpPost=r},{}],53:[function(e,t,n){var i=function(e,t){if("undefined"==typeof WinJS||void 0===WinJS.xhr)return void("function"==typeof setTimeout?t&&setTimeout(t,0):t&&t());WinJS.xhr({url:e}).then(function(e){t&&t(e.status)},function(){t&&t()})},r=function(e,t,n){if("undefined"==typeof WinJS||void 0===WinJS.xhr)return void("function"==typeof setTimeout?n&&setTimeout(n,0):n&&n());WinJS.xhr({type:"post",url:e,data:t,headers:{"Content-type":"application/xml"}}).then(function(e){n&&n(e.status)},function(){n&&n()})};n.xboxHttpGet=i,n.xboxHttpPost=r},{}],54:[function(e,t,n){function i(){var e,t,n,i,f,d,p,h,y,g,v,m,b,_,E,A,k,T,w,S,P,O,C,L,R,I,x,D,M,N,U,B,j,F,G,V,H,K,W,Y,z,q,X,J,Q,$,Z,ee,te,ne,ie,re,ae,oe,se,ue,le=this,ce=l;r.extend(le,{getHash:function(){return e},setHash:function(t){e=t},setPlaybackIntervalMergeTolerance:function(e){ce=e},getPlaybackIntervalMergeTolerance:function(){return ce},setInternalLabel:function(e,t){i[e]=t},getInternalLabel:function(e){return i[e]},hasInternalLabel:function(e){return null!=i[e]},setLabels:function(e){e&&r.extend(f,e)},getLabels:function(){return f},setLabel:function(e,t){f[e]=t},getLabel:function(e){return f[e]},hasLabel:function(e){return e in f},getClipNumber:function(){return parseInt(le.getInternalLabel("ns_st_cn"))},setClipNumber:function(e){le.setInternalLabel("ns_st_cn",e+"")},getPartNumber:function(){return le.hasLabel("ns_st_pn")?parseInt(le.getLabel("ns_st_pn")):parseInt(le.getInternalLabel("ns_st_pn"))},createLabels:function(e,t,a){var l=e,c=parseInt(l.ns_st_po),f=o.isEmpty(l.ns_st_ap)?P:parseInt(l.ns_st_ap);a&&ue<0&&m-c>0?(l.ns_st_ap=f+m-c,l.ns_st_dap=f+m-c-O):a&&ue>0&&c-m>0?(l.ns_st_ap=f+c-m,l.ns_st_dap=f+c-m-O):(l.ns_st_ap=f,l.ns_st_dap=f-O);var d=o.isEmpty(l.ns_st_pt)?le.getPlaybackTime():parseInt(l.ns_st_pt);l.ns_st_pt=d+(isNaN(y)?0:t-y)+"",l.ns_st_dpt=d+(isNaN(y)?0:t-y)-g+"",l.ns_st_ipt=d+(isNaN(y)?0:t-y)-v+"";var p=o.isEmpty(l.ns_st_et)?le.getElapsedTime():parseInt(l.ns_st_et);l.ns_st_et=p+(isNaN(E)?0:t-E)+"",l.ns_st_det=p+(isNaN(E)?0:t-E)-A+"";var h=o.isEmpty(l.ns_st_bt)?le.getBufferingTime():parseInt(l.ns_st_bt);l.ns_st_bt=h+"",l.ns_st_dbt=h+(isNaN(j)?0:t-j)-F+"";var b=C,_=L;a&&(b=s.addNewPlaybackInterval(u(C),ue<0?c:R,ue<0?R:c,ce),_=s.addNewPlaybackInterval(u(L),ue<0?c:R,ue<0?R:c,ce));for(var k,S=0,B=0,G=0;G<b.length;G++)k=Math.abs(b[G].end-b[G].start),S+=k,k>B&&(B=k);var H=0,K=0;for(G=0,k;G<_.length;G++)k=Math.abs(_[G].end-_[G].start),H+=k,k>K&&(K=k);l.ns_st_upc=S+"",l.ns_st_dupc=S-I+"",l.ns_st_iupc=S-x+"",l.ns_st_iupc=S>x?S-x+"":"0",l.ns_st_lpc=B+"",l.ns_st_dlpc=B-D+"",l.ns_st_upa=H+"",l.ns_st_dupa=H-M+"",l.ns_st_iupa=H>N?H-N+"":"0",l.ns_st_lpa=K+"",l.ns_st_dlpa=K-U+"";var W=o.isEmpty(l.ns_st_pc)?le.getPauses():parseInt(l.ns_st_pc);l.ns_st_pc=W+"",l.ns_st_dpc=W-Z+"";var z=o.isEmpty(l.ns_st_skc)?le.getSeeks():parseInt(l.ns_st_skc);l.ns_st_skc=z+"",l.ns_st_dskc=z-te+"";var q=o.isEmpty(l.ns_st_bc)?le.getBuffers():parseInt(l.ns_st_bc);l.ns_st_bc=q+"",l.ns_st_dbc=q-V+"";var X=o.isEmpty(l.ns_st_skt)?le.getSeekingTime():parseInt(l.ns_st_skt);l.ns_st_skt=X+"",l.ns_st_dskt=X-Y+"";var Q=o.isEmpty(l.ns_st_ska)?le.getSeekingAmount():parseInt(l.ns_st_ska);l.ns_st_ska=Q+"",l.ns_st_dska=Q-J+"",n&&(l.ns_st_spc=ne+"",l.ns_st_apc=ie+"",l.ns_st_sq=re+"",l.ns_st_asq=ae+""),l.ns_st_sc=n||0!=oe?oe+"":"1",l.ns_st_rt=ue+"",l.ns_st_ldw=T,l.ns_st_ldo=w,r.extend(l,i)},updateDeltaLabels:function(e){g=parseInt(e.ns_st_pt),O=parseInt(e.ns_st_ap),A=parseInt(e.ns_st_et),F=parseInt(e.ns_st_bt),I=parseInt(e.ns_st_upc),D=parseInt(e.ns_st_lpc),M=parseInt(e.ns_st_upa),U=parseInt(e.ns_st_lpa),Z=parseInt(e.ns_st_pc),te=parseInt(e.ns_st_skc),V=parseInt(e.ns_st_bc),Y=parseInt(e.ns_st_skt),J=parseInt(e.ns_st_ska),le.setSeekingDirection(0)},updateIndependentLabels:function(e){v=parseInt(e.ns_st_pt),x=parseInt(e.ns_st_upc),N=parseInt(e.ns_st_upa)},getVideoTrack:function(){return le.getInternalLabel("ns_st_vt")},setVideoTrack:function(e){le.setInternalLabel("ns_st_vt",e+"")},getAudioTrack:function(){return le.getInternalLabel("ns_st_at")},setAudioTrack:function(e){le.setInternalLabel("ns_st_at",e+"")},getSubtitleTrack:function(){return le.getInternalLabel("ns_st_tt")},setSubtitleTrack:function(e){le.setInternalLabel("ns_st_tt",e+"")},getCDN:function(){return le.getInternalLabel("ns_st_cdn")},setCDN:function(e){le.setInternalLabel("ns_st_cdn",e+"")},getSegmentPlaybackIntervals:function(){return C},setAssetPlaybackIntervals:function(e){C=e},getAssetPlaybackIntervals:function(){return L},incrementPauses:function(){$++},incrementSeeks:function(){ee++},incrementPlayCounter:function(){re++},getPlayCounter:function(){return re},getBufferingTime:function(){return B},setBufferingTime:function(e){B=e},addBufferingTime:function(e){if(!isNaN(j)){var t=le.getBufferingTime();t+=e-j,le.setBufferingTime(t),j=NaN}},setPlaybackStartPosition:function(e){R=parseInt(e)},getPlaybackStartPosition:function(){return R},addInterval:function(e){isNaN(R)||isNaN(e)||(C=s.addNewPlaybackInterval(C,ue<0?e:R,ue<0?R:e,ce),L=s.addNewPlaybackInterval(L,ue<0?e:R,ue<0?R:e,ce),R=NaN)},getElapsedTime:function(){return _},setElapsedTime:function(e){_=e},addElapsedTime:function(e){if(!isNaN(E)){var t=le.getElapsedTime();t+=e-E,le.setElapsedTime(t),E=NaN}},getElapsedTimestamp:function(){return E},setElapsedTimestamp:function(e){E=e},addPlaybackTime:function(e){isNaN(y)||(h+=e-y,y=NaN)},getPlaybackTime:function(){return h},getExpectedPlaybackPosition:function(e){var t=m+S-w;return!p&&isNaN(y)||(t+=Math.floor((e-b)*ue/100)),t},getExpectedWindowOffset:function(e,t){return p?m-e+Math.floor((t-b)*ue/100)+S:0},setPlaybackTimeOffset:function(e,t){m=e,b=t},getPlaybackTimestamp:function(){return y},setPlaybackTimestamp:function(e){y=e},setPreviousPlaybackTime:function(e){g=e},getBufferingTimestamp:function(){return j},setBufferingTimestamp:function(e){j=e},getPauses:function(){return $},setPauses:function(e){$=e},getSeeks:function(){return ee},setSeeks:function(e){ee=e},setSeeking:function(e){H=e},isSeeking:function(){return H},setCollectingSeekingTime:function(e){q=e},isCollectingSeekingTime:function(){return q},setAssetStarted:function(e){t=e},isAssetStarted:function(){return t},setPlaybackStarted:function(e){n=e},isPlaybackStarted:function(){return n},setSeekingTimestamp:function(e){K=e},getSeekingTimestamp:function(){return K},addSeekingTime:function(e){if(!isNaN(K)){var t=le.getSeekingTime();t+=e-K,le.setSeekingTime(t),K=NaN}},getSeekingTime:function(){return W},setSeekingTime:function(e){W=e},setSeekingTimeBeforeEnd:function(e){Q=e},getSeekingTimeBeforeEnd:function(){return Q},setSeekStartPosition:function(e){z=e},getSeekStartPosition:function(){return z},setSeekingAmount:function(e){X=e},getSeekingAmount:function(){return X},addSeekingAmount:function(e){var t=le.getSeekingAmount();t+=Math.abs(e-z),le.setSeekingAmount(t);var n;z==e?n=0:z>e?n=-1:z<e&&(n=1),le.setSeekingDirection(n),z=0},getSeekingDirection:function(){return parseInt(le.getInternalLabel("ns_st_skd"))},setSeekingDirection:function(e){le.setInternalLabel("ns_st_skd",e+"")},resetAssetLifecycleLabels:function(){P=0,O=0,h=0,g=0,v=0,B=0,F=0,G=0,V=0,$=0,Z=0,re=0,L=[],M=0,N=0,U=0,_=0,A=0,W=0,Y=0,X=0,J=0,ee=0,te=0},incrementSegmentPlaybackCounter:function(){ne++},incrementAssetLoadCounter:function(){oe++},incrementAssetPlaybackCounter:function(){ie++},getPreviousUniquePlaybackInterval:function(){return I},setPreviousUniquePlaybackInterval:function(e){I=e},getPreviousEventIndependentUniquePlaybackInterval:function(){return x},setPreviousEventIndependentUniquePlaybackInterval:function(e){x=e},setPreviousLongestPlaybackInterval:function(e){D=e},getPreviousLongestPlaybackInterval:function(){return D},resetAssetPlaybackIntervals:function(){L=[],M=0,N=0,U=0},setSegmentPlaybackCounter:function(e){ne=e},setAssetLoadCounter:function(e){oe=e},setAssetPlaybackCounter:function(e){ie=e},setLowestPartNumberPlayed:function(e){k=e},getSegmentPlaybackCounter:function(){return ne},getAssetLoadCounter:function(){return oe},getAssetPlaybackCounter:function(){return ie},getLowestPartNumberPlayed:function(){return k},getBuffers:function(){return G},incrementBufferCount:function(){G++},getPreviousBufferingTime:function(){return F},setPlaySequenceCounter:function(e){ae=e},incrementPlaySequenceCounter:function(){ae++},getPlaySequenceCounter:function(){return ae},isPlaybackSessionLooping:function(){return se},setPlaybackSessionLooping:function(e){se=e},enableAutoCalculatePositions:function(e){d=!!e},isAutoCalculatePositionsEnabled:function(){return d},getPlaybackRate:function(){return ue},setPlaybackRate:function(e){ue=e},addAccumulatedPlayback:function(e){ue<0&&m-e>0?P+=m-e:ue>0&&e-m>0&&(P+=e-m)},setPlaybackWindowLength:function(e){T=e},getPlaybackWindowLength:function(){return T},setPlaybackWindowOffset:function(e){w=e},getPlaybackWindowOffset:function(){return w},setPreviousPlaybackWindowOffset:function(e){S=e},asLiveStream:function(e){p=e}}),function(){i={},i.ns_st_cl="0",i.ns_st_pn="1",i.ns_st_tp="0",i.ns_st_cn="1",i.ns_st_skd="0",i.ns_st_ci="0",i.c3="*null",i.c4="*null",i.c6="*null",i.ns_st_st="*null",i.ns_st_pu="*null",i.ns_st_pr="*null",i.ns_st_ep="*null",i.ns_st_sn="*null",i.ns_st_en="*null",i.ns_st_ct="*null",f={},n=!1,t=!1,e=a.UNKNOWN_VALUE,d=!0,p=!1,h=0,y=NaN,m=0,g=0,_=0,E=NaN,k=0,A=0,v=0,T=0,w=0,S=0,P=0,O=0,R=NaN,C=[],L=[],I=0,x=0,D=0,M=0,N=0,U=0,B=0,j=NaN,F=0,G=0,V=0,H=!1,K=NaN,q=!1,z=0,Q=0,W=0,Y=0,X=0,J=0,$=0,Z=0,ee=0,te=0,ne=0,ie=0,re=0,ae=0,oe=0,se=!1,ue=c}()}var r=e(24),a=e(17),o=e(21),s=e(68),u=e(23),l=500,c=100;i.resetAsset=function(e,t,n){for(var i=e.getLabels(),r={},a=0;n&&a<n.length;++a)i.hasOwnProperty(n[a])&&(r[n[a]]=i[n[a]]);t.setLabels(r),t.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},t.exports=i},{17:17,21:21,23:23,24:24,68:68}],55:[function(e,t,n){var i={PAGE_NAME_LABEL:"name",HASH_LABELS:["ns_st_st","ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"]};t.exports=i},{}],56:[function(e,t,n){function i(e){function t(e){var t=z.getStateMachine().getCurrentState();if(t==P.IDLE||t==P.PLAYBACK_NOT_STARTED||t==P.BUFFERING_BEFORE_PLAYBACK||t==P.SEEKING_BEFORE_PLAYBACK){if(e==O.PLAY)return!0}else if(t==P.PLAYING){if(e==O.END||e==O.AD_SKIP||e==O.SEEK_START||e==O.PAUSE)return!0}else if(t==P.PAUSED||t==P.BUFFERING_DURING_PAUSE||t==P.SEEKING_DURING_PLAYBACK||t==P.SEEKING_DURING_BUFFERING||t==P.SEEKING_DURING_PAUSE){if(e==O.END||e==O.AD_SKIP||e==O.PLAY)return!0}else if(t==P.BUFFERING_DURING_PLAYBACK){if(e==O.PAUSE_ON_BUFFERING||e==O.END||e==O.AD_SKIP||e==O.SEEK_START||e==O.PAUSE||e==O.PLAY)return!0}else if(t==P.BUFFERING_DURING_SEEKING){if(e==O.END||e==O.AD_SKIP||e==O.PAUSE||e==O.PLAY)return!0}else if(t==P.PAUSED_DURING_BUFFERING&&(e==O.END||e==O.AD_SKIP||e==O.BUFFER_STOP||e==O.PLAY))return!0;return!1}function n(e,n,i){var r=z.getStateMachine().getCurrentState();e==O.AD_SKIP&&!i.hasOwnProperty("ns_st_ui")&&t(e)?i.ns_st_ui="skip":e==O.SEEK_START&&!i.hasOwnProperty("ns_st_ui")&&t(e)&&(i.ns_st_ui="seek"),r==P.IDLE?e==O.BUFFER?q.onBuffer(n,i):e==O.SEEK_START?q.onSeekStart(n,i):e==O.PLAY&&q.onPlay(n,i):r==P.PLAYBACK_NOT_STARTED?e==O.END||e==O.AD_SKIP?J.onEndOrAdSkip(n,i):e==O.SEEK_START?J.onSeekStart(n,i):e==O.PLAY?J.onPlay(n,i):e==O.BUFFER&&J.onBuffer(n,i):r==P.PLAYING?e==O.END||e==O.AD_SKIP?Q.onEndOrAdSkip(n,i):e==O.BUFFER?Q.onBuffer(n,i):e==O.SEEK_START?Q.onSeekStart(n,i):e==O.PAUSE&&Q.onPause(n,i):r==P.PAUSED?e==O.END||e==O.AD_SKIP?X.onEndOrAdSkip(n,i):e==O.PLAY?X.onPlay(n,i):e==O.BUFFER?oe.onBufferWhenSeekingOrPaused(n,i):e==O.SEEK_START&&oe.onSeekStartWhenPausedOrBufferingDuringPause(n,i):r==P.BUFFERING_BEFORE_PLAYBACK?e==O.END||e==O.AD_SKIP?$.onEndOrAdSkip(n,i):e==O.BUFFER_STOP?$.onBufferStop(n,i):e==O.SEEK_START?$.onSeekStart(n,i):e==O.PAUSE?$.onPause(n,i):e==O.PLAY&&$.onPlay(n,i):r==P.BUFFERING_DURING_PLAYBACK?e==O.PAUSE_ON_BUFFERING?Z.onPauseOnBuffering(n,i):e==O.BUFFER_STOP?oe.onBufferStopOrOnPlayWhenBufferingDuringPlayback(n,i):e==O.END||e==O.AD_SKIP?Z.onEndOrAdSkip(n,i):e==O.SEEK_START?Z.onSeekStart(n,i):e==O.PAUSE?Z.onPause(n,i):e==O.PLAY&&oe.onBufferStopOrOnPlayWhenBufferingDuringPlayback(n,i):r==P.BUFFERING_DURING_SEEKING?e==O.END||e==O.AD_SKIP?ee.onEndOrAdSkip(n,i):e==O.PAUSE?ee.onPause(n,i):e==O.PLAY?ee.onPlay(n,i):e==O.BUFFER_STOP&&oe.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,i):r==P.BUFFERING_DURING_PAUSE?e==O.END||e==O.AD_SKIP?te.onEndAndSkip(n,i):e==O.PAUSE?te.onPause(n,i):e==O.PLAY?te.onPlay(n,i):e==O.SEEK_START?oe.onSeekStartWhenPausedOrBufferingDuringPause(n,i):e==O.BUFFER_STOP&&oe.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(n,i):r==P.SEEKING_BEFORE_PLAYBACK?e==O.END||e==O.AD_SKIP?ie.onEndOrAdSkip(n,i):e==O.PAUSE?ie.onPause(n,i):e==O.PLAY?ie.onPlay(n,i):e==O.BUFFER&&oe.onBufferWhenSeekingOrPaused(n,i):r==P.SEEKING_DURING_PLAYBACK?e==O.END||e==O.AD_SKIP?ae.onEndOrAdSkip(n,i):e==O.PLAY?ae.onPlay(n,i):e==O.BUFFER?oe.onBufferWhenSeekingOrPaused(n,i):e==O.PAUSE&&oe.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,i):r==P.SEEKING_DURING_BUFFERING?e==O.PAUSE?re.onPause(n,i):e==O.BUFFER?oe.onBufferWhenSeekingOrPaused(n,i):e==O.PLAY?oe.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,i):e==O.END||e==O.AD_SKIP?oe.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,i):e==O.BUFFER_STOP&&oe.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,i):r==P.PAUSED_DURING_BUFFERING?e==O.END||e==O.AD_SKIP?ne.onEndOrAdSkip(n,i):e==O.BUFFER_STOP?ne.onPlayOrOnBufferStop(n,i):e==O.SEEK_START?ne.onSeekStart(n,i):e==O.PAUSE?ne.onPause(n,i):e==O.PLAY&&ne.onPlayOrOnBufferStop(n,i):r==P.SEEKING_DURING_PAUSE&&(e==O.BUFFER?oe.onBufferWhenSeekingOrPaused(n,i):e==O.PLAY?oe.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(n,i):e==O.PAUSE?oe.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(n,i):e==O.END||e==O.AD_SKIP?oe.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(n,i):e==O.BUFFER_STOP&&oe.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(n,i)),t(e)&&z.getPlaybackSession().setFirstEventSent(!0)}function i(){Pe||(Pe=!0,T.onSystemClockJump(W))}function K(){T.removeSystemClockJumpListener(W),Pe=!1}function W(e){be=e,Oe=!0}function Y(){var e={},t=b.fixEventTime(e);_e.newEvent(O.END,t,e)}var z,q,X,J,Q,$,Z,ee,te,ne,ie,re,ae,oe,se,ue,le,ce,fe,de,pe,he,ye,ge,ve,me,be,_e=this,Ee={},Ae=V,ke=H,Te={},we=!1,Se=!0,Pe=!1,Oe=!1;A.extend(_e,{getConfiguration:function(){return e||{}},createLabels:function(e,t,n){var i=z.getPlaybackSession(),r=i.getAsset(),a=!1;if(e==O.HEARTBEAT){var s=isNaN(ce)?le:ce;ce=n,(n<s||Oe)&&(a=!0,Oe=!1,n<s?(i.addInternalErrorFlag("1"),z.getLogging().infoLog("System clock jump detected","to the far past")):be?(i.addInternalErrorFlag("3"),z.getLogging().infoLog("System clock jump detected","to the future")):(i.addInternalErrorFlag("2"),z.getLogging().infoLog("System clock jump detected","to the near past")),n=s)}var u={};if(we&&(u.c2=ve),("undefined"==typeof document?"undefined":o(document))!=U){var l=document;u.c7=l.URL,u.c8=l.title,u.c9=l.referrer}u.ns_ts=+new Date+"",u.ns_st_ev=O.toString(e),u.ns_st_mp=G,u.ns_st_mv=B,u.ns_st_ub="0",u.ns_st_br="0",u.ns_st_pn="1",u.ns_st_tp="0",u.ns_st_it=C.toString(C.SINGLE_CLIP),u.ns_st_sv=B,u.ns_st_smv=j,u.ns_type="hidden",u.ns_st_ec=z.getEventManager().getEventCounter()+"",u.ns_st_ki=z.getKeepAlive().getInterval()+"",t.ns_st_po?u.ns_st_po=t.ns_st_po+"":r.isAutoCalculatePositionsEnabled()?u.ns_st_po=r.getExpectedPlaybackPosition(n)+"":u.ns_st_po=me+"",me=parseInt(u.ns_st_po),i.createLabels(u,n),i.getAsset().createLabels(u,n,e==O.HEARTBEAT);var c={};return A.extend(c,Te),A.extend(c,i.getLabels()),A.extend(c,i.getAsset().getLabels()),A.extend(c,t),a&&(r.setPlaybackTimeOffset(me,ce),i.setPlaybackTimestamp(ce-parseInt(u.ns_st_dpt)),r.setPlaybackTimestamp(ce-parseInt(u.ns_st_dpt)),r.setElapsedTimestamp(ce-parseInt(u.ns_st_det))),{eventType:e,eventLabels:u,customLabels:c}},newEvent:function(t,r,a,o){_e.stopDelayedTransitionTimer();var s=z.getStateMachine().getCurrentState(),u=z.getStateMachine().eventTypeToState(t);if(null==u||u==s)return void z.getLogging().infoLog("Ignored event:",O.toString(t),"during state",b.stateToString(s),a);if(_e.isThrottlingEnabled()&&(s==P.PLAYING||s==P.PAUSED)&&(u==P.PLAYING||u==P.PAUSED)&&!o){z.getLogging().infoLog("Throttled event:",O.toString(t),"during state",b.stateToString(s),a,_e.getThrottlingDelay(),"ms");var l=function(e,t,n){return function(){_e.newEvent(e,r,n,!0)}}(t,0,a);return void(he=_e.getPlatformAPI().setTimeout(l,_e.getThrottlingDelay()))}e.systemClockJumpDetection&&(u==P.IDLE?K():s==P.IDLE&&i()),Se&&b.isIdleState(s)&&!b.isIdleState(u)?w.onPageExit(Y):Se&&!b.isIdleState(s)&&b.isIdleState(u)&&w.removePageExitListener(Y);var c=z.getPlaybackSession(),f=c.getAsset(),d=isNaN(ce)?le:ce;ce=r;var p=!1;(r<d||Oe)&&(p=!0,Oe=!1,r<d?(c.addInternalErrorFlag("1"),z.getLogging().infoLog("System clock jump detected","to the far past")):be?(c.addInternalErrorFlag("3"),z.getLogging().infoLog("System clock jump detected","to the future")):(c.addInternalErrorFlag("2"),z.getLogging().infoLog("System clock jump detected","to the near past")),r=d),a.ns_st_po?z.getStateMachine().getCurrentState()==P.IDLE?f.setPlaybackWindowOffset(f.getPlaybackWindowLength()-parseInt(a.ns_st_po)):f.setPlaybackWindowOffset(f.getExpectedWindowOffset(parseInt(a.ns_st_po),r)):f.isAutoCalculatePositionsEnabled()?z.getStateMachine().getCurrentState()==P.IDLE?a.ns_st_po=f.getPlaybackWindowLength()-f.getPlaybackWindowOffset()+"":a.ns_st_po=f.getExpectedPlaybackPosition(r)+"":a.ns_st_po=me+"";var h=parseInt(a.ns_st_po);me=h,n(t,r,a),f.setPlaybackTimeOffset(h,r),f.setPreviousPlaybackWindowOffset(f.getPlaybackWindowOffset());var y=0;isNaN(z.getStateMachine().getLastStateChangeTimestamp())||(y=r-z.getStateMachine().getLastStateChangeTimestamp()),z.getStateMachine().newEvent(t,r),p&&(f.setPlaybackTimeOffset(h,ce),u!=P.IDLE&&u!=P.PLAYBACK_NOT_STARTED&&u!=P.SEEKING_BEFORE_PLAYBACK&&u!=P.BUFFERING_BEFORE_PLAYBACK&&f.setElapsedTimestamp(ce),u!=P.BUFFERING_BEFORE_PLAYBACK&&u!=P.BUFFERING_DURING_PAUSE&&u!=P.BUFFERING_DURING_PLAYBACK&&u!=P.BUFFERING_DURING_SEEKING&&u!=P.PAUSED_DURING_BUFFERING||(c.setBufferingTimestamp(ce),f.setBufferingTimestamp(ce)),u==P.PLAYING&&(c.setPlaybackTimestamp(ce),f.setPlaybackTimestamp(ce)),u!=P.SEEKING_BEFORE_PLAYBACK&&u!=P.SEEKING_DURING_BUFFERING&&u!=P.SEEKING_DURING_PAUSE&&u!=P.SEEKING_DURING_PLAYBACK&&u!=P.BUFFERING_DURING_SEEKING||f.setSeekingTimestamp(ce)),z.getLogging().log("Transition from",b.stateToString(s),"to",b.stateToString(u),"due to event:",O.toString(t));for(var g=0,v=ye.length;g<v;g++)ye[g](s,u,a,y)},newPseudoEvent:function(e,t,n){var i=z.getStateMachine().getCurrentState();if((e==O.LOAD||e==O.ENGAGE)&&i!=P.IDLE)return void z.getLogging().infoLog("Ignored pseudo-event:",O.toString(e),"during state",b.stateToString(i),n);e==O.ERROR&&null==n.ns_st_er&&(n.ns_st_er=M.UNKNOWN_VALUE),e==O.TRANSFER&&null==n.ns_st_rp&&(n.ns_st_rp=M.UNKNOWN_VALUE);var r,a,o,s,u=!0,l=!1;switch(e){case O.BIT_RATE:r="ns_st_br",a="ns_st_pbr";break;case O.PLAYBACK_RATE:r="ns_st_rt",a="ns_st_prt";break;case O.VOLUME:r="ns_st_vo",a="ns_st_pvo";break;case O.WINDOW_STATE:r="ns_st_ws",a="ns_st_pws";break;case O.AUDIO:r="ns_st_at",a="ns_st_pat";break;case O.VIDEO:r="ns_st_vt",a="ns_st_pvt";break;case O.SUBS:r="ns_st_tt",a="ns_st_ptt";break;case O.CDN:r="ns_st_cdn",a="ns_st_pcdn";break;default:u=!1}var c=z.getPlaybackSession(),f=c.getAsset();if(u&&r in n)switch(s=n[r],e){case O.BIT_RATE:case O.VOLUME:case O.WINDOW_STATE:r in Te&&(o=Te[r],n[a]=o,l=s==o+""),Te[r]=n[r];break;case O.AUDIO:case O.VIDEO:case O.SUBS:case O.CDN:f.hasInternalLabel(r)&&(o=f.getInternalLabel(r),n[a]=o,l=s==o+""),f.setInternalLabel(r,n[r]);break;case O.PLAYBACK_RATE:o=f.getPlaybackRate(),n[a]=o+""}if(u&&i!=P.PLAYING&&i!=P.BUFFERING_DURING_PLAYBACK||u&&l)return e==O.PLAYBACK_RATE&&f.setPlaybackRate(parseInt(n.ns_st_rt)),void z.getLogging().infoLog("No measurement send for the pseudo-event:",O.toString(e),"during state",b.stateToString(i),n);var d=isNaN(ce)?le:ce;ce=t;var p=!1;(t<d||Oe)&&(p=!0,Oe=!1,t<d?(c.addInternalErrorFlag("1"),z.getLogging().infoLog("System clock jump detected","to the far past")):be?(c.addInternalErrorFlag("3"),z.getLogging().infoLog("System clock jump detected","to the future")):(c.addInternalErrorFlag("2"),z.getLogging().infoLog("System clock jump detected","to the near past")),t=d),n.ns_st_po?f.setPlaybackWindowOffset(f.getExpectedWindowOffset(parseInt(n.ns_st_po),t)):f.isAutoCalculatePositionsEnabled()?n.ns_st_po=f.getExpectedPlaybackPosition(t)+"":n.ns_st_po=me+"";var h=parseInt(n.ns_st_po);me=h,z.getPlaybackSession().getAsset().setPlaybackTimeOffset(h,t),f.setPreviousPlaybackWindowOffset(f.getPlaybackWindowOffset()),i!=P.IDLE&&i!=P.PLAYBACK_NOT_STARTED&&i!=P.SEEKING_BEFORE_PLAYBACK&&i!=P.BUFFERING_BEFORE_PLAYBACK&&(f.addElapsedTime(t),f.setElapsedTimestamp(t)),i==P.PLAYING&&(c.addPlaybackTime(t),c.setPlaybackTimestamp(t),f.addPlaybackTime(t),f.setPlaybackTimestamp(t),f.addAccumulatedPlayback(h),f.addInterval(parseInt(n.ns_st_po)),f.setPlaybackStartPosition(parseInt(n.ns_st_po))),i!=P.BUFFERING_BEFORE_PLAYBACK&&i!=P.BUFFERING_DURING_PAUSE&&i!=P.BUFFERING_DURING_PLAYBACK&&i!=P.BUFFERING_DURING_SEEKING||(c.addBufferingTime(t),c.setBufferingTimestamp(t),f.addBufferingTime(t),f.setBufferingTimestamp(t));var y=_e.createLabels(e,n,t);f.updateDeltaLabels(y.eventLabels),f.updateIndependentLabels(y.eventLabels),z.getEventManager().newEvent(y),e==O.PLAYBACK_RATE&&f.setPlaybackRate(parseInt(n.ns_st_rt)),p&&(f.setPlaybackTimeOffset(h,ce),i==P.PLAYING&&(c.setPlaybackTimestamp(ce),f.setPlaybackTimestamp(ce)),i!=P.IDLE&&i!=P.PLAYBACK_NOT_STARTED&&i!=P.SEEKING_BEFORE_PLAYBACK&&i!=P.BUFFERING_BEFORE_PLAYBACK&&f.setElapsedTimestamp(ce),i!=P.BUFFERING_BEFORE_PLAYBACK&&i!=P.BUFFERING_DURING_PAUSE&&i!=P.BUFFERING_DURING_PLAYBACK&&i!=P.BUFFERING_DURING_SEEKING&&i!=P.PAUSED_DURING_BUFFERING||(c.setBufferingTimestamp(ce),f.setBufferingTimestamp(ce)),i!=P.SEEKING_BEFORE_PLAYBACK&&i!=P.SEEKING_DURING_BUFFERING&&i!=P.SEEKING_DURING_PAUSE&&i!=P.SEEKING_DURING_PLAYBACK&&i!=P.BUFFERING_DURING_SEEKING||f.setSeekingTimestamp(ce))},getState:function(){return z.getStateMachine().getCurrentState()},addListener:function(e){ye.push(e)},removeListener:function(e){ye.splice(k.indexOf(e,ye),1)},getLabel:function(e){return Te[e]},getLabels:function(){return Te},setLabel:function(e,t){null==t?delete Te[e]:Te[e]=t},setLabels:function(e){for(var t in e)e.hasOwnProperty(t)&&_e.setLabel(t,e[t])},getPlatformAPI:function(){return z.getAppCore().getPlatformAPI()},getExports:function(){return Ee},isProperlyInitialized:function(){var e=z.getAppCore().getAppContext(),t=z.getAppCore().getSalt(),n=z.getAppCore().getPixelURL();return e&&n&&t},setThrottlingDelay:function(e){ke=e},getThrottlingDelay:function(){return ke},isThrottlingEnabled:function(){return pe},setThrottlingEnabled:function(e){pe=e},isLoadingTimeSent:function(){return se},setLoadingTimeSent:function(e){se=e},getLoadTimeOffset:function(){return ue},setLoadTimeOffset:function(e){ue=e},getInitTimestamp:function(){return le},setPauseOnBufferingInterval:function(e){Ae=e},getPauseOnBufferingInterval:function(){return Ae},isPauseOnBufferingEnabled:function(){return fe},setPauseOnBufferingEnabled:function(e){fe=e},setExitEndEventEnabled:function(e){if(Se!=e){var t=z.getStateMachine().getCurrentState();e||b.isIdleState(t)?e&&!b.isIdleState(t)&&w.onPageExit(Y):w.removePageExitListener(Y)}Se=e},isExitEndEventEnabled:function(){return Se},startPausedOnBufferingTimer:function(e,t){_e.stopPausedOnBufferingTimer(),de=_e.getPlatformAPI().setTimeout(function(){var e={},n=b.fixEventTime(e),i=parseInt(t.ns_st_po);e.ns_st_po=i+"",_e.newEvent(O.PAUSE_ON_BUFFERING,n,e)},Ae)},stopPausedOnBufferingTimer:function(){null!=de&&(_e.getPlatformAPI().clearTimeout(de),de=null)},stopDelayedTransitionTimer:function(){he&&(_e.getPlatformAPI().clearTimeout(he),he=null)},setLiveEndpointURL:function(e){if(null==e||0==e.length)return null;var t=decodeURIComponent||unescape,n=e.indexOf("?");if(n>=0){if(n<e.length-1){for(var i=e.substring(n+1).split("&"),r=0,a=i.length;r<a;r++){var o=i[r],s=o.split("=");2==s.length?_e.setLabel(s[0],t(s[1])):1==s.length&&_e.setLabel(m.PAGE_NAME_LABEL,t(s[0]))}e=e.substring(0,n+1)}}else e+="?";return ge=e},getLiveEndpointURL:function(){return ge||(("undefined"==typeof ns_p?"undefined":o(ns_p))!==U&&"string"==typeof ns_p.src?ge=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?ge=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getStaSM:function(){return z},resetPlaybackSession:function(e){var t=z.getPlaybackSession();z.setPlaybackSession(new S(z)),S.resetPlaybackSession(z,t,e)},resetHeartbeat:function(){z.getHeartbeat().pause();var e=z.getHeartbeat().getIntervals();z.setHeartbeat(new R(z)),z.getHeartbeat().setIntervals(e)},getVersion:function(){return B}}),function(){if(z=new _(_e),z.setAppCore(N.getCore()),z.setKeepAlive(new L(z)),z.setHeartbeat(new R(z)),z.setEventManager(new I(z)),z.setStateMachine(new D),z.setLogging(new x(F,e.debug)),z.setPlaybackSession(new S(z)),q=new r(z),X=new a(z),J=new s(z),Q=new u(z),$=new l(z),Z=new c(z),ee=new f(z),te=new d(z),ne=new p(z),ie=new h(z),re=new y(z),ae=new g(z),oe=new v(z),se=!1,ue=0,le=+new Date,fe=!0,pe=!1,ye=[],e.publisherId){we=!0,ve=e.publisherId+"";var t;t="secure"in e?e.secure:z.getAppCore()&&z.getAppCore().isProperlyInitialized()?z.getAppCore().isSecure():!!b.isBrowser()&&E.isWebSecure();var n=(t?"https://sb":"http://b")+".scorecardresearch.com/p?c1=2";_e.setLiveEndpointURL(n)}e.liveEndpointURL&&_e.setLiveEndpointURL(e.liveEndpointURL),e.systemClockJumpDetection&&(T.setPlatformAPI(_e.getPlatformAPI()),e.systemClockJumpDetectionInterval?T.configureInterval(parseInt(e.systemClockJumpDetectionInterval),!0):T.configureInterval(),e.systemClockJumpDetectionPrecision?T.configureError(parseInt(e.systemClockJumpDetectionPrecision),!0):T.configureError(),i())}()}var r=e(73),a=e(74),s=e(76),u=e(77),l=e(69),c=e(71),f=e(72),d=e(70),p=e(75),h=e(78),y=e(79),g=e(80),v=e(81),m=e(55),b=e(68),_=e(65),E=e(20),A=e(24),k=e(19),T=e(82),w=e(62),S=e(63),P=e(58).State,O=e(58).StreamingAnalyticsEventType,C=e(58).ImplementationType,L=e(61),R=e(60),I=e(59),x=e(18),D=e(66),M=e(17),N=e(2),U="undefined",B="6.2.1.180301",j="5.10",F="STA",G="js_api",V=500,H=500;t.exports=i},{17:17,18:18,19:19,2:2,20:20,24:24,55:55,58:58,59:59,60:60,61:61,62:62,63:63,65:65,66:66,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82}],57:[function(e,t,n){function i(e,t){for(var n,i=r.encodeURIComponent||escape,c=[],f=u.LABELS_ORDER,d=e.split("?"),p=d[0],h=d[1],y=h.split("&"),g=0,v=y.length;g<v;g++){var m=y[g].split("="),b=unescape(m[0]),_=unescape(m[1]);b&&(t[b]=_)}for(var E={},A=0,k=f.length;A<k;A++){var T=f[A];if(t.hasOwnProperty(T)){var w=t[T];(void 0===w?"undefined":o(w))!==l&&null!=w&&(E[T]=!0,c.push(i(T)+"="+i(t[T])))}}for(var S in t)if(t.hasOwnProperty(S)){if(E[S])continue;var P=t[S];(void 0===P?"undefined":o(P))!==l&&null!=P&&c.push(i(S)+"="+i(t[S]))}n=p+"?"+c.join("&"),n=n+(n.indexOf("&c8=")<0?"&c8="+i(a.title):"")+(n.indexOf("&c7=")<0?"&c7="+i(a.URL):"")+(n.indexOf("&c9=")<0?"&c9="+i(a.referrer):"");var O=s.browserAcceptsLargeURLs()?u.URL_LENGTH_LIMIT:u.RESTRICTED_URL_LENGTH_LIMIT;if(n.length>O&&n.indexOf("&")>0){var C=n.substr(0,O-8).lastIndexOf("&");n=(n.substring(0,C)+"&ns_cut="+i(n.substring(C+1))).substr(0,O)}return n}var r,a,s=e(20),u=e(4),l="undefined";s.isBrowser()?(r=window,a=document):(r={},a={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),t.exports=i},{20:20,4:4}],58:[function(e,t,n){var i=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,ENGAGE:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(t){return e[t]}}}(),r={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},a=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(t){return e[t]}}}();t.exports.StreamingAnalyticsEventType=i,t.exports.State=r,t.exports.ImplementationType=a},{}],59:[function(e,t,n){function i(e){function t(t){i=r.extend({},t);var n=e.getStaCore().getLiveEndpointURL();e.getStaCore().isProperlyInitialized()?e.getAppCore().internalHidden(t,n):n&&e.getStaCore().getPlatformAPI().httpGet(a(n,t))}var n,i,s=this,u=[];r.extend(this,{newEvent:function(e){for(var n=r.extend({},e.eventLabels,e.customLabels),i=0;i<u.length;++i)u[i](n);t(n),e.eventType!=o.HEARTBEAT&&s.incrementEventCounter()},addMeasurementListener:function(e){"function"==typeof e&&u.push(e)},removeMeasurementListener:function(e){for(var t=NaN,n=0;n<u.length;++n)if(u[n]==e){t=n;break}isNaN(t)||u.splice(t,1)},getEventCounter:function(){return n},incrementEventCounter:function(){n++},setEventCounter:function(e){n=e},getMeasurementSnapshot:function(){return i}}),function(){n=1}()}var r=e(24),a=e(57),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,57:57,58:58}],60:[function(e,t,n){function i(e){function t(){l++;var t={},n=a.fixEventTime(t);t.ns_st_hc=e.getHeartbeat().getCount()+"";var i=e.getStaCore().createLabels(r.HEARTBEAT,t,n);e.getPlaybackSession().getAsset().updateIndependentLabels(i.eventLabels),e.getEventManager().newEvent(i),u=0,c.resume()}function n(){null!=i&&(e.getStaCore().getPlatformAPI().clearTimeout(i),i=null)}var i,u,l,c=this,f=s;o.extend(this,{getCount:function(){return l},setIntervals:function(e){f=e},getInterval:function(e){var t=0;if(null!=f)for(var n=0;n<f.length;n++){var i=f[n],r=i.playingtime;if(!r||e<r){t=i.interval;break}}return t},getIntervals:function(){return f},resume:function(){n();var r=c.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));if(r>0){var a=u>0?u:r;i=e.getStaCore().getPlatformAPI().setTimeout(t,a)}u=0},pause:function(){n();var t=c.getInterval(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()));u=t-(e.getPlaybackSession().getAsset().getPlaybackTime()+(+new Date-e.getPlaybackSession().getAsset().getPlaybackTimestamp()))%t}}),function(){u=0,l=0}()}var r=e(58).StreamingAnalyticsEventType,a=e(68),o=e(24),s=[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}];t.exports=i},{24:24,58:58,68:68}],61:[function(e,t,n){function i(e){function t(){var t={},n=o.fixEventTime(t);e.getStaCore().newPseudoEvent(r.KEEPALIVE,n,t),u.start()}function n(){null!=i&&(e.getStaCore().getPlatformAPI().clearTimeout(i),i=null)}var i,u=this,l=s;a.extend(u,{start:function(){n(),i=e.getStaCore().getPlatformAPI().setTimeout(t,l)},stop:n,setInterval:function(e){l=e},getInterval:function(){return l}})}var r=e(58).StreamingAnalyticsEventType,a=e(24),o=e(68),s=12e5;t.exports=i},{24:24,58:58,68:68}],62:[function(e,t,n){function i(e){l.push(e),c||a()}function r(e){for(var t=0;t<l.length;++t)if(l[t]==e){l.splice(t,1);break}0==l.length&&o()}function a(){u.isBrowser()&&(window.addEventListener?(window.addEventListener("unload",s,!1),c=!0):window.attachEvent&&(window.attachEvent("onunload",s),c=!0))}function o(){u.isBrowser()&&(window.removeEventListener?(window.removeEventListener("unload",s,!1),c=!1):window.detachEvent&&(window.detachEvent("onunload",s),c=!1))}function s(){for(var e=0;e<l.length;++e)l[e]()}var u=e(20),l=[],c=!1;t.exports={onPageExit:i,removePageExitListener:r}},{20:20}],63:[function(e,t,n){function i(e){var t,n,i,f,d,p,h,y,g,v,m,b,_,E,A,k,T=this;r.extend(this,{resetAsset:function(){var e=t;t=new a,a.resetAsset(e,t)},hashExists:function(e){return null!=y[e]},storeHash:function(e){y[e]={}},removeHash:function(e){delete y[e]},storeAssetPlaybackCounters:function(){for(var e in y)if(y.hasOwnProperty(e)&&y[e].clipNumber===t.getClipNumber()){r.extend(y[e],{segmentPlaybackCounter:t.getSegmentPlaybackCounter(),assetLoadCounter:t.getAssetLoadCounter(),assetPlaybackCounter:t.getAssetPlaybackCounter(),lowestPartNumberPlayed:t.getLowestPartNumberPlayed(),seeking:t.isSeeking(),seekingTimeBeforeEnd:t.getSeekingTimeBeforeEnd(),seekingStartPosition:t.getSeekStartPosition(),segmentPlaybackIntervals:t.getSegmentPlaybackIntervals(),videoTrack:t.getVideoTrack(),audioTrack:t.getAudioTrack(),subtitleTrack:t.getSubtitleTrack(),cdn:t.getCDN(),playSequenceCounter:t.getPlaySequenceCounter(),previousUniquePlaybackInterval:t.getPreviousUniquePlaybackInterval(),previousEventIndependentUniquePlaybackInterval:t.getPreviousEventIndependentUniquePlaybackInterval(),previousLongestPlaybackInterval:t.getPreviousLongestPlaybackInterval()});break}},getStoredAssetRegisters:function(e){return y[e]},getClipNumber:function(e){return y[e].clipNumber},getMaxClipNumber:function(){return g},storeClipNumber:function(e,t){y[e].clipNumber=t,t>g&&(g=t)},setLabels:function(e){null!=e&&r.extend(p,e)},getLabels:function(){return p},setLabel:function(e,t){var n={};n[e]=t,T.setLabels(n)},getLabel:function(e){return p[e]},getAsset:function(){return t},addInternalErrorFlag:function(e){for(var t=0;t<k.length;++t)if(k[t]==e)return;k.push(e)},createLabels:function(e,n){var i=e,a=s.isEmpty(i.ns_st_pa)?T.getPlaybackTime():parseInt(i.ns_st_pa);i.ns_st_pa=a+(isNaN(f)?0:n-f)+"",i.ns_st_pp=_+"",i.ns_st_sp=E+"",i.ns_st_bp=A+"",v||(i.ns_st_pb=null!=i.ns_st_pb?i.ns_st_pb:"1"),t.isPlaybackStarted()&&(i.ns_st_ppc=m+"",i.ns_st_psq=b+""),k.length>0&&(i.ns_st_ie=(i.ns_st_ie?i.ns_st_ie+";":"")+k.join(";")),r.extend(i,d)},incrementPlayCounter:function(){E++},incrementPauses:function(){_++},addPlaybackTime:function(e){if(!isNaN(f)){var t=T.getPlaybackTime();t+=e-f,T.setPlaybackTime(t),f=NaN}},addBufferingTime:function(e){if(!isNaN(n)){var t=T.getBufferingTime();t+=e-n,T.setBufferingTime(t),n=NaN}},getBufferingTime:function(){return A},setBufferingTime:function(e){A=e},getPlaybackTime:function(){return i},setBufferingTimestamp:function(e){n=e},getBufferingTimestamp:function(){return n},setPlaybackTime:function(e){i=e},setPlaybackTimestamp:function(e){f=e},getPlaybackTimestamp:function(){return f},getPauses:function(){return _},setPauses:function(e){_=e},isPlaybackSessionStarted:function(){return h},setPlaybackSessionStarted:function(e){h=e},getPlaybackCounter:function(){return m},incrementPlaybackCounter:function(){m++},setFirstEventSent:function(e){v=e},setPlaySequenceCounter:function(e){b=e},incrementPlaySequenceCounter:function(){b++},getPlaybackSessionID:function(){return d.ns_st_id},setAsset:function(t,n){e.getLogging().apiCall("setAsset",t,n),t=o.jsonObjectToStringDictionary(t);var i=e.getStateMachine().getCurrentState();if(i!=l.IDLE){e.getLogging().infoLog("Ending the current Clip. It was in state:",o.stateToString(i));var r={};e.getStaCore().newEvent(c.END,o.fixEventTime(r),r)}var a="",f=0;if(null!=t.ns_st_cn)a=t.ns_st_cn;else for(var d=0;d<u.length;d++)t[u[d]]&&(a+=u[d]+":"+t[u[d]]+";");var p=T,h=p.getAsset();h.isAssetStarted()?(p.hashExists(h.getHash())||(p.storeHash(h.getHash()),p.storeClipNumber(h.getHash(),h.getClipNumber())),p.storeAssetPlaybackCounters(),f=p.hashExists(a)?p.getClipNumber(a):s.exists(t.ns_st_cn)?parseInt(t.ns_st_cn):p.getMaxClipNumber()+1):f=p.hashExists(a)?p.getClipNumber(a):h.getClipNumber(),p.resetAsset(),h=p.getAsset(),h.setHash(a),h.setClipNumber(f),h.setLabels(t);var y=p.getStoredAssetRegisters(a);y&&(h.setAssetStarted(!0),h.setSegmentPlaybackCounter(y.segmentPlaybackCounter),h.setAssetLoadCounter(y.assetLoadCounter),h.setAssetPlaybackCounter(y.assetPlaybackCounter),h.setLowestPartNumberPlayed(y.lowestPartNumberPlayed),h.setSeeking(y.seeking),h.setSeekingTimeBeforeEnd(y.seekingTimeBeforeEnd),h.setSeekStartPosition(y.seekingStartPosition),h.setAssetPlaybackIntervals(y.segmentPlaybackIntervals),y.videoTrack&&h.setVideoTrack(y.videoTrack),y.audioTrack&&h.setAudioTrack(y.audioTrack),y.subtitleTrack&&h.setSubtitleTrack(y.subtitleTrack),y.cdn&&h.setCDN(y.cdn),h.setPlaySequenceCounter(y.playSequenceCounter),h.setPreviousUniquePlaybackInterval(y.previousUniquePlaybackInterval),h.setPreviousEventIndependentUniquePlaybackInterval(y.previousEventIndependentUniquePlaybackInterval),h.setPreviousLongestPlaybackInterval(y.previousLongestPlaybackInterval)),h.incrementAssetLoadCounter(),h.isAssetStarted()&&n&&p.incrementPlayCounter(),n&&(p.setPlaySequenceCounter(0),h.setPlaybackSessionLooping(!0)),!s.exists(t.ns_st_tp)&&s.exists(t.ns_st_ad)&&s.isNotEmpty(t.ns_st_ad)&&"0"!==t.ns_st_ad&&h.setInternalLabel("ns_st_tp","1")}}),function(){t=new a,d={},d.ns_st_id=+new Date+"",p={},n=NaN,i=0,f=NaN,y={},g=0,h=!1,v=!1,m=0,_=0,b=0,E=1,A=0,k=[]}()}var r=e(24),a=e(54),o=e(68),s=e(21),u=e(55).HASH_LABELS,l=e(58).State,c=e(58).StreamingAnalyticsEventType;i.resetPlaybackSession=function(e,t,n){for(var i=t.getAsset(),r=t.getLabels(),o={},s=0;n&&s<n.length;s++)r.hasOwnProperty(n[s])&&(o[n[s]]=r[n[s]]);e.getPlaybackSession().setLabels(o),a.resetAsset(i,e.getPlaybackSession().getAsset(),n)},t.exports=i},{21:21,24:24,54:54,55:55,58:58,68:68}],64:[function(e,t,n){var i={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},r={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",BrandedOnDemandPreRoll:"31",BrandedOnDemandMidRoll:"32",BrandedOnDemandPostRoll:"33",BrandedOnDemandContent:"34",BrandedOnDemandLive:"35",Other:"00"},a=e(67),o=e(58).State,s=e(58).ImplementationType,u=e(55).HASH_LABELS,l=e(21),c=e(24),f=e(18),d=function(e){function t(e){for(var t in u)if(u.hasOwnProperty(t)&&!n(u[t],y,e))return!1;return!0}function n(e,t,n){return!!(l.exists(e)&&l.exists(t)&&l.exists(n)&&(t.hasOwnProperty(e)&&n.hasOwnProperty(e)&&t[e]===n[e]||!t.hasOwnProperty(e)&&!n.hasOwnProperty(e)))}function d(e){m.getPlaybackSession().setAsset(e),y=e,m.notifyPlay()}function p(e){var t=e||{};t.ns_st_ad="1",t.ns_st_an=++g+"",m.getPlaybackSession().setAsset(t),m.notifyPlay(),v=!1}function h(e,n){_==b.None&&(_=n),v&&_==n&&t(e)?(m.getPlaybackSession().getAsset().setLabels(e),m.getState()!=o.PLAYING&&m.notifyPlay()):d(e),v=!0,_=n}var y=null,g=0,v=!1,m=null,b={None:0,AudioContent:1,VideoContent:2},_=b.None,E=new f("TTSTA",(e||{}).debug);c.extend(this,{playVideoAdvertisement:function(e,t){if(m){E.apiCall("playVideoAdvertisement",e,t);var n={ns_st_ct:"va"};t?n.ns_st_ct="va"+t:E.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),t!=r.LinearLive&&t!=r.BrandedOnDemandLive||(n.ns_st_li="1"),e&&c.extend(n,e),p(n)}},playAudioAdvertisement:function(e,t){if(m){E.apiCall("playAudioAdvertisement",e,t);var n={ns_st_ct:"aa"};t?n.ns_st_ct="aa"+t:E.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),t!=r.LinearLive&&t!=r.BrandedOnDemandLive||(n.ns_st_li="1"),e&&c.extend(n,e),p(n)}},playVideoContentPart:function(e,t){if(m){E.apiCall("playVideoContentPart",e,t);var n={ns_st_ct:"vc"};t?n.ns_st_ct="vc"+t:E.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&c.extend(n,e),h(n,b.VideoContent)}},playAudioContentPart:function(e,t){if(m){E.apiCall("playAudioContentPart",e,t);var n={ns_st_ct:"ac"};t?n.ns_st_ct="ac"+t:E.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),t!=i.Live&&t!=i.UserGeneratedLive||(n.ns_st_li="1"),e&&c.extend(n,e),h(n,b.AudioContent)}},stop:function(){m&&(E.apiCall("stop"),m.notifyPause())}}),function(){l.exists(e)&&(e.customerC2||e.publisherId)?m=new a(e):E.error("Cannot instantiate StreamingAnalytics","The property publisherId was not provided (or incorrectly provided) in the StreamingAnalytics configuration."),m&&m.setLabel("ns_st_it",s.toString(s.REDUCED))}()};d.ContentType=i,d.AdType=r,t.exports=d},{18:18,21:21,24:24,55:55,58:58,67:67}],65:[function(e,t,n){function i(e){var t,n,i,a,o,s,u,l=this;r.extend(l,{getAppCore:function(){return t},getStaCore:function(){return e},getEventManager:function(){return n},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return o},getPlaybackSession:function(){return s},getLogging:function(){return u},setAppCore:function(e){t=e},setKeepAlive:function(e){o=e},setHeartbeat:function(e){a=e},setEventManager:function(e){n=e},setStateMachine:function(e){i=e},setPlaybackSession:function(e){s=e},setLogging:function(e){u=e}})}var r=e(24);t.exports=i},{24:24}],66:[function(e,t,n){function i(e){var t,n,i,s=this;a.extend(s,{eventTypeToState:function(e){if(i==r.IDLE){if(e==o.PLAY)return r.PLAYING;if(e==o.SEEK_START)return r.SEEKING_BEFORE_PLAYBACK;if(e==o.BUFFER)return r.BUFFERING_BEFORE_PLAYBACK}else if(i==r.PLAYBACK_NOT_STARTED){if(e==o.PLAY)return r.PLAYING;if(e==o.SEEK_START)return r.SEEKING_BEFORE_PLAYBACK;if(e==o.BUFFER)return r.BUFFERING_BEFORE_PLAYBACK;if(e==o.END||e==o.AD_SKIP)return r.IDLE}else if(i==r.PLAYING){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.BUFFER)return r.BUFFERING_DURING_PLAYBACK;if(e==o.PAUSE)return r.PAUSED;if(e==o.SEEK_START)return r.SEEKING_DURING_PLAYBACK}else if(i==r.PAUSED){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.BUFFER)return r.BUFFERING_DURING_PAUSE;if(e==o.PLAY)return r.PLAYING;if(e==o.SEEK_START)return r.SEEKING_DURING_PAUSE}else if(i==r.BUFFERING_BEFORE_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PAUSE||e==o.BUFFER_STOP)return r.PLAYBACK_NOT_STARTED;if(e==o.PLAY)return r.PLAYING;if(e==o.SEEK_START)return r.SEEKING_BEFORE_PLAYBACK}else if(i==r.BUFFERING_DURING_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PLAY||e==o.BUFFER_STOP)return r.PLAYING;if(e==o.PAUSE_ON_BUFFERING)return r.PAUSED_DURING_BUFFERING;if(e==o.SEEK_START)return r.SEEKING_DURING_BUFFERING;if(e==o.PAUSE)return r.PAUSED}else if(i==r.BUFFERING_DURING_SEEKING){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PLAY)return r.PLAYING;if(e==o.BUFFER_STOP)return r.SEEKING_DURING_PLAYBACK;if(e==o.PAUSE)return r.PAUSED}else if(i==r.BUFFERING_DURING_PAUSE){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PLAY)return r.PLAYING;if(e==o.SEEK_START)return r.SEEKING_DURING_PAUSE;if(e==o.BUFFER_STOP||e==o.PAUSE)return r.PAUSED}else if(i==r.SEEKING_BEFORE_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PAUSE)return r.PLAYBACK_NOT_STARTED;if(e==o.PLAY)return r.PLAYING;if(e==o.BUFFER)return r.BUFFERING_BEFORE_PLAYBACK}else if(i==r.SEEKING_DURING_PLAYBACK){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PLAY)return r.PLAYING;if(e==o.PAUSE)return r.PAUSED;if(e==o.BUFFER)return r.BUFFERING_DURING_SEEKING}else if(i==r.SEEKING_DURING_BUFFERING){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PLAY)return r.PLAYING;if(e==o.PAUSE||e==o.BUFFER_STOP)return r.PAUSED;if(e==o.BUFFER)return r.BUFFERING_DURING_SEEKING}else if(i==r.SEEKING_DURING_PAUSE){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.PLAY)return r.PLAYING;if(e==o.PAUSE||e==o.BUFFER_STOP)return r.PAUSED;if(e==o.BUFFER)return r.BUFFERING_DURING_PAUSE}else if(i==r.PAUSED_DURING_BUFFERING){if(e==o.END||e==o.AD_SKIP)return r.IDLE;if(e==o.SEEK_START)return r.SEEKING_DURING_BUFFERING;if(e==o.PAUSE)return r.PAUSED;if(e==o.PLAY||e==o.BUFFER_STOP)return r.PLAYING}return null},getCurrentState:function(){return i},newEvent:function(e,r){var a=s.eventTypeToState(e);i!=a&&(n=i,i=a,t=r)},getPreviousState:function(){return n},getLastStateChangeTimestamp:function(){return t}}),function(){i=r.IDLE,n=null,t=NaN}()}var r=e(58).State,a=e(24),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,58:58}],67:[function(e,t,n){function i(e){function t(e,t,i){if(u.toString(e)){i=a.jsonObjectToStringDictionary(i);var r=a.fixEventTime(i);i.ns_st_po||isNaN(t)||(i.ns_st_po=parseInt(t)+""),e==u.PLAY||e==u.PAUSE||e==u.BUFFER||e==u.END||e==u.SEEK_START||e==u.AD_SKIP||e==u.BUFFER_STOP?n.newEvent(e,r,i):n.newPseudoEvent(e,r,i)}}var n,i=this;r.extend(i,{isProperlyInitialized:function(){return n.isProperlyInitialized()},reset:function(e){t(u.END);var i=n;i.getStaSM().getKeepAlive().stop(),i.getStaSM().getHeartbeat().pause(),n=new s(i.getConfiguration()),c.resetPlaybackSession(n.getStaSM(),i.getStaSM().getPlaybackSession(),e)},setPauseOnBufferingInterval:function(e){n.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return n.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){n.getStaSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return n.getStaSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){n.getStaSM().getHeartbeat().setIntervals(e)},getLabels:function(){return n.getLabels()},getState:function(){return n.getStaSM().getStateMachine().getCurrentState()},setLabels:function(e){n.setLabels(e)},getLabel:function(e){return n.getLabel(e)},setLabel:function(e,t){n.setLabel(e,t)},getLoadTimeOffset:function(){return n.getLoadTimeOffset()},setLoadTimeOffset:function(e){n.setLoadTimeOffset(e)},setLiveEndpointURL:function(e){return n.setLiveEndpointURL(e)},getLiveEndpointURL:function(){return n.getLiveEndpointURL()},isPauseOnBufferingEnabled:function(){return n.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){n.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return n.isThrottlingEnabled()},setThrottlingEnabled:function(e){n.setThrottlingEnabled(e)},setThrottlingDelay:function(e){n.setThrottlingDelay(e)},getThrottlingDelay:function(){return n.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){n.getStaSM().getPlaybackSession().getAsset().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return n.getStaSM().getPlaybackSession().getAsset().getPlaybackIntervalMergeTolerance()},createPlaybackSession:function(e){n.getStaSM().getLogging().apiCall("createPlaybackSession",e),e=a.jsonObjectToStringDictionary(e);var t=n.getStaSM().getStateMachine().getCurrentState();t!=l.IDLE&&(n.getStaSM().getLogging().infoLog("Ending the current Clip. It was in state:",a.stateToString(t)),i.notifyEnd()),n.getStaSM().getPlaybackSession().isPlaybackSessionStarted()&&n.resetPlaybackSession(),n.getStaSM().getPlaybackSession().setLabels(e)},getVersion:function(){return n.getVersion()},addListener:function(e){n.addListener(e)},removeListener:function(e){n.removeListener(e)},addMeasurementListener:function(e){n.getStaSM().getEventManager().addMeasurementListener(e)},removeMeasurementListener:function(e){n.getStaSM().getEventManager().removeMeasurementListener(e)},getPlaybackSession:function(){return n.getStaSM().getPlaybackSession()},setExitEndEventEnabled:function(e){n.setExitEndEventEnabled(!!e)},isExitEndEventEnabled:function(){return n.isExitEndEventEnabled()},setDvrWindowLength:function(e){n.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowLength(e),n.getStaSM().getPlaybackSession().getAsset().asLiveStream(!0)},setDvrWindowOffset:function(e){n.getStaSM().getPlaybackSession().getAsset().setPlaybackWindowOffset(e),n.getStaSM().getPlaybackSession().getAsset().asLiveStream(!0)},getPlatformAPI:function(){return n.getPlatformAPI()},_getLogHistory:function(){return n.getStaSM().getLogging().getLogHistory()}});for(var f in d)!function(e,r){i[e]=function(i,a){n.getStaSM().getLogging().apiCall(e,i,a);var s={},u=NaN;"object"==(void 0===i?"undefined":o(i))?s=i:"object"==(void 0===a?"undefined":o(a))&&(s=a),"number"==typeof i?u=i:"number"==typeof a&&(u=a),t(r,u,s)}}(f,d[f]);for(var h in p)!function(e,r,a){i[e]=function(i,s,u){if(n.getStaSM().getLogging().apiCall(e,i,s,u),null!=i){var l={},c=NaN;"object"==(void 0===s?"undefined":o(s))?l=s:"object"==(void 0===u?"undefined":o(u))&&(l=u),"number"==typeof s?c=s:"number"==typeof u&&(c=u),l[a]=i+"",t(r,c,l)}}}(h,p[h][0],p[h][1]);!function(){e=r.extend({},e),n=new s(e),n.getStaSM().getLogging().log("New StreamingAnalytics instance with configuration",e)}()}var r=e(24),a=e(68),s=e(56),u=e(58).StreamingAnalyticsEventType,l=e(58).State,c=e(63),f=e(55),d={notifyPlay:u.PLAY,notifyPause:u.PAUSE,notifyEnd:u.END,notifyBufferStart:u.BUFFER,notifyBufferStop:u.BUFFER_STOP,notifyLoad:u.LOAD,notifyEngage:u.ENGAGE,notifySeekStart:u.SEEK_START,notifySkipAd:u.AD_SKIP,notifyCallToAction:u.CTA,notifyError:u.ERROR,notifyTransferPlayback:u.TRANSFER,notifyDrmFail:u.DRM_FAILED,notifyDrmApprove:u.DRM_APPROVED,notifyDrmDeny:u.DRM_DENIED,notifyCustomEvent:u.CUSTOM},p={notifyChangeBitrate:[u.BIT_RATE,"ns_st_br"],notifyChangePlaybackRate:[u.PLAYBACK_RATE,"ns_st_rt"],notifyChangeVolume:[u.VOLUME,"ns_st_vo"],notifyChangeWindowState:[u.WINDOW_STATE,"ns_st_ws"],notifyChangeAudioTrack:[u.AUDIO,"ns_st_at"],notifyChangeVideoTrack:[u.VIDEO,"ns_st_vt"],notifyChangeSubtitleTrack:[u.SUBS,"ns_st_tt"],notifyChangeCdn:[u.CDN,"ns_st_cdn"]};i.PlayerEvents=u,i.InternalStates=l,i.Constants=f,t.exports=i},{24:24,55:55,56:56,58:58,63:63,68:68}],68:[function(e,t,n){var i=e(23),r=e(58).State;n.jsonObjectToStringDictionary=function(e){var t={};for(var n in e){var i=e[n];t[n]=null===i||void 0===i?i:e[n]+""}return t},n.getKeys=function(e,t){var n,i=[];for(n in e)t&&!t.test(n)||!e.hasOwnProperty(n)||(i[i.length]=n);return i},n.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var t=+new Date;return e.ns_ts=t+"",t},n.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},n.addNewPlaybackInterval=function(e,t,n,r){var a={};if(!(n>=t))return i(e);if(a.start=t,a.end=n,0==e.length)return e.push(a),i(e);var o;for(o=0;o<e.length;o++)if(a.start>=e[o].start&&a.end<=e[o].end)return i(e);var s,u=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&a.start>=e[s].start||a.start>=e[s].start&&a.start<e[s+1].start){e.splice(s+1,0,a),u=!0;break}u||e.splice(0,0,a);var l=[e[0]];for(o=1;o<e.length;o++)l[l.length-1].end+r<e[o].start?l.push(e[o]):l[l.length-1].end<e[o].end&&(l[l.length-1].end=e[o].end);return i(l)},n.stateToString=function(e){for(var t in r)if(r.hasOwnProperty(t)&&r[t]==e)return t},n.isIdleState=function(e){return e==r.IDLE||e==r.BUFFERING_BEFORE_PLAYBACK||e==r.SEEKING_BEFORE_PLAYBACK||e==r.PLAYBACK_NOT_STARTED}},{23:23,58:58}],69:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&r.isCollectingSeekingTime()&&r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStop:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1))},onSeekStart:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()?r.isCollectingSeekingTime()||(r.setSeekingTimestamp(t),r.setCollectingSeekingTime(!0)):r.incrementSeeks(),r.isSeeking()||(r.setSeeking(!0),r.setCollectingSeekingTime(!0),r.setSeekStartPosition(a),r.setSeekingTimestamp(t))},onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1))},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&(r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addSeekingAmount(a),r.setSeeking(!1)),r.setPlaybackStarted(!0),(r.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),r.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),r.setPlaybackStarted(!0),r.incrementSegmentPlaybackCounter(),r.incrementPlayCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),(0==r.getLowestPartNumberPlayed()||r.getPartNumber()<=r.getLowestPartNumberPlayed())&&(r.setLowestPartNumberPlayed(r.getPartNumber()),r.incrementAssetPlaybackCounter(),r.setPlaySequenceCounter(0),r.resetAssetPlaybackIntervals()),r.incrementPlaySequenceCounter(),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],70:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndAndSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),r.addBufferingTime(t),r.addElapsedTime(t);var s=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&(r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addSeekingAmount(a),r.setSeeking(!1)),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],71:[function(e,t,n){function i(e){var t=this;r.extend(t,{onPauseOnBuffering:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.addBufferingTime(t),r.addBufferingTime(t),i.incrementPauses(),r.incrementPauses();var a=e.getStaCore().createLabels(o.PAUSE,n,t);r.updateDeltaLabels(a.eventLabels),r.updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a),i.setBufferingTimestamp(t),r.setBufferingTimestamp(t)},onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),r.addBufferingTime(t),r.addElapsedTime(t);var s=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getKeepAlive().stop(),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.addBufferingTime(t),r.addBufferingTime(t),r.incrementSeeks(),r.setSeeking(!0),r.setCollectingSeekingTime(!0),r.setSeekStartPosition(a),r.setSeekingTimestamp(t),i.incrementPauses(),r.incrementPauses();var s=e.getStaCore().createLabels(o.PAUSE,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)},onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().stopPausedOnBufferingTimer(),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.addBufferingTime(t),r.addBufferingTime(t),i.incrementPauses(),r.incrementPauses();var a=e.getStaCore().createLabels(o.PAUSE,n,t);r.updateDeltaLabels(a.eventLabels),r.updateIndependentLabels(a.eventLabels),e.getEventManager().newEvent(a)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],72:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),e.getStaCore().stopPausedOnBufferingTimer(),i.addBufferingTime(t),r.addBufferingTime(t),r.addElapsedTime(t);var s=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),i.incrementPauses(),r.incrementPauses(),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()&&(r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addSeekingAmount(a),r.setSeeking(!1)),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],73:[function(e,t,n){function i(e){var t=this;r.extend(t,{onBuffer:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.setPlaybackSessionStarted(!0),r.setAssetStarted(!0),r.isSeeking()&&r.setSeekingTime(r.getSeekingTimeBeforeEnd()),i.setBufferingTimestamp(t),r.setBufferingTimestamp(t)},onSeekStart:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.setPlaybackSessionStarted(!0),r.setAssetStarted(!0),r.isSeeking()&&r.setSeekingTime(r.getSeekingTimeBeforeEnd()),r.incrementSeeks(),r.setSeeking(!0),r.setCollectingSeekingTime(!0),r.setSeekStartPosition(a),r.setSeekingTimestamp(t)},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),o=parseInt(n.ns_st_po);i.setPlaybackSessionStarted(!0),r.setAssetStarted(!0),(r.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),r.setPlaybackSessionLooping(!1)),r.isSeeking()&&(r.setSeekingTime(r.getSeekingTimeBeforeEnd()),r.addSeekingAmount(o),r.setSeeking(!1)),i.incrementPlaySequenceCounter(),r.setPlaybackStarted(!0),r.incrementSegmentPlaybackCounter(),(0==r.getLowestPartNumberPlayed()||r.getPartNumber()<=r.getLowestPartNumberPlayed())&&(r.setLowestPartNumberPlayed(r.getPartNumber()),r.incrementAssetPlaybackCounter(),r.setPlaySequenceCounter(0),r.resetAssetPlaybackIntervals()),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(o),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(a.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,58:58}],74:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),r.addElapsedTime(t);var s=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setSeeking(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),r.isSeeking()&&(r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addSeekingAmount(a),r.setSeeking(!1)),r.incrementPlayCounter(),r.incrementPlaySequenceCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.addElapsedTime(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],75:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addBufferingTime(t),r.addBufferingTime(t),r.addElapsedTime(t),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1));var s=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.addBufferingTime(t),r.addBufferingTime(t),r.isSeeking()?r.isCollectingSeekingTime()||(r.setSeekingTimestamp(t),r.setCollectingSeekingTime(!0)):r.incrementSeeks(),r.isSeeking()||(r.setSeeking(!0),r.setCollectingSeekingTime(!0),r.setSeekStartPosition(a),r.setSeekingTimestamp(t)),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onPlayOrOnBufferStop:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),r.incrementPlaySequenceCounter(),i.addBufferingTime(t),r.addBufferingTime(t),r.incrementPlayCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.addElapsedTime(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],76:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onSeekStart:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);r.isSeeking()?r.setSeekingTimestamp(t):r.incrementSeeks(),r.isSeeking()||(r.setSeeking(!0),r.setCollectingSeekingTime(!0),r.setSeekStartPosition(a),r.setSeekingTimestamp(t))},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);r.isSeeking()&&(r.addSeekingAmount(a),r.setSeeking(!1)),i.setPlaybackSessionStarted(!0),(r.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),r.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),r.setPlaybackStarted(!0),r.incrementSegmentPlaybackCounter(),(0==r.getLowestPartNumberPlayed()||r.getPartNumber()<=r.getLowestPartNumberPlayed())&&(r.setLowestPartNumberPlayed(r.getPartNumber()),r.incrementAssetPlaybackCounter(),r.setPlaySequenceCounter(0),r.resetAssetPlaybackIntervals()),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)},onBuffer:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.setBufferingTimestamp(t),r.setBufferingTimestamp(t)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],77:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),s=parseInt(n.ns_st_po);e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),i.addPlaybackTime(t),r.addPlaybackTime(t),r.addAccumulatedPlayback(s),r.addElapsedTime(t),r.addInterval(s);var u=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(u.eventLabels),r.updateIndependentLabels(u.eventLabels),e.getEventManager().newEvent(u),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBuffer:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),r.addPlaybackTime(t),r.addAccumulatedPlayback(a),r.addInterval(a),e.getStaCore().isPauseOnBufferingEnabled()&&e.getStaCore().startPausedOnBufferingTimer(t,n),r.incrementBufferCount(),i.setBufferingTimestamp(t),r.setBufferingTimestamp(t),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onSeekStart:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),r.addPlaybackTime(t),r.addAccumulatedPlayback(a),r.addInterval(a),r.incrementSeeks(),r.setSeeking(!0),r.setCollectingSeekingTime(!0),r.setSeekStartPosition(a),r.setSeekingTimestamp(t),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.incrementPauses(),r.incrementPauses();var s=e.getStaCore().createLabels(o.PAUSE,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)},onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);e.getHeartbeat().pause(),e.getKeepAlive().stop(),i.addPlaybackTime(t),r.addPlaybackTime(t),r.addAccumulatedPlayback(a),r.addInterval(a),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.incrementPauses(),r.incrementPauses();var s=e.getStaCore().createLabels(o.PAUSE,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],78:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1))},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);r.isSeeking()&&(r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addSeekingAmount(a),r.setSeeking(!1)),(r.isPlaybackSessionLooping()||0==i.getPlaybackCounter())&&(i.incrementPlaybackCounter(),r.setPlaybackSessionLooping(!1)),i.incrementPlaySequenceCounter(),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),r.setPlaybackStarted(!0),r.incrementSegmentPlaybackCounter(),(0==r.getLowestPartNumberPlayed()||r.getPartNumber()<=r.getLowestPartNumberPlayed())&&(r.setLowestPartNumberPlayed(r.getPartNumber()),r.incrementAssetPlaybackCounter(),r.setPlaySequenceCounter(0),r.resetAssetPlaybackIntervals()),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],79:[function(e,t,n){function i(e){var t=this;r.extend(t,{onPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.incrementPauses(),r.incrementPauses(),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addElapsedTime(t),r.setElapsedTimestamp(t)}})}var r=e(24);t.exports=i},{24:24}],80:[function(e,t,n){function i(e){var t=this;r.extend(t,{onEndOrAdSkip:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),r.addElapsedTime(t);var s=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onPlay:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),r.incrementPlaySequenceCounter(),r.incrementPlayCounter(),r.isSeeking()&&(r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addSeekingAmount(a),r.setSeeking(!1)),r.addElapsedTime(t),r.setElapsedTimestamp(t),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setPlaybackStartPosition(a),e.getStaCore().isLoadingTimeSent()||(n.ns_st_lt=e.getStaCore().getLoadTimeOffset()+t-e.getStaCore().getInitTimestamp()+"",e.getStaCore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],81:[function(e,t,n){function i(e){var t=this;r.extend(t,{onSeekStartWhenPausedOrBufferingDuringPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);r.isSeeking()?r.isCollectingSeekingTime()||(r.setSeekingTimestamp(t),r.setCollectingSeekingTime(!0)):r.incrementSeeks(),r.isSeeking()||(r.setSeeking(!0),r.setCollectingSeekingTime(!0),r.setSeekStartPosition(a),r.setSeekingTimestamp(t)),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onBufferWhenSeekingOrPaused:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.setBufferingTimestamp(t),r.setBufferingTimestamp(t),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);i.incrementPlaySequenceCounter(),r.incrementPlaySequenceCounter(),r.isSeeking()&&(r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addSeekingAmount(a),r.setSeeking(!1)),r.incrementPlayCounter(),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.addElapsedTime(t),r.setElapsedTimestamp(t),r.setPlaybackStartPosition(a),e.getHeartbeat().resume(),e.getKeepAlive().start();var s=e.getStaCore().createLabels(o.PLAY,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();i.addBufferingTime(t),r.addBufferingTime(t),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();e.getStaCore().resetHeartbeat(),e.getKeepAlive().stop(),r.addElapsedTime(t);var s=e.getStaCore().createLabels(o.END,n,t);r.updateDeltaLabels(s.eventLabels),r.updateIndependentLabels(s.eventLabels),e.getEventManager().newEvent(s),r.isSeeking()&&r.isCollectingSeekingTime()&&(r.setSeekingTimeBeforeEnd(t-r.getSeekingTimestamp()),r.setCollectingSeekingTime(!1)),i.storeAssetPlaybackCounters(),r.resetAssetLifecycleLabels(),r.setPlaybackStarted(!1),n.hasOwnProperty("ns_st_pe")&&a.parseBoolean(n.ns_st_pe,!1)&&e.getStaCore().resetPlaybackSession()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset();r.isSeeking()&&r.isCollectingSeekingTime()&&(r.addSeekingTime(t),r.setCollectingSeekingTime(!1)),r.addElapsedTime(t),r.setElapsedTimestamp(t)},onBufferStopOrOnPlayWhenBufferingDuringPlayback:function(t,n){var i=e.getPlaybackSession(),r=i.getAsset(),a=parseInt(n.ns_st_po);e.getStaCore().stopPausedOnBufferingTimer(),i.addBufferingTime(t),r.addBufferingTime(t),i.setPlaybackTimestamp(t),r.setPlaybackTimestamp(t),r.setPlaybackStartPosition(a),r.addElapsedTime(t),r.setElapsedTimestamp(t),e.getHeartbeat().resume(),e.getKeepAlive().start()}})}var r=e(24),a=e(26),o=e(58).StreamingAnalyticsEventType;t.exports=i},{24:24,26:26,58:58}],82:[function(e,t,n){function i(e){h.push(e),p||u()}function r(e){for(var t=0;t<h.length;++t)if(h[t]==e){h.splice(t,1);break}h.length||l()}function a(e,t){!t&&c||(c=e||y),(p&&t||!p)&&(l(),u())}function o(e,t){f=e||g}function s(e){d=e}function u(){var e=+new Date;p=d.setInterval(function(){var t=e+c,n=+new Date,i=n-t;if(e=n,Math.abs(i)>f)for(var r=i>0,a=0;a<h.length;++a)h[a](r)},c)}function l(){clearInterval(p),p=null}var c,f,d,p=null,h=[],y=1e3,g=1e3;t.exports={onSystemClockJump:i,removeSystemClockJumpListener:r,setPlatformAPI:s,configureInterval:a,configureError:o}},{}],83:[function(e,t,n){arguments[4][20][0].apply(n,arguments)},{20:20}],84:[function(e,t,n){arguments[4][21][0].apply(n,arguments)},{21:21}],85:[function(e,t,n){arguments[4][24][0].apply(n,arguments)},{24:24}],86:[function(e,t,n){arguments[4][26][0].apply(n,arguments)},{26:26}],87:[function(e,t,n){function i(e,t){for(var n=this,i=0;i<r.length;++i){var a=r[i];n[a]=function(t){return function(){return e[t].apply(e,Array.prototype.slice.call(arguments))}}(a)}n.setAsset=function(){t.apply(null,Array.prototype.slice.call(arguments))}}var r=["getAsset","getLabels","setLabels","setLabel","getLabel","getPlaybackSessionID"];t.exports=i},{}],88:[function(e,t,n){function i(e,t){var n,i;Utils.isBrowser()?(n=window,i=document):(n={},i={location:{href:""},title:"",URL:"",referrer:"",cookie:""});var r=t.getLiveEndpointURL(),a=n.comScore||n.sitestat||function(e){var r,a,o,s,u,l="comScore=",c=i.cookie,f="",d=Utils.browserAcceptsLargeURLs()?n.ns_.StreamingAnalytics.Constants.URL_LENGTH_LIMIT:n.ns_.StreamingAnalytics.Constants.RESTRICTED_URL_LENGTH_LIMIT,p=n.encodeURIComponent||escape;if(c.indexOf(l)+1)for(s=0,o=c.split(";"),u=o.length;s<u;s++)(a=o[s].indexOf(l))+1&&(f="&"+unescape(o[s].substring(a+l.length)));e+="&ns__t="+ +new Date+"&ns_c="+(i.characterSet||i.defaultCharset||"")+f,e.length>d&&e.indexOf("&")>0&&(r=e.substr(0,d-8).lastIndexOf("&"),e=(e.substring(0,r)+"&ns_cut="+p(e.substring(r+1))).substr(0,d)),t.getPlatformAPI().httpGet(e),void 0===n.ns_p&&(n.ns_p={src:e}),n.ns_p.lastMeasurement=e},o=decodeURIComponent||unescape,s={},u=r.indexOf("?");if(u>=0&&u<r.length-1){for(var l=r.substring(u+1).split("&"),c=0,f=l.length;c<f;c++){var d=l[c],p=d.split("=");2==p.length&&(s[p[0]]=o(p[1]))}r=r.substring(0,u+1)}var h=s;if(void 0!==e){for(var y in e)e.hasOwnProperty(y)&&(h[y]=e[y]);var g=[],v=n.encodeURIComponent||escape;for(y in h)g.push(v(y)+"="+v(h[y]));/[\?\&]$/.test(r)||(r+="&"),r+=g.join("&")}return a(r)}t.exports=i},{}],89:[function(e,t,n){function i(e,t,n,s,h){function y(){h.release&&h.release.call(De),b(),ze.reset(),ze=null,k(),qe=[],Re=void 0,Xe=-1,Ie=Ne,Je=-1}function g(){return Me}function v(){return c.hasPageVisibilityAPISupport&&c.isTabInBackground()?Ke:He}function m(){b(),at=NaN,ot=[],rt=h.position&&h.position.call(De)||0,ht=!0,xe=setInterval(_,v()),A()}function b(){void 0!==xe&&(clearInterval(xe),xe=void 0)}function _(){if(!it)return void b();if(st)return void(st=!1);var e=+new Date,t=e-at,n=v()+Ye,i=at;if(at=e,!isNaN(i)&&t>n)return void m();var a=h.position&&h.position.call(De,null)||0,o=!1;if(a!=ot[ot.length-1]){if(ot.push(Math.abs(a)),ot.length>1&&ot[ot.length-1]<ot[ot.length-2]){var s=ot[ot.length-1];ot=[],ot[0]=s,Ze&&(o=!0)}if(!o&&ot.length<Ve)return}ot.length>We&&(ot=ot.slice(-Math.floor(We/2))),Ze&&!o&&(o=E());var u=ze.getState();switch(u){case d.IDLE:case d.PAUSED:case d.PLAYBACK_NOT_STARTED:case d.BUFFERING_BEFORE_PLAYBACK:case d.BUFFERING_DURING_PLAYBACK:case d.BUFFERING_DURING_SEEKING:case d.BUFFERING_DURING_PAUSE:case d.PAUSED_DURING_BUFFERING:case d.SEEKING_BEFORE_PLAYBACK:case d.SEEKING_DURING_PLAYBACK:case d.SEEKING_DURING_BUFFERING:case d.SEEKING_DURING_PAUSE:if(tt&&a>rt&&!o&&!T(a)){if(h.preMeasurement&&!h.preMeasurement.call(De,u,r.StreamingAnalytics.PlayerEvents.PLAY))break;var l=ot[ot.length-1];ht&&l<je?De.notifyPlay(0):De.notifyPlay(l),ht=!1;break}if(Ze&&o&&u!=d.SEEKING_BEFORE_PLAYBACK&&u!=d.SEEKING_DURING_PLAYBACK&&u!=d.SEEKING_DURING_BUFFERING&&u!=d.SEEKING_DURING_PAUSE){De.notifySeekStart(ot[0]);break}if(nt&&u!=d.IDLE&&u!=d.PLAYBACK_NOT_STARTED&&u!=d.BUFFERING_BEFORE_PLAYBACK&&u!=d.SEEKING_BEFORE_PLAYBACK&&T(a)){if(h.preMeasurement&&!h.preMeasurement.call(De,u,r.StreamingAnalytics.PlayerEvents.END))break;ht=!0;var c=parseInt(ut.ns_st_cl||ze.getPlaybackSession().getAsset().getLabel("ns_st_cl"));!isNaN(c)&&c>0?De.notifyEnd(c):De.notifyEnd(a)}break;case d.PLAYING:if(Ze&&o){if(h.preMeasurement&&!h.preMeasurement.call(De,u,r.StreamingAnalytics.PlayerEvents.PAUSE))break;ht=!1,De.notifySeekStart(rt)}else if(nt&&T(a)){if(h.preMeasurement&&!h.preMeasurement.call(De,u,r.StreamingAnalytics.PlayerEvents.END))break;ht=!0;var c=parseInt(ut.ns_st_cl||ze.getPlaybackSession().getAsset().getLabel("ns_st_cl"));!isNaN(c)&&c>0?De.notifyEnd(c):De.notifyEnd(a)}else if(et&&Math.abs(a-rt)<=Ue){if(h.preMeasurement&&!h.preMeasurement.call(De,u,r.StreamingAnalytics.PlayerEvents.PAUSE))break;ht=!1,De.notifyPause(rt)}}u!==ze.getState()&&(h.postMeasurement&&h.postMeasurement.call(De,ze.getState()),ze.getState()!=d.PLAYING&&(ot=[])),rt=a}function E(){if(ot.length<2)return!1;if(ot[ot.length-1]<ot[ot.length-2])return!0;for(var e=v(),t=0,n=0;n<ot.length;n++)t=(parseFloat(t)+Fe[ot.length-2][n]*ot[n]).toFixed(5);return(t=parseFloat(t))/e>Ge}function A(){if("undefined"!=typeof document&&document.addEventListener&&c.hasPageVisibilityAPISupport()&&!gt){gt=!0;var e=c.getPageVisibilityAPI();document.addEventListener(e.visibilityChange,m,!1)}}function k(){if("undefined"!=typeof document&&document.addEventListener&&c.hasPageVisibilityAPISupport()&&gt){gt=!1;var e=c.getPageVisibilityAPI();document.removeEventListener(e.visibilityChange,m,!1)}}function T(e){var t=parseInt(ut.ns_st_cl||ze.getPlaybackSession().getAsset().getLabel("ns_st_cl"));return!isNaN(t)&&t>0&&(e>t||Math.abs(e-t)<Be)}function w(e){e&&(Ue=e)}function S(e){e&&(Be=e)}function P(e){e&&e>1&&(Ge=e)}function O(e){"number"==typeof e&&e>=0&&(He=e)}function C(e){"number"==typeof e&&e>=0&&(Ke=e)}function L(e){"number"==typeof e&&e>=0&&(Ye=e)}function R(e){e&&e<=13&&e>=2&&(We=e)}function I(e){e&&e>=2&&e<=13&&(Ve=e)}function x(e){it=e||!1,it?m():b()}function D(e){nt=e||!1}function M(e){tt=e||!1}function N(e){et=e||!1}function U(e){Ze=e||!1}function B(e){ze.getPlaybackSession().getAsset().setLabel("ns_st_cs",e||0)}function j(e){ze.getPlaybackSession().getAsset().setLabel("ns_st_cl",e&&e>=0?e:0)}function F(e){"function"==typeof e&&qe.push(e)}function G(){if(!dt&&!pt){ht=!1;var e=pe(p.PLAY,fe(arguments),de(arguments));ze.notifyPlay(fe(arguments),e),it&&(ot=[],rt=e)}}function V(){if(!dt&&!pt){ht=!1;var e=pe(p.PAUSE,fe(arguments),de(arguments));ze.notifyPause(fe(arguments),e),it&&(ot=[],rt=e)}}function H(){if(!dt&&!pt){ht=!0;var e=pe(p.END,fe(arguments),de(arguments));it&&(ot=[],rt=e,st=!0),ze.notifyEnd(fe(arguments),e)}}function K(){if(!dt&&!pt){var e=pe(p.BUFFER,fe(arguments),de(arguments));ze.notifyBufferStart(fe(arguments),e),it&&(ot=[],rt=e)}}function W(){if(!dt&&!pt){var e=pe(p.BUFFER_STOP,fe(arguments),de(arguments));ze.notifyBufferStop(fe(arguments),e)}}function Y(){if(!dt&&!pt&&e.enableLoadNotification){var t=pe(p.LOAD,fe(arguments),de(arguments));ze.notifyLoad(fe(arguments),t)}}function z(){if(!dt&&!pt&&e.enableEngageNotification){var t=pe(p.ENGAGE,fe(arguments),de(arguments));ze.notifyEngage(fe(arguments),t)}}function q(){if(!dt&&!pt){ht=!1;var e=pe(p.SEEK_START,fe(arguments),de(arguments));it&&(ot=[],rt=e),ze.notifySeekStart(fe(arguments),e)}}function X(){if(!dt&&!pt){if(!e.enableSkipAdNotification)return void H.apply(this,Array.prototype.slice.call(arguments));ht=!0;var t=pe(p.AD_SKIP,fe(arguments),de(arguments));it&&(ot=[],rt=t,st=!0),ze.notifySkipAd(fe(arguments),t)}}function J(){if(!dt&&!pt&&e.enableCallToActionNotification){var t=pe(p.CTA,fe(arguments),de(arguments));ze.notifyCallToAction(fe(arguments),t)}}function Q(){if(!dt&&!pt&&e.enableErrorNotification){var t=pe(p.ERROR,fe(arguments),de(arguments));ze.notifyError(fe(arguments),t)}}function $(){if(!dt&&!pt&&e.enableTransferPlaybackNotification){var t=pe(p.TRANSFER,fe(arguments),de(arguments));ze.notifyTransferPlayback(fe(arguments),t)}}function Z(){if(!dt&&!pt&&e.enableDrmFailNotification){var t=pe(p.DRM_FAILED,fe(arguments),de(arguments));ze.notifyDrmFail(fe(arguments),t)}}function ee(){if(!dt&&!pt&&e.drmApproveNotification){var t=pe(p.DRM_APPROVED,fe(arguments),de(arguments));ze.notifyDrmApprove(fe(arguments),t)}}function te(){if(!dt&&!pt&&e.drmDenyNotification){var t=pe(p.DRM_DENIED,fe(arguments),de(arguments));ze.notifyDrmDeny(fe(arguments),t)}}function ne(t,n,i){if(!dt&&!pt){if(!e.enableBitrateNotification)return void ve("ns_st_br",t,!0);var r=[n,i],a=pe(p.BIT_RATE,fe(r),de(r));ze.notifyChangeBitrate(t,a,fe(r))}}function ie(e,t,n){if(!dt&&!pt){var i=[t,n],r=pe(p.PLAYBACK_RATE,fe(i),de(i));ze.notifyChangePlaybackRate(e,r,fe(i))}}function re(t,n,i){if(!dt&&!pt){if(!e.enableVolumeChangeNotification)return void ve("ns_st_vo",t,!0);var r=[n,i],a=pe(p.VOLUME,fe(r),de(r));ze.notifyChangeVolume(t,a,fe(r))}}function ae(t,n,i){if(!dt&&!pt){if(!e["enableWindowStateChangeNotification "])return void ve("ns_st_ws",t,!0);var r=[n,i],a=pe(p.WINDOW_STATE,fe(r),de(r));ze.notifyChangeWindowState(t,a,fe(r))}}function oe(t,n,i){if(!dt&&!pt){if(!e.enableAudioTrackChangeNotification)return void ve("ns_st_at",t,!0);var r=[n,i],a=pe(p.AUDIO,fe(r),de(r));ze.notifyChangeAudioTrack(t,a,fe(r))}}function se(t,n,i){if(!dt&&!pt){if(!e.enableVideoTrackChangeNotification)return void ve("ns_st_vt",t,!0);var r=[n,i],a=pe(p.VIDEO,fe(r),de(r));ze.notifyChangeVideoTrack(t,a,fe(r))}}function ue(t,n,i){if(!dt&&!pt){if(!e.enableSubtitleTrackChangeNotification)return void ve("ns_st_tt",t,!0);var r=[n,i],a=pe(p.SUBS,fe(r),de(r));ze.notifyChangeSubtitleTrack(t,a,fe(r))}}function le(t,n,i){if(!dt&&!pt){if(!e.enableCdnChangeNotification)return void ve("ns_st_cdn",t,!0);var r=[n,i],a=pe(p.CDN,fe(r),de(r));ze.notifyChangeCdn(t,a,fe(r))}}function ce(){if(!dt&&!pt&&e.enableCustomEventNotification){var t=pe(p.CUSTOM,fe(arguments),de(arguments));ze.notifyCustomEvent(fe(arguments),t)}}function fe(e){return"object"==o(e[0])?e[0]:"object"==o(e[1])?e[1]:{}}function de(e){return"number"==typeof e[0]?e[0]:"number"==typeof e[1]?e[1]:NaN}function pe(e,t,n){for(var i=0,r=qe.length;i<r;i++)qe[i](e,t);var a=NaN;return"number"!=typeof n||isNaN(n)?h.position&&(a=h.position.call(De,e,t,n)):a=n,a}function he(e,t,n,i){var r=n||[];Oe(r,e),Ce(r,e);var a;for(var o in e)e.hasOwnProperty(o)&&(a=o.match(/^data-(.+)/))&&(e[a[1]]=e[o],delete e[o]);return i&&1==i?l.extend(e,ct):(ct={},l.extend(ct,e)),ut={},dt=!!(e&&e.hasOwnProperty("ns_st_skip")&&e.ns_st_skip),ze.getPlaybackSession().setAsset(e,t)}function ye(e,t){return t&&1==t?l.extend(e,lt):(lt={},l.extend(lt,e)),pt=!!(e&&e.hasOwnProperty("ns_st_skip")&&e.ns_st_skip),ze.createPlaybackSession(e)}function ge(){var e=ze.getPlaybackSession();return new a(e,he)}function ve(e,t,n){var i={};return i[e]=t,me(i,n)}function me(e,t){return t&&1==t?l.extend(e,ft):l.extend(ft,e),ze.setLabels(e)}function be(){return ft}function _e(e){return ft[e]}function Ee(e,t,n){n&&1==n?(ct.hasOwnProperty(e)||ft.hasOwnProperty(e)||ze.getPlaybackSession().getAsset().setLabel(e,t),ut[e]=t):(ct[e]=t,ze.getPlaybackSession().getAsset().setLabel(e,t))}function Ae(e,t,n){n&&1==n?lt.hasOwnProperty(e)||ft.hasOwnProperty(e)||ze.getPlaybackSession().setLabel(e,t):(lt[e]=t,ze.getPlaybackSession().setLabel(e,t))}function ke(e){ze.setThrottlingEnabled(e)}function Te(e){if(e){var t=/([^=, ]+)\s*=(\s*("([^"]+?)"|'([^']+?)'|[a-z0-9\[\]\._-]+)\s*\+?)+\s*/gi,n=e.match(t);for(var i in n)if(n.hasOwnProperty(i)){var r=n[i].split("=",2);if(2==r.length){var a=r[0].replace(/(^\s+|\s+$)/g,"");""!=a&&(Qe[a]=r[1])}}}}function we(e){if(e){var t=e.split(",");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].split("=",2);if(2==i.length){var r=i[0].replace(/(^\s+|\s+$)/g,"");""!=r&&(ze.setLabel(r,i[1]),ft[r]=i[1])}}}}function Se(e){if(u.isTrue(e.pageView||e.pageview)){var t={};if("undefined"!=typeof document){var n=document;t.c7=n.URL,t.c8=n.title,t.c9=n.referrer}ze.setLabels(t)}e.renditions,$e=u.isTrue(e.debug),(e.labelMapping||e.labelmapping)&&Te(e.labelMapping||e.labelmapping),(e.persistentLabels||e.persistentlabels)&&we(e.persistentLabels||e.persistentlabels),"1"===e.throttling||!0===e.throttling?ze.setThrottlingEnabled(!0):ze.setThrottlingEnabled(!1);var i;(i=e.include)&&"string"==typeof i&&(i===Ne?Re=Ne:i.length>0&&(Re=i.split(","))),Re!==Ne&&(i=e.includePrefixes||e.include_prefixes)&&(i===Ne?Re=Ne:(Re||(Re=[]),Xe=Re.length,Re.push.apply(Re,i.split(","))));var r=/^([Cc][A-Da-d]_)?ns_st_.+/,a=/^[Cc][A-Da-d]?([1-9]|1[0-9]|20)$/,o=e.exclude;if("string"==typeof o)if(Re||o)if(Re&&!o)yt=[],Ie=[];else if(o==Ne)yt=[],Ie=Ne;else{var s=o.split(",");Ie=Re?s:Ne;for(var l=0;l<s.length;l++){var c=null!=s[l].match(r),f=null!=s[l].match(a);(c||f)&&yt.push(s[l])}}else yt=[],Ie=Ne;var d=e.excludePrefixes||e.exclude_prefixes;Re&&Ie!=Ne&&"string"==typeof d&&(d==Ne?Ie=Ne:(Ie||(Ie=[]),Je=Ie.length,Ie.push.apply(Ie,d.split(",")))),Ie||(Ie=Ne)}function Pe(e){var t,n,i,r,a={};if(Ie===Ne)return{};if(Re&&Re!==Ne){for(t=0,n=Re.length;t<n;t++){var o=Re[t];r=Xe>=0&&t>=Xe;for(i in e)e.hasOwnProperty(i)&&(a[i]||(a[i]=!(r?0!==i.indexOf(o):i!=o)))}for(i in a)a.hasOwnProperty(i)&&!1===a[i]&&delete e[i];a={}}if(Ie)for(t=0,n=Ie.length;t<n;t++){var s=Ie[t];r=Je>=0&&t>=Je;for(i in e)e.hasOwnProperty(i)&&(r?0===i.indexOf(s):i==s)&&(a[i]=!0);for(i in a)a.hasOwnProperty(i)&&e.hasOwnProperty(i)&&delete e[i];a={}}return e}function Oe(e,t){var n=Ie===Ne;if(e.length>0&&"undefined"!=e[0].map){var i=e[0].map;n||l.extend(t,Pe(i));for(var r in i)if(i.hasOwnProperty(r)){var a,o,s,u=/^([Cc][A-Da-d]_)?ns_st_.+/,c=/^[Cc][A-Da-d]?([1-9]|1[0-9]|20)$/;(a=r.match(/^data-(.+)/))?(o=null!=a[1].match(u),s=null!=a[1].match(c),(o||s)&&-1===yt.indexOf(a[1])&&(t[a[1]]=i[r])):(o=null!=r.match(u),s=null!=r.match(c),(o||s)&&-1===yt.indexOf(r)&&(t[r]=i[r]))}}}function Ce(e,t){var n=De.labelMapping;for(var i in n)if(n.hasOwnProperty(i))for(var r="",a=/^("([^"]+)"|'([^']+?)'$)/i,o=/"([^"]+?)"|[a-z0-9\[\]\._-]+|'([^']+?)'\s*/gi,s=n[i].match(o),u=0;u<s.length;u++){var l=s[u].replace(/(?:^\s+|\s+$)/g,"");if(a.test(l)){var c=a.exec(l);r+=c[2]||c[3]}else try{var d="",p=l.lastIndexOf(".");p>=1&&p<l.length-1&&(d=l.substring(0,p),l=l.substring(p+1,l.length));for(var h=0;h<e.length;h++){var y=e[h];if(d==y.prefix){y.map[l]&&(r+=f.toString(y.map[l]));break}}}catch(e){Le("Exception occurred while processing mapped labels")}t[i]=r}}function Le(){if($e){var e=new Date,t=e.getDate(),n=e.getMonth()+1,i=e.getHours(),r=e.getMinutes(),a=e.getSeconds(),o=e.getFullYear()+"-"+(n<10?"0"+n:n)+"-"+(t<10?"0"+t:t)+" "+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+"."+e.getMilliseconds(),s=["comScore",o],u=Array.prototype.slice.call(arguments);"undefined"!=typeof console&&console.log.apply(console,s.concat(u))}}h=h||{};var Re,Ie,xe,De=this,Me="2.6.3.180301",Ne="_all_",Ue=10,Be=500,je=1e3,Fe=[[-1,1],[-.5,0,.5],[-.3,-.1,.1,.3],[-.2,-.1,0,.1,.2],[-.14286,-.08571,-.02857,.02857,.08571,.14286],[-.10714,-.07143,-.03571,0,.03571,.07143,.10714],[-.08333,-.05952,-.03571,-.0119,.0119,.03571,.05952,.08333],[-.06667,-.05,-.03333,-.01667,0,.01667,.03333,.05,.06667],[-.05455,-.04242,-.0303,-.01818,-.00606,.00606,.01818,.0303,.04242,.05455],[-.04545,-.03636,-.02727,-.01818,-.00909,0,.00909,.01818,.02727,.03636,.04545],[-.03846,-.03147,-.02448,-.01748,-.01049,-.0035,.0035,.01049,.01748,.02448,.03147,.03846],[-.03297,-.02747,-.02198,-.01648,-.01099,-.00549,0,.00549,.01099,.01648,.02198,.02747,.03297]],Ge=1.25,Ve=2,He=300,Ke=1e3,We=6,Ye=50,ze={},qe=[],Xe=-1,Je=-1,Qe={},$e=!1,Ze=!1,et=!1,tt=!1,nt=!1,it=!1,rt=h.position&&h.position.call(De,null)||0,at=NaN,ot=[],st=!1,ut={},lt={},ct={},ft={},dt=!1,pt=!1,ht=!0,yt=[];!function(){var i={};"debug"in e&&(i.debug=e.debug),("publisherId"in e||"c2"in e)&&(i.publisherId=e.publisherId||e.c2),"secure"in e&&(i.secure=e.secure),("logurl"in e||"liveEndpointURL"in e)&&(i.liveEndpointURL=e.logurl||e.liveEndpointURL),ze=new r.StreamingAnalytics(i),l.extend(De,ze),l.extend(De,{notifyPlay:G,notifyPause:V,notifyEnd:H,notifyBufferStart:K,notifyBufferStop:W,notifyLoad:Y,notifyEngage:z,notifySeekStart:q,notifySkipAd:X,notifyCallToAction:J,notifyError:Q,notifyTransferPlayback:$,notifyDrmFail:Z,notifyDrmApprove:ee,notifyDrmDeny:te,notifyChangeBitrate:ne,notifyChangePlaybackRate:ie,notifyChangeVolume:re,notifyChangeWindowState:ae,notifyChangeAudioTrack:oe,notifyChangeVideoTrack:se,notifyChangeSubtitleTrack:ue,notifyChangeCDN:le,notifyCustomEvent:ce,createPlaybackSession:ye,getPlaybackSession:ge,setAsset:he,setLabel:ve,setLabels:me,getLabels:be,getLabel:_e,setAssetLabel:Ee,setPlaybackSessionLabel:Ae,setThrottlingEnabled:ke,onGetLabels:F,labelMapping:Qe,release:y,log:Le,handleSettings:Se,getGenericPluginVersion:g,setDuration:j,setVideoSize:B,setDetectSeek:U,setDetectPause:N,setDetectPlay:M,setDetectEnd:D,setSmartStateDetection:x,setPauseDetectionErrorMargin:w,setEndDetectionErrorMargin:S,setSeekDetectionMinQuotient:P,setPulseSamplingInterval:O,setPulseSamplingIntervalBackground:C,setPulseMaxDelay:L,setMaximumNumberOfEntriesInHistory:R,setMinimumNumberOfTimeUpdateEventsBeforeDetectingSeek:I}),De.setLabels({ns_st_mp:t,ns_st_pv:n,ns_st_mv:s},!0),e&&Se(e),h.init&&h.init.call(De,null),it&&m()}(),u.isTrue(e.pageView||e.pageview)&&i.viewNotify(ze.getLabels(),ze);var gt=!1}var r=e(16),a=e(87),s=e(88),u=e(84),l=e(85),c=e(83),f=e(86);t.exports=r;var d=r.StreamingAnalytics.InternalStates,p=r.StreamingAnalytics.PlayerEvents;i.prototype=r.StreamingAnalytics.prototype,r.StreamingAnalytics.Plugin=i,i.viewNotify=s,i.extractParams=function(e,t,n){var i,r,a,o=t.length,s={},u=e.indexOf(t);if(void 0===n&&(n="&"),u>=0)for(a=e.substr(u+o).split(n),i=0,r=a.length;i<r;i++){var l=a[i].split("=");2===l.length&&(s[l[0]]=decodeURIComponent(l[1]))}return s}},{16:16,83:83,84:84,85:85,86:86,87:87,88:88}]},{},[89])(89)}()}()}).call(t,n(4),n(5))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function o(){y&&p&&(y=!1,p.length?h=p.concat(h):g=-1,h.length&&s())}function s(){if(!y){var e=r(o);y=!0;for(var t=h.length;t;){for(p=h,h=[];++g<t;)p&&p[g].run();g=-1,t=h.length}p=null,y=!1,a(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,f,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var p,h=[],y=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||y||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}}])})}).call(t,n(345)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(e){(0,s.validateConfig)(e);var t=(0,s.getDefaultOptions)(e);(0,s.setLogLevel)(t),(0,o.evaluatePluginsConfig)(t.player),(0,s.setStorageConfig)(t);var n=new a.default(t);return(0,s.setStorageTextStyle)(n),(0,s.applyStorageSupport)(n),n}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;var r=n(347),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(130),s=n(358);t.setup=i},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(10),o=n(66),s=n(128),u=n(32),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(348),f=n(349),d=n(130),p=n(351);n(353);var h=function(){function e(t){var n=this;return i(this,e),this._player=(0,a.loadPlayer)(t.player),this._playerConfigure=this._player.configure.bind(this._player),this._logger=(0,l.default)("KalturaPlayer"+a.Utils.Generator.uniqueId(5)),this._provider=new s.Provider(t.provider,"0.22.0"),this._uiManager=new o.UIManager(this._player,t.ui),t.ui.customPreset?this._uiManager.buildCustomUI(t.ui.customPreset):this._uiManager.buildDefaultUI(),Object.assign(this._player,{loadMedia:function(e){return n.loadMedia(e)},configure:function(e){return n.configure(e)},setMedia:function(e){return n.setMedia(e)}}),this._player}return r(e,[{key:"configure",value:function(e){e.player||e.ui?(e.player&&this._playerConfigure(e.player),e.ui&&this._uiManager.setConfig(e.ui)):this._playerConfigure(e)}},{key:"loadMedia",value:function(e){var t=this;return this._logger.debug("loadMedia",e),this._player.reset(),this._player.loadingMedia=!0,(0,f.setUILoadingSpinnerState)(this._uiManager,!0),(0,f.setUIErrorOverlayConfig)(this._uiManager,e),this._provider.getMediaConfig(e).then(function(e){return t.setMedia(e)}).catch(function(e){t._player.dispatchEvent(new a.FakeEvent(t._player.Event.ERROR,new a.Error(a.Error.Severity.CRITICAL,a.Error.Category.PLAYER,a.Error.Code.LOAD_FAILED,e)))})}},{key:"setMedia",value:function(e){this._logger.debug("setMedia",e);var t=this._player.dimensions;(0,p.setUISeekbarConfig)(this._uiManager,e),a.Utils.Object.mergeDeep(e.metadata,this._player.config.metadata),(0,p.addKalturaPoster)(e.metadata,t.width,t.height),(0,c.addKalturaParams)(e.sources,this._player);var n=a.Utils.Object.copyDeep(e);a.Utils.Object.mergeDeep(n.plugins,this._player.config.plugins),a.Utils.Object.mergeDeep(n.session,this._player.config.session),(0,d.evaluatePluginsConfig)(n),this._player.configure(n)}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e){e.config.session&&e.config.session.id?a(e):r(e)}function r(e){var t=c.Utils.Generator.guid(),n=c.Utils.Generator.guid();e.sessionId=t+":"+n}function a(e){var t=/:((?:[a-z0-9]|-)*)/i,n=t.exec(e.config.session.id);n&&n[1]&&(e.sessionId=e.config.session.id.replace(n[1],c.Utils.Generator.guid()))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1],n=new RegExp(d+"((?:[a-z0-9]|-)*:(?:[a-z0-9]|-)*)","i"),i=n.exec(e.url);if(i&&i[1])e.url=e.url.replace(i[1],t);else{var r=-1===e.url.indexOf("?")?"?":"&";e.url+=r+d+t}}function s(e){if(-1===e.url.indexOf(p)){var t=-1===e.url.indexOf("?")?"?":"&";e.url+=t+p+btoa(document.referrer||document.URL)}}function u(e){if(-1===e.url.indexOf(h)){var t=-1===e.url.indexOf("?")?"?":"&";e.url+=t+h+"0.22.0"}}function l(e,t){i(t),Object.keys(e).forEach(function(n){e[n].forEach(function(e){"string"==typeof e.url&&e.url.toLowerCase().indexOf(f)>-1&&!e.localSource&&(o(e,t.config.session.id),s(e),u(e))})})}Object.defineProperty(t,"__esModule",{value:!0}),t.addClientTag=t.addReferrer=t.updateSessionIdInUrl=t.handleSessionId=t.addKalturaParams=void 0;var c=n(10),f="playmanifest/",d="playSessionId=",p="referrer=",h="clientTag=html5:v";t.addKalturaParams=l,t.handleSessionId=i,t.updateSessionIdInUrl=o,t.addReferrer=s,t.addClientTag=u},function(e,t,n){"use strict";function i(e,t){e.setConfig({mediaInfo:t},"error")}function r(e,t){e.setConfig({show:t},"loading")}Object.defineProperty(t,"__esModule",{value:!0}),t.setUILoadingSpinnerState=t.setUIErrorOverlayConfig=void 0;n(66);t.setUIErrorOverlayConfig=i,t.setUILoadingSpinnerState=r},function(e,t){e.exports={youbora:{playerVersion:"{{pVersion}}",playerName:"{{pName}}",entryId:"{{entryId}}",entryName:"{{entryName}}",entryType:"{{entryType}}",sessionId:"{{sessionId}}",uiConfId:"{{uiConfId}}"},kanalytics:{playerVersion:"{{pVersion}}",entryId:"{{entryId}}",entryType:"{{entryType}}",sessionId:"{{sessionId}}",ks:"{{ks}}",uiConfId:"{{uiConfId}}",partnerId:"{{partnerId}}"},ottAnalytics:{entryId:"{{entryId}}",ks:"{{ks}}",partnerId:"{{partnerId}}"},ima:{playerVersion:"{{pVersion}}",playerName:"{{pName}}"}}},function(e,t,n){"use strict";function i(e,t,n){e.poster&&(e.poster=e.poster+"/height/"+n+"/width/"+t)}function r(e,t){e.setConfig({thumbsSprite:(0,a.getThumbSlicesUrl)(t),thumbsWidth:a.DEFAULT_THUMBS_WIDTH,thumbsSlices:a.DEFAULT_THUMBS_SLICES},"seekbar")}Object.defineProperty(t,"__esModule",{value:!0}),t.setUISeekbarConfig=t.addKalturaPoster=void 0;var a=n(352);n(66);t.addKalturaPoster=i,t.setUISeekbarConfig=r},function(e,t,n){"use strict";function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n={thumbnailUrl:e.metadata.poster,ks:e.session.ks,width:t.thumbsWidth||o,slices:t.thumbsSlices||s};return(0,a.default)(u,n)}catch(e){return""}}Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_THUMBS_SLICES=t.DEFAULT_THUMBS_WIDTH=void 0,t.getThumbSlicesUrl=i;var r=n(131),a=function(e){return e&&e.__esModule?e:{default:e}}(r),o=t.DEFAULT_THUMBS_WIDTH=164,s=t.DEFAULT_THUMBS_SLICES=100,u="{{thumbnailUrl}}/width/{{width}}/vid_slices/{{slices}}/ks/{{ks}}"},function(e,t,n){var i=n(354);"string"==typeof i&&(i=[[e.i,i,""]]);var r={};r.transform=void 0;n(356)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(355)(void 0),t.push([e.i,".kaltura-player-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  background-color: #000;\n  outline: none;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n",""])},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=i(r);return[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([a]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<e.length;r++){var o=e[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=h[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(c(i.parts[a],t))}else{for(var o=[],a=0;a<i.parts.length;a++)o.push(c(i.parts[a],t));h[i.id]={id:i.id,refs:1,parts:o}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var a=e[r],o=t.base?a[0]+t.base:a[0],s=a[1],u=a[2],l=a[3],c={css:s,media:u,sourceMap:l};i[o]?i[o].parts.push(c):n.push(i[o]={id:o,parts:[c]})}return n}function a(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=b[b.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function s(e){var t=document.createElement("style");return e.attrs.type="text/css",l(t,e.attrs),a(e,t),t}function u(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",l(t,e.attrs),a(e,t),t}function l(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function c(e,t){var n,i,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var l=m++;n=v||(v=s(t)),i=f.bind(null,n,l,!1),r=f.bind(null,n,l,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(t),i=p.bind(null,n,t),r=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(t),i=d.bind(null,n),r=function(){o(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function f(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=E(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var i=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(i=_(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(o),s&&URL.revokeObjectURL(s)}var h={},y=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}(function(e){return document.querySelector(e)}),v=null,m=0,b=[],_=n(357);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],u=h[s.id];u.refs--,a.push(u)}if(e){i(r(e,t),t)}for(var o=0;o<a.length;o++){var u=a[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var E=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var a;return a=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(a)+")"})}},function(e,t,n){"use strict";function i(e){if(!e)throw new Error(A.ValidationErrorType.INITIAL_CONFIG_REQUIRED);r(e.targetId),a(e.provider)}function r(e){if(!e)throw new Error(A.ValidationErrorType.TARGET_ID_REQUIRED);if(!document.getElementById(e))throw new Error(A.ValidationErrorType.DOM_ELEMENT_WITH_TARGET_ID_REQUIRED+e)}function a(e){if(!e.partnerId)throw new Error(A.ValidationErrorType.PARTNER_ID_REQUIRED)}function o(e){var t=document.createElement("div");t.id=E.Utils.Generator.uniqueId(5),t.className=P,t.setAttribute("tabindex","-1");var n=document.getElementById(e);return n&&t&&n.appendChild(t),t.id}function s(e){!e.disableUserCache&&T.default.isLocalStorageAvailable()&&T.default.hasStorage()&&E.Utils.Object.mergeDeep(e.player,T.default.getStorageConfig())}function u(e){T.default.isLocalStorageAvailable()&&T.default.attach(e)}function l(e){if(T.default.isLocalStorageAvailable()){var t=T.default.getPlayerTextStyle();t&&(e.textStyle=E.Utils.Object.mergeDeep(new E.TextStyle,t))}}function c(){var e=!1;if(!0===window.DEBUG_KALTURA_PLAYER)e=!0;else if(window.URLSearchParams){var t=new URLSearchParams(window.location.search);e=t.has(O)}else e=!!d(O);return e}function f(e){var t=w.LogLevel.ERROR;c()?(t=w.LogLevel.DEBUG,e.logLevel=w.LogLevel.DEBUG.name):e.logLevel&&w.LogLevel[e.logLevel]&&(t=w.LogLevel[e.logLevel]),e.ui.logLevel=e.player.logLevel=e.provider.logLevel=t.name,(0,w.setLogLevel)(t)}function d(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function p(e){var t=E.Utils.Object.getPropertyPath(window,"__kalturaplayerdata.UIConf");return null!==e&&void 0!==e&&(void 0!==t&&void 0!==t[e]||!1)}function h(e){var t={};return p(e)&&(t=window.__kalturaplayerdata.UIConf[e]),t}function y(e){var t=o(e.targetId),n={targetId:e.targetId,provider:{partnerId:e.provider.partnerId},player:{},ui:{targetId:t}};if(E.Utils.Object.mergeDeep(n,e),n.provider.uiConfId){var i=h(n.provider.uiConfId);n.provider=E.Utils.Object.mergeDeep({},i.provider,n.provider),n.player=E.Utils.Object.mergeDeep({},i.player,n.player),n.ui=E.Utils.Object.mergeDeep({},i.ui,n.ui)}return g(n.player),v(n.player),(0,_.setDefaultAnalyticsPlugin)(n.player),(0,S.configureExternalStreamRedirect)(n.player),n}function g(e){if(m()||b()){"boolean"!=typeof E.Utils.Object.getPropertyPath(e,"playback.preferNative.hls")&&E.Utils.Object.mergeDeep(e,{playback:{preferNative:{hls:!0}}})}}function v(e){if(m()){"boolean"!=typeof E.Utils.Object.getPropertyPath(e,"playback.useNativeTextTrack")&&E.Utils.Object.mergeDeep(e,{playback:{useNativeTextTrack:!0}})}}function m(){return E.Env.browser.name.includes("Safari")}function b(){return"iOS"===E.Env.os.name}Object.defineProperty(t,"__esModule",{value:!0}),t.isIos=t.isSafari=t.getDefaultOptions=t.checkNativeHlsSupport=t.createKalturaPlayerContainer=t.setLogLevel=t.validateConfig=t.setStorageTextStyle=t.applyStorageSupport=t.setStorageConfig=void 0;var _=n(359),E=n(10),A=n(360),k=n(361),T=function(e){return e&&e.__esModule?e:{default:e}}(k),w=n(32),S=n(363),P="kaltura-player-container",O="debugKalturaPlayer";t.setStorageConfig=s,t.applyStorageSupport=u,t.setStorageTextStyle=l,t.validateConfig=i,t.setLogLevel=f,t.createKalturaPlayerContainer=o,t.checkNativeHlsSupport=g,t.getDefaultOptions=y,t.isSafari=m,t.isIos=b},function(e,t,n){"use strict";function i(e){r.Utils.Object.getPropertyPath(e,"plugins.kanalytics")||r.Utils.Object.mergeDeep(e,{plugins:{kanalytics:{}}})}Object.defineProperty(t,"__esModule",{value:!0}),t.setDefaultAnalyticsPlugin=i;var r=n(10)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={INITIAL_CONFIG_REQUIRED:"Must provide initial providers config",PARTNER_ID_REQUIRED:"Must provide partner id",TARGET_ID_REQUIRED:"Must provide target id",DOM_ELEMENT_WITH_TARGET_ID_REQUIRED:"Must provide DOM element with id of: "};t.ValidationErrorType=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(362),s=i(o),u=n(32),l=i(u),c=n(10),f=function(){function e(){r(this,e)}return a(e,null,[{key:"isLocalStorageAvailable",value:function(){return s.default.isLocalStorageAvailable()}},{key:"attach",value:function(t){var n=this;e._logger.debug("Attach local storage"),t.addEventListener(t.Event.FIRST_PLAY,function(){t.addEventListener(t.Event.MUTE_CHANGE,function(){s.default.setItem(e.StorageKeys.MUTED,t.muted)}),t.addEventListener(t.Event.VOLUME_CHANGE,function(){s.default.setItem(e.StorageKeys.VOLUME,t.volume)}),t.addEventListener(t.Event.AUDIO_TRACK_CHANGED,function(t){var n=t.payload.selectedAudioTrack;s.default.setItem(e.StorageKeys.AUDIO_LANG,n.language)}),t.addEventListener(t.Event.TEXT_TRACK_CHANGED,function(t){var n=t.payload.selectedTextTrack;s.default.setItem(e.StorageKeys.TEXT_LANG,n.language)}),t.addEventListener(t.Event.TEXT_STYLE_CHANGED,function(){try{var i=JSON.stringify(t.textStyle);s.default.setItem(e.StorageKeys.TEXT_STYLE,i)}catch(e){n._logger.error(e.message)}})})}},{key:"getPlayerTextStyle",value:function(){return s.default.getItem(e.StorageKeys.TEXT_STYLE)}},{key:"hasStorage",value:function(){var e=s.default.size,t=0!==e;return t?this._logger.debug("Storage found with size of ",e):this._logger.debug("No storage found"),t}},{key:"getStorageConfig",value:function(){var t=e._getExistingValues(),n=e._buildStorageConfig(t);return this._logger.debug("Gets storage config",n),n}},{key:"_getExistingValues",value:function(){var t={};return Object.keys(e.StorageKeys).forEach(function(n){var i=e.StorageKeys[n],r=s.default.getItem(i);null!=r&&(t[i]=r)}),t}},{key:"_buildStorageConfig",value:function(e){var t=c.Utils.Object.mergeDeep({},e);return delete t.textStyle,{playback:t}}}]),e}();f.StorageKeys={MUTED:"muted",VOLUME:"volume",AUDIO_LANG:"audioLanguage",TEXT_LANG:"textLanguage",TEXT_STYLE:"textStyle"},f._logger=(0,l.default)("StorageManager"),t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(32),o=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(){i(this,e)}return r(e,null,[{key:"isLocalStorageAvailable",value:function(){if("undefined"==typeof Storage)return!1;try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}},{key:"setItem",value:function(t,n){e._validateKey(t);try{e._logger.debug("Sets item for key: "+t,n),localStorage.setItem("kaltura-player-js_"+t,n)}catch(t){e._isQuotaExceeded(t)?e._logger.error("Quota exceeded: "+t.message):e._logger.error(t.message)}}},{key:"getItem",value:function(t){e._validateKey(t);var n=null;try{return n=localStorage.getItem("kaltura-player-js_"+t),"string"==typeof n?JSON.parse(n):null}catch(e){return n}}},{key:"_isQuotaExceeded",value:function(e){var t=!1;if(e)if(e.code)switch(e.code){case 22:t=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===e.name&&(t=!0)}else-2147024882===e.number&&(t=!0);return t}},{key:"_validateKey",value:function(e){if("string"!=typeof e||0===e.length)throw new Error("Invalid key")}},{key:"size",get:function(){return Object.keys(localStorage).filter(function(e){return e.startsWith("kaltura-player-js_")}).length}}]),e}();s._logger=(0,o.default)("StorageWrapper"),t.default=s},function(e,t,n){"use strict";function i(e,t){var n=function(e){var t=document.createElement("a");return t.href=e,t.hostname},i=n(t),r=e&&e.flavors&&1===e.flavors.length,a=r&&n(e.flavors[0].url);return r&&i!==a?e.flavors[0].url:t}function r(e){var t=a.Utils.Object.getPropertyPath(e,"sources.options");t||(a.Utils.Object.mergeDeep(e,{sources:{options:{}}}),t=e.sources.options),"function"!=typeof t.redirectExternalStreamsHandler&&(t.redirectExternalStreamsHandler=i)}Object.defineProperty(t,"__esModule",{value:!0}),t.configureExternalStreamRedirect=void 0;var a=n(10);t.configureExternalStreamRedirect=r}])});
//# sourceMappingURL=kaltura-ovp-player.js.map