<?php

// Preroll without Skip
define("VAMPAdsPlaylistWithSkip", "https://pubads.g.doubleclick.net/gampad/ads?sz=850x478&iu=%2F21633895671%2FQA%2Fdesktop%2FCOH&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&ad_rule=1&cmsid=2467608&vid=0_yzueovgc&url=https%3A%2F%2Fphoenix.voot.com%2Fshows%2Fsilsila%2F1%2F606786%2Fis-rajdeep-following-nandini-%2F619893&correlator=3802680835283530&cust_params=sample_ar%3Dskippablelinear%26age%3Dnull%26gender%3Dnull%26Aud%3D3p_PersonalFinance%26Aud%3D3ponly_males_35-44_precision%26Aud%3D3p_fashionandbeauty%26Aud%3D3p_Branded_OnlineFnBDelivery%26Aud%3D3p_affluent_plow%26Aud%3D3p_BusinessCareer%26Aud%3Dall%26Aud%3Dparents_phigh%26Aud%3D3p_finance%26Aud%3D3p_WellnessConscious%26Aud%3Dparents_kids9-15yrs_phigh%26Aud%3Dviewers_KaisiYehYaariaan_RoadiesXtreme%26Aud%3D3p_news%26Aud%3D3p_NotOnlineShoppers%26Aud%3D3p1p_Parents_pmed%26Aud%3D3p_TechSavvy%26Aud%3D3p_OfflineShoppers%26Aud%3D3p_CarOwners%26Aud%3D3p_beauty%26Aud%3D3p_travel%26Aud%3D3p_affluent_pmed%26Aud%3D%20viewers_2times%26Aud%3Dhul_brylcreemjul18_lookalike%26Aud%3D3p_OnlineFnBDelivery%26Aud%3D3p_Automobiles%26Aud%3Dparents_kids5-8yrs_phigh%26Aud%3D3p_CarOwnersOnly&ppid=164caf3253454-067338de8904e5-47e1039-144000-164caf325369af&sdkv=h.3.225.0&sdki=3c0d&scor=2511038084234114&adk=1603479852&u_so=l&osd=2&frm=0&sdr=1&is_amp=0&adsid=NT&vpa=auto&vpmute=0&mpt=kaltura-player-js&mpv=0.31.5&cookie=ID%3Dff45c1e3342e3048%3AT%3D1532413302%3AS%3DALNI_MY31mnzIjQ-HQqBrw_pmW3qVDhFXg&afvsz=450x50%2C468x60%2C480x70%2C728x90&ged=ve4_td5_tt2_pd5_la5000_er14.80.164.80_vi0.0.759.1010_vp0_eb16491");


// Preroll without Skip
define("preWithoutSkip", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&cust_params=sample_ct%3Dlinear&correlator=[timestamp]");

// Preroll with Skip
define("preWithSkip", "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dskippablelinear&correlator=[timestamp]");

// Redirect Linear
define("redLin", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&cust_params=sample_ct%3Dredirectlinear&correlator=[timestamp]");

// Redirect Error
define("redErr", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=xml_vast2&unviewed_position_start=1&cust_params=sample_ct%3Dredirecterror&nofb=1&correlator=[timestamp]");

// Redirect Broken Fallback
define("redBrFall", "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dredirecterror&correlator=[timestamp]");

// Non linear
define("noLin", "https://pubads.g.doubleclick.net/gampad/ads?sz=480x70&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dnonlinear&correlator=[timestamp]");

// VMAP Preroll
define("vmPre", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpreonly&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Preroll and Bumper
define("vmPreBum", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpreonlybumper&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Postroll
define("vmPost", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpostonly&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Postroll and bumper
define("vmPostBum", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpostonlybumper&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Pre-mid-post rolls
define("vmPreMidPost", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpost&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Pre-3mid-standard-post rolls
define("vmPreMidStPost", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpostpod&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Pre-3mid-standard-post rolls and bumper
define("vmPreMidStPostBum", "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=vmap&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ar%3Dpremidpostpodbumper&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Pre-3mid-optimized-post rolls
define("vmPreMidOpPost", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpostoptimizedpod&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Pre-3mid-optimized-post rolls and bumper
define("vmPreMidOpPostBum", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpostoptimizedpodbumper&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// VMAP Pre-10mid-post rolls
define("vmPre10MidPost", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpremidpostlongpod&cmsid=496&vid=short_tencue&correlator=[timestamp]");

// Pre-roll with companions
define("preWithComp", "http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/ad_rule_samples&ciu_szs=300x250&ad_rule=1&impl=s&gdfp_req=1&env=vp&output=xml_vmap1&unviewed_position_start=1&cust_params=sample_ar%3Dpreonly&cmsid=496&vid=short_onecue&correlator=[timestamp]");

// Midroll & Postroll
define("midPost", "http://externaltests.dev.kaltura.com/standalonePlayer/Ads/adManager/customAdTags/vmap/inline/mid_post.xml");


//Empty Ad Tag
define ("emptyAdTag", '');

//No ad
define ("noAd", null);

// The function return selected Ad tag
function getSelectedAdTag() {
	return constant($_GET['adTag']);
}


function plugins() {
	
		if ( $_GET['Youbora']=='on' AND empty($_GET['youbDis'])){
		    $youboraPlugin = Youbora("false");
		}elseif ( $_GET['youbDis']=='on' OR ($_GET['youbDis']=='on' AND $_GET['Youbora']=='on')){
			$youboraPlugin = Youbora("true");
		}else{
			$youboraPlugin = '';
		}

		if ( $_GET['Kava']=='on' AND empty($_GET['kavaDis'])){
			$kavaPlugin = Kava("false");
		}elseif ( $_GET['kavaDis']=='on' OR ($_GET['kavaDis']=='on' AND $_GET['Kava']=='on')){
			$kavaPlugin = Kava("true");
		}else{
			$kavaPlugin = '';
		}

		if ( $_GET['GA']=='on' AND empty($_GET['gaDis'])){
			$gaPlugin = GA("false");
		}elseif ( $_GET['gaDis']=='on' OR ($_GET['gaDis']=='on' AND $_GET['GA']=='on')){
			$gaPlugin = GA("true");
		}else{
			$gaPlugin = '';
		}

		if ($_GET['adTag']=="noAd" AND empty($_GET['imaDis'])){
			$imaPlugin = '';
		}elseif (!($_GET['adTag']=='noAd') AND $_GET['imaDis']=='on'){
			$imaPlugin = imaPlugin(getSelectedAdTag(),"true");
        }elseif (!($_GET['adTag']=='noAd') AND empty($_GET['imaDis'])){
			$imaPlugin = imaPlugin(getSelectedAdTag(),"false");
		}elseif ($_GET['imaDis']=='on'){
			$imaPlugin = imaPlugin(getSelectedAdTag(),"true");
		}

        if ( $_GET['Comscore'] == 'on' AND empty($_GET['comscDis'])){
			$comscorePlugin = Comscore("false");
		}elseif ( $_GET['comscDis']=='on' OR ($_GET['comscDis']=='on' AND $_GET['Comscore']=='on')){
			$comscorePlugin = GA("true");
        }else{
			$comscorePlugin = '';
		}
		
		if ($_GET['uiConfId'] =='ott'){
			if ($_GET['ottAnalyt']=='on' AND empty($_GET['ottDis'])){
				$ottAnalytics = ottAnalytics("false");
			}elseif ( $_GET['ottDis']=='on' OR ($_GET['ottDis']=='on' AND $_GET['ottAnalyt']=='on')){
				$ottAnalytics = ottAnalytics("true");
			}	
        }else{
			$ottAnalytics = '';
		}

		if (($_GET['VrDis'])=='on') {
			$switchVR = vrPlugin("true");
		}else{
			$switchVR = vrPlugin("false");
		}

	return "
			plugins: {
				$youboraPlugin $kavaPlugin $gaPlugin $imaPlugin $comscorePlugin $ottAnalytics $switchVR
			}";
}	

function imaPlugin($adTag,$switch) {
	if ($adTag == "preWithComp"){
		$plugin = "
		ima: {
		disable: $switch ,
        adTagUrl: '\'$adTag\'',
        companions: {
          testCompanionSquare: {
            width: 300,
            height: 250,
            sizeCriteria: 'SelectExactMatch'
          },
          testCompanionLong: {
            width: 728,
            height: 90,
            sizeCriteria: 'SelectExactMatch'
          }
        }
      }, ";
	}else{
		if ($_GET['adTag']=='VAMPAdsPlaylistWithSkip'){   
		$plugin = "
			ima: {
				disable: $switch ,
				adTagUrl: '$adTag',
				debug: true,
				adsRenderingSettings: { useStyledLinearAds:true},
				}," ;
		}
		else{
			$plugin = "
			ima: {
				disable: $switch ,
				adTagUrl: '$adTag',
				debug: true,
				}," ;
			}
	}
	return $plugin;
}

function enableDvr() {
	
	if ( $_GET['Dvr']=='on'){
		$dvrStatus = "\n \"dvr\" : true,\n";
	}else{
		$dvrStatus = "";
	}
	return $dvrStatus;
}

function Youbora($switch) {
   return "
		youbora: {
			disable: $switch ,
            options: {
               'accountCode': 'kalturatest'
            },
        }, " ;
}

function Kava($switch) {
	return "
		kava:{
			disable: $switch ,
			customVar1: 100,
			customVar2: \"Hello\",
			customVar3: \"my custom var 3\",
			applicationVersion: \"V3 0.28.0\",
			playbackContext: \"Any\",
			}, " ;
}

function GA($switch) {
	return "
	googleAnalytics: {
		disable: $switch ,
		trackingId: 'UA-1234567-89',
		tracking: {
			events: {
			//	PLAYING: {
			//		action: 'playing'
			//	}	
			}
		}
	}," ;
}


function Comscore($switch) {
		return "
		comscore: {
			disable: $switch ,
        	publisherId: \"QA2105\"
      	}," ;
}
		

function ottAnalytics($switch) {
	if ( $_GET['disMedMark']=='on'){
		$disMark = "true";
	}else{
		$disMark = "false";
	}

	if ( $_GET['disMedHit']=='on'){
		$disHit = "true";
	}else{
		$disHit = "false";
	}
		return "
		ottAnalytics: {
			disable: $switch ,
			disableMediaMark: $disMark,
   			disableMediaHit: $disHit
        }," ;
}	

		
function vrPlugin($switch){
	if ( $_GET['VRTS']=='on'){
		$enVRTS = "true";
	}else{
		$enVRTS = "false";
	}
	
	if ( $_GET['VRSIS']=='on'){
		$enVRSIS = "true";
	}else{
		$enVRSIS = "false";
	}
	
	return "
	vr: {
		
		disable: $switch,
		toggleStereo: $enVRTS,
		startInStereo: $enVRSIS
	  },";
}		
?>


